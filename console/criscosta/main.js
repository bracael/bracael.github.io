/*! For license information please see main.js.LICENSE.txt */
!function(){var e={295:function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},498:function(e,t,n){"use strict";n.r(t),n.d(t,{CacheProvider:function(){return k},ClassNames:function(){return q},Global:function(){return R},ThemeContext:function(){return x},createElement:function(){return L},css:function(){return O},jsx:function(){return L},keyframes:function(){return F},withEmotionCache:function(){return N}});var r=n(466),i=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(e){}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=n(414),a="/*|*/";function s(e){e&&u.current.insert(e+"}")}var u={current:null},c=function(e,t,n,r,i,o,c,l,h,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return u.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===l)return t+a;break;case 3:switch(l){case 102:case 112:return u.current.insert(n[0]+t),"";default:return t+(0===f?a:"")}case-2:t.split("/*|*/}").forEach(s)}};function l(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}n(295);var h=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0),i=i.next}while(void 0!==i)}},f=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},d=n(319),p=n(916),m=/[A-Z]|^ms/g,g=/_EMO_([^_]+?)_([^]*?)_EMO_/g,v=function(e){return 45===e.charCodeAt(1)},y=function(e){return null!=e&&"boolean"!=typeof e},b=(0,p.Z)((function(e){return v(e)?e:e.replace(m,"-$&").toLowerCase()})),w=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(g,(function(e,t,n){return E={name:t,styles:n,next:E},t}))}return 1===d.Z[e]||v(e)||"number"!=typeof t||0===t?t:t+"px"};function _(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return E={name:n.name,styles:n.styles,next:E},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)E={name:i.name,styles:i.styles,next:E},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":y(a)&&(r+=b(o)+":"+w(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=_(e,t,a,!1);switch(o){case"animation":case"animationName":r+=b(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)y(a[u])&&(r+=b(o)+":"+w(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=E,a=n(e);return E=o,_(e,t,a,r)}}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var E,T=/label:\s*([^\s;\n{]+)\s*;/g,I=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";E=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=_(n,t,o,!1)):i+=o[0];for(var a=1;a<e.length;a++)i+=_(n,t,e[a],46===i.charCodeAt(i.length-1)),r&&(i+=o[a]);T.lastIndex=0;for(var s,u="";null!==(s=T.exec(i));)u+="-"+s[1];return{name:f(i)+u,styles:i,next:E}},S=Object.prototype.hasOwnProperty,C=(0,r.createContext)("undefined"!=typeof HTMLElement?function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r,a=new o.Z(t),s={};r=e.container||document.head;var l,h=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(h,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){s[e]=!0})),e.parentNode!==r&&r.appendChild(e)})),a.use(e.stylisPlugins)(c),l=function(e,t,n,r){var i=t.name;u.current=n,a(e,t.styles),r&&(f.inserted[i]=!0)};var f={key:n,sheet:new i({key:n,container:r,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:s,registered:{},insert:l};return f}():null),x=(0,r.createContext)({}),k=C.Provider,N=function(e){var t=function(t,n){return(0,r.createElement)(C.Consumer,null,(function(r){return e(t,r,n)}))};return(0,r.forwardRef)(t)},A="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",D=function(e,t){var n={};for(var r in t)S.call(t,r)&&(n[r]=t[r]);return n[A]=e,n},P=function(e,t,n,i){var o=null===n?t.css:t.css(n);"string"==typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var a=t[A],s=[o],u="";"string"==typeof t.className?u=l(e.registered,s,t.className):null!=t.className&&(u=t.className+" ");var c=I(s);h(e,c,"string"==typeof a),u+=e.key+"-"+c.name;var f={};for(var d in t)S.call(t,d)&&"css"!==d&&d!==A&&(f[d]=t[d]);return f.ref=i,f.className=u,(0,r.createElement)(a,f)},M=N((function(e,t,n){return"function"==typeof e.css?(0,r.createElement)(x.Consumer,null,(function(r){return P(t,e,r,n)})):P(t,e,null,n)})),O=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return I(t)},L=function(e,t){var n=arguments;if(null==t||!S.call(t,"css"))return r.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=M,o[1]=D(e,t);for(var a=2;a<i;a++)o[a]=n[a];return r.createElement.apply(null,o)},R=N((function(e,t){var n=e.styles;if("function"==typeof n)return(0,r.createElement)(x.Consumer,null,(function(e){var i=I([n(e)]);return(0,r.createElement)(j,{serialized:i,cache:t})}));var i=I([n]);return(0,r.createElement)(j,{serialized:i,cache:t})})),j=function(e){var t,n;function r(t,n,r){return e.call(this,t,n,r)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.sheet=new i({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},o.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},o.insertStyles=function(){if(void 0!==this.props.serialized.next&&h(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},o.componentWillUnmount=function(){this.sheet.flush()},o.render=function(){return null},r}(r.Component),F=function(){var e=O.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},U=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function z(e,t,n){var r=[],i=l(e,r,n);return r.length<2?n:i+t(r)}var q=N((function(e,t){return(0,r.createElement)(x.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=I(n,t.registered);return h(t,i,!1),t.key+"-"+i.name},i={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return z(t.registered,r,U(n))},theme:n};return e.children(i)}))}))},916:function(e,t){"use strict";t.Z=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},414:function(e,t){"use strict";t.Z=function(e){function t(e,r,u,c,f){for(var d,p,m,g,w,E=0,T=0,I=0,S=0,C=0,P=0,O=m=d=0,R=0,j=0,F=0,U=0,z=u.length,q=z-1,V="",B="",W="",G="";R<z;){if(p=u.charCodeAt(R),R===q&&0!==T+S+I+E&&(0!==T&&(p=47===T?10:47),S=I=E=0,z++,q++),0===T+S+I+E){if(R===q&&(0<j&&(V=V.replace(h,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(R)}p=59}switch(p){case 123:for(d=(V=V.trim()).charCodeAt(0),m=1,U=++R;R<z;){switch(p=u.charCodeAt(R)){case 123:m++;break;case 125:m--;break;case 47:switch(p=u.charCodeAt(R+1)){case 42:case 47:e:{for(O=R+1;O<q;++O)switch(u.charCodeAt(O)){case 47:if(42===p&&42===u.charCodeAt(O-1)&&R+2!==O){R=O+1;break e}break;case 10:if(47===p){R=O+1;break e}}R=O}}break;case 91:p++;case 40:p++;case 34:case 39:for(;R++<q&&u.charCodeAt(R)!==p;);}if(0===m)break;R++}switch(m=u.substring(U,R),0===d&&(d=(V=V.replace(l,"").trim()).charCodeAt(0)),d){case 64:switch(0<j&&(V=V.replace(h,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=D}if(U=(m=t(r,j,m,p,f+1)).length,0<M&&(w=s(3,m,j=n(D,V,F),r,k,x,U,p,f,c),V=j.join(""),void 0!==w&&0===(U=(m=w.trim()).length)&&(p=0,m="")),0<U)switch(p){case 115:V=V.replace(_,a);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(v,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===c&&(B+=m,m="")}else m="";break;default:m=t(r,n(r,V,F),m,c,f+1)}W+=m,m=F=j=O=d=0,V="",p=u.charCodeAt(++R);break;case 125:case 59:if(1<(U=(V=(0<j?V.replace(h,""):V).trim()).length))switch(0===O&&(d=V.charCodeAt(0),45===d||96<d&&123>d)&&(U=(V=V.replace(" ",":")).length),0<M&&void 0!==(w=s(1,V,r,e,k,x,B.length,c,f,c))&&0===(U=(V=w.trim()).length)&&(V="\0\0"),d=V.charCodeAt(0),p=V.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){G+=V+u.charAt(R);break}default:58!==V.charCodeAt(U-1)&&(B+=i(V,d,p,V.charCodeAt(2)))}F=j=O=d=0,V="",p=u.charCodeAt(++R)}}switch(p){case 13:case 10:47===T?T=0:0===1+d&&107!==c&&0<V.length&&(j=1,V+="\0"),0<M*L&&s(0,V,r,e,k,x,B.length,c,f,c),x=1,k++;break;case 59:case 125:if(0===T+S+I+E){x++;break}default:switch(x++,g=u.charAt(R),p){case 9:case 32:if(0===S+E+T)switch(C){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===S+T+E&&(j=F=1,g="\f"+g);break;case 108:if(0===S+T+E+N&&0<O)switch(R-O){case 2:112===C&&58===u.charCodeAt(R-3)&&(N=C);case 8:111===P&&(N=P)}break;case 58:0===S+T+E&&(O=R);break;case 44:0===T+I+S+E&&(j=1,g+="\r");break;case 34:case 39:0===T&&(S=S===p?0:0===S?p:S);break;case 91:0===S+T+I&&E++;break;case 93:0===S+T+I&&E--;break;case 41:0===S+T+E&&I--;break;case 40:if(0===S+T+E){if(0===d)switch(2*C+3*P){case 533:break;default:d=1}I++}break;case 64:0===T+I+S+E+O+m&&(m=1);break;case 42:case 47:if(!(0<S+E+I))switch(T){case 0:switch(2*p+3*u.charCodeAt(R+1)){case 235:T=47;break;case 220:U=R,T=42}break;case 42:47===p&&42===C&&U+2!==R&&(33===u.charCodeAt(U+2)&&(B+=u.substring(U,R+1)),g="",T=0)}}0===T&&(V+=g)}P=C,C=p,R++}if(0<(U=B.length)){if(j=r,0<M&&void 0!==(w=s(2,B,j,e,k,x,U,c,f,c))&&0===(B=w).length)return G+B+W;if(B=j.join(",")+"{"+B+"}",0!=A*N){switch(2!==A||o(B,2)||(N=0),N){case 111:B=B.replace(b,":-moz-$1")+B;break;case 112:B=B.replace(y,"::-webkit-input-$1")+B.replace(y,"::-moz-$1")+B.replace(y,":-ms-input-$1")+B}N=0}}return G+B+W}function n(e,t,n){var i=t.trim().split(m);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===A||2===A&&o(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(C,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(w,"tb");break;case 232:u=a.replace(w,"tb-rl");break;case 220:u=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(T,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(T,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(I,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var h,f=0,d=t;f<M;++f)switch(h=P[f].call(c,e,d,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!=typeof e?A=1:(A=2,O=e):A=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<M){var i=s(-1,n,r,r,k,x,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=t(D,r,n,0,0);return 0<M&&void 0!==(i=s(-2,o,r,r,k,x,o.length,0,0,0))&&(o=i),N=0,x=k=1,o}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,T=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,x=1,k=1,N=0,A=1,D=[],P=[],M=0,O=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:M=P.length=0;break;default:if("function"==typeof t)P[M++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c}},319:function(e,t){"use strict";t.Z={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},856:function(e,t,n){"use strict";var r,i,o=n(622),a=n(574),s=n(924),u=n(861),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),m=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(e),this.container=new s.H0(t.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=f),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.wA(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");(0,u.Am)(e,t)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.r3)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(m);return t.INTERNAL=(0,o.pi)((0,o.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.ZB)(t,e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=g;!function(e,t){e.INTERNAL.registerComponent(new s.wA("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion(h,"0.6.17",void 0),e.registerVersion("fire-js","")}(w),t.Z=w},924:function(e,t,n){"use strict";n.d(t,{wA:function(){return o},H0:function(){return u},zt:function(){return s}});var r=n(622),i=n(574),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=a);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=(0,r.pi)({identifier:a,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService({instanceIdentifier:o});if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(e){if(i)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.initialize=function(e){void 0===e&&(e={});var t=e.instanceIdentifier,n=void 0===t?a:t,r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(n);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:o,options:i})},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o)),o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:a:e},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},991:function(e,t,n){"use strict";var r=n(856),i=n(622),o=n(574),a=n(861),s=n(924);e=n.hmd(e);var u,c=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),l=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new c(t)}}catch(e){}return new l},f=h("localStorage"),d=h("sessionStorage"),p=new a.Yd("@firebase/database"),m=(u=1,function(){return u++}),g=function(e){var t=(0,o.dS)(e),n=new o.gQ;n.update(t);var r=n.digest();return o.US.encodeByteArray(r)},v=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=v.apply(null,i):n+="object"==typeof i?(0,o.Pz)(i):i,n+=" "}return n},y=null,b=!0,w=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(p.logLevel=a.in.VERBOSE,y=p.log.bind(p),t&&d.set("logging_enabled",!0)):"function"==typeof e?y=e:(y=null,d.remove("logging_enabled"))},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===y&&!0===d.get("logging_enabled")&&w(!0)),y){var n=v.apply(null,e);y(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];_.apply(void 0,(0,i.ev)([e],(0,i.CR)(t)))}},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,(0,i.ev)([],(0,i.CR)(e)));p.error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,(0,i.ev)([],(0,i.CR)(e)));throw p.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+v.apply(void 0,(0,i.ev)([],(0,i.CR)(e)));p.warn(n)},C=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",k="[MAX_NAME]",N=function(e,t){if(e===t)return 0;if(e===x||t===k)return-1;if(t===x||e===k)return 1;var n=j(e),r=j(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},A=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},P=function(e){if("object"!=typeof e||null===e)return(0,o.Pz)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(t[i]),r+=":",r+=P(e[t[i]]);return r+"}"},M=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function O(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){(0,o.hu)(!C(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},R=new RegExp("^-?(0*)\\d{1,10}$"),j=function(e){if(R.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},F=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw S("Exception was thrown by user callback.",t),e}),Math.floor(0))}},U=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},z=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function q(){return new z("")}function V(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function B(e){return e.pieces_.length-e.pieceNum_}function W(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new z(e.pieces_,t)}function G(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function H(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Q(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function K(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new z(t,0)}function Y(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof z)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new z(n,0)}function $(e){return e.pieceNum_>=e.pieces_.length}function J(e,t){var n=V(e),r=V(t);if(null===n)return t;if(n===r)return J(W(e),W(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Z(e,t){for(var n=Q(e,0),r=Q(t,0),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function X(e,t){if(B(e)!==B(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ee(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(B(e)>B(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var te=function(e,t){this.errorPrefix_=t,this.parts_=Q(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);ne(this)};function ne(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+re(e))}function re(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var ie=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oe="websocket",ae="long_polling",se=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function ue(e,t,n){var r;if((0,o.hu)("string"==typeof t,"typeof type must == string"),(0,o.hu)("object"==typeof n,"typeof params must == object"),t===oe)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ae)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return O(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var ce,le,he,fe,de,pe,me,ge=function(e,t){var n=ve(e),r=n.namespace;"firebase.com"===n.domain&&I(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new se(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new z(n.pathString)}},ve=function(e){var t="",n="",r="",o="",a="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(o=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var o=(0,i.XA)(e.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},ye=/[\[\].#$\/\u0000-\u001F\u007F]/,be=/[\[\].#$\u0000-\u001F\u007F]/,we=10485760,_e=function(e){return"string"==typeof e&&0!==e.length&&!ye.test(e)},Ee=function(e){return"string"==typeof e&&0!==e.length&&!be.test(e)},Te=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!C(e)||e&&"object"==typeof e&&(0,o.r3)(e,".sv")},Ie=function(e,t,n,r,i){i&&void 0===n||Se((0,o.gK)(e,t,i),n,r)},Se=function(e,t,n){var r=n instanceof z?new te(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+re(r));if("function"==typeof t)throw new Error(e+"contains a function "+re(r)+" with contents = "+t.toString());if(C(t))throw new Error(e+"contains "+t.toString()+" "+re(r));if("string"==typeof t&&t.length>we/3&&(0,o.ug)(t)>we)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+re(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,a=!1;if(O(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!_e(t)))throw new Error(e+" contains an invalid key ("+t+") "+re(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=t,(s=r).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=(0,o.ug)(u),ne(s),Se(e,n,r),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),i&&a)throw new Error(e+' contains ".value" child '+re(r)+" in addition to actual children.")}},Ce=function(e,t,n,r,i){if(!i||void 0!==n){var a=(0,o.gK)(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];O(n,(function(e,t){var n=new z(e);if(Se(a,t,Y(r,n)),".priority"===G(n)&&!Te(t))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Q(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!_e(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Z);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&ee(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},xe=function(e,t,n,r){if(!r||void 0!==n){if(C(n))throw new Error((0,o.gK)(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Te(n))throw new Error((0,o.gK)(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ke=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ne=function(e,t,n,r){if(!(r&&void 0===n||_e(n)))throw new Error((0,o.gK)(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ae=function(e,t,n,r){if(!(r&&void 0===n||Ee(n)))throw new Error((0,o.gK)(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},De=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ae(e,t,n,r)},Pe=function(e,t){if(".info"===V(t))throw new Error(e+" failed = Can't modify data under /.info/")},Me=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!_e(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ee(e)}(r))throw new Error((0,o.gK)(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Oe=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.gK)(e,t,r)+"must be a boolean.")},Le=function(e){return"number"==typeof e?"number:"+L(e):"string:"+e},Re=function(e){if(e.isLeafNode()){var t=e.val();(0,o.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===ce||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===ce||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},je=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Re(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return le},set:function(e){le=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return $(t)?this:".priority"===V(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=V(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===B(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(W(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Le(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=g(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Fe=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ue=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:qe.EMPTY_NODE,this.right=null!=o?o:qe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return qe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return qe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),ze=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ue(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),qe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ue.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ue.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Fe(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Fe(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Fe(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Fe(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new ze,e}(),Ve=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Be=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ve(x,e),r=new Ve(x,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ve.MIN},e}(),We=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ve.MIN},t.prototype.maxPost=function(){return new Ve(k,new je("[PRIORITY-POST]",fe))},t.prototype.makePost=function(e,t){var n=he(e);return new Ve(t,new je("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Be)),Ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return de},set:function(e){de=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return N(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ve.MIN},t.prototype.maxPost=function(){return new Ve(k,de)},t.prototype.makePost=function(e,t){return(0,o.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ve(e,de)},t.prototype.toString=function(){return".key"},t}(Be),He=new Ge,Qe=Math.log(2),Ke=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Qe,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ye=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Ue(a,o.node,Ue.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new Ue(a,o.node,Ue.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new Ue(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Ue.BLACK):(s(h,Ue.BLACK),s(h,Ue.RED))}return o}(new Ke(e.length));return new qe(r||t,o)},$e={},Je=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.hu)($e&&We,"ChildrenNode.ts has not been loaded"),pe=pe||new e({".priority":$e},{".priority":We})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof qe?t:null},e.prototype.hasIndex=function(e){return(0,o.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.hu)(t!==He,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(Ve.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),a.push(c),c=u.getNext();r=s?Ye(a,t.getCompare()):$e;var l=t.toString(),h=(0,i.pi)({},this.indexSet_);h[l]=t;var f=(0,i.pi)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.UI)(this.indexes_,(function(e,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),e===$e){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Ve.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),Ye(s,a.getCompare())}return $e}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Ve(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.UI)(this.indexes_,(function(e){if(e===$e)return e;var r=n.get(t.name);return r?e.remove(new Ve(t.name,r)):e})),this.indexSet_)},e}();function Ze(e,t){return N(e.name,t.name)}function Xe(e,t){return N(e,t)}var et,tt=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Re(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return me||(me=new e(new qe(Xe),null,Je.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||me},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?me:t},e.prototype.getChild=function(e){var t=V(e);return null===t?this:this.getImmediateChild(t).getChild(W(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ve(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?me:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=V(e);if(null===n)return t;(0,o.hu)(".priority"!==V(e)||1===B(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(W(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(We,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Le(this.getPriority().val())+":"),this.forEachChild(We,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":g(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ve(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ve(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ve(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ve.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ve.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nt?-1:0},e.prototype.withIndex=function(t){if(t===He||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===He||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(We),r=t.getIterator(We),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===He?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),nt=new(function(e){function t(){return e.call(this,new qe(Xe),tt.EMPTY_NODE,Je.Default)||this}return(0,i.ZT)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return tt.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(tt));function rt(e,t){if(void 0===t&&(t=null),null===e)return tt.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new je(e,rt(t));if(e instanceof Array){var n=tt.EMPTY_NODE;return O(e,(function(t,r){if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){var i=rt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(rt(t))}var r=[],i=!1;if(O(e,(function(e,t){if("."!==e.substring(0,1)){var n=rt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ve(e,n)))}})),0===r.length)return tt.EMPTY_NODE;var a=Ye(r,Ze,(function(e){return e.name}),Xe);if(i){var s=Ye(r,We.getCompare());return new tt(a,rt(t),new Je({".priority":s},{".priority":We}))}return new tt(a,rt(t),Je.Default)}function it(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}Object.defineProperties(Ve,{MIN:{value:new Ve(x,tt.EMPTY_NODE)},MAX:{value:new Ve(k,nt)}}),Ge.__EMPTY_NODE=tt.EMPTY_NODE,je.__childrenNodeConstructor=tt,ce=nt,fe=nt,function(e){he=e}(rt),function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(et||(et={}));var ot,at=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=et.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if($(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new z(t));return new e(q(),n,this.revert)}return(0,o.hu)(V(this.path)===t,"operationForChild called for unrelated child."),new e(W(this.path),this.affectedTree,this.revert)},e}(),st=function(){function e(e,t){void 0===t&&(ot||(ot=new qe(A)),t=ot),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return O(t,(function(e,t){n=n.set(new z(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:q(),value:this.value};if($(e))return null;var n=V(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(W(e),t);return null!=i?{path:Y(new z(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if($(t))return this;var n=V(t),r=this.children.get(n);return null!==r?r.subtree(W(t)):new e(null)},e.prototype.set=function(t,n){if($(t))return new e(n,this.children);var r=V(t),i=(this.children.get(r)||new e(null)).set(W(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if($(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=V(t),r=this.children.get(n);if(r){var i=r.remove(W(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if($(e))return this.value;var t=V(e),n=this.children.get(t);return n?n.get(W(e)):null},e.prototype.setTree=function(t,n){if($(t))return n;var r,i=V(t),o=(this.children.get(i)||new e(null)).setTree(W(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(q(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Y(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,q(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if($(e))return null;var i=V(e),o=this.children.get(i);return o?o.findOnPath_(W(e),Y(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,q(),t)},e.prototype.foreachOnPath_=function(t,n,r){if($(t))return this;this.value&&r(n,this.value);var i=V(t),o=this.children.get(i);return o?o.foreachOnPath_(W(t),Y(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(q(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Y(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),ut=function(){function e(e,t){this.source=e,this.path=t,this.type=et.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return $(this.path)?new e(this.source,q()):new e(this.source,W(this.path))},e}(),ct=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=et.OVERWRITE}return e.prototype.operationForChild=function(t){return $(this.path)?new e(this.source,q(),this.snap.getImmediateChild(t)):new e(this.source,W(this.path),this.snap)},e}(),lt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=et.MERGE}return e.prototype.operationForChild=function(t){if($(this.path)){var n=this.children.subtree(new z(t));return n.isEmpty()?null:n.value?new ct(this.source,q(),n.value):new e(this.source,q(),n)}return(0,o.hu)(V(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,W(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),ht=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if($(e))return this.isFullyInitialized()&&!this.filtered_;var t=V(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}();function ft(e,t){return{eventCache:e,serverCache:t}}function dt(e,t,n,r){return ft(new ht(t,n,r),e.serverCache)}function pt(e,t,n,r){return ft(e.eventCache,new ht(t,n,r))}function mt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function gt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}function vt(e){return{type:"value",snapshotNode:e}}function yt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function bt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function wt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var _t=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(bt(t,s)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(yt(t,n)):a.trackChildChange(wt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(We,(function(e,r){t.hasChild(e)||n.trackChildChange(bt(e,r))})),t.isLeafNode()||t.forEachChild(We,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(wt(t,r,i))}else n.trackChildChange(yt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?tt.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Et=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,wt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,bt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,yt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,wt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Tt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new st(null))},e}();function It(e,t,n){if($(t))return new Tt(new st(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=J(i,t);return o=o.updateChild(a,n),new Tt(e.writeTree_.set(i,o))}var s=new st(n),u=e.writeTree_.setTree(t,s);return new Tt(u)}function St(e,t,n){var r=e;return O(n,(function(e,n){r=It(r,Y(t,e),n)})),r}function Ct(e,t){if($(t))return Tt.empty();var n=e.writeTree_.setTree(t,new st(null));return new Tt(n)}function xt(e,t){return null!=kt(e,t)}function kt(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(J(n.path,t)):null}function Nt(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(We,(function(e,n){t.push(new Ve(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ve(e,n.value))})),t}function At(e,t){if($(t))return e;var n=kt(e,t);return new Tt(null!=n?new st(n):e.writeTree_.subtree(t))}function Dt(e){return e.writeTree_.isEmpty()}function Pt(e,t){return Mt(q(),e.writeTree_,t)}function Mt(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Mt(Y(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Y(e,".priority"),r)),n}function Ot(e,t){return Gt(t,e)}function Lt(e,t){if(e.snap)return ee(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ee(Y(e.path,n),t))return!0;return!1}function Rt(e){return e.visible}function jt(e,t,n){for(var r=Tt.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)ee(n,s)?r=It(r,u=J(n,s),a.snap):ee(s,n)&&(u=J(s,n),r=It(r,q(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(ee(n,s))r=St(r,u=J(n,s),a.children);else if(ee(s,n))if($(u=J(s,n)))r=St(r,q(),a.children);else{var c=(0,o.DV)(a.children,V(u));if(c){var l=c.getChild(W(u));r=It(r,q(),l)}}}}}return r}function Ft(e,t,n,r,i){if(r||i){var o=At(e.visibleWrites,t);return!i&&Dt(o)?n:i||null!=n||xt(o,q())?Pt(jt(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ee(e.path,t)||ee(t,e.path))}),t),n||tt.EMPTY_NODE):null}var a=kt(e.visibleWrites,t);if(null!=a)return a;var s=At(e.visibleWrites,t);return Dt(s)?n:null!=n||xt(s,q())?Pt(s,n||tt.EMPTY_NODE):null}function Ut(e,t,n,r){return Ft(e.writeTree,e.treePath,t,n,r)}function zt(e,t){return function(e,t,n){var r=tt.EMPTY_NODE,i=kt(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(We,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=At(e.visibleWrites,t);return n.forEachChild(We,(function(e,t){var n=Pt(At(o,new z(e)),t);r=r.updateImmediateChild(e,n)})),Nt(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Nt(At(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function qt(e,t,n,r){return function(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Y(t,n);if(xt(e.visibleWrites,a))return null;var s=At(e.visibleWrites,a);return Dt(s)?i.getChild(n):Pt(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Vt(e,t){return function(e,t){return kt(e.visibleWrites,t)}(e.writeTree,Y(e.treePath,t))}function Bt(e,t,n){return function(e,t,n,r){var i=Y(t,n),o=kt(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Pt(At(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Wt(e,t){return Gt(Y(e.treePath,t),e.writeTree)}function Gt(e,t){return{treePath:e,writeTree:t}}var Ht=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Qt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new ht(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bt(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:gt(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=At(e.visibleWrites,t),c=kt(u,q());if(null!=c)s=c;else{if(null==n)return[];s=Pt(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Kt(e,t,n,r,i,a){var s=t.eventCache;if(null!=Vt(r,n))return t;var u=void 0,c=void 0;if($(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=gt(t),h=zt(r,l instanceof tt?l:tt.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=Ut(r,gt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=V(n);if(".priority"===d){(0,o.hu)(1===B(n),"Can't have a priority with additional path components");var p=s.getNode(),m=qt(r,n,p,c=t.serverCache.getNode());u=null!=m?e.filter.updatePriority(p,m):s.getNode()}else{var g=W(n),v=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=qt(r,n,s.getNode(),c);v=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else v=Bt(r,d,t.serverCache);u=null!=v?e.filter.updateChild(s.getNode(),d,v,g,i,a):s.getNode()}}return dt(t,u,s.isFullyInitialized()||$(n),e.filter.filtersNodes())}function Yt(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if($(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=V(n);if(!c.isCompleteForPath(n)&&B(n)>1)return t;var d=W(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Ht,null)}var m=pt(t,u,c.isFullyInitialized()||$(n),l.filtersNodes());return Kt(e,m,n,i,new Qt(i,m,o),s)}function $t(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Qt(i,t,o);if($(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=dt(t,u,!0,e.filter.filtersNodes());else{var h=V(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=dt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=W(n),d=c.getNode().getImmediateChild(h),p=void 0;if($(f))p=r;else{var m=l.getCompleteChild(h);p=null!=m?".priority"===G(f)&&m.getChild(K(f)).isEmpty()?m:m.updateChild(f,r):tt.EMPTY_NODE}s=d.equals(p)?t:dt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Jt(e,t){return e.eventCache.isCompleteForChild(t)}function Zt(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Xt(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=$(n)?r:new st(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Zt(0,t.serverCache.getNode().getImmediateChild(n),r);c=Yt(e,c,new z(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Zt(0,t.serverCache.getNode().getImmediateChild(n),r);c=Yt(e,c,new z(n),h,i,o,a,s)}})),c}var en=function(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()};function tn(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new Ve(t.childName,t.snapshotNode),i=new Ve(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}var nn,rn,on="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",an=(nn=0,rn=[],function(e){var t,n=e===nn;nn=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=on.charAt(e%64),e=Math.floor(e/64);(0,o.hu)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===rn[t];t--)rn[t]=0;rn[t]++}else for(t=0;t<12;t++)rn[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=on.charAt(rn[t]);return(0,o.hu)(20===i.length,"nextPushId: Length should be 20."),i}),sn=function(e){if("2147483647"===e)return"-";var t=j(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return k;var o=n[i],a=on.charAt(on.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},un=function(e){if("-2147483648"===e)return x;var t=j(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=on.charAt(on.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},cn=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?N(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ve.MIN},t.prototype.maxPost=function(){return Ve.MAX},t.prototype.makePost=function(e,t){var n=rt(e);return new Ve(t,n)},t.prototype.toString=function(){return".value"},t}(Be)),ln=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.hu)(!$(t)&&".priority"!==V(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,i.ZT)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=rt(e),r=tt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ve(t,r)},t.prototype.maxPost=function(){var e=tt.EMPTY_NODE.updateChild(this.indexPath_,nt);return new Ve(k,e)},t.prototype.toString=function(){return Q(this.indexPath_,0).join("/")},t}(Be),hn=function(){function e(t){this.indexedFilter_=new _t(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ve(t,n))||(n=tt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=tt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(tt.EMPTY_NODE);var i=this;return t.forEachChild(We,(function(e,t){i.matches(new Ve(e,t))||(r=r.updateImmediateChild(e,tt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),fn=function(){function e(e){this.rangedFilter_=new hn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ve(t,n))||(n=tt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=tt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(tt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,tt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new Ve(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(wt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(bt(t,f));var m=u.updateImmediateChild(t,tt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(yt(d.name,d.node)),m.updateImmediateChild(d.name,d.node)):m}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(bt(l.name,l.node)),i.trackChildChange(yt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,tt.EMPTY_NODE)):e},e}(),dn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:k},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===We},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function pn(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function mn(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function gn(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function vn(e,t,n){var r;return e.index_===He?("string"==typeof t&&(t=sn(t)),r=gn(e,t,n)):r=gn(e,t,null==n?k:sn(n)),r.startAfterSet_=!0,r}function yn(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function bn(e,t,n){var r;return e.index_===He?("string"==typeof t&&(t=un(t)),r=yn(e,t,n)):r=yn(e,t,null==n?x:un(n)),r.endBeforeSet_=!0,r}function wn(e,t){var n=e.copy();return n.index_=t,n}function _n(e){var t,n={};return e.isDefault()||(e.index_===We?t="$priority":e.index_===cn?t="$value":e.index_===He?t="$key":((0,o.hu)(e.index_ instanceof ln,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.Pz)(t),e.startSet_&&(n.startAt=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}var En,Tn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new _t(r.getIndex()),o=(n=r).loadsAllData()?new _t(n.getIndex()):n.hasLimit()?new fn(n):new hn(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(tt.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(tt.EMPTY_NODE,s.getNode(),null),l=new ht(u,a.isFullyInitialized(),i.filtersNodes()),h=new ht(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=ft(h,l),this.eventGenerator_=new en(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function In(e,t){var n=gt(e.viewCache_);return n&&(e.query.getQueryParams().loadsAllData()||!$(t)&&!n.getImmediateChild(V(t)).isEmpty())?n.getChild(t):null}function Sn(e){return 0===e.eventRegistrations_.length}function Cn(e,t,n){var r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var i=e.query.path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function xn(e,t,n,r){t.type===et.MERGE&&null!==t.source.queryId&&((0,o.hu)(gt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(mt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=function(e,t,n,r,i){var a,s,u=new Et;if(n.type===et.OVERWRITE){var c=n;c.source.fromUser?a=$t(e,t,c.path,c.snap,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!$(c.path),a=Yt(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===et.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Y(n,r);Jt(t,V(c))&&(s=$t(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Y(n,r);Jt(t,V(c))||(s=$t(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Xt(e,t,l.path,l.children,r,i,s,u))}else if(n.type===et.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=Vt(r,n))return t;var u=new Qt(r,t,i),c=t.eventCache.getNode(),l=void 0;if($(n)||".priority"===V(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=Ut(r,gt(t));else{var f=t.serverCache.getNode();(0,o.hu)(f instanceof tt,"serverChildren would be complete if leaf node"),h=zt(r,f)}h=h,l=e.filter.updateFullNode(c,h,a)}else{var d=V(n),p=Bt(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,W(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,tt.EMPTY_NODE,W(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Ut(r,gt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=Vt(r,q()),dt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=Vt(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if($(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Yt(e,t,n,u.getNode().getChild(n),i,o,s,a);if($(n)){var c=new st(null);return u.getNode().forEachChild(He,(function(e,t){c=c.set(new z(e),t)})),Xt(e,t,n,c,i,o,s,a)}return t}var l=new st(null);return r.foreach((function(e,t){var r=Y(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Xt(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==et.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return Kt(e,pt(t,o.getNode(),o.isFullyInitialized()||$(n),o.isFiltered()),n,r,Ht,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=mt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(vt(mt(t)))}}(t,a,f),{viewCache:a,changes:f}}(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.hu)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,kn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function kn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),tn(e,i,"child_removed",t,r,n),tn(e,i,"child_added",t,r,n),tn(e,i,"child_moved",o,r,n),tn(e,i,"child_changed",t,r,n),tn(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Nn=function(){this.views=new Map};function An(e,t,n,r){var a,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.hu)(null!=c,"SyncTree gave us an op for an invalid query."),xn(c,t,n,r)}var l=[];try{for(var h=(0,i.XA)(e.views.values()),f=h.next();!f.done;f=h.next())c=f.value,l=l.concat(xn(c,t,n,r))}catch(e){a={error:e}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return l}function Dn(e,t,n,r,i){var o=t.queryIdentifier(),a=e.views.get(o);if(!a){var s=Ut(n,i?r:null),u=!1;s?u=!0:r instanceof tt?(s=zt(n,r),u=!1):(s=tt.EMPTY_NODE,u=!1);var c=ft(new ht(s,u,!1),new ht(r,i,!1));return new Tn(t,c)}return a}function Pn(e){var t,n,r=[];try{for(var o=(0,i.XA)(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;s.query.getQueryParams().loadsAllData()||r.push(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function Mn(e,t){var n,r,o=null;try{for(var a=(0,i.XA)(e.views.values()),s=a.next();!s.done;s=a.next()){var u=s.value;o=o||In(u,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}function On(e,t){if(t.getQueryParams().loadsAllData())return jn(e);var n=t.queryIdentifier();return e.views.get(n)}function Ln(e,t){return null!=On(e,t)}function Rn(e){return null!=jn(e)}function jn(e){var t,n;try{for(var r=(0,i.XA)(e.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;if(a.query.getQueryParams().loadsAllData())return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Fn=1,Un=function(e){this.listenProvider_=e,this.syncPointTree_=new st(null),this.pendingWriteTree_={visibleWrites:Tt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function zn(e,t,n,r,i){return function(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=It(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Hn(e,new ct({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function qn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&Lt(u,r.path)?i=!1:ee(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(e){e.visibleWrites=jt(e.allWrites,Rt,q()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=Ct(e.visibleWrites,r.path):O(r.children,(function(t){e.visibleWrites=Ct(e.visibleWrites,Y(r.path,t))})),!0))}(e.pendingWriteTree_,t)){var i=new st(null);return null!=r.snap?i=i.set(q(),!0):O(r.children,(function(e){i=i.set(new z(e),!0)})),Hn(e,new at(r.path,i,n))}return[]}function Vn(e,t,n){return Hn(e,new ct({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Bn(e,t,n,r){var a=t.path,s=e.syncPointTree_.get(a),u=[];if(s&&("default"===t.queryIdentifier()||Ln(s,t))){var c=function(e,t,n,r){var a,s,u=t.queryIdentifier(),c=[],l=[],h=Rn(e);if("default"===u)try{for(var f=(0,i.XA)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,i.CR)(d.value,2),m=p[0],g=p[1];l=l.concat(Cn(g,n,r)),Sn(g)&&(e.views.delete(m),g.query.getQueryParams().loadsAllData()||c.push(g.query))}}catch(e){a={error:e}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}else(g=e.views.get(u))&&(l=l.concat(Cn(g,n,r)),Sn(g)&&(e.views.delete(u),g.query.getQueryParams().loadsAllData()||c.push(g.query)));return h&&!Rn(e)&&c.push(new((0,o.hu)(En,"Reference.ts has not been loaded"),En)(t.repo,t.path)),{removed:c,events:l}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=c.removed;u=c.events;var h=-1!==l.findIndex((function(e){return e.getQueryParams().loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Rn(t)}));if(h&&!f){var d=e.syncPointTree_.subtree(a);if(!d.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&Rn(t))return[jn(t)];var r=[];return t&&(r=Pn(t)),O(n,(function(e,t){r=r.concat(t)})),r}))}(d),m=0;m<p.length;++m){var g=p[m],v=g.query,y=Yn(e,g);e.listenProvider_.startListening(tr(v),$n(e,v),y.hashFn,y.onComplete)}}!f&&l.length>0&&!r&&(h?e.listenProvider_.stopListening(tr(t),null):l.forEach((function(t){var n=e.queryToTagMap.get(Jn(t));e.listenProvider_.stopListening(tr(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=Jn(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return u}function Wn(e,t,n){var r=t.path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=J(e,r);i=i||Mn(t,n),a=a||Rn(t)}));var s,u=e.syncPointTree_.get(r);u?(a=a||Rn(u),i=i||Mn(u,q())):(u=new Nn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=tt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Mn(t,q());n&&(i=i.updateImmediateChild(e,n))})));var c=Ln(u,t);if(!c&&!t.getQueryParams().loadsAllData()){var l=Jn(t);(0,o.hu)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Fn++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=function(e,t,n,r,i,o){var a=Dn(e,t,r,i,o);return e.views.has(t.queryIdentifier())||e.views.set(t.queryIdentifier(),a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(We,(function(e,t){r.push(yt(e,t))})),n.isFullyInitialized()&&r.push(vt(n.getNode())),kn(e,r,n.getNode(),t)}(a,n)}(u,t,n,Ot(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=On(u,t);f=f.concat(function(e,t,n){var r=t.path,i=$n(e,t),a=Yn(e,n),s=e.listenProvider_.startListening(tr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!Rn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!$(e)&&t&&Rn(t))return[jn(t).query];var r=[];return t&&(r=r.concat(Pn(t).map((function(e){return e.query})))),O(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(tr(h),$n(e,h))}return s}(e,t,d))}return f}function Gn(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Mn(n,J(e,t));if(r)return r}));return Ft(r,t,i,n,!0)}function Hn(e,t){return Qn(t,e.syncPointTree_,null,Ot(e.pendingWriteTree_,q()))}function Qn(e,t,n,r){if($(e.path))return Kn(e,t,n,r);var i=t.get(q());null==n&&null!=i&&(n=Mn(i,q()));var o=[],a=V(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Wt(r,a);o=o.concat(Qn(s,u,c,l))}return i&&(o=o.concat(An(i,e,r,n))),o}function Kn(e,t,n,r){var i=t.get(q());null==n&&null!=i&&(n=Mn(i,q()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Wt(r,t),u=e.operationForChild(t);u&&(o=o.concat(Kn(u,i,a,s)))})),i&&(o=o.concat(An(i,e,r,n))),o}function Yn(e,t){var n=t.query,r=$n(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||tt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Zn(e,n);if(r){var i=Xn(r),o=i.path,a=i.queryId,s=J(o,t);return er(e,o,new ut(it(a),s))}return[]}(e,n.path,r):function(e,t){return Hn(e,new ut({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Bn(e,n,null,i)}}}function $n(e,t){var n=Jn(t);return e.queryToTagMap.get(n)}function Jn(e){return e.path.toString()+"$"+e.queryIdentifier()}function Zn(e,t){return e.tagToQueryMap.get(t)}function Xn(e){var t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new z(e.substr(0,t))}}function er(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),An(r,n,Ot(e.pendingWriteTree_,t),null)}function tr(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e}var nr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),rr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Y(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Gn(this.syncTree_,this.path_)},e}(),ir=function(e,t,n){return e&&"object"==typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?or(e[".sv"],t,n):"object"==typeof e[".sv"]?ar(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},or=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,o.hu)(!1,"Unexpected server value: "+e)}},ar=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},sr=function(e,t,n,r){return cr(t,new rr(n,e),r)},ur=function(e,t,n){return cr(e,new nr(t),n)};function cr(e,t,n){var r,i=e.getPriority().val(),o=ir(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=ir(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new je(s,rt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new je(o))),u.forEachChild(We,(function(e,i){var o=cr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}function lr(){return{value:null,children:new Map}}function hr(e,t,n){if($(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=V(t);e.children.has(r)||e.children.set(r,lr()),hr(e.children.get(r),t=W(t),n)}}function fr(e,t){if($(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(We,(function(t,n){hr(e,new z(t),n)})),fr(e,t)}if(e.children.size>0){var r=V(t);return t=W(t),e.children.has(r)&&fr(e.children.get(r),t)&&e.children.delete(r),0===e.children.size}return!0}function dr(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){dr(r,new z(t.toString()+"/"+e),n)}))}var pr=function(){function e(){this.rootNode_=tt.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),mr=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.p$)(this.counters_)},e}(),gr={},vr={};function yr(e){var t=e.toString();return gr[t]||(gr[t]=new mr),gr[t]}var br=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,i.pi)({},e);return this.last_&&O(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),wr=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new br(e);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;O(t,(function(t,i){i>0&&(0,o.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),_r=function(){this.eventLists_=[],this.recursionDepth_=0};function Er(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||X(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Tr(e,t,n){Er(e,n),Sr(e,(function(e){return X(e,t)}))}function Ir(e,t,n){Er(e,n),Sr(e,(function(e){return ee(e,t)||ee(t,e)}))}function Sr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(Cr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Cr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();y&&_("event: "+n.toString()),F(r)}}}var xr=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,i.ev)([],(0,i.CR)(this.listeners_[e])),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.hu)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),kr=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,i.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(xr),Nr=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,i.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(xr),Ar=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&F((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Dr="start",Pr="close",Mr=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=yr(t),this.urlFn=function(e){return ue(t,ae,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ar(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Or((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,i.CR)(e,5),o=r[0],a=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Dr)n.id=a,n.password=s;else{if(o!==Pr)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,i.CR)(e,2),o=r[0],a=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(o,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&ie.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!((0,o.Yr)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.h$)(t),r=M(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Or=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){_("frame writing exception"),e.stack&&_(e.stack),_(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){_("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),Lr="";function Rr(e){Lr=e}var jr=null;"undefined"!=typeof MozWebSocket?jr=MozWebSocket:"undefined"!=typeof WebSocket&&(jr=WebSocket);var Fr=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=yr(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&ie.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),ue(e,oe,r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+Lr+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},a=process.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new jr(this.connURL,[],i)}else i={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new jr(this.connURL,[],i)}catch(e){this.log_("Error instantiating WebSocket.");var u=e.message||e.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==jr&&!e.forceDisallow_},e.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=M(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Ur=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Mr,Fr]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,o=Fr&&Fr.isAvailable(),a=o&&!Fr.previouslyFailed();if(t.webSocketOnly&&(o||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Fr];else{var s=this.transports_=[];try{for(var u=(0,i.XA)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),zr=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Ur(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=D("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?T("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),qr=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Vr=1e3,Br=function(e){function t(n,r,i,a,s,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=E("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Vr,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),kr.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Nr.getInstance().on("online",l.onOnline_,l),l}return(0,i.ZT)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new o.BH,r={p:e.path.toString(),q:e.queryObject()},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),a=e.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&(0,o.r3)(e,"w")){var n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):T("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(e){(0,o.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(e){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),s.authToken_=e&&e.accessToken,l=new zr(a,s.repoInfo_,s.applicationId_,n,r,i,(function(e){S(e+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(t){s.log_("Failed to get token: "+t),c||(e.repoInfo_.nodeAdmin&&S(t),h())}))}},t.prototype.interrupt=function(e){_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Vr,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return P(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new z(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var o=(0,i.XA)(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,(0,i.XA)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Lr.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Nr.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(qr),Wr=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return(0,i.ZT)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=_n(e.getQueryParams());this.restRequest_(s+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=_n(e.getQueryParams()),r=e.path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(t.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.xO)(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=(0,o.cI)(u.responseText)}catch(e){S("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&S("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}(qr),Gr=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Ae("DataSnapshot.child",1,t,!1);var n=new z(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,We)},e.prototype.hasChild=function(e){(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ae("DataSnapshot.hasChild",1,e,!1);var t=new z(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if((0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),We))}))},e.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Hr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Qr(e,t){for(var n=t instanceof z?t:new z(t),r=e,i=V(n);null!==i;){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new Hr(i,r,a),i=V(n=W(n))}return r}function Kr(e){return e.node.value}function Yr(e,t){e.node.value=t,ei(e)}function $r(e){return e.node.childCount>0}function Jr(e,t){O(e.node.children,(function(n,r){t(new Hr(n,e,r))}))}function Zr(e,t,n,r){n&&!r&&t(e),Jr(e,(function(e){Zr(e,t,!0,r)})),n&&r&&t(e)}function Xr(e){return new z(null===e.parent?e.name:Xr(e.parent)+"/"+e.name)}function ei(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Kr(e)&&!$r(e)}(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ei(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,ei(e))}(e.parent,e.name,e)}var ti="repo_interrupt",ni=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _r,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lr(),this.transactionQueueTree_=new Hr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ri(e){var t=e.infoData_.getNode(new z(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ii(e){return(t=(t={timestamp:ri(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function oi(e,t,n,r,i){e.dataUpdateCount++;var a=new z(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.UI)(n,(function(e){return rt(e)}));s=function(e,t,n,r){var i=Zn(e,r);if(i){var o=Xn(i),a=o.path,s=o.queryId,u=J(a,t),c=st.fromObject(n);return er(e,a,new lt(it(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=rt(n);s=function(e,t,n,r){var i=Zn(e,r);if(null!=i){var o=Xn(i),a=o.path,s=o.queryId,u=J(a,t);return er(e,a,new ct(it(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.UI)(n,(function(e){return rt(e)}));s=function(e,t,n){var r=st.fromObject(n);return Hn(e,new lt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=rt(n);s=Vn(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=Si(e,a)),Ir(e.eventQueue_,f,s)}function ai(e,t){si(e,"connected",t),!1===t&&function(e){bi(e,"onDisconnectEvents");var t=ii(e),n=lr();dr(e.onDisconnect_,q(),(function(r,i){var o=sr(r,i,e.serverSyncTree_,t);hr(n,r,o)}));var r=[];dr(n,q(),(function(t,n){r=r.concat(Vn(e.serverSyncTree_,t,n));var i=Ai(e,t);Si(e,i)})),e.onDisconnect_=lr(),Ir(e.eventQueue_,q(),r)}(e)}function si(e,t,n){var r=new z("/.info/"+t),i=rt(n);e.infoData_.updateSnapshot(r,i);var o=Vn(e.infoSyncTree_,r,i);Ir(e.eventQueue_,r,o)}function ui(e){return e.nextWriteId_++}function ci(e,t,n,r,i){bi(e,"set",{path:t.toString(),value:n,priority:r});var o=ii(e),a=rt(n,r),s=Gn(e.serverSyncTree_,t),u=ur(a,s,o),c=ui(e),l=zn(e.serverSyncTree_,t,u,c,!0);Er(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||S("set at "+t+" failed: "+n);var a=qn(e.serverSyncTree_,c,!o);Ir(e.eventQueue_,t,a),wi(0,i,n,r)}));var h=Ai(e,t);Si(e,h),Ir(e.eventQueue_,h,[])}function li(e,t,n,r){bi(e,"update",{path:t.toString(),value:n});var i=!0,a=ii(e),s={};if(O(n,(function(n,r){i=!1,s[n]=sr(Y(t,n),rt(r),e.serverSyncTree_,a)})),i)_("update() called with empty data.  Don't do anything."),wi(0,r,"ok",void 0);else{var u=ui(e),c=function(e,t,n,r){!function(e,t,n,r){(0,o.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=St(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=st.fromObject(n);return Hn(e,new lt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,u);Er(e.eventQueue_,c),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||S("update at "+t+" failed: "+n);var a=qn(e.serverSyncTree_,u,!o),s=a.length>0?Si(e,t):t;Ir(e.eventQueue_,s,a),wi(0,r,n,i)})),O(n,(function(n){var r=Ai(e,Y(t,n));Si(e,r)})),Ir(e.eventQueue_,t,[])}}function hi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&fr(e.onDisconnect_,t),wi(0,n,r,i)}))}function fi(e,t,n,r){var i=rt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&hr(e.onDisconnect_,t,i),wi(0,r,n,o)}))}function di(e,t,n,r,i){var o=rt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&hr(e.onDisconnect_,t,o),wi(0,i,n,r)}))}function pi(e,t,n,r){if((0,o.xb)(n))return _("onDisconnect().update() called with empty data.  Don't do anything."),void wi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&O(n,(function(n,r){var i=rt(r);hr(e.onDisconnect_,Y(t,n),i)})),wi(0,r,i,o)}))}function mi(e,t,n){var r;r=".info"===V(t.path)?Wn(e.infoSyncTree_,t,n):Wn(e.serverSyncTree_,t,n),Tr(e.eventQueue_,t.path,r)}function gi(e,t,n){var r;r=".info"===V(t.path)?Bn(e.infoSyncTree_,t,n):Bn(e.serverSyncTree_,t,n),Tr(e.eventQueue_,t.path,r)}function vi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ti)}function yi(e){e.persistentConnection_&&e.persistentConnection_.resume(ti)}function bi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),_.apply(void 0,(0,i.ev)([r],(0,i.CR)(t)))}function wi(e,t,n,r){t&&F((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function _i(e){return e.__database||(e.__database=new Hi(e))}function Ei(e,t,n,r,i){bi(e,"transaction on "+t);var a=function(){},s=new zi(e,t);s.on("value",a);var u={path:t,update:n,onComplete:r,status:null,order:m(),applyLocally:i,retryCount:0,unwatcher:function(){s.off("value",a)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=Ti(e,t,void 0);u.currentInputSnapshot=c;var l=u.update(c.val());if(void 0===l){if(u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete){var h=new Gr(u.currentInputSnapshot,new zi(e,u.path),We);u.onComplete(null,!1,h)}}else{Se("transaction failed: Data returned ",l,u.path),u.status=0;var f=Qr(e.transactionQueueTree_,t),d=Kr(f)||[];d.push(u),Yr(f,d);var p=void 0;"object"==typeof l&&null!==l&&(0,o.r3)(l,".priority")?(p=(0,o.DV)(l,".priority"),(0,o.hu)(Te(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Gn(e.serverSyncTree_,t)||tt.EMPTY_NODE).getPriority().val();var g=ii(e),v=rt(l,p),y=ur(v,c,g);u.currentOutputSnapshotRaw=v,u.currentOutputSnapshotResolved=y,u.currentWriteId=ui(e);var b=zn(e.serverSyncTree_,t,y,u.currentWriteId,u.applyLocally);Ir(e.eventQueue_,t,b),Ii(e,e.transactionQueueTree_)}}function Ti(e,t,n){return Gn(e.serverSyncTree_,t,n)||tt.EMPTY_NODE}function Ii(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Ni(e,t),Kr(t)){var n=xi(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ti(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.hu)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=J(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){bi(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<n.length;a++){if(n[a].status=2,i=i.concat(qn(e.serverSyncTree_,n[a].currentWriteId)),n[a].onComplete){var s=n[a].currentOutputSnapshotResolved,u=new zi(e,n[a].path),c=new Gr(s,u,We);o.push(n[a].onComplete.bind(null,null,!0,c))}n[a].unwatcher()}for(Ni(e,Qr(e.transactionQueueTree_,t)),Ii(e,e.transactionQueueTree_),Ir(e.eventQueue_,t,i),a=0;a<o.length;a++)F(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else for(S("transaction at "+f.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;Si(e,t)}}),s)}(e,Xr(t),n)}else $r(t)&&Jr(t,(function(t){Ii(e,t)}))}function Si(e,t){var n=Ci(e,t),r=Xr(n);return function(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=0;s<t.length;s++){var u=t[s],c=J(n,u.path),l=!1,h=void 0;if((0,o.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat(qn(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,h="maxretry",i=i.concat(qn(e.serverSyncTree_,u.currentWriteId,!0));else{var f=Ti(e,u.path,a);u.currentInputSnapshot=f;var d=t[s].update(f.val());if(void 0!==d){Se("transaction failed: Data returned ",d,u.path);var p=rt(d);"object"==typeof d&&null!=d&&(0,o.r3)(d,".priority")||(p=p.updatePriority(f.getPriority()));var m=u.currentWriteId,g=ii(e),v=ur(p,f,g);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=v,u.currentWriteId=ui(e),a.splice(a.indexOf(m),1),i=(i=i.concat(zn(e.serverSyncTree_,u.path,v,u.currentWriteId,u.applyLocally))).concat(qn(e.serverSyncTree_,m,!0))}else l=!0,h="nodata",i=i.concat(qn(e.serverSyncTree_,u.currentWriteId,!0))}if(Ir(e.eventQueue_,n,i),i=[],l&&(t[s].status=2,_=t[s].unwatcher,setTimeout(_,Math.floor(0)),t[s].onComplete))if("nodata"===h){var y=new zi(e,t[s].path),b=t[s].currentInputSnapshot,w=new Gr(b,y,We);r.push(t[s].onComplete.bind(null,null,!1,w))}else r.push(t[s].onComplete.bind(null,new Error(h),!1,null))}var _;for(Ni(e,e.transactionQueueTree_),s=0;s<r.length;s++)F(r[s]);Ii(e,e.transactionQueueTree_)}}(e,xi(e,n),r),r}function Ci(e,t){var n,r=e.transactionQueueTree_;for(n=V(t);null!==n&&void 0===Kr(r);)r=Qr(r,n),n=V(t=W(t));return r}function xi(e,t){var n=[];return ki(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function ki(e,t,n){var r=Kr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Jr(t,(function(t){ki(e,t,n)}))}function Ni(e,t){var n=Kr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Yr(t,n.length>0?n:void 0)}Jr(t,(function(t){Ni(e,t)}))}function Ai(e,t){var n=Xr(Ci(e,t)),r=Qr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Di(e,t)})),Di(e,r),Zr(r,(function(t){Di(e,t)})),n}function Di(e,t){var n=Kr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(qn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?Yr(t,void 0):n.length=a+1,Ir(e.eventQueue_,Xr(t),i),s=0;s<r.length;s++)F(r[s])}}var Pi,Mi=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel",1,e,!0);var t=new o.BH;return hi(this.repo_,this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),Pe("OnDisconnect.remove",this.path_),(0,o.Wj)("OnDisconnect.remove",1,e,!0);var t=new o.BH;return fi(this.repo_,this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),Pe("OnDisconnect.set",this.path_),Ie("OnDisconnect.set",1,e,this.path_,!1),(0,o.Wj)("OnDisconnect.set",2,t,!0);var n=new o.BH;return fi(this.repo_,this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),Pe("OnDisconnect.setWithPriority",this.path_),Ie("OnDisconnect.setWithPriority",1,e,this.path_,!1),xe("OnDisconnect.setWithPriority",2,t,!1),(0,o.Wj)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.BH;return di(this.repo_,this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Pe("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ce("OnDisconnect.update",1,e,this.path_,!1),(0,o.Wj)("OnDisconnect.update",2,t,!0);var i=new o.BH;return pi(this.repo_,this.path_,e,i.wrapCallback(t)),i.promise},e}(),Oi=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Li=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},e}(),Ri=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ji=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Li("value",this,new Gr(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){(0,o.hu)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ri(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),Fi=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,(0,o.r3)(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ri(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Li(e.type,this,new Gr(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){(0,o.hu)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||t.callbacks_[a]&&this.callbacks_[s]&&t.callbacks_[a]!==this.callbacks_[s])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),Ui=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return(0,o.hu)(Pi,"Reference.ts has not been loaded"),Pi},set:function(e){Pi=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===He){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==x)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==k)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===We){if(null!=t&&!Te(t)||null!=n&&!Te(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof ln||e.getIndex()===cn,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return(0,o.Dv)("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){(0,o.Dv)("Query.on",2,4,arguments.length),ke("Query.on",1,t,!1),(0,o.Wj)("Query.on",2,n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[t]=n,this.onChildEvent(s,a.cancel,a.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new ji(e,t||null,n||null);mi(this.repo,this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new Fi(e,t,n);mi(this.repo,this,r)},e.prototype.off=function(e,t,n){(0,o.Dv)("Query.off",0,3,arguments.length),ke("Query.off",1,e,!0),(0,o.Wj)("Query.off",2,t,!0),(0,o.lb)("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var a=t||null;r=new ji(a,null,n||null)}else e&&(t&&((i={})[e]=t),r=new Fi(i,null,n||null));gi(this.repo,this,r)},e.prototype.get=function(){return e=this.repo,t=this,null!=(n=function(e,t){var n=t.path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=J(e,n);r=r||Mn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Mn(i,q()):(i=new Nn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new ht(r,!0,!1):null;return mt(Dn(i,t,Ot(e.pendingWriteTree_,t.path),o?a.getNode():tt.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t))?Promise.resolve(new Gr(n,t.getRef(),t.getQueryParams().getIndex())):e.server_.get(t).then((function(n){var r=rt(n),i=Vn(e.serverSyncTree_,t.path,r);return Tr(e.eventQueue_,t.path,i),Promise.resolve(new Gr(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){return bi(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))}));var e,t,n},e.prototype.once=function(t,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),ke("Query.once",1,t,!1),(0,o.Wj)("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.BH;c.promise.catch((function(){}));var l=function(e){u&&(u=!1,a.off(t,l),n&&n.bind(s.context)(e),c.resolve(e))};return this.on(t,l,(function(e){a.off(t,l),s.cancel&&s.cancel.bind(s.context)(e),c.reject(e)})),c.promise},e.prototype.limitToFirst=function(t){if((0,o.Dv)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,pn(this.queryParams_,t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if((0,o.Dv)("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,mn(this.queryParams_,t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if((0,o.Dv)("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Ae("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new z(t);if($(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new ln(n),i=wn(this.queryParams_,r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){(0,o.Dv)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=wn(this.queryParams_,He);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=wn(this.queryParams_,We);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){(0,o.Dv)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=wn(this.queryParams_,cn);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),Ie("Query.startAt",1,t,this.path,!0),Ne("Query.startAt",2,n,!0);var r=gn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.startAfter=function(t,n){void 0===t&&(t=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),Ie("Query.startAfter",1,t,this.path,!1),Ne("Query.startAfter",2,n,!0);var r=vn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),Ie("Query.endAt",1,t,this.path,!0),Ne("Query.endAt",2,n,!0);var r=yn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endBefore=function(t,n){void 0===t&&(t=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),Ie("Query.endBefore",1,t,this.path,!1),Ne("Query.endBefore",2,n,!0);var r=bn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if((0,o.Dv)("Query.equalTo",1,2,arguments.length),Ie("Query.equalTo",1,e,this.path,!1),Ne("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this.repo.toString()+H(this.path)},e.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return function(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==We&&(t.i=e.index_.toString()),t}(this.queryParams_)},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=P(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=X(this.path,t.path),a=this.queryIdentifier()===t.queryIdentifier();return r&&i&&a},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,(0,o.Wj)(e,3,r.cancel,!0),r.context=n,(0,o.lb)(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,o.gK)(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),zi=function(e){function t(t,n){if(!(t instanceof ni))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,new dn,!1)||this}return(0,i.ZT)(t,e),t.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),$(this.path)?null:G(this.path)},t.prototype.child=function(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof z||(null===V(this.path)?De("Reference.child",1,e,!1):Ae("Reference.child",1,e,!1)),new t(this.repo,Y(this.path,e))},t.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var e=K(this.path);return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){(0,o.Dv)("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return _i(this.repo)},t.prototype.set=function(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),Pe("Reference.set",this.path),Ie("Reference.set",1,e,this.path,!1),(0,o.Wj)("Reference.set",2,t,!0);var n=new o.BH;return ci(this.repo,this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Pe("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ce("Reference.update",1,e,this.path,!1),(0,o.Wj)("Reference.update",2,t,!0);var i=new o.BH;return li(this.repo,this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if((0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),Pe("Reference.setWithPriority",this.path),Ie("Reference.setWithPriority",1,e,this.path,!1),xe("Reference.setWithPriority",2,t,!1),(0,o.Wj)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.BH;return ci(this.repo,this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return(0,o.Dv)("Reference.remove",0,1,arguments.length),Pe("Reference.remove",this.path),(0,o.Wj)("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if((0,o.Dv)("Reference.transaction",1,3,arguments.length),Pe("Reference.transaction",this.path),(0,o.Wj)("Reference.transaction",1,e,!1),(0,o.Wj)("Reference.transaction",2,t,!0),Oe("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.BH;"function"==typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new Oi(n,i)),"function"==typeof t&&t(e,n,i)};return Ei(this.repo,this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),Pe("Reference.setPriority",this.path),xe("Reference.setPriority",1,e,!1),(0,o.Wj)("Reference.setPriority",2,t,!0);var n=new o.BH;return ci(this.repo,Y(this.path,".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){(0,o.Dv)("Reference.push",0,2,arguments.length),Pe("Reference.push",this.path),Ie("Reference.push",1,e,this.path,!0),(0,o.Wj)("Reference.push",2,t,!0);var n,r=ri(this.repo),i=an(r),a=this.child(i),s=this.child(i);return n=null!=e?a.set(e,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),a},t.prototype.onDisconnect=function(){return Pe("Reference.onDisconnect",this.path),new Mi(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ui);Ui.__referenceConstructor=zi,function(e){(0,o.hu)(!En,"__referenceConstructor has already been defined"),En=e}(zi);var qi=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(e)},e}(),Vi=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),Bi={},Wi=!1;function Gi(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||I("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=ge(i,r),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,i="http://"+c+"?ns="+u.namespace,u=(s=ge(i,r)).repoInfo):a=!s.repoInfo.secure;var l=r&&a?new Vi:new qi(e,t);return Me("Invalid Firebase Database URL",1,s),$(s.path)||I("Database URL must point to the root of a Firebase Database (not including a child path)."),_i(function(e,t,n){var r=(0,o.DV)(Bi,t.name);r||(r={},Bi[t.name]=r);var i=(0,o.DV)(r,e.toURLString());return i&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new ni(e,Wi,t,n),r[e.toURLString()]=i,i}(u,e,l))}var Hi=function(){function e(e){var t=this;this.repoInternal_=e,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return(0,i.mG)(t,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){var t,n;return this.checkDeleted_("delete"),t=this.repo_,(n=(0,o.DV)(Bi,t.app.name))&&(0,o.DV)(n,t.key)===t||I("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),vi(t),delete n[t.key],this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},e instanceof ni||I("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(e.prototype,"repo_",{get:function(){return this.instanceStarted_||(function(e){if(e.stats_=yr(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Wr(e.repoInfo_,(function(t,n,r,i){oi(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return ai(e,!0)}),0);else{var t=e.app.options.databaseAuthVariableOverride;if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(t)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Br(e.repoInfo_,e.app.options.appId,(function(t,n,r,i){oi(e,t,n,r,i)}),(function(t){ai(e,t)}),(function(t){!function(e,t){O(t,(function(t,n){si(e,t,n)}))}(e,t)}),e.authTokenProvider_,t),e.server_=e.persistentConnection_}var n,r;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=(n=function(){return new wr(e.stats_,e.server_)},r=e.repoInfo_.toString(),vr[r]||(vr[r]=n()),vr[r]),e.infoData_=new pr,e.infoSyncTree_=new Un({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t.path);return a.isEmpty()||(o=Vn(e.infoSyncTree_,t.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),si(e,"connected",!1),e.serverSyncTree_=new Un({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Ir(e.eventQueue_,t.path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new zi(this.repo_,q())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.useEmulator=function(e,t){this.checkDeleted_("useEmulator"),this.instanceStarted_?I("Cannot call useEmulator() after instance has already been initialized."):function(e,t,n){e.repoInfo_=new se(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new Vi)}(this.repoInternal_,e,t)},e.prototype.ref=function(e){return this.checkDeleted_("ref"),(0,o.Dv)("database.ref",0,1,arguments.length),e instanceof zi?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),(0,o.Dv)(t,1,1,arguments.length);var n=ge(e,this.repo_.repoInfo_.nodeAdmin);Me(t,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||I(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repoInternal_&&I("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){(0,o.Dv)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),vi(this.repo_)},e.prototype.goOnline=function(){(0,o.Dv)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),yi(this.repo_)},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),Qi=Object.freeze({__proto__:null,forceLongPolling:function(){Fr.forceDisallow(),Mr.forceAllow()},forceWebSockets:function(){Mr.forceDisallow()},isWebSocketsAvailable:function(){return Fr.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new br(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);O(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e.repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n;e.stats_.incrementCounter(t),n=t,e.statsReporter_.statsToReport_[n]=!0}(e.repo,t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e.repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,u=void 0!==a&&a;Rr(r);var c=new s.zt("auth-internal",new s.H0("database-standalone"));return c.setComponent(new s.wA("auth-internal",(function(){return i}),"PRIVATE")),{instance:Gi(t,c,n,u),namespace:o}}}),Ki=Br;Br.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Br.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Yi=zr,$i=se,Ji=Object.freeze({__proto__:null,DataConnection:Ki,RealTimeConnection:Yi,hijackHash:function(e){var t=Br.prototype.put;return Br.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Br.prototype.put=t}},ConnectionTarget:$i,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){!function(e){Wi=e}(e)}}),Zi=Hi.ServerValue;!function(t){Rr(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new s.wA("database",(function(e,t){var n=t.instanceIdentifier;return Gi(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),n,void 0)}),"PUBLIC").setServiceProps({Reference:zi,Query:Ui,Database:Hi,DataSnapshot:Gr,enableLogging:w,INTERNAL:Qi,ServerValue:Zi,TEST_ACCESS:Ji}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.9.6"),(0,o.Yr)()&&(e.exports=n)}(r.Z)},861:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,{in:function(){return o},Yd:function(){return h},Ub:function(){return f},Am:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},574:function(e,t,n){"use strict";n.d(t,{BH:function(){return f},LL:function(){return I},ZR:function(){return T},gQ:function(){return j},hu:function(){return i},g5:function(){return o},US:function(){return s},h$:function(){return u},r3:function(){return P},ne:function(){return F},p$:function(){return l},ZB:function(){return h},gK:function(){return V},z$:function(){return d},GJ:function(){return D},jU:function(){return g},ru:function(){return v},d:function(){return b},xb:function(){return O},w1:function(){return w},uI:function(){return p},UG:function(){return m},Yr:function(){return E},b$:function(){return y},Mn:function(){return _},w9:function(){return A},cI:function(){return x},UI:function(){return L},xO:function(){return R},DV:function(){return M},ug:function(){return H},dS:function(){return G},Pz:function(){return k},Dv:function(){return q},Wj:function(){return B},lb:function(){return W}});var r=n(622),i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=a(e);return s.encodeByteArray(t,!0)},c=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function m(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function g(){return"object"==typeof self&&self.self===self}function v(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return d().indexOf("Electron/")>=0}function w(){var e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return d().indexOf("MSAppHost/")>=0}function E(){return!1}var T=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,I.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),I=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?S(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new T(i,s,r);return u},e}();function S(e,t){return e.replace(C,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var C=/\{\$([^}]+)}/g;function x(e){return JSON.parse(e)}function k(e){return JSON.stringify(e)}var N=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=x(c(o[0])||""),n=x(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},A=function(e){var t=N(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},D=function(e){var t=N(e).claims;return"object"==typeof t&&!0===t.admin};function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function O(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function L(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function R(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var j=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function F(e,t){var n=new U(e,t);return n.subscribe.bind(n)}var U=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function z(){}var q=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function V(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+(r+" argument ")}function B(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(V(e,t,r)+"must be a valid function.")}function W(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(V(e,t,r)+"must be a valid context object.")}var G=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},H=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t}},462:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}},e.exports=t.default},22:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=i.width?String(i.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}},e.exports=t.default},365:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r=String(t),i=n||{},o=i.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=r.match(a);if(!s)return null;var u,c=s[0],l=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return u="[object Array]"===Object.prototype.toString.call(l)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].test(c))return n}(l):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n].test(c))return n}(l),u=e.valueCallback?e.valueCallback(u):u,{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(c.length)}}},e.exports=t.default},521:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r=String(t),i=n||{},o=r.match(e.matchPattern);if(!o)return null;var a=o[0],s=r.match(e.parsePattern);if(!s)return null;var u=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(a.length)}}},e.exports=t.default},974:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var i;return r=r||{},i="string"==typeof n[e]?n[e]:1===t?n[e].one:n[e].other.replace("{{count}}",t),r.addSuffix?r.comparison>0?"em "+i:"há "+i:i};var n={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}};e.exports=t.default},898:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(462))&&r.__esModule?r:{default:r},o={date:(0,i.default)({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:(0,i.default)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,i.default)({formats:{full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};t.default=o,e.exports=t.default},488:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,i){var o=n[e];return"function"==typeof o?o(t,r,i):o};var n={lastWeek:function(e,t,n){var r=e.getUTCDay();return"'"+(0===r||6===r?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"};e.exports=t.default},219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(22))&&r.__esModule?r:{default:r},o={ordinalNumber:function(e,t){var n=Number(e),r=String((t||{}).unit);return"week"===r||"isoWeek"===r?n+"ª":n+"º"},era:(0,i.default)({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:(0,i.default)({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,i.default)({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:(0,i.default)({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},defaultWidth:"wide"}),dayPeriod:(0,i.default)({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})};t.default=o,e.exports=t.default},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(365));function i(e){return e&&e.__esModule?e:{default:e}}var o={ordinalNumber:(0,i(n(521)).default)({matchPattern:/^(\d+)[ºªo]?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,r.default)({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,r.default)({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:{narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})};t.default=o,e.exports=t.default},724:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(974)),i=u(n(898)),o=u(n(488)),a=u(n(219)),s=u(n(30));function u(e){return e&&e.__esModule?e:{default:e}}var c={code:"pt-BR",formatDistance:r.default,formatLong:i.default,formatRelative:o.default,localize:a.default,match:s.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};t.default=c,e.exports=t.default},773:function(e,t,n){"use strict";var r=n(972),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),m=u(n),g=0;g<a.length;++g){var v=a[g];if(!(o[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=f(n,v);try{c(t,v,y)}catch(e){}}}}return t}},347:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},508:function(e,t,n){var r=n(710);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return l(new RegExp("(?:"+i.join("|")+")",h(r)),n)}(t,n,i):function(e,t,n){return f(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=p&&p!==m,E="+"===b||"*"===b,T="?"===b||"*"===b,I=n[2]||l,S=v||y;r.push({name:g||o++,prefix:m||"",delimiter:I,optional:T,repeat:E,partial:_,asterisk:!!w,pattern:S?c(S):w?".*":"[^"+u(I)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+a,h(n)),t)}},710:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},433:function(e,t,n){"use strict";var r=n(642);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},74:function(e,t,n){e.exports=n(433)()},642:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},748:function(e,t,n){"use strict";var r=n(466),i=n(347),o=n(767);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,T=60106,I=60107,S=60108,C=60114,x=60109,k=60110,N=60112,A=60113,D=60120,P=60115,M=60116,O=60121,L=60128,R=60129,j=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),T=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),C=U("react.profiler"),x=U("react.provider"),k=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),D=U("react.suspense_list"),P=U("react.memo"),M=U("react.lazy"),O=U("react.block"),U("react.scope"),L=U("react.opaque.id"),R=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var z,q="function"==typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function B(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var W=!1;function G(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return G(e.type,!1);case 11:return G(e.type.render,!1);case 22:return G(e.type._render,!1);case 1:return G(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case I:return"Fragment";case T:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return Q(e.type);case O:return Q(e._render);case M:t=e._payload,e=e._init;try{return Q(e(t))}catch(e){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ce(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,xe=null,ke=null;function Ne(e){if(e=Xr(e)){if("function"!=typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=ti(t),Ce(e.stateNode,e.type,t))}}function Ae(e){xe?ke?ke.push(e):ke=[e]:xe=e}function De(){if(xe){var e=xe,t=ke;if(ke=xe=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function Me(e,t,n,r,i){return e(t,n,r,i)}function Oe(){}var Le=Pe,Re=!1,je=!1;function Fe(){null===xe&&null===ke||(Oe(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(h)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){ze=!1}function Ve(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Be=!1,We=null,Ge=!1,He=null,Qe={onError:function(e){Be=!0,We=e}};function Ke(e,t,n,r,i,o,a,s,u){Be=!1,We=null,Ve.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(a(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Xe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=Xr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Zr(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Xr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Xr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&vt(at)&&(at=null),null!==st&&vt(st)&&(st=null),null!==ut&&vt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},St={};function Ct(e){if(It[e])return It[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var xt=Ct("animationend"),kt=Ct("animationiteration"),Nt=Ct("animationstart"),At=Ct("transitionend"),Dt=new Map,Pt=new Map,Mt=["abort","abort",xt,"animationEnd",kt,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Ot(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Dt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Rt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~a;0!==u?(r=Rt(u),i=Lt):0!=(s&=o)&&(r=Rt(s),i=Lt)}else 0!=(o=n&~a)?(r=Rt(o),i=Lt):0!==s&&(r=Rt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Bt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Rt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Bt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Ut(10,t):e;case 10:return 0===(e=zt(192&~t))?Ut(8,t):e;case 8:return 0===(e=zt(3584&~t))&&0===(e=zt(4186112&~t))&&(e=512),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function zt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Gt|0)|0},Wt=Math.log,Gt=Math.LN2,Ht=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,Kt=!0;function Yt(e,t,n,r){Re||Oe();var i=Jt,o=Re;Re=!0;try{Me(i,e,t,n,r)}finally{(Re=o)||Fe()}}function $t(e,t,n,r){Qt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Kt)if((i=0==(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=Zr(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$e(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Xt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(hn),dn=i({},hn,{view:0,detail:0}),pn=sn(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(mn),vn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},dn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Sn}var xn=sn(i({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=sn(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],Mn=h&&"CompositionEvent"in window,On=null;h&&"documentMode"in document&&(On=document.documentMode);var Ln=h&&"TextEvent"in window&&!On,Rn=h&&(!Mn||On&&8<On&&11>=On),jn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ae(r),0<(t=Mr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Sr(e,0)}function Kn(e){if(J(ei(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(h){var Jn;if(h){var Zn="oninput"in document;if(!Zn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Zn="function"==typeof Xn.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Gn&&(Gn.detachEvent("onpropertychange",tr),Hn=Gn=null)}function tr(e){if("value"===e.propertyName&&Kn(Hn)){var t=[];if(Wn(t,Hn,e,Se(e)),e=Qn,Re)e(t);else{Re=!0;try{Pe(e,t)}finally{Re=!1,Fe()}}}}function nr(e,t,n){"focusin"===e?(er(),Hn=n,(Gn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Hn)}function ir(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==Z(r)||(r="selectionStart"in(r=mr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Mr(gr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}Ot("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ot("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ot(Mt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<wr.length;_r++)Pt.set(wr[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ke.apply(this,arguments),Be){if(!Be)throw Error(a(198));var l=We;Be=!1,We=null,Ge||(Ge=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Sr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Ir(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Ir(i,s,c),o=u}}}if(Ge)throw e=He,Ge=!1,He=null,e}function Cr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var xr="_reactListening"+Math.random().toString(36).slice(2);function kr(e){e[xr]||(e[xr]=!0,s.forEach((function(t){Tr.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ni(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Ar(o,e,i,t),a.add(s))}function Ar(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=$t;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Zr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e();je=!0;try{Le(e,t,n)}finally{je=!1,Fe()}}((function(){var r=o,i=Se(n),a=[];e:{var s=Dt.get(e);if(void 0!==s){var u=fn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case xt:case kt:case Nt:u=bn;break;case At:u=An;break;case"scroll":u=pn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kn}var l=0!=(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&null!=(m=Ue(p,f))&&l.push(Pr(p,m,d))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[$r])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(h=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=kn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ei(u),d=null==c?s:ei(c),(s=new l(m,p+"leave",u,n,i)).target=h,s.relatedTarget=d,m=null,Zr(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,m=l),h=m,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Or(d))p++;for(d=0,m=f;m;m=Or(m))d++;for(;0<p-d;)l=Or(l),p--;for(;0<d-p;)f=Or(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Or(l),f=Or(f)}l=null}else l=null;null!==u&&Lr(a,s,u,l,!1),null!==c&&null!==h&&Lr(a,h,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Yn;else if(Bn(s))if($n)g=or;else{g=rr;var v=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ei(r):window,e){case"focusin":(Bn(v)||"true"===v.contentEditable)&&(mr=v,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=nn()):(en="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(v=Mr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:v}),(y||null!==(y=zn(n)))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Mn&&Un(e,t)?(e=nn(),tn=en=Xt=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Sr(a,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Pr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Pr(e,o,i))),e=e.return}return r}function Or(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,o))&&a.unshift(Pr(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(Pr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Rr(){}var jr=null,Fr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,Vr="function"==typeof clearTimeout?clearTimeout:void 0;function Br(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0,Qr=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Qr,Yr="__reactProps$"+Qr,$r="__reactContainer$"+Qr,Jr="__reactEvents$"+Qr;function Zr(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$r]||n[Kr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Kr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function Xr(e){return!(e=e[Kr]||e[$r])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ti(e){return e[Yr]||null}function ni(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function ai(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function si(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},ci=oi(ui),li=oi(!1),hi=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function di(e){return null!=e.childContextTypes}function pi(){ai(li),ai(ci)}function mi(e,t,n){if(ci.current!==ui)throw Error(a(168));si(ci,t),si(li,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Q(t)||"Unknown",o));return i({},n,r)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,hi=ci.current,si(ci,e),si(li,li.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ai(li),ai(ci),si(ci,e)):ai(li),si(li,n)}var bi=null,wi=null,_i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ii=o.unstable_shouldYield,Si=o.unstable_requestPaint,Ci=o.unstable_now,xi=o.unstable_getCurrentPriorityLevel,ki=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Mi={},Oi=void 0!==Si?Si:function(){},Li=null,Ri=null,ji=!1,Fi=Ci(),Ui=1e4>Fi?Ci:function(){return Ci()-Fi};function zi(){switch(xi()){case ki:return 99;case Ni:return 98;case Ai:return 97;case Di:return 96;case Pi:return 95;default:throw Error(a(332))}}function qi(e){switch(e){case 99:return ki;case 98:return Ni;case 97:return Ai;case 96:return Di;case 95:return Pi;default:throw Error(a(332))}}function Vi(e,t){return e=qi(e),_i(e,t)}function Bi(e,t,n){return e=qi(e),Ei(e,t,n)}function Wi(){if(null!==Ri){var e=Ri;Ri=null,Ti(e)}Gi()}function Gi(){if(!ji&&null!==Li){ji=!0;var e=0;try{var t=Li;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Ei(ki,Wi),t}finally{ji=!1}}}var Hi=_.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=oi(null),Yi=null,$i=null,Ji=null;function Zi(){Ji=$i=Yi=null}function Xi(e){var t=Ki.current;ai(Ki),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Yi=e,Ji=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function no(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$i){if(null===Yi)throw Error(a(308));$i=t,Yi.dependencies={lanes:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(u=t,d=n,m.tag){case 1:if("function"==typeof(p=m.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(d,f,u):p))break e;f=i({},f,u);break e;case 2:ro=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Ls|=s,e.lanes=s,e.memoizedState=f}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new r.Component).refs;function fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=au(),r=su(e),i=ao(n,r);i.tag=2,null!=t&&(i.callback=t),so(e,i),uu(e,r,n)}};function mo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function go(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=di(t)?hi:ci.current,o=(r=null!=(r=t.contextTypes))?fi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=di(t)?hi:ci.current,i.context=fi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=qu(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Vu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Wu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=qu(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case T:return(t=Gu(t,e.mode,n)).return=e,t}if(bo(t)||V(t))return(t=Vu(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===I?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case T:return n.key===i?l(e,t,n,r):null}if(bo(n)||V(n))return null!==i?null:h(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===I?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case T:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||V(r))return h(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,s[m],u);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,h=g}if(m===s.length)return n(i,h),c;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(a=o(h,a,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=V(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=d(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===h?l=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return l}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===I&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===I){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===I?((r=Vu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=qu(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return s(e);case T:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Wu(o,e.mode,u)).return=e,e=r),s(e);if(bo(o))return m(e,r,o,u);if(V(o))return g(e,r,o,u);if(l&&_o(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Q(e.type)||"Component"))}return n(e,r)}}var To=Eo(!0),Io=Eo(!1),So={},Co=oi(So),xo=oi(So),ko=oi(So);function No(e){if(e===So)throw Error(a(174));return e}function Ao(e,t){switch(si(ko,t),si(xo,e),si(Co,So),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(Co),si(Co,t)}function Do(){ai(Co),ai(xo),ai(ko)}function Po(e){No(ko.current);var t=No(Co.current),n=de(t,e.type);t!==n&&(si(xo,e),si(Co,n))}function Mo(e){xo.current===e&&(ai(Co),ai(xo))}var Oo=oi(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ro=null,jo=null,Fo=!1;function Uo(e,t){var n=Fu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function qo(e){if(Fo){var t=jo;if(t){var n=t;if(!zo(e,t)){if(!(t=Wr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Fo=!1,void(Ro=e);Uo(Ro,n)}Ro=e,jo=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Fo=!1,Ro=e}}function Vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ro=e}function Bo(e){if(e!==Ro)return!1;if(!Fo)return Vo(e),Fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=jo;t;)Uo(e,t),t=Wr(t.nextSibling);if(Vo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jo=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jo=null}}else jo=Ro?Wr(e.stateNode.nextSibling):null;return!0}function Wo(){jo=Ro=null,Fo=!1}var Go=[];function Ho(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Qo=_.ReactCurrentDispatcher,Ko=_.ReactCurrentBatchConfig,Yo=0,$o=null,Jo=null,Zo=null,Xo=!1,ea=!1;function ta(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){if(Yo=o,$o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=null===e||null===e.memoizedState?Na:Aa,e=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Zo=Jo=null,t.updateQueue=null,Qo.current=Da,e=n(r,i)}while(ea)}if(Qo.current=ka,t=null!==Jo&&null!==Jo.next,Yo=0,Zo=Jo=$o=null,Xo=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?$o.memoizedState=Zo=e:Zo=Zo.next=e,Zo}function oa(){if(null===Jo){var e=$o.alternate;e=null!==e?e.memoizedState:null}else e=Jo.next;var t=null===Zo?$o.memoizedState:Zo.next;if(null!==t)Zo=t,Jo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Jo=e).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===Zo?$o.memoizedState=Zo=e:Zo=Zo.next=e}return Zo}function aa(e,t){return"function"==typeof t?t(e):t}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Yo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,$o.lanes|=l,Ls|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,ar(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Yo&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(a(350))}function la(e,t,n,r){var i=xs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Qo.current,c=u.useState((function(){return ca(i,t,n)})),l=c[1],h=c[0];c=Zo;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,m=f.source;f=f.subscribe;var g=$o;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!ar(s,e)){e=n(t._source),ar(h,e)||(l(e),e=su(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Bt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=su(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(p,n)&&ar(m,t)&&ar(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:h}).dispatch=l=xa.bind(null,$o,e),c.queue=e,c.baseQueue=null,h=ca(i,t,n),c.memoizedState=c.baseState=h),h}function ha(e,t,n){return la(oa(),e,t,n)}function fa(e){var t=ia();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e}).dispatch=xa.bind(null,$o,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$o.updateQueue)?(t={lastEffect:null},$o.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function ma(){return oa().memoizedState}function ga(e,t,n,r){var i=ia();$o.flags|=e,i.memoizedState=da(1|t,n,void 0,void 0===r?null:r)}function va(e,t,n,r){var i=oa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&na(r,a.deps))return void da(t,n,o,r)}$o.flags|=e,i.memoizedState=da(1|t,n,o,r)}function ya(e,t){return ga(516,4,e,t)}function ba(e,t){return va(516,4,e,t)}function wa(e,t){return va(4,2,e,t)}function _a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(e,t,n){return n=null!=n?n.concat([e]):null,va(4,2,_a.bind(null,t,e),n)}function Ta(){}function Ia(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sa(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ca(e,t){var n=zi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Ko.transition;Ko.transition=1;try{e(!1),t()}finally{Ko.transition=n}}))}function xa(e,t,n){var r=au(),i=su(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===$o||null!==a&&a===$o)ea=Xo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,ar(u,s))return}catch(e){}uu(e,i,r)}}var ka={readContext:no,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Na={readContext:no,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ga(4,2,_a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xa.bind(null,$o,e),[r.memoizedState,e]},useRef:pa,useState:fa,useDebugValue:Ta,useDeferredValue:function(e){var t=fa(e),n=t[0],r=t[1];return ya((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=fa(!1),t=e[0];return pa(e=Ca.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},la(r,e,t,n)},useOpaqueIdentifier:function(){if(Fo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(a(355))})),n=fa(t)[1];return 0==(2&$o.mode)&&($o.flags|=516,da(5,(function(){n("r:"+(Hr++).toString(36))}),void 0,null)),t}return fa(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},Aa={readContext:no,useCallback:Ia,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:Sa,useReducer:sa,useRef:ma,useState:function(){return sa(aa)},useDebugValue:Ta,useDeferredValue:function(e){var t=sa(aa),n=t[0],r=t[1];return ba((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=sa(aa)[0];return[ma().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return sa(aa)[0]},unstable_isNewReconciler:!1},Da={readContext:no,useCallback:Ia,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:Sa,useReducer:ua,useRef:ma,useState:function(){return ua(aa)},useDebugValue:Ta,useDeferredValue:function(e){var t=ua(aa),n=t[0],r=t[1];return ba((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=ua(aa)[0];return[ma().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(aa)[0]},unstable_isNewReconciler:!1},Pa=_.ReactCurrentOwner,Ma=!1;function Oa(e,t,n,r){t.child=null===e?Io(t,null,n,r):To(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=ra(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Oa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Xa(e,t,i))}function Ra(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Uu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?Xa(e,t,o):(t.flags|=1,(e=zu(a,r)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0==(o&i))return t.lanes=e.lanes,Xa(e,t,o);0!=(16384&e.flags)&&(Ma=!0)}return za(e,t,n,r,o)}function Fa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},gu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gu(0,e),null;t.memoizedState={baseLanes:0},gu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,gu(0,r);return Oa(e,t,i,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=di(n)?hi:ci.current;return o=fi(t,o),to(t,i),n=ra(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Oa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Xa(e,t,i))}function qa(e,t,n,r,i){if(di(n)){var o=!0;vi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):fi(t,c=di(n)?hi:ci.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&vo(t,a,r,c),ro=!1;var f=t.memoizedState;a.state=f,co(t,r,a,i),u=t.memoizedState,s!==r||f!==u||li.current||ro?("function"==typeof l&&(fo(t,n,l,r),u=t.memoizedState),(s=ro||mo(t,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qi(t.type,s),a.props=c,h=t.pendingProps,f=a.context,u="object"==typeof(u=n.contextType)&&null!==u?no(u):fi(t,u=di(n)?hi:ci.current);var d=n.getDerivedStateFromProps;(l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==u)&&vo(t,a,r,u),ro=!1,f=t.memoizedState,a.state=f,co(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||li.current||ro?("function"==typeof d&&(fo(t,n,d,r),p=t.memoizedState),(c=ro||mo(t,n,c,r,f,p,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Va(e,t,n,r,o,i)}function Va(e,t,n,r,i,o){Ua(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&yi(t,n,!1),Xa(e,t,o);r=t.stateNode,Pa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=To(t,e.child,null,o),t.child=To(t,null,s,o)):Oa(e,t,s,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Ao(e,t.containerInfo)}var Wa,Ga,Ha,Qa={dehydrated:null,retryLane:0};function Ka(e,t,n){var r,i=t.pendingProps,o=Oo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),si(Oo,1&o),null===e?(void 0!==i.fallback&&qo(t),e=i.children,o=i.fallback,a?(e=Ya(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ya(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,t.lanes=33554432,e):((n=Bu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zu(a,s),null!==e?r=zu(e,r):(r=Vu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Qa,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=zu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Ya(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Bu(t,i,0,null),n=Vu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function $a(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Ja(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Za(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Oa(e,t,r.children,n),0!=(2&(r=Oo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n);else if(19===e.tag)$a(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Oo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ja(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ja(t,!0,n,null,o,t.lastEffect);break;case"together":Ja(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!Fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(t.type)&&pi(),null;case 3:return Do(),ai(li),ai(ci),Ho(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=No(ko.current);if(n=t.type,null!==e&&null!=t.stateNode)Ga(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(Co.current),Bo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kr]=t,r[Yr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Cr(Er[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":ue(r,s),Cr("invalid",r)}for(var c in Te(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Rr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Kr]=t,e[Yr]=r,Wa(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),o=r;break;case"iframe":case"object":case"embed":Cr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Cr(Er[o],e);o=r;break;case"source":Cr("error",e),o=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),o=r;break;case"details":Cr("toggle",e),o=r;break;case"input":ee(e,r),o=X(e,r),Cr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Cr("invalid",e);break;default:o=r}Te(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?_e(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"==typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Cr("scroll",e):null!=h&&w(e,s,h,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Rr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=No(ko.current),No(Co.current),Bo(t)?(r=t.stateNode,n=t.memoizedProps,r[Kr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Kr]=t,t.stateNode=r)}return null;case 13:return ai(Oo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Bo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Oo.current)?0===Ps&&(Ps=3):(0!==Ps&&3!==Ps||(Ps=4),null===xs||0==(134217727&Ls)&&0==(134217727&Rs)||fu(xs,Ns))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&kr(t.stateNode.containerInfo),null;case 10:return Xi(t),null;case 17:return di(t.type)&&pi(),null;case 19:if(ai(Oo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)es(r,!1);else{if(0!==Ps||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Lo(e))){for(t.flags|=64,es(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Oo,1&Oo.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>zs&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Fo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>zs&&1073741824!==n&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Oo.current,si(Oo,s?1&t|2:1&t),n):null;case 23:case 24:return vu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ns(e){switch(e.tag){case 1:di(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ai(li),ai(ci),Ho(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return ai(Oo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Oo),null;case 4:return Do(),null;case 10:return Xi(e),null;case 23:case 24:return vu(),null;default:return null}}function rs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function is(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Co.current);var a,s=null;switch(n){case"input":o=X(e,o),r=X(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Rr)}for(h in Te(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Cr("scroll",e),s||c===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ha=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function as(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Gs=r),is(0,t)},n}function ss(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return is(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var us="function"==typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ou(e,t)}else t.current=null}function ls(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Br(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Du(n,e),Au(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&lo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}lo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function fs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ds(e,t){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Du(t,n);else{r=t;try{i()}catch(e){Ou(r,e)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ou(t,e)}break;case 5:cs(t);break;case 4:bs(e,t)}}function ps(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function gs(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?vs(e,n,t):ys(e,n,t)}function vs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rr));else if(4!==r&&null!==(e=e.child))for(vs(e,t,n),e=e.sibling;null!==e;)vs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ds(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ds(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Yr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ve(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Us=Ui(),fs(t.child,!0)),void _s(t);case 19:return void _s(t);case 17:return;case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(a(163))}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Ru.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Es(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Ts=Math.ceil,Is=_.ReactCurrentDispatcher,Ss=_.ReactCurrentOwner,Cs=0,xs=null,ks=null,Ns=0,As=0,Ds=oi(0),Ps=0,Ms=null,Os=0,Ls=0,Rs=0,js=0,Fs=null,Us=0,zs=1/0;function qs(){zs=Ui()+500}var Vs,Bs=null,Ws=!1,Gs=null,Hs=null,Qs=!1,Ks=null,Ys=90,$s=[],Js=[],Zs=null,Xs=0,eu=null,tu=-1,nu=0,ru=0,iu=null,ou=!1;function au(){return 0!=(48&Cs)?Ui():-1!==tu?tu:tu=Ui()}function su(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===zi()?1:2;if(0===nu&&(nu=Os),0!==Hi.transition){0!==ru&&(ru=null!==Fs?Fs.pendingLanes:0),e=nu;var t=4186112&~ru;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),e=Ut(0!=(4&Cs)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nu)}function uu(e,t,n){if(50<Xs)throw Xs=0,eu=null,Error(a(185));if(null===(e=cu(e,t)))return null;Vt(e,t,n),e===xs&&(Rs|=t,4===Ps&&fu(e,Ns));var r=zi();1===t?0!=(8&Cs)&&0==(48&Cs)?du(e):(lu(e,n),0===Cs&&(qs(),Wi())):(0==(4&Cs)||98!==r&&99!==r||(null===Zs?Zs=new Set([e]):Zs.add(e)),lu(e,n)),Fs=e}function cu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function lu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Bt(s),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Rt(c);var h=Lt;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===xs?Ns:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ti(n)}15===t?(n=du.bind(null,e),null===Li?(Li=[n],Ri=Ei(ki,Gi)):Li.push(n),n=Mi):n=14===t?Bi(99,du.bind(null,e)):Bi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),hu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(tu=-1,ru=nu=0,0!=(48&Cs))throw Error(a(327));var t=e.callbackNode;if(Nu()&&e.callbackNode!==t)return null;var n=jt(e,e===xs?Ns:0);if(0===n)return null;var r=n,i=Cs;Cs|=16;var o=wu();for(xs===e&&Ns===r||(qs(),yu(e,r));;)try{Tu();break}catch(t){bu(e,t)}if(Zi(),Is.current=o,Cs=i,null!==ks?r=0:(xs=null,Ns=0,r=Ps),0!=(Os&Rs))yu(e,0);else if(0!==r){if(2===r&&(Cs|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(n=Ft(e))&&(r=_u(e,n))),1===r)throw t=Ms,yu(e,0),fu(e,n),lu(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Cu(e);break;case 3:if(fu(e,n),(62914560&n)===n&&10<(r=Us+500-Ui())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){au(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qr(Cu.bind(null,e),r);break}Cu(e);break;case 4:if(fu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Bt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ts(n/1960))-n)){e.timeoutHandle=qr(Cu.bind(null,e),n);break}Cu(e);break;case 5:Cu(e);break;default:throw Error(a(329))}}return lu(e,Ui()),e.callbackNode===t?hu.bind(null,e):null}function fu(e,t){for(t&=~js,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!=(48&Cs))throw Error(a(327));if(Nu(),e===xs&&0!=(e.expiredLanes&Ns)){var t=Ns,n=_u(e,t);0!=(Os&Rs)&&(n=_u(e,t=jt(e,t)))}else n=_u(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Cs|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(t=Ft(e))&&(n=_u(e,t))),1===n)throw n=Ms,yu(e,0),fu(e,t),lu(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cu(e),lu(e,Ui()),null}function pu(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(qs(),Wi())}}function mu(e,t){var n=Cs;Cs&=-2,Cs|=8;try{return e(t)}finally{0===(Cs=n)&&(qs(),Wi())}}function gu(e,t){si(Ds,As),As|=t,Os|=t}function vu(){As=Ds.current,ai(Ds)}function yu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Do(),ai(li),ai(ci),Ho();break;case 5:Mo(r);break;case 4:Do();break;case 13:case 19:ai(Oo);break;case 10:Xi(r);break;case 23:case 24:vu()}n=n.return}xs=e,ks=zu(e.current,null),Ns=As=Os=t,Ps=0,Ms=null,js=Rs=Ls=0}function bu(e,t){for(;;){var n=ks;try{if(Zi(),Qo.current=ka,Xo){for(var r=$o.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Xo=!1}if(Yo=0,Zo=Jo=$o=null,ea=!1,Ss.current=null,null===n||null===n.return){Ps=1,Ms=t,ks=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ns,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Oo.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var v=new Set;v.add(c),f.updateQueue=v}else g.add(c);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(-1,1);y.tag=2,so(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new os,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Lu.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((Q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ps&&(Ps=2),u=rs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,uo(f,as(0,o,t));break e;case 1:o=u;var _=f.type,E=f.stateNode;if(0==(64&f.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Hs||!Hs.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,uo(f,ss(f,o,t));break e}}f=f.return}while(null!==f)}Su(n)}catch(e){t=e,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function wu(){var e=Is.current;return Is.current=ka,null===e?ka:e}function _u(e,t){var n=Cs;Cs|=16;var r=wu();for(xs===e&&Ns===t||yu(e,t);;)try{Eu();break}catch(t){bu(e,t)}if(Zi(),Cs=n,Is.current=r,null!==ks)throw Error(a(261));return xs=null,Ns=0,Ps}function Eu(){for(;null!==ks;)Iu(ks)}function Tu(){for(;null!==ks&&!Ii();)Iu(ks)}function Iu(e){var t=Vs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?Su(e):ks=t,Ss.current=null}function Su(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ts(n,t,As)))return void(ks=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&As)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(ks=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===Ps&&(Ps=5)}function Cu(e){var t=zi();return Vi(99,xu.bind(null,e,t)),null}function xu(e,t){do{Nu()}while(null!==Ks);if(0!=(48&Cs))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Bt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==Zs&&0==(24&r)&&Zs.has(e)&&Zs.delete(e),e===xs&&(ks=xs=null,Ns=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Cs,Cs|=32,Ss.current=null,jr=Kt,dr(s=fr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var h=0,f=-1,d=-1,p=0,m=0,g=s,v=null;t:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(f=h+o),g!==c||0!==l&&3!==g.nodeType||(d=h+l),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break t;if(v===u&&++p===o&&(f=h),v===c&&++m===l&&(d=h),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Fr={focusedElem:s,selectionRange:u},Kt=!1,iu=null,ou=!1,Bs=r;do{try{ku()}catch(e){if(null===Bs)throw Error(a(330));Ou(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);iu=null,Bs=r;do{try{for(s=e;null!==Bs;){var b=Bs.flags;if(16&b&&ve(Bs.stateNode,""),128&b){var w=Bs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:gs(Bs),Bs.flags&=-3;break;case 6:gs(Bs),Bs.flags&=-3,ws(Bs.alternate,Bs);break;case 1024:Bs.flags&=-1025;break;case 1028:Bs.flags&=-1025,ws(Bs.alternate,Bs);break;case 4:ws(Bs.alternate,Bs);break;case 8:bs(s,u=Bs);var E=u.alternate;ps(u),null!==E&&ps(E)}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(a(330));Ou(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);if(_=Fr,w=fr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=lr(b,E),o=lr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Kt=!!jr,Fr=jr=null,e.current=n,Bs=r;do{try{for(b=e;null!==Bs;){var T=Bs.flags;if(36&T&&hs(b,Bs.alternate,Bs),128&T){w=void 0;var I=Bs.ref;if(null!==I){var S=Bs.stateNode;switch(Bs.tag){case 5:w=S;break;default:w=S}"function"==typeof I?I(w):I.current=w}}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(a(330));Ou(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);Bs=null,Oi(),Cs=i}else e.current=n;if(Qs)Qs=!1,Ks=e,Ys=t;else for(Bs=r;null!==Bs;)t=Bs.nextEffect,Bs.nextEffect=null,8&Bs.flags&&((T=Bs).sibling=null,T.stateNode=null),Bs=t;if(0===(r=e.pendingLanes)&&(Hs=null),1===r?e===eu?Xs++:(Xs=0,eu=e):Xs=0,n=n.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64==(64&n.current.flags))}catch(e){}if(lu(e,Ui()),Ws)throw Ws=!1,e=Gs,Gs=null,e;return 0!=(8&Cs)||Wi(),null}function ku(){for(;null!==Bs;){var e=Bs.alternate;ou||null===iu||(0!=(8&Bs.flags)?Xe(Bs,iu)&&(ou=!0):13===Bs.tag&&Es(e,Bs)&&Xe(Bs,iu)&&(ou=!0));var t=Bs.flags;0!=(256&t)&&ls(e,Bs),0==(512&t)||Qs||(Qs=!0,Bi(97,(function(){return Nu(),null}))),Bs=Bs.nextEffect}}function Nu(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,Vi(e,Pu)}return!1}function Au(e,t){$s.push(t,e),Qs||(Qs=!0,Bi(97,(function(){return Nu(),null})))}function Du(e,t){Js.push(t,e),Qs||(Qs=!0,Bi(97,(function(){return Nu(),null})))}function Pu(){if(null===Ks)return!1;var e=Ks;if(Ks=null,0!=(48&Cs))throw Error(a(331));var t=Cs;Cs|=32;var n=Js;Js=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Ou(o,e)}}for(n=$s,$s=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(a(330));Ou(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Cs=t,Wi(),!0}function Mu(e,t,n){so(e,t=as(0,t=rs(n,t),1)),t=au(),null!==(e=cu(e,1))&&(Vt(e,1,t),lu(e,t))}function Ou(e,t){if(3===e.tag)Mu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Mu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){var i=ss(n,e=rs(t,e),1);if(so(n,i),i=au(),null!==(n=cu(n,1)))Vt(n,1,i),lu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Lu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=au(),e.pingedLanes|=e.suspendedLanes&n,xs===e&&(Ns&n)===n&&(4===Ps||3===Ps&&(62914560&Ns)===Ns&&500>Ui()-Us?yu(e,0):js|=n),lu(e,t)}function Ru(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===zi()?1:2:(0===nu&&(nu=Os),0===(t=zt(62914560&~nu))&&(t=4194304))),n=au(),null!==(e=cu(e,t))&&(Vt(e,t,n),lu(e,n))}function ju(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Fu(e,t,n,r){return new ju(e,t,n,r)}function Uu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zu(e,t){var n=e.alternate;return null===n?((n=Fu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Uu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case I:return Vu(n.children,i,o,t);case R:s=8,i|=16;break;case S:s=8,i|=1;break;case C:return(e=Fu(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=o,e;case A:return(e=Fu(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case D:return(e=Fu(19,n,t,i)).elementType=D,e.lanes=o,e;case j:return Bu(n,i,o,t);case F:return(e=Fu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case k:s=9;break e;case N:s=11;break e;case P:s=14;break e;case M:s=16,r=null;break e;case O:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Fu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Vu(e,t,n,r){return(e=Fu(7,e,r,t)).lanes=n,e}function Bu(e,t,n,r){return(e=Fu(23,e,r,t)).elementType=j,e.lanes=n,e}function Wu(e,t,n){return(e=Fu(6,e,null,t)).lanes=n,e}function Gu(e,t,n){return(t=Fu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Qu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ku(e,t,n,r){var i=t.current,o=au(),s=su(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(di(c)){n=gi(n,c,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),uu(i,s,o),s}function Yu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ju(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function Zu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Hu(e,t,null!=n&&!0===n.hydrate),t=Fu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[$r]=n.current,kr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Yu(a);s.call(e)}}Ku(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Zu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Yu(a);u.call(e)}}mu((function(){Ku(t,a,e,i)}))}return Yu(a)}function tc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(a(200));return Qu(e,t,null,n)}Vs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||li.current)Ma=!0;else{if(0==(n&r)){switch(Ma=!1,t.tag){case 3:Ba(t),Wo();break;case 5:Po(t);break;case 1:di(t.type)&&vi(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ka(e,t,n):(si(Oo,1&Oo.current),null!==(t=Xa(e,t,n))?t.sibling:null);si(Oo,1&Oo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Za(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Oo,Oo.current),r)break;return null;case 23:case 24:return t.lanes=0,Fa(e,t,n)}return Xa(e,t,n)}Ma=0!=(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,ci.current),to(t,n),i=ra(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(r)){var o=!0;vi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&fo(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Va(null,t,r,!0,o,n)}else t.tag=0,Oa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Uu(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=qa(null,t,i,e,n);break e;case 11:t=La(null,t,i,e,n);break e;case 14:t=Ra(null,t,i,Qi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Wo(),t=Xa(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(jo=Wr(t.stateNode.containerInfo.firstChild),Ro=t,o=Fo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=Io(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Oa(e,t,r,n),Wo();t=t.child}return t;case 5:return Po(t),null===e&&qo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ua(e,t),Oa(e,t,s,n),t.child;case 6:return null===e&&qo(t),null;case 13:return Ka(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=To(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(si(Ki,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0==(o=ar(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!li.current){t=Xa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=ao(-1,n&-n)).tag=2,so(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Oa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Oa(e,t,r,n),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Ra(e,t,i,o=Qi(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,di(r)?(e=!0,vi(t)):e=!1,to(t,n),go(t,r,i),yo(t,r,i,n),Va(null,t,r,!0,e,n);case 19:return Za(e,t,n);case 23:case 24:return Fa(e,t,n)}throw Error(a(156,t.tag))},Zu.prototype.render=function(e){Ku(e,this._internalRoot,null,null)},Zu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ku(null,e,null,(function(){t[$r]=null}))},et=function(e){13===e.tag&&(uu(e,4,au()),Ju(e,4))},tt=function(e){13===e.tag&&(uu(e,67108864,au()),Ju(e,67108864))},nt=function(e){if(13===e.tag){var t=au(),n=su(e);uu(e,n,t),Ju(e,n)}},rt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=pu,Me=function(e,t,n,r,i){var o=Cs;Cs|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Cs=o)&&(qs(),Wi())}},Oe=function(){0==(49&Cs)&&(function(){if(null!==Zs){var e=Zs;Zs=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,lu(e,Ui())}))}Wi()}(),Nu())},Le=function(e,t){var n=Cs;Cs|=2;try{return e(t)}finally{0===(Cs=n)&&(qs(),Wi())}};var nc={Events:[Xr,ei,ti,Ae,De,Nu,{current:!1}]},rc={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{bi=oc.inject(ic),wi=oc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=tc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Cs;if(0!=(48&n))return e(t);Cs|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Cs=n,Wi()}},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(a(40));return!!e._reactRootContainer&&(mu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[$r]=null}))})),!0)},t.unstable_batchedUpdates=pu,t.unstable_createPortal=function(e,t){return tc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="17.0.1"},116:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(748)},5:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case m:case u:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||_(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},972:function(e,t,n){"use strict";e.exports=n(5)},988:function(e,t,n){"use strict";Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"yB",{enumerable:!0,get:function(){return i.default}});var r=o(n(346)),i=o(n(823));function o(e){return e&&e.__esModule?e:{default:e}}},823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(466)),i=n(498),o=n(346);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d,p,m,g=function(e){function t(){return u(this,t),l(this,h(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.color,n=e.highlightColor,r=e.children,o=(0,i.css)(".react-loading-skeleton{background-color:",t,";background-image:linear-gradient( 90deg,",t,",",n,",",t," );};label:SkeletonTheme;");return(0,i.jsx)("div",{css:o},r)}}])&&c(n.prototype,r),t}(r.Component);t.default=g,d=g,p="defaultProps",m={color:o.defaultBaseColor,highlightColor:o.defaultHighlightColor},p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m},346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d,t.skeletonStyles=t.skeletonKeyframes=t.defaultHighlightColor=t.defaultBaseColor=void 0,(r=n(466))&&r.__esModule;var r,i=n(498);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e,t,n=(e=["\n  0% {\n    background-position: -200px 0;\n  }\n  ","\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return u=function(){return n},n}var c="#eee";t.defaultBaseColor=c;var l="#f5f5f5";t.defaultHighlightColor=l;var h=function(e,t){return(0,i.keyframes)(u(),t>0?"".concat(Math.floor(1/(e+t)*e*100),"% {\n    background-position: calc(200px + 100%) 0;\n  }"):void 0)};t.skeletonKeyframes=h;var f=(0,i.css)("background-color:",c,";background-image:linear-gradient( 90deg,",c,",",l,",",c," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");function d(e){for(var t=e.count,n=e.duration,r=e.width,o=e.wrapper,s=e.height,u=e.circle,c=e.delay,l=e.style,d=e.className,p=[],m=0;m<t;m++){var g={};null!==r&&(g.width=r),null!==s&&(g.height=s),null!==r&&null!==s&&u&&(g.borderRadius="50%");var v="react-loading-skeleton";d&&(v+=" "+d),p.push((0,i.jsx)("span",{key:m,className:v,css:(0,i.css)(f," animation:",h(n,c)," ",n+c,"s ease-in-out infinite;label:Skeleton;"),style:a({},l,{},g)},"‌"))}return(0,i.jsx)("span",null,o?p.map((function(e,t){return(0,i.jsx)(o,{key:t},e,"‌")})):p)}t.skeletonStyles=f,d.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}},751:function(e,t,n){"use strict";var r=n(347),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+C(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),x(a,t,n,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+C(s=e[c],c);u+=x(s,t,n,l,a)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=x(s=s.value,t,n,l=r+C(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function k(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function D(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.1"},466:function(e,t,n){"use strict";e.exports=n(751)},794:function(e,t){"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){v=f((function(){e(t.unstable_now())}),n)},i=function(){d(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>S(a,n))void 0!==u&&0>S(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],x=[],k=1,N=null,A=3,D=!1,P=!1,M=!1;function O(e){for(var t=T(x);null!==t;){if(null===t.callback)I(x);else{if(!(t.startTime<=e))break;I(x),t.sortIndex=t.expirationTime,E(C,t)}t=T(x)}}function L(e){if(M=!1,O(e),!P)if(null!==T(C))P=!0,n(R);else{var t=T(x);null!==t&&r(L,t.startTime-e)}}function R(e,n){P=!1,M&&(M=!1,i()),D=!0;var o=A;try{for(O(n),N=T(C);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"==typeof a){N.callback=null,A=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?N.callback=s:N===T(C)&&I(C),O(n)}else I(C);N=T(C)}if(null!==N)var u=!0;else{var c=T(x);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=o,D=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||D||(P=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return T(C)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:k++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(x,e),null===T(C)&&e===T(x)&&(M?i():M=!0,r(L,a-s))):(e.sortIndex=u,E(C,e),P||D||(P=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},767:function(e,t,n){"use strict";e.exports=n(794)},807:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},622:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return a},Jh:function(){return s},XA:function(){return u},CR:function(){return c},ev:function(){return l}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create,Object.create}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(466),t=n(116),r=n(856);r.Z.registerVersion("firebase","8.3.1","app");var i=n(861),o=n(574),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var u,c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},l=l||{},h=c||self;function f(){}function d(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(){return Date.now()}function E(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function T(){this.j=this.j,this.i=this.i}T.prototype.j=!1,T.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++g)}(this)},T.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var I=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},S=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function C(e){return Array.prototype.concat.apply([],arguments)}function x(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function k(e){return/^[\s\xa0]*$/.test(e)}var N,A=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var M=h.navigator;if(M){var O=M.userAgent;if(O){N=O;break e}}N=""}function L(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function R(e){var t={};for(var n in e)t[n]=e[n];return t}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function U(e){return U[" "](e),e}U[" "]=f;var z,q,V=D(N,"Opera"),B=D(N,"Trident")||D(N,"MSIE"),W=D(N,"Edge"),G=W||B,H=D(N,"Gecko")&&!(D(N.toLowerCase(),"webkit")&&!D(N,"Edge"))&&!(D(N,"Trident")||D(N,"MSIE"))&&!D(N,"Edge"),Q=D(N.toLowerCase(),"webkit")&&!D(N,"Edge");function K(){var e=h.document;return e?e.documentMode:void 0}e:{var Y="",$=(q=N,H?/rv:([^\);]+)(\)|;)/.exec(q):W?/Edge\/([\d\.]+)/.exec(q):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):Q?/WebKit\/(\S+)/.exec(q):V?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if($&&(Y=$?$[1]:""),B){var J=K();if(null!=J&&J>parseFloat(Y)){z=String(J);break e}}z=Y}var Z,X={};function ee(e){return function(e,t){var n=X;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=A(String(z)).split("."),r=A(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=P(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==a[2].length,0==s[2].length)||P(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}h.document&&B?Z=K()||parseInt(z,10)||void 0:Z=void 0;var te=Z,ne=!B||9<=Number(te),re=B&&!ee("9"),ie=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",f,t),h.removeEventListener("test",f,t)}catch(e){}return e}();function oe(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function ae(e,t){if(oe.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(H){e:{try{U(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:se[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}oe.prototype.b=function(){this.defaultPrevented=!0},E(ae,oe);var se={2:"touch",3:"pen",4:"mouse"};ae.prototype.b=function(){ae.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,re)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var ue="closure_listenable_"+(1e6*Math.random()|0),ce=0;function le(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++ce,this.Y=this.Z=!1}function he(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function fe(e){this.src=e,this.a={},this.b=0}function de(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=I(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(he(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function pe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}fe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=pe(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new le(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function ve(e,t,n,r,i){if(r&&r.once)return be(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ve(e,t[o],n,r,i);return null}return n=xe(n),e&&e[ue]?e.va(t,n,p(r)?!!r.capture:!!r,i):ye(e,t,n,!1,r,i)}function ye(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i;if(a&&!ne)return null;var s=Se(e);if(s||(e[me]=s=new fe(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Ie,t=ne?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ie||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ee(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function be(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)be(e,t[o],n,r,i);return null}return n=xe(n),e&&e[ue]?e.wa(t,n,p(r)?!!r.capture:!!r,i):ye(e,t,n,!0,r,i)}function we(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)we(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=xe(n),e&&e[ue]?(e=e.c,(t=String(t).toString())in e.a&&-1<(n=pe(o=e.a[t],n,r,i))&&(he(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=Se(e))&&(t=e.a[t.toString()],e=-1,t&&(e=pe(t,n,r,i)),(n=-1<e?t[e]:null)&&_e(n))}function _e(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[ue])de(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ee(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Se(t))?(de(n,e),0==n.b&&(n.src=null,t[me]=null)):he(e)}}}function Ee(e){return e in ge?ge[e]:ge[e]="on"+e}function Te(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&_e(e),n.call(r,t)}function Ie(e,t){if(e.Y)return!0;if(!ne){if(!t)e:{t=["window","event"];for(var n=h,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Te(e,t=new ae(t,this))}return Te(e,new ae(t,this))}function Se(e){return(e=e[me])instanceof fe?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(e){return"function"==typeof e?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function ke(){T.call(this),this.c=new fe(this),this.J=this,this.C=null}function Ne(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new oe(t,e);else if(t instanceof oe)t.target=t.target||e;else{var i=t;F(t=new oe(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=Ae(a,r,!0,t)&&i}if(i=Ae(a=t.a=e,r,!0,t)&&i,i=Ae(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ae(a=t.a=n[o],r,!1,t)&&i}function Ae(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&de(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}E(ke,T),ke.prototype[ue]=!0,(u=ke.prototype).addEventListener=function(e,t,n,r){ve(this,e,t,n,r)},u.removeEventListener=function(e,t,n,r){we(this,e,t,n,r)},u.G=function(){if(ke.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)he(n[r]);delete t.a[e],t.b--}}this.C=null},u.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},u.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var De=h.JSON.stringify;function Pe(){this.b=this.a=null}var Me,Oe=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Re}),(function(e){e.reset()}));function Le(){var e=ze,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Re(){this.next=this.b=this.a=null}function je(e){h.setTimeout((function(){throw e}),0)}function Fe(e,t){Me||function(){var e=h.Promise.resolve(void 0);Me=function(){e.then(qe)}}(),Ue||(Me(),Ue=!0),ze.add(e,t)}Pe.prototype.add=function(e,t){var n=Oe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Re.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Re.prototype.reset=function(){this.next=this.b=this.a=null};var Ue=!1,ze=new Pe;function qe(){for(var e;e=Le();){try{e.a.call(e.b)}catch(e){je(e)}var t=Oe;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Ue=!1}function Ve(e,t){ke.call(this),this.b=e||1,this.a=t||h,this.f=b(this.Za,this),this.g=_()}function Be(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function We(e,t,n){if("function"==typeof e)n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function Ge(e){e.a=We((function(){e.a=null,e.c&&(e.c=!1,Ge(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}E(Ve,ke),(u=Ve.prototype).aa=!1,u.M=null,u.Za=function(){if(this.aa){var e=_()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ne(this,"tick"),this.aa&&(Be(this),this.start()))}},u.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_())},u.G=function(){Ve.X.G.call(this),Be(this),delete this.a};var He=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Ge(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(h.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(T);function Qe(e){T.call(this),this.b=e,this.a={}}E(Qe,T);var Ke=[];function Ye(e,t,n,r){Array.isArray(n)||(n&&(Ke[0]=n.toString()),n=Ke);for(var i=0;i<n.length;i++){var o=ve(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function $e(e){L(e.a,(function(e,t){this.a.hasOwnProperty(t)&&_e(e)}),e),e.a={}}function Je(){this.a=!0}function Ze(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return De(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Qe.prototype.G=function(){Qe.X.G.call(this),$e(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Je.prototype.info=function(){};var Xe={},et=null;function tt(){return et=et||new ke}function nt(e){oe.call(this,Xe.Fa,e)}function rt(e){var t=tt();Ne(t,new nt(t,e))}function it(e,t){oe.call(this,Xe.STAT_EVENT,e),this.stat=t}function ot(e){var t=tt();Ne(t,new it(t,e))}function at(e){oe.call(this,Xe.Ga,e)}function st(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}Xe.Fa="serverreachability",E(nt,oe),Xe.STAT_EVENT="statevent",E(it,oe),Xe.Ga="timingevent",E(at,oe);var ut={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ct={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function lt(){}function ht(e){var t;return(t=e.a)||(t=e.a={}),t}function ft(){}lt.prototype.a=null;var dt,pt={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function mt(){oe.call(this,"d")}function gt(){oe.call(this,"c")}function vt(){}function yt(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Qe(this),this.P=bt,e=G?125:void 0,this.R=new Ve(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}E(mt,oe),E(gt,oe),E(vt,lt),dt=new vt;var bt=45e3,wt={},_t={};function Et(e,t,n){e.H=1,e.i=Wt(Ft(t)),e.j=n,e.I=!0,Tt(e,null)}function Tt(e,t){e.u=_(),Ct(e),e.l=Ft(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),rn(n.b,"t",r),e.D=0,e.a=Zn(e.g,e.g.C?t:null),0<e.O&&(e.F=new He(b(e.Ca,e,e.a),e.O)),Ye(e.J,e.a,"readystatechange",e.Xa),t=e.B?R(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),rt(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function It(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=St(e,n);if(i==_t){4==t&&(e.h=4,ot(14),r=!1),Ze(e.c,e.f,null,"[Incomplete Response]");break}if(i==wt){e.h=4,ot(15),Ze(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Ze(e.c,e.f,i,null),Dt(e,i)}4==t&&0==n.length&&(e.h=1,ot(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wn(t),t.F=!0,ot(11))):(Ze(e.c,e.f,n,"[Invalid Chunked Response]"),At(e),Nt(e))}function St(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?_t:(n=Number(t.substring(n,r)),isNaN(n)?wt:(r+=1)+n>t.length?_t:(t=t.substr(r,n),e.D=r+n,t))}function Ct(e){e.T=_()+e.P,xt(e,e.P)}function xt(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=st(b(e.Va,e),t)}function kt(e){e.o&&(h.clearTimeout(e.o),e.o=null)}function Nt(e){0==e.g.v||e.A||Qn(e.g,e)}function At(e){kt(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Be(e.R),$e(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Dt(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||hn(n.b,e)))if(n.I=e.N,!e.C&&hn(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Hn(n),Ln(n)}Bn(n),ot(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=st(b(n.Sa,n),6e3));if(1>=ln(n.b)&&n.ea){try{n.ea()}catch(e){}n.ea=void 0}}else Yn(n,11)}else if((e.C||n.a==e)&&Hn(n),!k(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(fn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Bt(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=_()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Jn(u,u.C?u.ga:null,u.fa),d.C){dn(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(kt(p),Ct(p)),u.a=d}else Vn(u);0<n.g.length&&Fn(n)}else"stop"!=i[0]&&"close"!=i[0]||Yn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Yn(n,7):On(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);rt(4)}catch(e){}}function Pt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"==typeof e)S(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(d(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Mt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Mt)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ot(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Lt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Lt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(u=yt.prototype).setTimeout=function(e){this.P=e},u.Xa=function(e){e=e.target;var t=this.F;t&&3==An(e)?t.f():this.Ca(e)},u.Ca=function(e){try{if(e==this.a)e:{var t=An(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!G&&!this.a.$())){this.A||4!=t||7==n||rt(8==n||0>=r?3:2),kt(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,ot(12),At(this),Nt(this);break e}Ze(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Dt(this,u)}this.I?(It(this,t,o),G&&this.b&&3==t&&(Ye(this.J,this.R,"tick",this.Wa),this.R.start())):(Ze(this.c,this.f,o,null),Dt(this,o)),4==t&&At(this),this.b&&!this.A&&(4==t?Qn(this.g,this):(this.b=!1,Ct(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ot(12)):(this.h=0,ot(13)),At(this),Nt(this)}}}catch(e){}},u.Wa=function(){if(this.a){var e=An(this.a),t=this.a.$();this.D<t.length&&(kt(this),It(this,e,t),this.b&&4!=e&&Ct(this))}},u.cancel=function(){this.A=!0,At(this)},u.Va=function(){this.o=null;var e=_();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(rt(3),ot(17)),At(this),this.h=2,Nt(this)):xt(this,this.T-e)},(u=Mt.prototype).K=function(){Ot(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},u.L=function(){return Ot(this),this.a.concat()},u.get=function(e,t){return Lt(this.b,e)?this.b[e]:t},u.set=function(e,t){Lt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},u.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof jt){this.a=void 0!==t?t:e.a,Ut(this,e.f),this.j=e.j,zt(this,e.c),qt(this,e.h),this.g=e.g,t=e.b;var n=new Xt;n.c=t.c,t.a&&(n.a=new Mt(t.a),n.b=t.b),Vt(this,n),this.i=e.i}else e&&(n=String(e).match(Rt))?(this.a=!!t,Ut(this,n[1]||"",!0),this.j=Gt(n[2]||""),zt(this,n[3]||"",!0),qt(this,n[4]),this.g=Gt(n[5]||"",!0),Vt(this,n[6]||"",!0),this.i=Gt(n[7]||"")):(this.a=!!t,this.b=new Xt(null,this.a))}function Ft(e){return new jt(e)}function Ut(e,t,n){e.f=n?Gt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function zt(e,t,n){e.c=n?Gt(t,!0):t}function qt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Vt(e,t,n){t instanceof Xt?(e.b=t,function(e,t){t&&!e.f&&(en(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tn(this,t),rn(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Ht(t,Jt)),e.b=new Xt(t,e.a))}function Bt(e,t,n){e.b.set(t,n)}function Wt(e){return Bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),e}function Gt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ht(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Qt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Ht(t,Kt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Ht(t,Kt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ht(n,"/"==n.charAt(0)?$t:Yt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Ht(n,Zt)),e.join("")};var Kt=/[#\/\?@]/g,Yt=/[#\?:]/g,$t=/[#\?]/g,Jt=/[#\?@]/g,Zt=/#/g;function Xt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function en(e){e.a||(e.a=new Mt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tn(e,t){en(e),t=on(e,t),Lt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Lt((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ot(e)))}function nn(e,t){return en(e),t=on(e,t),Lt(e.a.b,t)}function rn(e,t,n){tn(e,t),0<n.length&&(e.c=null,e.a.set(on(e,t),x(n)),e.b+=n.length)}function on(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(u=Xt.prototype).add=function(e,t){en(this),this.c=null,e=on(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},u.forEach=function(e,t){en(this),this.a.forEach((function(n,r){S(n,(function(n){e.call(t,n,r,this)}),this)}),this)},u.L=function(){en(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},u.K=function(e){en(this);var t=[];if("string"==typeof e)nn(this,e)&&(t=C(t,this.a.get(on(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=C(t,e[n])}return t},u.set=function(e,t){return en(this),this.c=null,nn(this,e=on(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},u.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},u.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var an=function(e,t){this.b=e,this.a=t};function sn(e){this.g=e||un,e=h.PerformanceNavigationTiming?0<(e=h.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(h.ia&&h.ia.ya&&h.ia.ya()&&h.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var un=10;function cn(e){return!!e.b||!!e.a&&e.a.size>=e.f}function ln(e){return e.b?1:e.a?e.a.size:0}function hn(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function fn(e,t){e.a?e.a.add(t):e.b=t}function dn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function pn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=s(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return x(e.c)}function mn(){}function gn(){this.a=new mn}function vn(e,t,n){var r=n||"";try{Pt(e,(function(e,n){var i=e;p(e)&&(i=De(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function yn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}sn.prototype.cancel=function(){var e,t;if(this.c=pn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=s(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},mn.prototype.stringify=function(e){return h.JSON.stringify(e,void 0)},mn.prototype.parse=function(e){return h.JSON.parse(e,void 0)};var bn=h.JSON.parse;function wn(e){ke.call(this),this.headers=new Mt,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=_n,this.D=this.F=!1}E(wn,ke);var _n="",En=/^https?$/i,Tn=["POST","PUT"];function In(e){return"content-type"==e.toLowerCase()}function Sn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Cn(e),kn(e)}function Cn(e){e.u||(e.u=!0,Ne(e,"complete"),Ne(e,"error"))}function xn(e){if(e.b&&void 0!==l&&(!e.s[1]||4!=An(e)||2!=e.W()))if(e.l&&4==An(e))We(e.za,0,e);else if(Ne(e,"readystatechange"),4==An(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Rt)[1]||null;if(!o&&h.self&&h.self.location){var a=h.self.location.protocol;o=a.substr(0,a.length-1)}i=!En.test(o?o.toLowerCase():"")}t=i}if(t)Ne(e,"complete"),Ne(e,"success");else{e.h=6;try{var s=2<An(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",Cn(e)}}finally{kn(e)}}}function kn(e,t){if(e.a){Nn(e);var n=e.a,r=e.s[0]?f:null;e.a=null,e.s=null,t||Ne(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Nn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(h.clearTimeout(e.m),e.m=null)}function An(e){return e.a?e.a.readyState:0}function Dn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return L(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Bt(e,t,n))}function Pn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Mn(e){this.pa=0,this.g=[],this.c=new Je,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Pn("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Pn("baseRetryDelayMs",5e3,e),this.Ra=Pn("retryDelaySeedMs",1e4,e),this.Ma=Pn("forwardChannelMaxRetries",2,e),this.ma=Pn("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new sn(e&&e.concurrentRequestLimit),this.ka=new gn,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function On(e){if(Rn(e),3==e.v){var t=e.R++,n=Ft(e.B);Bt(n,"SID",e.J),Bt(n,"RID",t),Bt(n,"TYPE","terminate"),zn(e,n),(t=new yt(e,e.c,t,void 0)).H=2,t.i=Wt(Ft(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(t.i.toString(),"")),!n&&h.Image&&((new Image).src=t.i,n=!0),n||(t.a=Zn(t.g,null),t.a.ba(t.i)),t.u=_(),Ct(t)}$n(e)}function Ln(e){e.a&&(Wn(e),e.a.cancel(),e.a=null)}function Rn(e){Ln(e),e.j&&(h.clearTimeout(e.j),e.j=null),Hn(e),e.b.cancel(),e.h&&("number"==typeof e.h&&h.clearTimeout(e.h),e.h=null)}function jn(e,t){e.g.push(new an(e.Oa++,t)),3==e.v&&Fn(e)}function Fn(e){cn(e.b)||e.h||(e.h=!0,Fe(e.Ba,e),e.u=0)}function Un(e,t){var n;n=t?t.f:e.R++;var r=Ft(e.B);Bt(r,"SID",e.J),Bt(r,"RID",n),Bt(r,"AID",e.P),zn(e,r),e.i&&e.l&&Dn(r,e.i,e.l),n=new yt(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=qn(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),fn(e.b,n),Et(n,r,t)}function zn(e,t){e.f&&Pt({},(function(e,n){Bt(t,n,e)}))}function qn(e,t,n){n=Math.min(e.g.length,n);var r=e.f?b(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{vn(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Vn(e){e.a||e.j||(e.T=1,Fe(e.Aa,e),e.o=0)}function Bn(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=st(b(e.Aa,e),Kn(e,e.o)),e.o++,0))}function Wn(e){null!=e.s&&(h.clearTimeout(e.s),e.s=null)}function Gn(e){e.a=new yt(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Ft(e.la);Bt(t,"RID","rpc"),Bt(t,"SID",e.J),Bt(t,"CI",e.H?"0":"1"),Bt(t,"AID",e.P),zn(e,t),Bt(t,"TYPE","xmlhttp"),e.i&&e.l&&Dn(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Wt(Ft(t)),n.j=null,n.I=!0,Tt(n,e)}function Hn(e){null!=e.m&&(h.clearTimeout(e.m),e.m=null)}function Qn(e,t){var n=null;if(e.a==t){Hn(e),Wn(e),e.a=null;var r=2}else{if(!hn(e.b,t))return;n=t.s,dn(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=_()-t.u;var i=e.u;Ne(r=tt(),new at(r,n,t,i)),Fn(e)}else Vn(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ln(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=st(b(e.Ba,e,t),Kn(e,e.u)),e.u++,0)))}(e,t)||2==r&&Bn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Yn(e,5);break;case 4:Yn(e,10);break;case 3:Yn(e,6);break;default:Yn(e,2)}}function Kn(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Yn(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=b(e.Ya,e);n||(n=new jt("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Ut(n,"https"),Wt(n)),function(e,t){var n=new Je;if(h.Image){var r=new Image;r.onload=w(yn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(yn,n,r,"TestLoadImage: error",!1,t),r.onabort=w(yn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(yn,n,r,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ot(2);e.v=0,e.f&&e.f.ra(t),$n(e),Rn(e)}function $n(e){e.v=0,e.I=-1,e.f&&(0==pn(e.b).length&&0==e.g.length||(e.b.c.length=0,x(e.g),e.g.length=0),e.f.qa())}function Jn(e,t,n){var r=function(e){return e instanceof jt?Ft(e):new jt(e,void 0)}(n);if(""!=r.c)t&&zt(r,t+"."+r.c),qt(r,r.h);else{var i=h.location;r=function(e,t,n,r){var i=new jt(null,void 0);return e&&Ut(i,e),t&&zt(i,t),n&&qt(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&L(e.V,(function(e,t){Bt(r,t,e)})),t=e.A,n=e.na,t&&n&&Bt(r,t,n),Bt(r,"VER",e.ha),zn(e,r),r}function Zn(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new wn(e.Na)).F=e.C,t}function Xn(){}function er(){if(B&&!(10<=Number(te)))throw Error("Environmental error: no available transport.")}function tr(e,t){ke.call(this),this.a=new Mn(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!k(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new ir(this)}function nr(e){mt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function rr(){gt.call(this),this.status=1}function ir(e){this.a=e}(u=wn.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ht(this.H):ht(dt),this.a.onreadystatechange=b(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(e){return void Sn(this,e)}e=n||"";var i=new Mt(this.headers);r&&Pt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=In,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=h.FormData&&e instanceof h.FormData,!(0<=I(Tn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Nn(this),0<this.o&&((this.D=function(e){return B&&ee(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.xa,this)):this.m=We(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Sn(this,e)}},u.xa=function(){void 0!==l&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ne(this,"timeout"),this.abort(8))},u.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Ne(this,"complete"),Ne(this,"abort"),kn(this))},u.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),kn(this,!0)),wn.X.G.call(this)},u.za=function(){this.j||(this.A||this.l||this.g?xn(this):this.Ua())},u.Ua=function(){xn(this)},u.W=function(){try{return 2<An(this)?this.a.status:-1}catch(e){return-1}},u.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},u.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),bn(t)}},u.ua=function(){return this.h},u.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(u=Mn.prototype).ha=8,u.v=1,u.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new yt(this,this.c,e,void 0),r=this.l;if(this.O&&(r?F(r=R(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=qn(this,n,t),Bt(i=Ft(this.B),"RID",e),Bt(i,"CVER",22),this.A&&Bt(i,"X-HTTP-Session-Id",this.A),zn(this,i),this.i&&r&&Dn(i,this.i,r),fn(this.b,n),this.Ia&&Bt(i,"TYPE","init"),this.da?(Bt(i,"$req",t),Bt(i,"SID","null"),n.U=!0,Et(n,i,null)):Et(n,i,t),this.v=2}}else 3==this.v&&(e?Un(this,e):0==this.g.length||cn(this.b)||Un(this))},u.Aa=function(){if(this.j=null,Gn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=st(b(this.Ta,this),e)}},u.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ot(10),Ln(this),Gn(this))},u.Sa=function(){null!=this.m&&(this.m=null,Ln(this),Bn(this),ot(19))},u.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),ot(2)):(this.c.info("Failed to ping google.com"),ot(1))},(u=Xn.prototype).ta=function(){},u.sa=function(){},u.ra=function(){},u.qa=function(){},u.Ja=function(){},er.prototype.a=function(e,t){return new tr(e,t)},E(tr,ke),tr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;ot(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Jn(e,null,e.fa),Fn(e)},tr.prototype.close=function(){On(this.a)},tr.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,jn(this.a,t)}else this.l?((t={}).__data__=De(e),jn(this.a,t)):jn(this.a,e)},tr.prototype.G=function(){this.a.f=null,delete this.f,On(this.a),delete this.a,tr.X.G.call(this)},E(nr,mt),E(rr,gt),E(ir,Xn),ir.prototype.ta=function(){Ne(this.a,"a")},ir.prototype.sa=function(e){Ne(this.a,new nr(e))},ir.prototype.ra=function(e){Ne(this.a,new rr(e))},ir.prototype.qa=function(){Ne(this.a,"b")},er.prototype.createWebChannel=er.prototype.a,tr.prototype.send=tr.prototype.h,tr.prototype.open=tr.prototype.g,tr.prototype.close=tr.prototype.close,ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,ct.COMPLETE="complete",ft.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",ke.prototype.listen=ke.prototype.va,wn.prototype.listenOnce=wn.prototype.wa,wn.prototype.getLastError=wn.prototype.Qa,wn.prototype.getLastErrorCode=wn.prototype.ua,wn.prototype.getStatus=wn.prototype.W,wn.prototype.getResponseJson=wn.prototype.Pa,wn.prototype.getResponseText=wn.prototype.$,wn.prototype.send=wn.prototype.ba;var or=ut,ar=ct,sr=Xe,ur=10,cr=11,lr=ft,hr=wn,fr=n(622),dr=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();dr.o=-1;var pr=new i.Yd("@firebase/firestore");function mr(){return pr.logLevel}function gr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pr.logLevel<=i.in.DEBUG){var r=t.map(br);pr.debug.apply(pr,(0,fr.ev)(["Firestore (8.3.1): "+e],r))}}function vr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pr.logLevel<=i.in.ERROR){var r=t.map(br);pr.error.apply(pr,(0,fr.ev)(["Firestore (8.3.1): "+e],r))}}function yr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pr.logLevel<=i.in.WARN){var r=t.map(br);pr.warn.apply(pr,(0,fr.ev)(["Firestore (8.3.1): "+e],r))}}function br(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function wr(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+e;throw vr(t),new Error(t)}function _r(e,t){e||wr()}function Er(e,t){return e}function Tr(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ir=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Tr(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Sr(e,t){return e<t?-1:e>t?1:0}function Cr(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function xr(e){return e+"\0"}function kr(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ar(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Dr(e){return null==e}function Pr(e){return 0===e&&1/e==-1/0}function Mr(e){return"number"==typeof e&&Number.isInteger(e)&&!Pr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Or={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lr=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,fr.ZT)(t,e),t}(Error),Rr=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&wr(),void 0===n?n=e.length-t:n>e.length-t&&wr(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),jr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Lr(Or.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Rr),Fr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Fr.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Lr(Or.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Lr(Or.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Lr(Or.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Lr(Or.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Rr),zr=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(jr.fromString(t))},e.fromName=function(t){return new e(jr.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===jr.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return jr.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new jr(t.slice()))},e}(),qr=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Sr(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();qr.EMPTY_BYTE_STRING=new qr("");var Vr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(e){if(_r(!!e),"string"==typeof e){var t=0,n=Vr.exec(e);if(_r(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wr(e.seconds),nanos:Wr(e.nanos)}}function Wr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gr(e){return"string"==typeof e?qr.fromBase64String(e):qr.fromUint8Array(e)}var Hr=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Lr(Or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Lr(Or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Lr(Or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lr(Or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Sr(this.nanoseconds,e.nanoseconds):Sr(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}();function Qr(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kr(e){var t=e.mapValue.fields.__previous_value__;return Qr(t)?Kr(t):t}function Yr(e){var t=Br(e.mapValue.fields.__local_write_time__.timestampValue);return new Hr(t.seconds,t.nanos)}function $r(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qr(e)?4:10:wr()}function Jr(e,t){var n=$r(e);if(n!==$r(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yr(e).isEqual(Yr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Br(e.timestampValue),r=Br(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gr(e.bytesValue).isEqual(Gr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wr(e.geoPointValue.latitude)===Wr(t.geoPointValue.latitude)&&Wr(e.geoPointValue.longitude)===Wr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wr(e.integerValue)===Wr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Wr(e.doubleValue),r=Wr(t.doubleValue);return n===r?Pr(n)===Pr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Cr(e.arrayValue.values||[],t.arrayValue.values||[],Jr);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(kr(n)!==kr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Jr(n[i],r[i])))return!1;return!0}(e,t);default:return wr()}}function Zr(e,t){return void 0!==(e.values||[]).find((function(e){return Jr(e,t)}))}function Xr(e,t){var n=$r(e),r=$r(t);if(n!==r)return Sr(n,r);switch(n){case 0:return 0;case 1:return Sr(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Wr(e.integerValue||e.doubleValue),r=Wr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ei(e.timestampValue,t.timestampValue);case 4:return ei(Yr(e),Yr(t));case 5:return Sr(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Gr(e),r=Gr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Sr(n[i],r[i]);if(0!==o)return o}return Sr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Sr(Wr(e.latitude),Wr(t.latitude));return 0!==n?n:Sr(Wr(e.longitude),Wr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Xr(n[i],r[i]);if(o)return o}return Sr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Sr(r[a],o[a]);if(0!==s)return s;var u=Xr(n[r[a]],i[o[a]]);if(0!==u)return u}return Sr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw wr()}}function ei(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Sr(e,t);var n=Br(e),r=Br(t),i=Sr(n.seconds,r.seconds);return 0!==i?i:Sr(n.nanos,r.nanos)}function ti(e){return ni(e)}function ni(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Br(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Gr(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zr.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=ni(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+ni(e.fields[o])}return t+"}"}(e.mapValue):wr();var t,n}function ri(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ii(e){return!!e&&"integerValue"in e}function oi(e){return!!e&&"arrayValue"in e}function ai(e){return!!e&&"nullValue"in e}function si(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ui(e){return!!e&&"mapValue"in e}var ci=function(e,t){this.key=e,this.version=t},li=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return(0,fr.ZT)(t,e),t.prototype.field=function(e){return this.objectValue.field(e)},t.prototype.data=function(){return this.objectValue},t.prototype.toProto=function(){return this.objectValue.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.objectValue.isEqual(e.objectValue)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(ci),hi=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return(0,fr.ZT)(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ci),fi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ci),di=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function pi(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new di(e,t,n,r,i,o,a)}function mi(e){var t=Er(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ti(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Dr(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ki(t.startAt)),t.endAt&&(n+="|ub:",n+=ki(t.endAt)),t.h=n}return t.h}function gi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ai(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Jr(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pi(e.startAt,t.startAt)&&Pi(e.endAt,t.endAt)}function vi(e){return zr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var yi=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,fr.ZT)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new bi(e,n,r):"array-contains"===n?new Ti(e,r):"in"===n?new Ii(e,r):"not-in"===n?new Si(e,r):"array-contains-any"===n?new Ci(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new wi(e,n):new _i(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this.m(Xr(t,this.value)):null!==t&&$r(this.value)===$r(t)&&this.m(Xr(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wr()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),bi=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=zr.fromName(r.referenceValue),i}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){var t=zr.comparator(e.key,this.key);return this.m(t)},t}(yi),wi=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Ei(0,n),r}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(yi),_i=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Ei(0,n),r}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(yi);function Ei(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return zr.fromName(e.referenceValue)}))}var Ti=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return oi(t)&&Zr(t.arrayValue,this.value)},t}(yi),Ii=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&Zr(this.value.arrayValue,t)},t}(yi),Si=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){if(Zr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!Zr(this.value.arrayValue,t)},t}(yi),Ci=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!oi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Zr(t.value.arrayValue,e)}))},t}(yi),xi=function(e,t){this.position=e,this.before=t};function ki(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ti(e)})).join(",")}var Ni=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ai(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Di(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?zr.comparator(zr.fromName(a.referenceValue),n.key):Xr(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Pi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Jr(e.position[n],t.position[n]))return!1;return!0}var Mi=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Oi(e,t,n,r,i,o,a,s){return new Mi(e,t,n,r,i,o,a,s)}function Li(e){return new Mi(e)}function Ri(e){return!Dr(e.limit)&&"F"===e.limitType}function ji(e){return!Dr(e.limit)&&"L"===e.limitType}function Fi(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ui(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function zi(e){return null!==e.collectionGroup}function qi(e){var t=Er(e);if(null===t.p){t.p=[];var n=Ui(t),r=Fi(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Ni(n)),t.p.push(new Ni(Ur.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ni(Ur.keyField(),u))}}}return t.p}function Vi(e){var t=Er(e);if(!t.T)if("F"===t.limitType)t.T=pi(t.path,t.collectionGroup,qi(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=qi(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ni(o.field,a))}var s=t.endAt?new xi(t.endAt.position,!t.endAt.before):null,u=t.startAt?new xi(t.startAt.position,!t.startAt.before):null;t.T=pi(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Bi(e,t,n){return new Mi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Wi(e,t){return gi(Vi(e),Vi(t))&&e.limitType===t.limitType}function Gi(e){return mi(Vi(e))+"|lt:"+e.limitType}function Hi(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ti(t.value);var t})).join(", ")+"]"),Dr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+ki(e.startAt)),e.endAt&&(t+=", endAt: "+ki(e.endAt)),"Target("+t+")"}(Vi(e))+"; limitType="+e.limitType+")"}function Qi(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Di(e.startAt,qi(e),t)||e.endAt&&Di(e.endAt,qi(e),t))}(e,t)}function Ki(e){return function(t,n){for(var r=!1,i=0,o=qi(e);i<o.length;i++){var a=o[i],s=Yi(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Yi(e,t,n){var r=e.field.isKeyField()?zr.comparator(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?Xr(r,i):wr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wr()}}var $i=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Hr(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}(),Ji=function(){function e(e){this.fields=e,e.sort(Ur.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Cr(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Zi=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!ui(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.isEqual=function(e){return Jr(this.proto,e.proto)},e}(),Xi=function(){function e(e){void 0===e&&(e=Zi.empty()),this.I=e,this.A=new Map}return e.prototype.set=function(e,t){return this.R(e,t),this},e.prototype.delete=function(e){return this.R(e,null),this},e.prototype.R=function(e,t){for(var n=this.A,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===$r(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.v=function(){var e=this.P(Ur.emptyPath(),this.A);return null!=e?new Zi(e):this.I},e.prototype.P=function(e,t){var n=this,r=!1,i=this.I.field(e),o=ui(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var a=n.P(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function eo(e){var t=[];return Nr(e.fields||{},(function(e,n){var r=new Ur([e]);if(ui(n)){var i=eo(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Ji(t)}function to(e,t){if(e.V){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pr(t)?"-0":t}}function no(e){return{integerValue:""+e}}function ro(e,t){return Mr(t)?no(t):to(e,t)}var io=function(){this._=void 0};function oo(e,t,n){return e instanceof uo?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof co?lo(e,t):e instanceof ho?fo(e,t):function(e,t){var n=so(e,t),r=mo(n)+mo(e.S);return ii(n)&&ii(e.S)?no(r):to(e.D,r)}(e,t)}function ao(e,t,n){return e instanceof co?lo(e,t):e instanceof ho?fo(e,t):n}function so(e,t){return e instanceof po?ii(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t}(io),co=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,fr.ZT)(t,e),t}(io);function lo(e,t){for(var n=go(t),r=function(e){n.some((function(t){return Jr(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ho=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,fr.ZT)(t,e),t}(io);function fo(e,t){for(var n=go(t),r=function(e){n=n.filter((function(t){return!Jr(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var po=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).D=t,r.S=n,r}return(0,fr.ZT)(t,e),t}(io);function mo(e){return Wr(e.integerValue||e.doubleValue)}function go(e){return oi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var vo=function(e,t){this.field=e,this.transform=t},yo=function(e,t){this.version=e,this.transformResults=t},bo=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function wo(e,t){return void 0!==e.updateTime?t instanceof li&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof li}var _o=function(){};function Eo(e,t,n){return e instanceof xo?function(e,t,n){var r=e.value,i=Ao(e.fieldTransforms,t,n.transformResults);return r=Po(e.fieldTransforms,r,i),new li(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof ko?function(e,t,n){if(!wo(e.precondition,t))return new fi(e.key,n.version);var r=No(e,t,Ao(e.fieldTransforms,t,n.transformResults));return new li(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new hi(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function To(e,t,n){return e instanceof xo?function(e,t,n){if(!wo(e.precondition,t))return t;var r=e.value,i=Do(e.fieldTransforms,n,t);r=Po(e.fieldTransforms,r,i);var o=Co(t);return new li(e.key,o,r,{hasLocalMutations:!0})}(e,t,n):e instanceof ko?function(e,t,n){if(!wo(e.precondition,t))return t;var r=Co(t),i=No(e,t,Do(e.fieldTransforms,n,t));return new li(e.key,r,i,{hasLocalMutations:!0})}(e,t,n):function(e,t){return wo(e.precondition,t)?new hi(e.key,$i.min()):t}(e,t)}function Io(e,t){return function(e,t){for(var n=null,r=0,i=e;r<i.length;r++){var o=i[r],a=t instanceof li?t.field(o.field):void 0,s=so(o.transform,a||null);null!=s&&(n=null==n?(new Xi).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(e.fieldTransforms,t)}function So(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Cr(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof co&&t instanceof co||e instanceof ho&&t instanceof ho?Cr(e.elements,t.elements,Jr):e instanceof po&&t instanceof po?Jr(e.S,t.S):e instanceof uo&&t instanceof uo}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Co(e){return e instanceof li?e.version:$i.min()}var xo=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,fr.ZT)(t,e),t}(_o),ko=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,fr.ZT)(t,e),t}(_o);function No(e,t,n){var r;return r=function(e,t){var n=new Xi(t);return e.fieldMask.fields.forEach((function(t){if(!t.isEmpty()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.v()}(e,r=t instanceof li?t.data():Zi.empty()),Po(e.fieldTransforms,r,n)}function Ao(e,t,n){var r=[];_r(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=null;t instanceof li&&(s=t.field(o.field)),r.push(ao(a,s,n[i]))}return r}function Do(e,t,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof li&&(u=n.field(a.field)),r.push(oo(s,u,t))}return r}function Po(e,t,n){for(var r=new Xi(t),i=0;i<e.length;i++){var o=e[i];r.set(o.field,n[i])}return r.v()}var Mo,Oo,Lo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,fr.ZT)(t,e),t}(_o),Ro=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,fr.ZT)(t,e),t}(_o),jo=function(e){this.count=e};function Fo(e){switch(e){case Or.OK:return wr();case Or.CANCELLED:case Or.UNKNOWN:case Or.DEADLINE_EXCEEDED:case Or.RESOURCE_EXHAUSTED:case Or.INTERNAL:case Or.UNAVAILABLE:case Or.UNAUTHENTICATED:return!1;case Or.INVALID_ARGUMENT:case Or.NOT_FOUND:case Or.ALREADY_EXISTS:case Or.PERMISSION_DENIED:case Or.FAILED_PRECONDITION:case Or.ABORTED:case Or.OUT_OF_RANGE:case Or.UNIMPLEMENTED:case Or.DATA_LOSS:return!0;default:return wr()}}function Uo(e){if(void 0===e)return vr("GRPC error has no .code"),Or.UNKNOWN;switch(e){case Mo.OK:return Or.OK;case Mo.CANCELLED:return Or.CANCELLED;case Mo.UNKNOWN:return Or.UNKNOWN;case Mo.DEADLINE_EXCEEDED:return Or.DEADLINE_EXCEEDED;case Mo.RESOURCE_EXHAUSTED:return Or.RESOURCE_EXHAUSTED;case Mo.INTERNAL:return Or.INTERNAL;case Mo.UNAVAILABLE:return Or.UNAVAILABLE;case Mo.UNAUTHENTICATED:return Or.UNAUTHENTICATED;case Mo.INVALID_ARGUMENT:return Or.INVALID_ARGUMENT;case Mo.NOT_FOUND:return Or.NOT_FOUND;case Mo.ALREADY_EXISTS:return Or.ALREADY_EXISTS;case Mo.PERMISSION_DENIED:return Or.PERMISSION_DENIED;case Mo.FAILED_PRECONDITION:return Or.FAILED_PRECONDITION;case Mo.ABORTED:return Or.ABORTED;case Mo.OUT_OF_RANGE:return Or.OUT_OF_RANGE;case Mo.UNIMPLEMENTED:return Or.UNIMPLEMENTED;case Mo.DATA_LOSS:return Or.DATA_LOSS;default:return wr()}}(Oo=Mo||(Mo={}))[Oo.OK=0]="OK",Oo[Oo.CANCELLED=1]="CANCELLED",Oo[Oo.UNKNOWN=2]="UNKNOWN",Oo[Oo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oo[Oo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oo[Oo.NOT_FOUND=5]="NOT_FOUND",Oo[Oo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oo[Oo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oo[Oo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oo[Oo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oo[Oo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oo[Oo.ABORTED=10]="ABORTED",Oo[Oo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oo[Oo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oo[Oo.INTERNAL=13]="INTERNAL",Oo[Oo.UNAVAILABLE=14]="UNAVAILABLE",Oo[Oo.DATA_LOSS=15]="DATA_LOSS";var zo=function(){function e(e,t){this.comparator=e,this.root=t||Vo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Vo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vo.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new qo(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new qo(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new qo(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new qo(this.root,e,this.comparator,!0)},e}(),qo=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Vo=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw wr();if(this.right.isRed())throw wr();var e=this.left.check();if(e!==this.right.check())throw wr();return e+(this.isRed()?0:1)},e}();Vo.EMPTY=null,Vo.RED=!0,Vo.BLACK=!1,Vo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw wr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw wr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw wr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw wr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw wr()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Vo(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Bo=function(){function e(e){this.comparator=e,this.data=new zo(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Wo(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Wo(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Wo=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Go=new zo(zr.comparator);function Ho(){return Go}function Qo(){return Ho()}var Ko=new zo(zr.comparator);function Yo(){return Ko}var $o=new zo(zr.comparator);function Jo(){return $o}var Zo=new Bo(zr.comparator);function Xo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Zo,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ea=new Bo(Sr);function ta(){return ea}var na=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,ra.createSynthesizedTargetChangeForCurrentChange(t,n)),new e($i.min(),r,ta(),Ho(),Xo())},e}(),ra=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(qr.EMPTY_BYTE_STRING,n,Xo(),Xo(),Xo())},e}(),ia=function(e,t,n,r){this.C=e,this.removedTargetIds=t,this.key=n,this.N=r},oa=function(e,t){this.targetId=e,this.$=t},aa=function(e,t,n,r){void 0===n&&(n=qr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},sa=function(){function e(){this.F=0,this.O=la(),this.k=qr.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),e.prototype.U=function(e){e.approximateByteSize()>0&&(this.L=!0,this.k=e)},e.prototype.K=function(){var e=Xo(),t=Xo(),n=Xo();return this.O.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wr()}})),new ra(this.k,this.M,e,t,n)},e.prototype.W=function(){this.L=!1,this.O=la()},e.prototype.j=function(e,t){this.L=!0,this.O=this.O.insert(e,t)},e.prototype.G=function(e){this.L=!0,this.O=this.O.remove(e)},e.prototype.H=function(){this.F+=1},e.prototype.J=function(){this.F-=1},e.prototype.Y=function(){this.L=!0,this.M=!0},e}(),ua=function(){function e(e){this.X=e,this.Z=new Map,this.tt=Ho(),this.et=ca(),this.nt=new Bo(Sr)}return e.prototype.st=function(e){for(var t=0,n=e.C;t<n.length;t++){var r=n[t];e.N instanceof li?this.it(r,e.N):e.N instanceof hi&&this.rt(r,e.key,e.N)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.rt(r,e.key,e.N)},e.prototype.ot=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ct(n);switch(e.state){case 0:t.at(n)&&r.U(e.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(e.resumeToken);break;case 2:r.J(),r.B||t.removeTarget(n);break;case 3:t.at(n)&&(r.Y(),r.U(e.resumeToken));break;case 4:t.at(n)&&(t.ut(n),r.U(e.resumeToken));break;default:wr()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Z.forEach((function(e,r){n.at(r)&&t(r)}))},e.prototype.ht=function(e){var t=e.targetId,n=e.$.count,r=this.lt(t);if(r){var i=r.target;if(vi(i))if(0===n){var o=new zr(i.path);this.rt(t,o,new hi(o,$i.min()))}else _r(1===n);else this.ft(t)!==n&&(this.ut(t),this.nt=this.nt.add(t))}},e.prototype.dt=function(e){var t=this,n=new Map;this.Z.forEach((function(r,i){var o=t.lt(i);if(o){if(r.current&&vi(o.target)){var a=new zr(o.target.path);null!==t.tt.get(a)||t.wt(i,a)||t.rt(i,a,new hi(a,e))}r.q&&(n.set(i,r.K()),r.W())}}));var r=Xo();this.et.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.lt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new na(e,n,this.nt,this.tt,r);return this.tt=Ho(),this.et=ca(),this.nt=new Bo(Sr),i},e.prototype.it=function(e,t){if(this.at(e)){var n=this.wt(e,t.key)?2:0;this.ct(e).j(t.key,n),this.tt=this.tt.insert(t.key,t),this.et=this.et.insert(t.key,this._t(t.key).add(e))}},e.prototype.rt=function(e,t,n){if(this.at(e)){var r=this.ct(e);this.wt(e,t)?r.j(t,1):r.G(t),this.et=this.et.insert(t,this._t(t).delete(e)),n&&(this.tt=this.tt.insert(t,n))}},e.prototype.removeTarget=function(e){this.Z.delete(e)},e.prototype.ft=function(e){var t=this.ct(e).K();return this.X.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.H=function(e){this.ct(e).H()},e.prototype.ct=function(e){var t=this.Z.get(e);return t||(t=new sa,this.Z.set(e,t)),t},e.prototype._t=function(e){var t=this.et.get(e);return t||(t=new Bo(Sr),this.et=this.et.insert(e,t)),t},e.prototype.at=function(e){var t=null!==this.lt(e);return t||gr("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.lt=function(e){var t=this.Z.get(e);return t&&t.B?null:this.X.yt(e)},e.prototype.ut=function(e){var t=this;this.Z.set(e,new sa),this.X.getRemoteKeysForTarget(e).forEach((function(n){t.rt(e,n,null)}))},e.prototype.wt=function(e,t){return this.X.getRemoteKeysForTarget(e).has(t)},e}();function ca(){return new zo(zr.comparator)}function la(){return new zo(zr.comparator)}var ha={asc:"ASCENDING",desc:"DESCENDING"},fa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},da=function(e,t){this.databaseId=e,this.V=t};function pa(e,t){return e.V?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ma(e,t){return e.V?t.toBase64():t.toUint8Array()}function ga(e,t){return pa(e,t.toTimestamp())}function va(e){return _r(!!e),$i.fromTimestamp(function(e){var t=Br(e);return new Hr(t.seconds,t.nanos)}(e))}function ya(e,t){return function(e){return new jr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ba(e){var t=jr.fromString(e);return _r(Ba(t)),t}function wa(e,t){return ya(e.databaseId,t.path)}function _a(e,t){var n=ba(t);if(n.get(1)!==e.databaseId.projectId)throw new Lr(Or.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Lr(Or.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zr(Sa(n))}function Ea(e,t){return ya(e.databaseId,t)}function Ta(e){var t=ba(e);return 4===t.length?jr.emptyPath():Sa(t)}function Ia(e){return new jr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sa(e){return _r(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ca(e,t,n){return{name:wa(e,t),fields:n.proto.mapValue.fields}}function xa(e,t,n){var r=_a(e,t.name),i=va(t.updateTime),o=new Zi({mapValue:{fields:t.fields}});return new li(r,i,o,{hasCommittedMutations:!!n})}function ka(e,t){var n;if(t instanceof xo)n={update:Ca(e,t.key,t.value)};else if(t instanceof Lo)n={delete:wa(e,t.key)};else if(t instanceof ko)n={update:Ca(e,t.key,t.data),updateMask:Va(t.fieldMask)};else{if(!(t instanceof Ro))return wr();n={verify:wa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof uo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof co)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ho)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof po)return{fieldPath:t.field.canonicalString(),increment:n.S};throw wr()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ga(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wr()}(e,t.precondition)),n}function Na(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?bo.updateTime(va(e.updateTime)):void 0!==e.exists?bo.exists(e.exists):bo.none()}(t.currentDocument):bo.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)_r("REQUEST_TIME"===t.setToServerValue),n=new uo;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new co(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ho(i)}else"increment"in t?n=new po(e,t.increment):wr();var o=Ur.fromServerFormat(t.fieldPath);return new vo(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=_a(e,t.update.name),o=new Zi({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Ji(t.map((function(e){return Ur.fromServerFormat(e)})))}(t.updateMask);return new ko(i,o,a,n,r)}return new xo(i,o,n,r)}if(t.delete){var s=_a(e,t.delete);return new Lo(s,n)}if(t.verify){var u=_a(e,t.verify);return new Ro(u,n)}return wr()}function Aa(e,t){return{documents:[Ea(e,t.path)]}}function Da(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ea(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ea(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(si(e.value))return{unaryFilter:{field:Fa(e.field),op:"IS_NAN"}};if(ai(e.value))return{unaryFilter:{field:Fa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(si(e.value))return{unaryFilter:{field:Fa(e.field),op:"IS_NOT_NAN"}};if(ai(e.value))return{unaryFilter:{field:Fa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(e.field),op:ja(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Fa(e.field),direction:Ra(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.V||Dr(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Oa(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Oa(t.endAt)),n}function Pa(e){var t=Ta(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_r(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Ma(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ni(Ua(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Dr(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=La(n.startAt));var l=null;return n.endAt&&(l=La(n.endAt)),Oi(t,i,s,a,u,"F",c,l)}function Ma(e){return e?void 0!==e.unaryFilter?[qa(e)]:void 0!==e.fieldFilter?[za(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ma(e)})).reduce((function(e,t){return e.concat(t)})):wr():[]}function Oa(e){return{before:e.before,values:e.position}}function La(e){var t=!!e.before,n=e.values||[];return new xi(n,t)}function Ra(e){return ha[e]}function ja(e){return fa[e]}function Fa(e){return{fieldPath:e.canonicalString()}}function Ua(e){return Ur.fromServerFormat(e.fieldPath)}function za(e){return yi.create(Ua(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return wr()}}(e.fieldFilter.op),e.fieldFilter.value)}function qa(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ua(e.unaryFilter.field);return yi.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ua(e.unaryFilter.field);return yi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ua(e.unaryFilter.field);return yi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ua(e.unaryFilter.field);return yi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return wr()}}function Va(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ba(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Wa(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ha(t)),t=Ga(e.get(n),t);return Ha(t)}function Ga(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Ha(e){return e+""}function Qa(e){var t=e.length;if(_r(t>=2),2===t)return _r(""===e.charAt(0)&&""===e.charAt(1)),jr.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&wr(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:wr()}o=a+2}return new jr(r)}var Ka=function(e,t){this.seconds=e,this.nanoseconds=t},Ya=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ya.store="owner",Ya.key="owner";var $a=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};$a.store="mutationQueues",$a.keyPath="userId";var Ja=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ja.store="mutations",Ja.keyPath="batchId",Ja.userMutationsIndex="userMutationsIndex",Ja.userMutationsKeyPath=["userId","batchId"];var Za=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Wa(t)]},e.key=function(e,t,n){return[e,Wa(t),n]},e}();Za.store="documentMutations",Za.PLACEHOLDER=new Za;var Xa=function(e,t){this.path=e,this.readTime=t},es=function(e,t){this.path=e,this.version=t},ts=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ts.store="remoteDocuments",ts.readTimeIndex="readTimeIndex",ts.readTimeIndexPath="readTime",ts.collectionReadTimeIndex="collectionReadTimeIndex",ts.collectionReadTimeIndexPath=["parentPath","readTime"];var ns=function(e){this.byteSize=e};ns.store="remoteDocumentGlobal",ns.key="remoteDocumentGlobalKey";var rs=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};rs.store="targets",rs.keyPath="targetId",rs.queryTargetsIndexName="queryTargetsIndex",rs.queryTargetsKeyPath=["canonicalId","targetId"];var is=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};is.store="targetDocuments",is.keyPath=["targetId","path"],is.documentTargetsIndex="documentTargetsIndex",is.documentTargetsKeyPath=["path","targetId"];var os=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};os.key="targetGlobalKey",os.store="targetGlobal";var as=function(e,t){this.collectionId=e,this.parent=t};as.store="collectionParents",as.keyPath=["collectionId","parent"];var ss=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ss.store="clientMetadata",ss.keyPath="clientId";var us=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};us.store="bundles",us.keyPath="bundleId";var cs=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};cs.store="namedQueries",cs.keyPath="name";var ls=(0,fr.ev)((0,fr.ev)([],(0,fr.ev)((0,fr.ev)([],(0,fr.ev)((0,fr.ev)([],(0,fr.ev)((0,fr.ev)([],[$a.store,Ja.store,Za.store,ts.store,rs.store,Ya.store,os.store,is.store]),[ss.store])),[ns.store])),[as.store])),[us.store,cs.store]),hs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fs=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),ds=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},ps=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&wr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),ms=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.gt=new ds,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){t.error?n.gt.reject(new ys(e,t.error)):n.gt.resolve()},this.transaction.onerror=function(t){var r=Ts(t.target.error);n.gt.reject(new ys(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ys(n,t)}},Object.defineProperty(e.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.gt.reject(e),this.aborted||(gr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ws(t)},e}(),gs=function(){function e(t,n,r){this.name=t,this.version=n,this.Tt=r,12.2===e.It((0,o.z$)())&&vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return gr("SimpleDb","Removing database:",e),_s(window.indexedDB.deleteDatabase(e)).toPromise()},e.At=function(){if("undefined"==typeof indexedDB)return!1;if(e.Rt())return!0;var t=(0,o.z$)(),n=e.It(t),r=0<n&&n<10,i=e.bt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)},e.Rt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.vt)},e.Pt=function(e,t){return e.store(t)},e.It=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.bt=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Vt=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(gr("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new ys(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Lr(Or.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ys(e,n))},i.onupgradeneeded=function(e){gr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Tt.St(t,i.transaction,e.oldVersion,n.version).next((function(){gr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(e){return n.Dt(e)}),this.db)]}}))}))},e.prototype.Ct=function(e){this.Dt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,fr.Jh)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,fr.Jh)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Vt(e)];case 2:return s.db=h.sent(),t=ms.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),ps.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.Et];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,gr("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),vs=function(){function e(e){this.xt=e,this.Nt=!1,this.$t=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.xt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Nt=!0},e.prototype.Ot=function(e){this.$t=e},e.prototype.delete=function(){return _s(this.xt.delete())},e}(),ys=function(e){function t(t,n){var r=this;return(r=e.call(this,Or.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,fr.ZT)(t,e),t}(Lr);function bs(e){return"IndexedDbTransactionError"===e.name}var ws=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(gr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(gr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),_s(n)},e.prototype.add=function(e){return gr("SimpleDb","ADD",this.store.name,e,e),_s(this.store.add(e))},e.prototype.get=function(e){var t=this;return _s(this.store.get(e)).next((function(n){return void 0===n&&(n=null),gr("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return gr("SimpleDb","DELETE",this.store.name,e),_s(this.store.delete(e))},e.prototype.count=function(){return gr("SimpleDb","COUNT",this.store.name),_s(this.store.count())},e.prototype.kt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Mt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Lt=function(e,t){gr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,(function(e,t,n){return n.delete()}))},e.prototype.qt=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Mt(r,t)},e.prototype.Ut=function(e){var t=this.cursor({});return new ps((function(n,r){t.onerror=function(e){var t=Ts(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.Mt=function(e,t){var n=[];return new ps((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new vs(i),a=t(i.primaryKey,i.value,o);if(a instanceof ps){var s=a.catch((function(e){return o.done(),ps.reject(e)}));n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}})).next((function(){return ps.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Bt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function _s(e){return new ps((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ts(e.target.error);n(t)}}))}var Es=!1;function Ts(e){var t=gs.It((0,o.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Lr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Es||(Es=!0,setTimeout((function(){throw r}),0)),r}}return e}var Is=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qt=t,r.currentSequenceNumber=n,r}return(0,fr.ZT)(t,e),t}(fs);function Ss(e,t){var n=Er(e);return gs.Pt(n.Qt,t)}var Cs=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=Eo(o,t,r[i]))}return t},e.prototype.applyToLocalView=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e)&&(t=To(a,t,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e)&&(t=To(a,t,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Xo())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Cr(this.mutations,e.mutations,(function(e,t){return So(e,t)}))&&Cr(this.baseMutations,e.baseMutations,(function(e,t){return So(e,t)}))},e}(),xs=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){_r(t.mutations.length===r.length);for(var i=Jo(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),ks=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=$i.min()),void 0===o&&(o=$i.min()),void 0===a&&(a=qr.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Ns=function(e){this.Kt=e};function As(e,t){if(t.document)return xa(e.Kt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=zr.fromSegments(t.noDocument.path),r=Ls(t.noDocument.readTime);return new hi(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=zr.fromSegments(t.unknownDocument.path);return r=Ls(t.unknownDocument.version),new fi(i,r)}return wr()}function Ds(e,t,n){var r=Ps(n),i=t.key.path.popLast().toArray();if(t instanceof li){var o=function(e,t){return{name:wa(e,t.key),fields:t.toProto().mapValue.fields,updateTime:pa(e,t.version.toTimestamp())}}(e.Kt,t),a=t.hasCommittedMutations;return new ts(null,null,o,a,r,i)}if(t instanceof hi){var s=t.key.path.toArray(),u=Os(t.version);return a=t.hasCommittedMutations,new ts(null,new Xa(s,u),null,a,r,i)}if(t instanceof fi){var c=t.key.path.toArray(),l=Os(t.version);return new ts(new es(c,l),null,null,!0,r,i)}return wr()}function Ps(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ms(e){var t=new Hr(e[0],e[1]);return $i.fromTimestamp(t)}function Os(e){var t=e.toTimestamp();return new Ka(t.seconds,t.nanoseconds)}function Ls(e){var t=new Hr(e.seconds,e.nanoseconds);return $i.fromTimestamp(t)}function Rs(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Na(e.Kt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Na(e.Kt,t)})),s=Hr.fromMillis(t.localWriteTimeMs);return new Cs(t.batchId,s,n,a)}function js(e){var t,n,r=Ls(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ls(e.lastLimboFreeSnapshotVersion):$i.min();return void 0!==e.query.documents?(_r(1===(n=e.query).documents.length),t=Vi(Li(Ta(n.documents[0])))):t=function(e){return Vi(Pa(e))}(e.query),new ks(t,e.targetId,0,e.lastListenSequenceNumber,r,i,qr.fromBase64String(e.resumeToken))}function Fs(e,t){var n,r=Os(t.snapshotVersion),i=Os(t.lastLimboFreeSnapshotVersion);n=vi(t.target)?Aa(e.Kt,t.target):Da(e.Kt,t.target);var o=t.resumeToken.toBase64();return new rs(t.targetId,mi(t.target),r,o,t.sequenceNumber,i,n)}function Us(e){var t=Pa({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Bi(t,t.limit,"L"):t}var zs=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return qs(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ls(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return qs(e).put({bundleId:(n=t).id,createTime:Os(va(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Vs(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Us(t.bundledQuery),readTime:Ls(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Vs(e).put(function(e){return{name:e.name,readTime:Os(va(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function qs(e){return Ss(e,us.store)}function Vs(e){return Ss(e,cs.store)}var Bs=function(){function e(){this.Wt=new Ws}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Wt.add(t),ps.resolve()},e.prototype.getCollectionParents=function(e,t){return ps.resolve(this.Wt.getEntries(t))},e}(),Ws=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Bo(jr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Bo(jr.comparator)).toArray()},e}(),Gs=function(){function e(){this.jt=new Ws}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.jt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.jt.add(t)}));var o={collectionId:r,parent:Wa(i)};return Hs(e).put(o)}return ps.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[xr(t),""],!1,!0);return Hs(e).kt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Qa(o.parent))}return n}))},e}();function Hs(e){return Ss(e,as.store)}var Qs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ks=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Ys(e,t,n){var r=e.store(Ja.store),i=e.store(Za.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.qt({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){_r(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Za.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return ps.waitFor(o).next((function(){return c}))}function $s(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw wr();t=e.noDocument}return JSON.stringify(t).length}Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(41943040,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);var Js=function(){function e(e,t,n,r){this.userId=e,this.D=t,this.Gt=n,this.referenceDelegate=r,this.zt={}}return e.Ht=function(t,n,r,i){return _r(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xs(e).qt({index:Ja.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=eu(e),a=Xs(e);return a.add({}).next((function(s){_r("number"==typeof s);for(var u=new Cs(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return ka(e.Kt,t)})),i=n.mutations.map((function(t){return ka(e.Kt,t)}));return new Ja(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new Bo((function(e,t){return Sr(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=Za.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,Za.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Gt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.zt[s]=u.keys()})),ps.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Xs(e).get(t).next((function(e){return e?(_r(e.userId===n.userId),Rs(n.D,e)):null}))},e.prototype.Jt=function(e,t){var n=this;return this.zt[t]?ps.resolve(this.zt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.zt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Xs(e).qt({index:Ja.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(_r(t.batchId>=r),o=Rs(n.D,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Xs(e).qt({index:Ja.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xs(e).kt(Ja.userMutationsIndex,n).next((function(e){return e.map((function(e){return Rs(t.D,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Za.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return eu(e).qt({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Qa(u);if(s===n.userId&&t.path.isEqual(l))return Xs(e).get(c).next((function(e){if(!e)throw wr();_r(e.userId===n.userId),o.push(Rs(n.D,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Bo(Sr),i=[];return t.forEach((function(t){var o=Za.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=eu(e).qt({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Qa(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),ps.waitFor(i).next((function(){return n.Yt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Za.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Bo(Sr);return eu(e).qt({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Qa(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Yt(e,s)}))},e.prototype.Yt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Xs(e).get(t).next((function(e){if(null===e)throw wr();_r(e.userId===n.userId),r.push(Rs(n.D,e))})))})),ps.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Ys(e.Qt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Xt(t.batchId)})),ps.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Xt=function(e){delete this.zt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ps.resolve();var r=IDBKeyRange.lowerBound(Za.prefixForUser(t.userId)),i=[];return eu(e).qt({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Qa(e[1]);i.push(o)}else r.done()})).next((function(){_r(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Zs(e,this.userId,t)},e.prototype.Zt=function(e){var t=this;return tu(e).get(this.userId).next((function(e){return e||new $a(t.userId,-1,"")}))},e}();function Zs(e,t,n){var r=Za.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return eu(e).qt({range:o,Bt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Xs(e){return Ss(e,Ja.store)}function eu(e){return Ss(e,Za.store)}function tu(e){return Ss(e,$a.store)}var nu=function(){function e(e){this.te=e}return e.prototype.next=function(){return this.te+=2,this.te},e.ee=function(){return new e(0)},e.ne=function(){return new e(-1)},e}(),ru=function(){function e(e,t){this.referenceDelegate=e,this.D=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.se(e).next((function(n){var r=new nu(n.highestTargetId);return n.highestTargetId=r.next(),t.ie(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.se(e).next((function(e){return $i.fromTimestamp(new Hr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.se(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.se(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ie(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.re(e,t).next((function(){return n.se(e).next((function(r){return r.targetCount+=1,n.oe(t,r),n.ie(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.re(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return iu(e).delete(t.targetId)})).next((function(){return n.se(e)})).next((function(t){return _r(t.targetCount>0),t.targetCount-=1,n.ie(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return iu(e).qt((function(a,s){var u=js(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return ps.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return iu(e).qt((function(e,n){var r=js(n);t(r)}))},e.prototype.se=function(e){return ou(e).get(os.key).next((function(e){return _r(null!==e),e}))},e.prototype.ie=function(e,t){return ou(e).put(os.key,t)},e.prototype.re=function(e,t){return iu(e).put(Fs(this.D,t))},e.prototype.oe=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.se(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=mi(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return iu(e).qt({range:r,index:rs.queryTargetsIndexName},(function(e,n,r){var o=js(n);gi(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=au(e);return t.forEach((function(t){var a=Wa(t.path);i.push(o.put(new is(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),ps.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=au(e);return ps.forEach(t,(function(t){var o=Wa(t.path);return ps.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=au(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=au(e),i=Xo();return r.qt({range:n,Bt:!0},(function(e,t,n){var r=Qa(e[1]),o=new zr(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Wa(t.path),r=IDBKeyRange.bound([n],[xr(n)],!1,!0),i=0;return au(e).qt({index:is.documentTargetsIndex,Bt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.yt=function(e,t){return iu(e).get(t).next((function(e){return e?js(e):null}))},e}();function iu(e){return Ss(e,rs.store)}function ou(e){return Ss(e,os.store)}function au(e){return Ss(e,is.store)}function su(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){if(e.code!==Or.FAILED_PRECONDITION||e.message!==hs)throw e;return gr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function uu(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Sr(n,i);return 0===a?Sr(r,o):a}var cu=function(){function e(e){this.ce=e,this.buffer=new Bo(uu),this.ae=0}return e.prototype.ue=function(){return++this.ae},e.prototype.he=function(e){var t=[e,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();uu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),lu=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.le=!1,this.fe=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(e)},e.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),e.prototype.de=function(e){var t=this,n=this.le?3e5:6e4;gr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return bs(t=n.sent())?(gr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,su(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),hu=function(){function e(e,t){this.we=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.we._e(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return ps.resolve(dr.o);var r=new cu(t);return this.we.forEachTarget(e,(function(e){return r.he(e.sequenceNumber)})).next((function(){return n.we.me(e,(function(e){return r.he(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.we.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.we.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(gr("LruGarbageCollector","Garbage collection skipped; disabled"),ps.resolve(Qs)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(gr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Qs):n.ye(e,t)}))},e.prototype.getCacheSize=function(e){return this.we.getCacheSize(e)},e.prototype.ye=function(e,t){var n,r,o,a,s,u,c,l=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(gr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return o=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),mr()<=i.in.DEBUG&&gr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),ps.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})}))},e}(),fu=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new hu(e,t)}(this,t)}return e.prototype._e=function(e){var t=this.ge(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.ge=function(e){var t=0;return this.me(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.me=function(e,t){return this.pe(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return du(e,n)},e.prototype.removeReference=function(e,t,n){return du(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return du(e,t)},e.prototype.Ee=function(e,t){return function(e,t){var n=!1;return tu(e).Ut((function(r){return Zs(e,r,t).next((function(e){return e&&(n=!0),ps.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(e,(function(a,s){if(s<=t){var u=n.Ee(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),au(e).delete([0,Wa(a.path)])}))}));i.push(u)}})).next((function(){return ps.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return du(e,t)},e.prototype.pe=function(e,t){var n,r=au(e),i=dr.o;return r.qt({index:is.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==dr.o&&t(new zr(Qa(n)),i),i=s,n=a):i=dr.o})).next((function(){i!==dr.o&&t(new zr(Qa(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function du(e,t){return au(e).put(function(e,t){return new is(0,Wa(e.path),t)}(t,e.currentSequenceNumber))}var pu=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Nr(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Ar(this.inner)},e}(),mu=function(){function e(){this.changes=new pu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:$i.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{maybeDocument:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{maybeDocument:null,readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ps.resolve(n.maybeDocument):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),gu=function(){function e(e,t){this.D=e,this.Gt=t}return e.prototype.addEntry=function(e,t,n){return bu(e).put(wu(t),n)},e.prototype.removeEntry=function(e,t){var n=bu(e),r=wu(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Te(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return bu(e).get(wu(t)).next((function(e){return n.Ie(e)}))},e.prototype.Ae=function(e,t){var n=this;return bu(e).get(wu(t)).next((function(e){var t=n.Ie(e);return t?{maybeDocument:t,size:$s(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Qo();return this.Re(e,t,(function(e,t){var i=n.Ie(t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.be=function(e,t){var n=this,r=Qo(),i=new zo(zr.comparator);return this.Re(e,t,(function(e,t){var o=n.Ie(t);o?(r=r.insert(e,o),i=i.insert(e,$s(t))):(r=r.insert(e,null),i=i.insert(e,0))})).next((function(){return{ve:r,Pe:i}}))},e.prototype.Re=function(e,t,n){if(t.isEmpty())return ps.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return bu(e).qt({range:r},(function(e,t,r){for(var a=zr.fromSegments(e);o&&zr.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Yo(),o=t.path.length+1,a={};if(n.isEqual($i.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Ps(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=ts.collectionReadTimeIndex}return bu(e).qt(a,(function(e,n,a){if(e.length===o){var s=As(r.D,n);t.path.isPrefixOf(s.key.path)?s instanceof li&&Qi(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new vu(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return yu(e).get(ns.key).next((function(e){return _r(!!e),e}))},e.prototype.Te=function(e,t){return yu(e).put(ns.key,t)},e.prototype.Ie=function(e){if(e){var t=As(this.D,e);return t instanceof hi&&t.version.isEqual($i.min())?null:t}return null},e}(),vu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ve=t,r.trackRemovals=n,r.Se=new pu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,fr.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Bo((function(e,t){return Sr(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Se.get(o);if(a.maybeDocument){var u=Ds(t.Ve.D,a.maybeDocument,t.getReadTime(o));i=i.add(o.path.popLast());var c=$s(u);r+=c-s,n.push(t.Ve.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Ds(t.Ve.D,new hi(o,$i.min()),t.getReadTime(o));n.push(t.Ve.addEntry(e,o,l))}else n.push(t.Ve.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ve.Gt.addToCollectionParentIndex(e,r))})),n.push(this.Ve.updateMetadata(e,r)),ps.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ve.Ae(e,t).next((function(e){return null===e?(n.Se.set(t,0),null):(n.Se.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ve.be(e,t).next((function(e){var t=e.ve;return e.Pe.forEach((function(e,t){n.Se.set(e,t)})),t}))},t}(mu);function yu(e){return Ss(e,ns.store)}function bu(e){return Ss(e,ts.store)}function wu(e){return e.path.toArray()}var _u=function(){function e(e){this.D=e}return e.prototype.St=function(e,t,n,r){var i=this;_r(n<r&&n>=0&&r<=11);var o=new ms("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ya.store)}(e),function(e){e.createObjectStore($a.store,{keyPath:$a.keyPath}),e.createObjectStore(Ja.store,{keyPath:Ja.keyPath,autoIncrement:!0}).createIndex(Ja.userMutationsIndex,Ja.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Za.store)}(e),Eu(e),function(e){e.createObjectStore(ts.store)}(e));var a=ps.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(is.store),e.deleteObjectStore(rs.store),e.deleteObjectStore(os.store)}(e),Eu(e)),a=a.next((function(){return function(e){var t=e.store(os.store),n=new os(0,0,$i.min().toTimestamp(),0);return t.put(os.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Ja.store).kt().next((function(n){e.deleteObjectStore(Ja.store),e.createObjectStore(Ja.store,{keyPath:Ja.keyPath,autoIncrement:!0}).createIndex(Ja.userMutationsIndex,Ja.userMutationsKeyPath,{unique:!0});var r=t.store(Ja.store),i=n.map((function(e){return r.put(e)}));return ps.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(ss.store,{keyPath:ss.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.De(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(ns.store)}(e),i.Ce(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.xe(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Ne(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(ts.store);t.createIndex(ts.readTimeIndex,ts.readTimeIndexPath,{unique:!1}),t.createIndex(ts.collectionReadTimeIndex,ts.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.$e(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(us.store,{keyPath:us.keyPath})}(e),function(e){e.createObjectStore(cs.store,{keyPath:cs.keyPath})}(e)}))),a},e.prototype.Ce=function(e){var t=0;return e.store(ts.store).qt((function(e,n){t+=$s(n)})).next((function(){var n=new ns(t);return e.store(ns.store).put(ns.key,n)}))},e.prototype.De=function(e){var t=this,n=e.store($a.store),r=e.store(Ja.store);return n.kt().next((function(n){return ps.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Ja.userMutationsIndex,i).next((function(r){return ps.forEach(r,(function(r){_r(r.userId===n.userId);var i=Rs(t.D,r);return Ys(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.xe=function(e){var t=e.store(is.store),n=e.store(ts.store);return e.store(os.store).get(os.key).next((function(e){var r=[];return n.qt((function(n,i){var o=new jr(n),a=function(e){return[0,Wa(e)]}(o);r.push(t.get(a).next((function(n){return n?ps.resolve():function(n){return t.put(new is(0,Wa(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return ps.waitFor(r)}))}))},e.prototype.Ne=function(e,t){e.createObjectStore(as.store,{keyPath:as.keyPath});var n=t.store(as.store),r=new Ws,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Wa(i)})}};return t.store(ts.store).qt({Bt:!0},(function(e,t){var n=new jr(e);return i(n.popLast())})).next((function(){return t.store(Za.store).qt({Bt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Qa(n));return i(r.popLast())}))}))},e.prototype.$e=function(e){var t=this,n=e.store(rs.store);return n.qt((function(e,r){var i=js(r),o=Fs(t.D,i);return n.put(o)}))},e}();function Eu(e){e.createObjectStore(is.store,{keyPath:is.keyPath}).createIndex(is.documentTargetsIndex,is.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(rs.store,{keyPath:rs.keyPath}).createIndex(rs.queryTargetsIndexName,rs.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(os.store)}var Tu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Iu=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=a,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(e){return Promise.resolve()},!e.At())throw new Lr(Or.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fu(this,i),this.We=n+"main",this.D=new Ns(u),this.je=new gs(this.We,11,new _u(this.D)),this.Ge=new ru(this.referenceDelegate,this.D),this.Gt=new Gs,this.ze=function(e,t){return new gu(e,t)}(this.D,this.Gt),this.He=new zs,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.Ye().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Lr(Or.FAILED_PRECONDITION,Tu);return e.Xe(),e.Ze(),e.tn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ge.getHighestSequenceNumber(t)}))})).then((function(t){e.Me=new dr(t,e.Oe)})).then((function(){e.Le=!0})).catch((function(t){return e.je&&e.je.close(),Promise.reject(t)}))},e.prototype.en=function(e){var t=this;return this.Ke=function(n){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.je.Ct((function(n){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Fe.enqueueAndForget((function(){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.Ye=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Cu(t).put(new ss(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.nn(t).next((function(t){t||(e.isPrimary=!1,e.Fe.enqueueRetryable((function(){return e.Ke(!1)})))}))})).next((function(){return e.sn(t)})).next((function(n){return e.isPrimary&&!n?e.rn(t).next((function(){return!1})):!!n&&e.on(t).next((function(){return!0}))}))})).catch((function(t){if(bs(t))return gr("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return gr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Fe.enqueueRetryable((function(){return e.Ke(t)})),e.isPrimary=t}))},e.prototype.nn=function(e){var t=this;return Su(e).get(Ya.key).next((function(e){return ps.resolve(t.cn(e))}))},e.prototype.an=function(e){return Cu(e).delete(this.clientId)},e.prototype.un=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ss(e,ss.store);return t.kt().next((function(e){var n=i.ln(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ps.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Je)for(t=0,n=e;t<n.length;t++)r=n[t],this.Je.removeItem(this.fn(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.tn=function(){var e=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ye().then((function(){return e.un()})).then((function(){return e.tn()}))}))},e.prototype.cn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.sn=function(e){var t=this;return this.ke?ps.resolve(!0):Su(e).get(Ya.key).next((function(n){if(null!==n&&t.hn(n.leaseTimestampMs,5e3)&&!t.dn(n.ownerId)){if(t.cn(n)&&t.networkEnabled)return!0;if(!t.cn(n)){if(!n.allowTabSynchronization)throw new Lr(Or.FAILED_PRECONDITION,Tu);return!1}}return!(!t.networkEnabled||!t.inForeground)||Cu(e).kt().next((function(e){return void 0===t.ln(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&gr("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e=this;return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Ya.store,ss.store],(function(t){var n=new Is(t,dr.o);return e.rn(n).next((function(){return e.an(n)}))}))];case 1:return t.sent(),this.je.close(),this.yn(),[2]}}))}))},e.prototype.ln=function(e,t){var n=this;return e.filter((function(e){return n.hn(e.updateTimeMs,t)&&!n.dn(e.clientId)}))},e.prototype.gn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Cu(t).kt().next((function(t){return e.ln(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Js.Ht(e,this.D,this.Gt,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(e,t,n){var r=this;gr("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.je.runTransaction(e,o,ls,(function(o){return i=new Is(o,r.Me?r.Me.next():dr.o),"readwrite-primary"===t?r.nn(i).next((function(e){return!!e||r.sn(i)})).next((function(t){if(!t)throw vr("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Fe.enqueueRetryable((function(){return r.Ke(!1)})),new Lr(Or.FAILED_PRECONDITION,hs);return n(i)})).next((function(e){return r.on(i).next((function(){return e}))})):r.pn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.pn=function(e){var t=this;return Su(e).get(Ya.key).next((function(e){if(null!==e&&t.hn(e.leaseTimestampMs,5e3)&&!t.dn(e.ownerId)&&!t.cn(e)&&!(t.ke||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Lr(Or.FAILED_PRECONDITION,Tu)}))},e.prototype.on=function(e){var t=new Ya(this.clientId,this.allowTabSynchronization,Date.now());return Su(e).put(Ya.key,t)},e.At=function(){return gs.At()},e.prototype.rn=function(e){var t=this,n=Su(e);return n.get(Ya.key).next((function(e){return t.cn(e)?(gr("IndexedDbPersistence","Releasing primary lease."),n.delete(Ya.key)):ps.resolve()}))},e.prototype.hn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(vr("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Xe=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Fe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},e.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},e.prototype.Ze=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Be=function(){t.wn(),t.Fe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Be))},e.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},e.prototype.dn=function(e){var t;try{var n=null!==(null===(t=this.Je)||void 0===t?void 0:t.getItem(this.fn(e)));return gr("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return vr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(e){vr("Failed to set zombie client id.",e)}},e.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(e){}},e.prototype.fn=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Su(e){return Ss(e,Ya.store)}function Cu(e){return Ss(e,ss.store)}function xu(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var ku=function(e,t){this.progress=e,this.En=t},Nu=function(){function e(e,t,n){this.ze=e,this.Tn=t,this.Gt=n}return e.prototype.In=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.An(e,t,r)}))},e.prototype.An=function(e,t,n){return this.ze.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e}))},e.prototype.Rn=function(e,t,n){var r=Qo();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)})),r},e.prototype.bn=function(e,t){var n=this;return this.ze.getEntries(e,t).next((function(t){return n.vn(e,t)}))},e.prototype.vn=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.Rn(e,t,r),o=Ho();return i.forEach((function(e,t){t||(t=new hi(e,$i.min())),o=o.insert(e,t)})),o}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return zr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Pn(e,t.path):zi(t)?this.Vn(e,t,n):this.Sn(e,t,n)},e.prototype.Pn=function(e,t){return this.In(e,new zr(t)).next((function(e){var t=Yo();return e instanceof li&&(t=t.insert(e.key,e)),t}))},e.prototype.Vn=function(e,t,n){var r=this,i=t.collectionGroup,o=Yo();return this.Gt.getCollectionParents(e,i).next((function(a){return ps.forEach(a,(function(a){var s=function(e,t){return new Mi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.Sn(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Sn=function(e,t,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Dn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=To(u,r.get(c),o.localWriteTime);r=l instanceof li?r.insert(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){Qi(t,n)||(r=r.remove(e))})),r}))},e.prototype.Dn=function(e,t,n){for(var r=Xo(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof ko&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof li&&(c=c.insert(e,t))})),c}))},e}(),Au=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.Cn=n,this.xn=r}return e.Nn=function(t,n){for(var r=Xo(),i=Xo(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Du=function(){function e(){}return e.prototype.$n=function(e){this.Fn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var o=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual($i.min())?this.On(e,t):this.Fn.bn(e,r).next((function(a){var s=o.kn(t,a);return(Ri(t)||ji(t))&&o.Mn(t.limitType,s,r,n)?o.On(e,t):(mr()<=i.in.DEBUG&&gr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Hi(t)),o.Fn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.kn=function(e,t){var n=new Bo(Ki(e));return t.forEach((function(t,r){r instanceof li&&Qi(e,r)&&(n=n.add(r))})),n},e.prototype.Mn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.On=function(e,t){return mr()<=i.in.DEBUG&&gr("QueryEngine","Using full collection scan to execute query:",Hi(t)),this.Fn.getDocumentsMatchingQuery(e,t,$i.min())},e}(),Pu=function(){function e(e,t,n,r){this.persistence=e,this.Ln=t,this.D=r,this.Bn=new zo(Sr),this.qn=new pu((function(e){return mi(e)}),gi),this.Un=$i.min(),this.Tn=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.Ge=e.getTargetCache(),this.Kn=new Nu(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=e.getBundleCache(),this.Ln.$n(this.Kn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Bn)}))},e}();function Mu(e,t,n,r){return new Pu(e,t,n,r)}function Ou(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:return n=Er(e),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n.Tn.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Nu(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Xo(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var g=0,v=m.mutations;g<v.length;g++){var y=v[g];a=a.add(y.key)}}return i.bn(e,a).next((function(e){return{Wn:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}}))}))}function Lu(e,t){var n=Er(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=ps.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=t,a=n.docVersions.get(e);_r(null!==a),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(e,o,n))&&r.addEntry(o,n.commitVersion)}))})),a.next((function(){return e.Tn.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Tn.performConsistencyCheck(e)})).next((function(){return n.Kn.bn(e,r)}))}))}function Ru(e){var t=Er(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ge.getLastRemoteSnapshotVersion(e)}))}function ju(e,t){var n=Er(e),r=t.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.Ge.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.Ge.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return _r(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.Ge.updateTargetData(e,c))}}}));var s=Ho();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Fu(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual($i.min())){var u=n.Ge.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ge.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return ps.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Kn.vn(e,s)}))})).then((function(e){return n.Bn=i,e}))}function Fu(e,t,n,r,i){var o=Xo();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Ho();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof hi&&a.version.isEqual($i.min())?(t.removeEntry(n,u),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):gr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Uu(e,t){var n=Er(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Tn.getNextMutationBatchAfterBatchId(e,t)}))}function zu(e,t){var n=Er(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ge.getTargetData(e,t).next((function(i){return i?(r=i,ps.resolve(r)):n.Ge.allocateTargetId(e).next((function(i){return r=new ks(t,i,0,e.currentSequenceNumber),n.Ge.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Bn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}function qu(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:r=Er(e),i=r.Bn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!bs(a=s.sent()))throw a;return gr("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Bn=r.Bn.remove(t),r.qn.delete(i.target),[2]}}))}))}function Vu(e,t,n){var r=Er(e),i=$i.min(),o=Xo();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Er(e),i=r.qn.get(n);return void 0!==i?ps.resolve(r.Bn.get(i)):r.Ge.getTargetData(t,n)}(r,e,Vi(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Ln.getDocumentsMatchingQuery(e,t,n?i:$i.min(),n?o:Xo())})).next((function(e){return{documents:e,jn:o}}))}))}function Bu(e,t){var n=Er(e),r=Er(n.Ge),i=n.Bn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.yt(e,t).next((function(e){return e?e.target:null}))}))}function Wu(e){var t=Er(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Er(e),i=Ho(),o=Ps(n),a=bu(t),s=IDBKeyRange.lowerBound(o,!0);return a.qt({index:ts.readTimeIndex,range:s},(function(e,t){var n=As(r.D,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{En:i,readTime:Ms(o)}}))}(t.Qn,e,t.Un)})).then((function(e){var n=e.En,r=e.readTime;return t.Un=r,n}))}function Gu(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){return[2,(t=Er(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=bu(e),n=$i.min();return t.qt({index:ts.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Ms(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.Un=e}))]}))}))}function Hu(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return(0,fr.Jh)(this,(function(p){switch(p.label){case 0:for(i=Er(e),o=Xo(),a=Ho(),s=Jo(),u=0,c=n;u<c.length;u++)l=c[u],h=t.Gn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.zn(l)),s=s.insert(h,t.Hn(l.metadata.readTime));return f=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,zu(i,function(e){return Vi(Li(jr.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Fu(e,f,a,$i.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.Ge.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.Ge.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Kn.vn(e,t)}))}))}))]}}))}))}function Qu(e,t,n){return void 0===n&&(n=Xo()),(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return[4,zu(e,Vi(Us(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Er(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=va(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(e,t);var a=r.withResumeToken(qr.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(a.targetId,a),i.Ge.updateTargetData(e,a).next((function(){return i.Ge.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.Ge.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.He.saveNamedQuery(e,t)}))}))]}}))}))}var Ku=function(){function e(e){this.D=e,this.Jn=new Map,this.Yn=new Map}return e.prototype.getBundleMetadata=function(e,t){return ps.resolve(this.Jn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:va(n.createTime)}),ps.resolve()},e.prototype.getNamedQuery=function(e,t){return ps.resolve(this.Yn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Us(e.bundledQuery),readTime:va(e.readTime)}}(t)),ps.resolve()},e}(),Yu=function(){function e(){this.Xn=new Bo($u.Zn),this.ts=new Bo($u.es)}return e.prototype.isEmpty=function(){return this.Xn.isEmpty()},e.prototype.addReference=function(e,t){var n=new $u(e,t);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},e.prototype.ns=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.ss(new $u(e,t))},e.prototype.rs=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.os=function(e){var t=this,n=new zr(new jr([])),r=new $u(n,e),i=new $u(n,e+1),o=[];return this.ts.forEachInRange([r,i],(function(e){t.ss(e),o.push(e.key)})),o},e.prototype.cs=function(){var e=this;this.Xn.forEach((function(t){return e.ss(t)}))},e.prototype.ss=function(e){this.Xn=this.Xn.delete(e),this.ts=this.ts.delete(e)},e.prototype.us=function(e){var t=new zr(new jr([])),n=new $u(t,e),r=new $u(t,e+1),i=Xo();return this.ts.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new $u(e,0),n=this.Xn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),$u=function(){function e(e,t){this.key=e,this.hs=t}return e.Zn=function(e,t){return zr.comparator(e.key,t.key)||Sr(e.hs,t.hs)},e.es=function(e,t){return Sr(e.hs,t.hs)||zr.comparator(e.key,t.key)},e}(),Ju=function(){function e(e,t){this.Gt=e,this.referenceDelegate=t,this.Tn=[],this.ls=1,this.fs=new Bo($u.Zn)}return e.prototype.checkEmpty=function(e){return ps.resolve(0===this.Tn.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ls;this.ls++,this.Tn.length>0&&this.Tn[this.Tn.length-1];var o=new Cs(i,t,n,r);this.Tn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.fs=this.fs.add(new $u(u.key,i)),this.Gt.addToCollectionParentIndex(e,u.key.path.popLast())}return ps.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return ps.resolve(this.ds(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return ps.resolve(this.Tn.length>i?this.Tn[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ps.resolve(0===this.Tn.length?-1:this.ls-1)},e.prototype.getAllMutationBatches=function(e){return ps.resolve(this.Tn.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new $u(t,0),i=new $u(t,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],(function(e){var t=n.ds(e.hs);o.push(t)})),ps.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Bo(Sr);return t.forEach((function(e){var t=new $u(e,0),i=new $u(e,Number.POSITIVE_INFINITY);n.fs.forEachInRange([t,i],(function(e){r=r.add(e.hs)}))})),ps.resolve(this._s(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;zr.isDocumentKey(i)||(i=i.child(""));var o=new $u(new zr(i),0),a=new Bo(Sr);return this.fs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.hs)),!0)}),o),ps.resolve(this._s(a))},e.prototype._s=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ds(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;_r(0===this.ys(t.batchId,"removed")),this.Tn.shift();var r=this.fs;return ps.forEach(t.mutations,(function(i){var o=new $u(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.fs=r}))},e.prototype.Xt=function(e){},e.prototype.containsKey=function(e,t){var n=new $u(t,0),r=this.fs.firstAfterOrEqual(n);return ps.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this.Tn.length,ps.resolve()},e.prototype.ys=function(e,t){return this.ws(e)},e.prototype.ws=function(e){return 0===this.Tn.length?0:e-this.Tn[0].batchId},e.prototype.ds=function(e){var t=this.ws(e);return t<0||t>=this.Tn.length?null:this.Tn[t]},e}(),Zu=function(){function e(e,t){this.Gt=e,this.gs=t,this.docs=new zo(zr.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.gs(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return ps.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=Qo();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),ps.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Yo(),i=new zr(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||c instanceof li&&Qi(t,c)&&(r=r.insert(c.key,c))}return ps.resolve(r)},e.prototype.ps=function(e,t){return ps.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Xu(this)},e.prototype.getSize=function(e){return ps.resolve(this.size)},e}(),Xu=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ve=t,n}return(0,fr.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i&&i.maybeDocument?n.push(t.Ve.addEntry(e,i.maybeDocument,t.getReadTime(r))):t.Ve.removeEntry(r)})),ps.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ve.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ve.getEntries(e,t)},t}(mu),ec=function(){function e(e){this.persistence=e,this.Es=new pu((function(e){return mi(e)}),gi),this.lastRemoteSnapshotVersion=$i.min(),this.highestTargetId=0,this.Ts=0,this.Is=new Yu,this.targetCount=0,this.As=nu.ee()}return e.prototype.forEachTarget=function(e,t){return this.Es.forEach((function(e,n){return t(n)})),ps.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return ps.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return ps.resolve(this.Ts)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.As.next(),ps.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ts&&(this.Ts=t),ps.resolve()},e.prototype.re=function(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.As=new nu(t),this.highestTargetId=t),e.sequenceNumber>this.Ts&&(this.Ts=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.re(t),this.targetCount+=1,ps.resolve()},e.prototype.updateTargetData=function(e,t){return this.re(t),ps.resolve()},e.prototype.removeTargetData=function(e,t){return this.Es.delete(t.target),this.Is.os(t.targetId),this.targetCount-=1,ps.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.Es.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),ps.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return ps.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.Es.get(t)||null;return ps.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this.Is.ns(t,n),ps.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this.Is.rs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ps.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.Is.os(t),ps.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.Is.us(t);return ps.resolve(n)},e.prototype.containsKey=function(e,t){return ps.resolve(this.Is.containsKey(t))},e}(),tc=function(){function e(e,t){var n=this;this.Rs={},this.Me=new dr(0),this.Le=!1,this.Le=!0,this.referenceDelegate=e(this),this.Ge=new ec(this),this.Gt=new Bs,this.ze=function(e,t){return new Zu(e,(function(e){return n.referenceDelegate.bs(e)}))}(this.Gt),this.D=new Ns(t),this.He=new Ku(this.D)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getMutationQueue=function(e){var t=this.Rs[e.toKey()];return t||(t=new Ju(this.Gt,this.referenceDelegate),this.Rs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(e,t,n){var r=this;gr("MemoryPersistence","Starting transaction:",e);var i=new nc(this.Me.next());return this.referenceDelegate.vs(),n(i).next((function(e){return r.referenceDelegate.Ps(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Vs=function(e,t){return ps.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),nc=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,fr.ZT)(t,e),t}(fs),rc=function(){function e(e){this.persistence=e,this.Ss=new Yu,this.Ds=null}return e.Cs=function(t){return new e(t)},Object.defineProperty(e.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw wr()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.Ss.addReference(n,t),this.xs.delete(n.toString()),ps.resolve()},e.prototype.removeReference=function(e,t,n){return this.Ss.removeReference(n,t),this.xs.add(n.toString()),ps.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.xs.add(t.toString()),ps.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.Ss.os(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.vs=function(){this.Ds=new Set},e.prototype.Ps=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ps.forEach(this.xs,(function(r){var i=zr.fromPath(r);return t.Ns(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ds=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ns(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))},e.prototype.bs=function(e){return 0},e.prototype.Ns=function(e,t){var n=this;return ps.or([function(){return ps.resolve(n.Ss.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Vs(e,t)}])},e}(),ic=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function oc(e,t){return"firestore_clients_"+e+"_"+t}function ac(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function sc(e,t){return"firestore_targets_"+e+"_"+t}ic.UNAUTHENTICATED=new ic(null),ic.GOOGLE_CREDENTIALS=new ic("google-credentials-uid"),ic.FIRST_PARTY=new ic("first-party-uid");var uc=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.$s=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Lr(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(vr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),cc=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.$s=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Lr(i.error.code,i.error.message)),o?new e(t,i.state,r):(vr("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),lc=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.$s=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ta(),a=0;i&&a<r.activeTargetIds.length;++a)i=Mr(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(vr("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),hc=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.$s=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(vr("SharedClientState","Failed to parse online state: "+t),null)},e}(),fc=function(){function e(){this.activeTargetIds=ta()}return e.prototype.Os=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.ks=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Fs=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),dc=function(){function e(e,t,n,r,i){this.window=e,this.Fe=t,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new zo(Sr),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=oc(this.persistenceKey,this.Ms),this.Ks=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new fc),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Hs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return e.At=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return(0,fr.Jh)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.gn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ms&&(i=this.getItem(oc(this.persistenceKey,r)))&&(o=lc.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(s=this.Ys(a))&&this.Xs(s),u=0,c=this.Us;u<c.length;u++)l=c[u],this.Bs(l);return this.Us=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ks,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.ti(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.ti(e,t,n),this.ei(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(sc(this.persistenceKey,e));if(n){var r=cc.$s(e,n);r&&(t=r.state)}}return this.ni.Os(e),this.Js(),t},e.prototype.removeLocalQueryTarget=function(e){this.ni.ks(e),this.Js()},e.prototype.isLocalQueryTarget=function(e){return this.ni.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(sc(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.si(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.ei(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.ii(e)},e.prototype.notifyBundleLoaded=function(){this.ri()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return gr("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){gr("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){gr("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Bs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(gr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,fr.Jh)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return e=this.oi(n.key),[2,this.ci(e,null)];if(t=this.ai(n.key,n.newValue))return[2,this.ci(t.clientId,t)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(a=function(e){var t=dr.o;if(null!=e)try{var n=JSON.parse(e);_r("number"==typeof n),t=n}catch(e){vr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==dr.o&&this.sequenceNumberHandler(a);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),e.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},e.prototype.ti=function(e,t,n){var r=new uc(this.currentUser,e,t,n),i=ac(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Fs())},e.prototype.ei=function(e){var t=ac(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.ii=function(e){var t={clientId:this.Ms,onlineState:e};this.storage.setItem(this.zs,JSON.stringify(t))},e.prototype.si=function(e,t,n){var r=sc(this.persistenceKey,e),i=new cc(e,t,n);this.setItem(r,i.Fs())},e.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},e.prototype.oi=function(e){var t=this.Ws.exec(e);return t?t[1]:null},e.prototype.ai=function(e,t){var n=this.oi(e);return lc.$s(n,t)},e.prototype.ui=function(e,t){var n=this.js.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return uc.$s(new ic(i),r,t)},e.prototype.li=function(e,t){var n=this.Gs.exec(e),r=Number(n[1]);return cc.$s(r,t)},e.prototype.Ys=function(e){return hc.$s(e)},e.prototype.hi=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(e.batchId,e.state,e.error)]:(gr("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.fi=function(e){return this.syncEngine._i(e.targetId,e.state,e.error)},e.prototype.ci=function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.mi(a,s).then((function(){n.qs=r}))},e.prototype.Xs=function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Zs=function(e){var t=ta();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),pc=function(){function e(){this.yi=new fc,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.yi.Os(e),this.gi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.gi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.yi.ks(e)},e.prototype.isLocalQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.gi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},e.prototype.start=function(){return this.yi=new fc,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),mc=function(){function e(){}return e.prototype.pi=function(e){},e.prototype.shutdown=function(){},e}(),gc=function(){function e(){var e=this;this.Ei=function(){return e.Ti()},this.Ii=function(){return e.Ai()},this.Ri=[],this.bi()}return e.prototype.pi=function(e){this.Ri.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},e.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},e.prototype.Ti=function(){gr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(0)},e.prototype.Ai=function(){gr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(1)},e.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),vc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},yc=function(){function e(e){this.vi=e.vi,this.Pi=e.Pi}return e.prototype.Vi=function(e){this.Si=e},e.prototype.Di=function(e){this.Ci=e},e.prototype.onMessage=function(e){this.xi=e},e.prototype.close=function(){this.Pi()},e.prototype.send=function(e){this.vi(e)},e.prototype.Ni=function(){this.Si()},e.prototype.$i=function(e){this.Ci(e)},e.prototype.Fi=function(e){this.xi(e)},e}(),bc=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return(0,fr.ZT)(t,e),t.prototype.qi=function(e,t,n,r){return new Promise((function(i,o){var a=new hr;a.listenOnce(ar.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case or.NO_ERROR:var t=a.getResponseJson();gr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case or.TIMEOUT:gr("Connection",'RPC "'+e+'" timed out'),o(new Lr(Or.DEADLINE_EXCEEDED,"Request time out"));break;case or.HTTP_ERROR:var n=a.getStatus();if(gr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Or).indexOf(t)>=0?t:Or.UNKNOWN}(r.status);o(new Lr(s,r.message))}else o(new Lr(Or.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Lr(Or.UNAVAILABLE,"Connection failed."));break;default:wr()}}finally{gr("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Qi=function(e,t){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new er,i=tt(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(a.initMessageHeaders,t),(0,o.uI)()||(0,o.b$)()||(0,o.d)()||(0,o.w1)()||(0,o.Mn)()||(0,o.ru)()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");gr("Connection","Creating WebChannel: "+s,a);var u=r.createWebChannel(s,a),c=!1,l=!1,h=new yc({vi:function(e){l?gr("Connection","Not sending because WebChannel is closed:",e):(c||(gr("Connection","Opening WebChannel transport."),u.open(),c=!0),gr("Connection","WebChannel sending:",e),u.send(e))},Pi:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,lr.EventType.OPEN,(function(){l||gr("Connection","WebChannel transport opened.")})),f(u,lr.EventType.CLOSE,(function(){l||(l=!0,gr("Connection","WebChannel transport closed"),h.$i())})),f(u,lr.EventType.ERROR,(function(e){l||(l=!0,yr("Connection","WebChannel transport errored:",e),h.$i(new Lr(Or.UNAVAILABLE,"The operation could not be completed")))})),f(u,lr.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];_r(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){gr("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Mo[e];if(void 0!==t)return Uo(t)}(o),s=i.message;void 0===a&&(a=Or.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.$i(new Lr(a,s)),u.close()}else gr("Connection","WebChannel received:",n),h.Fi(n)}})),f(i,sr.STAT_EVENT,(function(e){e.stat===ur?gr("Connection","Detected buffering proxy"):e.stat===cr&&gr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Ni()}),0),h},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Oi=t+"://"+e.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Mi=function(e,t,n,r){var i=this.Li(e,t);gr("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(e,i,o,n).then((function(e){return gr("RestConnection","Received: ",e),e}),(function(t){throw yr("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Ui=function(e,t,n,r){return this.Mi(e,t,n,r)},e.prototype.Bi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.Li=function(e,t){var n=vc[e];return this.Oi+"/v1/"+t+":"+n},e}());function wc(){return"undefined"!=typeof window?window:null}function _c(){return"undefined"!=typeof document?document:null}function Ec(e){return new da(e,!0)}var Tc=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=e,this.timerId=t,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return e.prototype.reset=function(){this.Gi=0},e.prototype.Ji=function(){this.Gi=this.ji},e.prototype.Yi=function(e){var t=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&gr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return t.Hi=Date.now(),e()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},e.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},e.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},e.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},e}(),Ic=function(){function e(e,t,n,r,i,o){this.Fe=e,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Tc(e,t)}return e.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.ar=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.ur()},e.prototype.stop=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.hr=function(){this.state=0,this.rr.reset()},e.prototype.lr=function(){var e=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return e.dr()})))},e.prototype.wr=function(e){this._r(),this.stream.send(e)},e.prototype.dr=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){return this.ar()?[2,this.close(0)]:[2]}))}))},e.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},e.prototype.close=function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===Or.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):t&&t.code===Or.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Di(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.mr=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(t){e.sr===n&&e.gr(t)}),(function(n){t((function(){var t=new Lr(Or.UNKNOWN,"Fetching auth token failed: "+n.message);return e.pr(t)}))}))},e.prototype.gr=function(e){var t=this,n=this.yr(this.sr);this.stream=this.Er(e),this.stream.Vi((function(){n((function(){return t.state=2,t.listener.Vi()}))})),this.stream.Di((function(e){n((function(){return t.pr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.ur=function(){var e=this;this.state=4,this.rr.Yi((function(){return(0,fr.mG)(e,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.pr=function(e){return gr("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.yr=function(e){var t=this;return function(n){t.Fe.enqueueAndForget((function(){return t.sr===e?n():(gr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Sc=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,a}return(0,fr.ZT)(t,e),t.prototype.Er=function(e){return this.er.Qi("Listen",e)},t.prototype.onMessage=function(e){this.rr.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.V?(_r(void 0===t||"string"==typeof t),qr.fromBase64String(t||"")):(_r(void 0===t||t instanceof Uint8Array),qr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Or.UNKNOWN:Uo(e.code);return new Lr(t,e.message||"")}(s);n=new aa(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=_a(e,r.document.name),o=va(r.document.updateTime);var s=new Zi({mapValue:{fields:r.document.fields}}),u=(a=new li(i,o,s,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new ia(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=_a(e,r.document),o=r.readTime?va(r.readTime):$i.min(),s=new hi(i,o),a=r.removedTargetIds||[],n=new ia([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=_a(e,r.document),o=r.removedTargetIds||[],n=new ia([],o,i,null);else{if(!("filter"in t))return wr();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new jo(r),o=l.targetId,n=new oa(o,i)}return n}(this.D,e),n=function(e){if(!("targetChange"in e))return $i.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?$i.min():t.readTime?va(t.readTime):$i.min()}(e);return this.listener.Tr(t,n)},t.prototype.Ir=function(e){var t={};t.database=Ia(this.D),t.addTarget=function(e,t){var n,r=t.target;return(n=vi(r)?{documents:Aa(e,r)}:{query:Da(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ma(e,t.resumeToken):t.snapshotVersion.compareTo($i.min())>0&&(n.readTime=pa(e,t.snapshotVersion.toTimestamp())),n}(this.D,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.D,e);n&&(t.labels=n),this.wr(t)},t.prototype.Ar=function(e){var t={};t.database=Ia(this.D),t.removeTarget=e,this.wr(t)},t}(Ic),Cc=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,a.Rr=!1,a}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.mr=function(){this.Rr&&this.vr([])},t.prototype.Er=function(e){return this.er.Qi("Write",e)},t.prototype.onMessage=function(e){if(_r(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();var t=function(e,t){return e&&e.length>0?(_r(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?va(e.updateTime):va(t);return n.isEqual($i.min())&&(n=va(t)),new yo(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=va(e.commitTime);return this.listener.Pr(n,t)}return _r(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()},t.prototype.Sr=function(){var e={};e.database=Ia(this.D),this.wr(e)},t.prototype.vr=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ka(t.D,e)}))};this.wr(n)},t}(Ic),xc=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.er=n,i.D=r,i.Dr=!1,i}return(0,fr.ZT)(t,e),t.prototype.Cr=function(){if(this.Dr)throw new Lr(Or.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Mi=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Mi(e,t,n,i)})).catch((function(e){throw e.code===Or.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.Ui=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Ui(e,t,n,i)})).catch((function(e){throw e.code===Or.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.terminate=function(){this.Dr=!1},t}((function(){})),kc=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return e.prototype.Or=function(){var e=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.$r=null,e.Mr("Backend didn't respond within 10 seconds."),e.kr("Offline"),Promise.resolve()})))},e.prototype.Lr=function(e){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+e.toString()),this.kr("Offline")))},e.prototype.set=function(e){this.Br(),this.Nr=0,"Online"===e&&(this.Fr=!1),this.kr(e)},e.prototype.kr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Mr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(vr(t),this.Fr=!1):gr("OnlineStateTracker",t)},e.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},e}(),Nc=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi((function(e){n.enqueueAndForget((function(){return(0,fr.mG)(o,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return Fc(this)?(gr("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return(t=Er(e)).Qr.add(4),[4,Dc(t)];case 1:return n.sent(),t.jr.set("Unknown"),t.Qr.delete(4),[4,Ac(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.jr=new kc(n,r)};function Ac(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:if(!Fc(e))return[3,4];t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Dc(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Pc(e,t){var n=Er(e);n.Ur.has(t.targetId)||(n.Ur.set(t.targetId,t),jc(n)?Rc(n):Xc(n).ar()&&Oc(n,t))}function Mc(e,t){var n=Er(e),r=Xc(n);n.Ur.delete(t),r.ar()&&Lc(n,t),0===n.Ur.size&&(r.ar()?r.lr():Fc(n)&&n.jr.set("Unknown"))}function Oc(e,t){e.Gr.H(t.targetId),Xc(e).Ir(t)}function Lc(e,t){e.Gr.H(t),Xc(e).Ar(t)}function Rc(e){e.Gr=new ua({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},yt:function(t){return e.Ur.get(t)||null}}),Xc(e).start(),e.jr.Or()}function jc(e){return Fc(e)&&!Xc(e).cr()&&e.Ur.size>0}function Fc(e){return 0===Er(e).Qr.size}function Uc(e){e.Gr=void 0}function zc(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){return e.Ur.forEach((function(t,n){Oc(e,t)})),[2]}))}))}function qc(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(n){return Uc(e),jc(e)?(e.jr.Lr(t),Rc(e)):e.jr.set("Unknown"),[2]}))}))}function Vc(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:if(e.jr.set("Online"),!(t instanceof aa&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Ur.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Ur.delete(o),e.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),gr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Bc(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ia?e.Gr.st(t):t instanceof oa?e.Gr.ht(t):e.Gr.ot(t),n.isEqual($i.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ru(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.Gr.dt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Ur.get(r);i&&e.Ur.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Ur.get(t);if(n){e.Ur.set(t,n.withResumeToken(qr.EMPTY_BYTE_STRING,n.snapshotVersion)),Lc(e,t);var r=new ks(n.target,t,1,n.sequenceNumber);Oc(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return gr("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Bc(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Bc(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r=this;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:if(!bs(t))throw t;return e.Qr.add(1),[4,Dc(e)];case 1:return i.sent(),e.jr.set("Offline"),n||(n=function(){return Ru(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,fr.mG)(r,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return gr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Qr.delete(1),[4,Ac(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Wc(e,t){return t().catch((function(n){return Bc(e,n,t)}))}function Gc(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:t=Er(e),n=el(t),r=t.qr.length>0?t.qr[t.qr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Fc(e)&&e.qr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Uu(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(e,t){e.qr.push(t);var n=el(e);n.ar()&&n.br&&n.vr(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Bc(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Hc(t)&&Qc(t),[2]}}))}))}function Hc(e){return Fc(e)&&!el(e).cr()&&e.qr.length>0}function Qc(e){el(e).start()}function Kc(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){return el(e).Sr(),[2]}))}))}function Yc(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,fr.Jh)(this,(function(o){for(t=el(e),n=0,r=e.qr;n<r.length;n++)i=r[n],t.vr(i.mutations);return[2]}))}))}function $c(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return r=e.qr.shift(),i=xs.from(r,t,n),[4,Wc(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Gc(e)];case 2:return o.sent(),[2]}}))}))}function Jc(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t&&el(e).br?[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return Fo(r=t.code)&&r!==Or.ABORTED?(n=e.qr.shift(),el(e).hr(),[4,Wc(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Gc(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Hc(e)&&Qc(e),[2]}}))}))}function Zc(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return n=Er(e),t?(n.Qr.delete(2),[4,Ac(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Qr.add(2),[4,Dc(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Xc(e){var t=this;return e.zr||(e.zr=function(e,t,n){var r=Er(e);return r.Cr(),new Sc(t,r.er,r.credentials,r.D,n)}(e.datastore,e.asyncQueue,{Vi:zc.bind(null,e),Di:qc.bind(null,e),Tr:Vc.bind(null,e)}),e.Kr.push((function(n){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.zr.hr(),jc(e)?Rc(e):e.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.zr.stop()];case 2:t.sent(),Uc(e),t.label=3;case 3:return[2]}}))}))}))),e.zr}function el(e){var t=this;return e.Hr||(e.Hr=function(e,t,n){var r=Er(e);return r.Cr(),new Cc(t,r.er,r.credentials,r.D,n)}(e.datastore,e.asyncQueue,{Vi:Kc.bind(null,e),Di:Jc.bind(null,e),Vr:Yc.bind(null,e),Pr:$c.bind(null,e)}),e.Kr.push((function(n){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Hr.hr(),[4,Gc(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Hr.stop()];case 3:t.sent(),e.qr.length>0&&(gr("RemoteStore","Stopping write stream with "+e.qr.length+" pending writes"),e.qr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Hr}var tl=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lr(Or.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function nl(e,t){if(vr("AsyncQueue",t+": "+e),bs(e))return new Lr(Or.UNAVAILABLE,t+": "+e);throw e}var rl=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||zr.comparator(t.key,n.key)}:function(e,t){return zr.comparator(e.key,t.key)},this.keyedMap=Yo(),this.sortedSet=new zo(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),il=function(){function e(){this.Jr=new zo(zr.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):wr():this.Jr=this.Jr.insert(t,e)},e.prototype.Yr=function(){var e=[];return this.Jr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),ol=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,rl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),al=function(){this.Xr=void 0,this.listeners=[]},sl=function(){this.queries=new pu((function(e){return Gi(e)}),Wi),this.onlineState="Unknown",this.Zr=new Set};function ul(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,fr.Jh)(this,(function(c){switch(c.label){case 0:if(n=Er(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new al),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Xr=c.sent(),[3,4];case 3:return s=c.sent(),u=nl(s,"Initialization of query '"+Hi(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.eo(n.onlineState),o.Xr&&t.no(o.Xr)&&fl(n),[2]}}))}))}function cl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,fr.Jh)(this,(function(s){return n=Er(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function ll(e,t){for(var n=Er(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].no(a)&&(r=!0);u.Xr=a}}r&&fl(n)}function hl(e,t,n){var r=Er(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function fl(e){e.Zr.forEach((function(e){e.next()}))}var dl=function(){function e(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.no=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new ol(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.io?this.oo(e)&&(this.so.next(e),o=!0):this.co(e,this.onlineState)&&(this.ao(e),o=!0),this.ro=e,o},e.prototype.onError=function(e){this.so.error(e)},e.prototype.eo=function(e){this.onlineState=e;var t=!1;return this.ro&&!this.io&&this.co(this.ro,e)&&(this.ao(this.ro),t=!0),t},e.prototype.co=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.oo=function(e){if(e.docChanges.length>0)return!0;var t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.ao=function(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)},e}(),pl=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.ho=function(){return"metadata"in this.payload},e}(),ml=function(){function e(e){this.D=e}return e.prototype.Gn=function(e){return _a(this.D,e)},e.prototype.zn=function(e){return e.metadata.exists?xa(this.D,e.document,!1):new hi(this.Gn(e.metadata.name),this.Hn(e.metadata.readTime))},e.prototype.Hn=function(e){return va(e)},e}();!function(){function e(e,t,n){this.lo=e,this.localStore=t,this.D=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.fo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.wo=function(e){for(var t=new Map,n=new ml(this.D),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Xo()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return[4,Hu(this.localStore,new ml(this.D),this.documents,this.lo.id)];case 1:e=o.sent(),t=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Qu(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ku(Object.assign({},this.progress),e))]}}))}))}}();var gl=function(e){this.key=e},vl=function(e){this.key=e},yl=function(){function e(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Xo(),this.mutatedKeys=Xo(),this.po=Ki(e),this.Eo=new rl(this.po)}return Object.defineProperty(e.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),e.prototype.Io=function(e,t){var n=this,r=t?t.Ao:new il,i=t?t.Eo:this.Eo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ri(this.query)&&i.size===this.query.limit?i.last():null,c=ji(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=t instanceof li?t:null;h&&(h=Qi(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Ri(this.query)||ji(this.query))for(;a.size>this.query.limit;){var l=Ri(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},e.prototype.Ro=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;var o=e.Ao.Yr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wr()}};return n(e)-n(t)}(e.type,t.type)||r.po(e.doc,t.doc)})),this.bo(n);var a=t?this.vo():[],s=0===this.yo.size&&this.current?1:0,u=s!==this.mo;return this.mo=s,0!==o.length||u?{snapshot:new ol(this.query,e.Eo,i,o,e.mutatedKeys,0===s,u,!1),Po:a}:{Po:a}},e.prototype.eo=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new il,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},e.prototype.Vo=function(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations},e.prototype.bo=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._o=t._o.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t._o=t._o.delete(e)})),this.current=e.current)},e.prototype.vo=function(){var e=this;if(!this.current)return[];var t=this.yo;this.yo=Xo(),this.Eo.forEach((function(t){e.Vo(t.key)&&(e.yo=e.yo.add(t.key))}));var n=[];return t.forEach((function(t){e.yo.has(t)||n.push(new vl(t))})),this.yo.forEach((function(e){t.has(e)||n.push(new gl(e))})),n},e.prototype.So=function(e){this._o=e.jn,this.yo=Xo();var t=this.Io(e.documents);return this.applyChanges(t,!0)},e.prototype.Do=function(){return ol.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},e}(),bl=function(e,t,n){this.query=e,this.targetId=t,this.view=n},wl=function(e){this.key=e,this.Co=!1},_l=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new pu((function(e){return Gi(e)}),Wi),this.$o=new Map,this.Fo=new Set,this.Oo=new zo(zr.comparator),this.ko=new Map,this.Mo=new Yu,this.Lo={},this.Bo=new Map,this.qo=nu.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),e}();function El(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,fr.Jh)(this,(function(u){switch(u.label){case 0:return n=Jl(e),(o=n.No.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Do(),[3,4]):[3,1];case 1:return[4,zu(n.localStore,Vi(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Tl(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Pc(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Tl(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,fr.Jh)(this,(function(l){switch(l.label){case 0:return e.Qo=function(t,n,r){return function(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:return(i=t.view.Io(n)).Mn?[4,Vu(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view.Io(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Rl(e,t.targetId,a.Po),a.snapshot)]}}))}))}(e,t,n,r)},[4,Vu(e.localStore,t,!0)];case 1:return i=l.sent(),o=new yl(t,i.jn),a=o.Io(i.documents),s=ra.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Rl(e,n,u.Po),c=new bl(t,n,o),[2,(e.No.set(t,c),e.$o.has(n)?e.$o.get(n).push(t):e.$o.set(n,[t]),u.snapshot)]}}))}))}function Il(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return n=Er(e),r=n.No.get(t),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter((function(e){return!Wi(e,t)}))),void n.No.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,qu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Mc(n.remoteStore,r.targetId),Ol(n,r.targetId)})).catch(su)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ol(n,r.targetId),[4,qu(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Sl(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:r=Zl(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Er(e),i=Hr.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Xo());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Kn.bn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Io(c,n.get(c.key));null!=l&&a.push(new ko(c.key,l,eo(l.proto.mapValue),bo.exists(!0)))}return r.Tn.addMutationBatch(e,i,a,t)}))})).then((function(e){var t=e.applyToLocalDocumentSet(n);return{batchId:e.batchId,changes:t}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.Lo[e.currentUser.toKey()];r||(r=new zo(Sr)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ul(r,i.changes)];case 3:return s.sent(),[4,Gc(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=nl(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Cl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:n=Er(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ju(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.ko.get(t);r&&(_r(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?_r(r.Co):e.removedDocuments.size>0&&(_r(r.Co),r.Co=!1))})),[4,Ul(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,su(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function xl(e,t,n){var r=Er(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach((function(e,n){var r=n.view.eo(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Er(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(t)&&(r=!0)})),r&&fl(n)}(r.eventManager,t),i.length&&r.xo.Tr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function kl(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,fr.Jh)(this,(function(c){switch(c.label){case 0:return(r=Er(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.ko.get(t),(o=i&&i.key)?(a=(a=new zo(zr.comparator)).insert(o,new hi(o,$i.min())),s=Xo().add(o),u=new na($i.min(),new Map,new Bo(Sr),a,s),[4,Cl(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(t),Fl(r),[3,4];case 2:return[4,qu(r.localStore,t,!1).then((function(){return Ol(r,t,n)})).catch(su)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Nl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:n=Er(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Lu(n.localStore,t)];case 2:return i=o.sent(),Ml(n,r,null),Pl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ul(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,su(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Al(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:r=Er(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Er(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Tn.lookupMutationBatch(e,t).next((function(t){return _r(null!==t),r=t.keys(),n.Tn.removeMutationBatch(e,t)})).next((function(){return n.Tn.performConsistencyCheck(e)})).next((function(){return n.Kn.bn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Ml(r,t,n),Pl(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Ul(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,su(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Dl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:Fc((n=Er(e)).remoteStore)||gr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Er(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Tn.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Bo.get(r)||[]).push(t),n.Bo.set(r,i),[3,4]);case 3:return o=s.sent(),a=nl(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Pl(e,t){(e.Bo.get(t)||[]).forEach((function(e){e.resolve()})),e.Bo.delete(t)}function Ml(e,t,n){var r=Er(e),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function Ol(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.$o.get(t);r<i.length;r++){var o=i[r];e.No.delete(o),n&&e.xo.Ko(o,n)}e.$o.delete(t),e.isPrimaryClient&&e.Mo.os(t).forEach((function(t){e.Mo.containsKey(t)||Ll(e,t)}))}function Ll(e,t){e.Fo.delete(t.path.canonicalString());var n=e.Oo.get(t);null!==n&&(Mc(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.ko.delete(n),Fl(e))}function Rl(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof gl?(e.Mo.addReference(o.key,t),jl(e,o)):o instanceof vl?(gr("SyncEngine","Document no longer in limbo: "+o.key),e.Mo.removeReference(o.key,t),e.Mo.containsKey(o.key)||Ll(e,o.key)):wr()}}function jl(e,t){var n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.Fo.has(r)||(gr("SyncEngine","New document in limbo: "+n),e.Fo.add(r),Fl(e))}function Fl(e){for(;e.Fo.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){var t=e.Fo.values().next().value;e.Fo.delete(t);var n=new zr(jr.fromString(t)),r=e.qo.next();e.ko.set(r,new wl(n)),e.Oo=e.Oo.insert(n,r),Pc(e.remoteStore,new ks(Vi(Li(n.path)),r,2,dr.o))}}function Ul(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:return r=Er(e),i=[],o=[],a=[],r.No.isEmpty()?[3,3]:(r.No.forEach((function(e,s){a.push(r.Qo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Au.Nn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,fr.Jh)(this,(function(h){switch(h.label){case 0:n=Er(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ps.forEach(t,(function(t){return ps.forEach(t.Cn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return ps.forEach(t.xn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!bs(r=h.sent()))throw r;return gr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Bn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Bn=n.Bn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function zl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return(n=Er(e)).currentUser.isEqual(t)?[3,3]:(gr("SyncEngine","User change. New user:",t.toKey()),[4,Ou(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Bo.forEach((function(e){e.forEach((function(e){e.reject(new Lr(Or.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Ul(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function ql(e,t){var n=Er(e),r=n.ko.get(t);if(r&&r.Co)return Xo().add(r.key);var i=Xo(),o=n.$o.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.No.get(u);i=i.unionWith(c.view.To)}return i}function Vl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return[4,Vu((n=Er(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.So(r),[2,(n.isPrimaryClient&&Rl(n,t.targetId,i.Po),i)]}}))}))}function Bl(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){return[2,Wu((t=Er(e)).localStore).then((function(e){return Ul(t,e)}))]}))}))}function Wl(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Er(e),r=Er(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Jt(e,t).next((function(t){return t?n.Kn.bn(e,t):ps.resolve(null)}))}))}((i=Er(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Gc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ml(i,t,r||null),Pl(i,t),function(e,t){Er(Er(e).Tn).Xt(t)}(i.localStore,t)):wr(),a.label=4;case 4:return[4,Ul(i,o)];case 5:return a.sent(),[3,7];case 6:gr("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Gl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,fr.Jh)(this,(function(l){switch(l.label){case 0:return Jl(n=Er(e)),Zl(n),!0!==t||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Hl(n,r.toArray())]);case 1:return i=l.sent(),n.Uo=!0,[4,Zc(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Pc(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Uo?[3,7]:(u=[],c=Promise.resolve(),n.$o.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Ol(n,t),qu(n.localStore,t,!0)})),Mc(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Hl(n,u)];case 5:return l.sent(),function(e){var t=Er(e);t.ko.forEach((function(e,n){Mc(t.remoteStore,n)})),t.Mo.cs(),t.ko=new Map,t.Oo=new zo(zr.comparator)}(n),n.Uo=!1,[4,Zc(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Hl(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,m;return(0,fr.Jh)(this,(function(g){switch(g.label){case 0:n=Er(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.$o.get(s))&&0!==c.length?[4,zu(n.localStore,Vi(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.No.get(f),[4,Vl(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Bu(n.localStore,s)];case 8:return m=g.sent(),[4,zu(n.localStore,m)];case 9:return u=g.sent(),[4,Tl(n,Ql(m),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}}))}))}function Ql(e){return Oi(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Kl(e){var t=Er(e);return Er(Er(t.localStore).persistence).gn()}function Yl(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:return(i=Er(e)).Uo?(gr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Wu(i.localStore)];case 3:return o=s.sent(),a=na.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Ul(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,qu(i.localStore,t,!0)];case 6:return s.sent(),Ol(i,t,r),[3,8];case 7:wr(),s.label=8;case 8:return[2]}}))}))}function $l(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,fr.Jh)(this,(function(d){switch(d.label){case 0:if(!(r=Jl(e)).Uo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.$o.has(a)?(gr("SyncEngine","Adding an already active target "+a),[3,5]):[4,Bu(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,zu(r.localStore,s)];case 3:return u=d.sent(),[4,Tl(r,Ql(s),u.targetId,!1)];case 4:d.sent(),Pc(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return r.$o.has(e)?[4,qu(r.localStore,e,!1).then((function(){Mc(r.remoteStore,e),Ol(r,e)})).catch(su)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Jl(e){var t=Er(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Cl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ql.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kl.bind(null,t),t.xo.Tr=ll.bind(null,t.eventManager),t.xo.Ko=hl.bind(null,t.eventManager),t}function Zl(e){var t=Er(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nl.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Al.bind(null,t),t}var Xl=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return this.D=Ec(e.databaseInfo.databaseId),this.sharedClientState=this.jo(e),this.persistence=this.Go(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e),[2]}}))}))},e.prototype.zo=function(e){return null},e.prototype.Ho=function(e){return Mu(this.persistence,new Du,e.initialUser,this.D)},e.prototype.Go=function(e){return new tc(rc.Cs,this.D)},e.prototype.jo=function(e){return new pc},e.prototype.terminate=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),eh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Jo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,fr.ZT)(t,e),t.prototype.initialize=function(t){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Gu(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,t)];case 3:return n.sent(),[4,Zl(this.Jo.syncEngine)];case 4:return n.sent(),[4,Gc(this.Jo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ho=function(e){return Mu(this.persistence,new Du,e.initialUser,this.D)},t.prototype.zo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new lu(t,e.asyncQueue)},t.prototype.Go=function(e){var t=xu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ks.withCacheSize(this.cacheSizeBytes):Ks.DEFAULT;return new Iu(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,wc(),_c(),this.D,this.sharedClientState,!!this.forceOwnership)},t.prototype.jo=function(e){return new pc},t}(Xl),th=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Jo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,fr.ZT)(t,e),t.prototype.initialize=function(t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof dc?(this.sharedClientState.syncEngine={wi:Wl.bind(null,n),_i:Yl.bind(null,n),mi:$l.bind(null,n),gn:Kl.bind(null,n),di:Bl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en((function(e){return(0,fr.mG)(r,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return[4,Gl(this.Jo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.jo=function(e){var t=wc();if(!dc.At(t))throw new Lr(Or.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dc(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(eh),nh=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n=this;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return xl(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zl.bind(null,this.syncEngine),[4,Zc(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new sl},e.prototype.createDatastore=function(e){var t,n=Ec(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new bc(t));return function(e,t,n){return new xc(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return xl(a.syncEngine,e,0)},o=gc.At()?new gc:new mc,new Nc(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new _l(e,t,n,r,i,o);return a&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=Er(e),gr("RemoteStore","RemoteStore shutting down."),t.Qr.add(5),[4,Dc(t)];case 1:return n.sent(),t.Wr.shutdown(),t.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),rh=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.Yo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Xo=function(){this.muted=!0},e.prototype.Yo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),ih=(function(){function e(e,t){var n=this;this.Zo=e,this.D=t,this.metadata=new ds,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then((function(e){e&&e.ho()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Zo.cancel()},e.prototype.getMetadata=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Wo=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.ec())]}}))}))},e.prototype.ec=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t,n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(e=i.sent())?[2,null]:(t=this.tc.decode(e),n=Number(t),isNaN(n)&&this.sc("length string ("+t+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new pl(JSON.parse(r),e.length+n)]}}))}))},e.prototype.rc=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.nc=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.ic=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.tc.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.sc=function(e){throw this.Zo.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.oc=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Lr(Or.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,fr.Jh)(this,(function(u){switch(u.label){case 0:return n=Er(e),r=Ia(n.D)+"/documents",i={documents:t.map((function(e){return wa(n.D,e)}))},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){_r(!!t.found),t.found.name,t.found.updateTime;var n=_a(e,t.found.name),r=va(t.found.updateTime),i=new Zi({mapValue:{fields:t.found.fields}});return new li(n,r,i,{})}(e,t):"missing"in t?function(e,t){_r(!!t.missing),_r(!!t.readTime);var n=_a(e,t.missing),r=va(t.readTime);return new hi(n,r)}(e,t):wr()}(n.D,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());_r(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof hi||e instanceof li?n.recordVersion(e):wr()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Lo(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=zr.fromPath(n);t.mutations.push(new Ro(r,t.precondition(r)))})),[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return n=Er(e),r=Ia(n.D)+"/documents",i={writes:t.map((function(e){return ka(n.D,e)}))},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof li)t=e.version;else{if(!(e instanceof hi))throw wr();t=$i.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Lr(Or.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?bo.updateTime(t):bo.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($i.min()))throw new Lr(Or.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bo.updateTime(t)}return bo.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),oh=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new Tc(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ac()},e.prototype.ac=function(){var e=this;this.rr.Yi((function(){return(0,fr.mG)(e,void 0,void 0,(function(){var e,t,n=this;return(0,fr.Jh)(this,(function(r){return e=new ih(this.datastore),(t=this.uc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.hc(e)}))}))})).catch((function(e){n.hc(e)})),[2]}))}))}))},e.prototype.uc=function(e){try{var t=this.updateFunction(e);return!Dr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.hc=function(e){var t=this;this.cc>0&&this.lc(e)?(this.cc-=1,this.asyncQueue.enqueueAndForget((function(){return t.ac(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.lc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Fo(t)}return!1},e}(),ah=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=ic.UNAUTHENTICATED,this.clientId=Ir.u(),this.credentialListener=function(){},this.receivedInitialUser=new ds,this.credentials.setChangeListener((function(e){gr("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Lr(Or.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,fr.mG)(e,void 0,void 0,(function(){var e,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=nl(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function sh(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),gr("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return(0,fr.mG)(i,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return[4,Ou(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function uh(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,ch(e)];case 1:return n=i.sent(),gr("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return(n=Er(e)).asyncQueue.verifyOperationInProgress(),gr("RemoteStore","RemoteStore received new credentials"),r=Fc(n),n.Qr.add(3),[4,Dc(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Qr.delete(3),[4,Ac(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function ch(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(gr("FirestoreClient","Using default OfflineComponentProvider"),[4,sh(e,new Xl)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function lh(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(gr("FirestoreClient","Using default OnlineComponentProvider"),[4,uh(e,new nh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function hh(e){return ch(e).then((function(e){return e.persistence}))}function fh(e){return ch(e).then((function(e){return e.localStore}))}function dh(e){return lh(e).then((function(e){return e.remoteStore}))}function ph(e){return lh(e).then((function(e){return e.syncEngine}))}function mh(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return[4,lh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=El.bind(null,t.syncEngine),n.onUnlisten=Il.bind(null,t.syncEngine),n)]}}))}))}function gh(e,t,n){var r=this;void 0===n&&(n={});var i=new ds;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(r,void 0,void 0,(function(){var r;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new rh({next:function(o){t.enqueueAndForget((function(){return cl(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Lr(Or.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Lr(Or.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new dl(Li(n.path),o,{includeMetadataChanges:!0,uo:!0});return ul(e,a)},[4,mh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function vh(e,t,n){var r=this;void 0===n&&(n={});var i=new ds;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(r,void 0,void 0,(function(){var r;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new rh({next:function(n){t.enqueueAndForget((function(){return cl(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Lr(Or.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new dl(n,o,{includeMetadataChanges:!0,uo:!0});return ul(e,a)},[4,mh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var yh=function(e,t,n,r,i,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},bh=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),wh=new Map,_h=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Eh=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(ic.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Th=function(){function e(e){var t=this;this.fc=null,this.currentUser=ic.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){t.dc++,t.currentUser=t.wc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.dc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),e.get().then((function(e){t.auth=e,t.fc&&t.auth.addAuthTokenListener(t.fc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.dc!==t?(gr("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_r("string"==typeof n.accessToken),new _h(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},e.prototype.wc=function(){var e=this.auth&&this.auth.getUid();return _r(null===e||"string"==typeof e),new ic(e)},e}(),Ih=function(){function e(e,t){this._c=e,this.mc=t,this.type="FirstParty",this.user=ic.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.mc},t=this._c.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),Sh=function(){function e(e,t){this._c=e,this.mc=t}return e.prototype.getToken=function(){return Promise.resolve(new Ih(this._c,this.mc))},e.prototype.setChangeListener=function(e){e(ic.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Ch(e,t,n){if(!n)throw new Lr(Or.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function xh(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Lr(Or.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function kh(e,t,n,r){if(!0===t&&!0===r)throw new Lr(Or.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Nh(e){if(!zr.isDocumentKey(e))throw new Lr(Or.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Ah(e){if(zr.isDocumentKey(e))throw new Lr(Or.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Dh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":wr()}function Ph(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Lr(Or.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Dh(e);throw new Lr(Or.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Mh(e,t){if(t<=0)throw new Lr(Or.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Oh=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Lr(Or.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Lr(Or.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,kh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Lh=function(){function e(e,t){this._persistenceKey="(lite)",this._settings=new Oh({}),this._settingsFrozen=!1,e instanceof bh?(this._databaseId=e,this._credentials=new Eh):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lr(Or.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(e.options.projectId)}(e),this._credentials=new Th(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Lr(Or.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Lr(Or.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oh(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Eh;switch(e.type){case"gapi":var t=e.client;return _r(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Sh(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Lr(Or.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=wh.get(this))&&(gr("ComponentProvider","Removing Datastore"),wh.delete(this),e.terminate()),Promise.resolve();var e},e}(),Rh=function(e){this._delegate=e},jh=function(){function e(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Uh(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Fh=function(){function e(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Uh=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Li(r))||this).firestore=t,i._path=r,i.type="collection",i}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new jh(this.firestore,null,new zr(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Fh);function zh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Rh&&(e=e._delegate),Ch("collection","path",t),e instanceof Lh)return Ah(n=jr.fromString.apply(jr,(0,fr.ev)([t],r))),new Uh(e,null,n);if(!(e instanceof jh||e instanceof Uh))throw new Lr(Or.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ah(n=jr.fromString.apply(jr,(0,fr.ev)([e.path],r)).child(jr.fromString(t))),new Uh(e.firestore,null,n)}function qh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Rh&&(e=e._delegate),1===arguments.length&&(t=Ir.u()),Ch("doc","path",t),e instanceof Lh)return Nh(n=jr.fromString.apply(jr,(0,fr.ev)([t],r))),new jh(e,null,new zr(n));if(!(e instanceof jh||e instanceof Uh))throw new Lr(Or.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Nh(n=e._path.child(jr.fromString.apply(jr,(0,fr.ev)([t],r)))),new jh(e.firestore,e instanceof Uh?e._converter:null,new zr(n))}function Vh(e,t){return e instanceof Rh&&(e=e._delegate),t instanceof Rh&&(t=t._delegate),(e instanceof jh||e instanceof Uh)&&(t instanceof jh||t instanceof Uh)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function Bh(e,t){return e instanceof Rh&&(e=e._delegate),t instanceof Rh&&(t=t._delegate),e instanceof Fh&&t instanceof Fh&&e.firestore===t.firestore&&Wi(e._query,t._query)&&e._converter===t._converter}var Wh=function(){function e(){var e=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new Tc(this,"async_queue_retry"),this.bc=function(){var t=_c();t&&gr("AsyncQueue","Visibility state changed to "+t.visibilityState),e.rr.Zi()};var t=_c();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.vc(),this.Pc(e)},e.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var e=_c();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}},e.prototype.enqueue=function(e){return this.vc(),this.Ec?new Promise((function(e){})):this.Pc(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))},e.prototype.Vc=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!bs(e=n.sent()))throw e;return gr("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.gc.length>0&&this.rr.Yi((function(){return t.Vc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Pc=function(e){var t=this,n=this.yc.then((function(){return t.Ac=!0,e().catch((function(e){throw t.Ic=e,t.Ac=!1,vr("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Ac=!1,e}))}));return this.yc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.vc(),this.Rc.indexOf(e)>-1&&(t=0);var i=tl.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i},e.prototype.vc=function(){this.Ic&&wr()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Dc=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e;return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return[4,e=this.yc];case 1:t.sent(),t.label=2;case 2:if(e!==this.yc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Cc=function(e){for(var t=0,n=this.Tc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.xc=function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Dc()}))},e.prototype.Nc=function(e){this.Rc.push(e)},e.prototype.Sc=function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)},e}();function Gh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new ds,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Hh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._queue=new Wh,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,fr.ZT)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Kh(this),this._firestoreClient.terminate()},t}(Lh);function Qh(e){return e._firestoreClient||Kh(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Kh(e){var t=e._freezeSettings(),n=function(e,t,n){return new yh(e,t,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(e._databaseId,e._persistenceKey,t);e._firestoreClient=new ah(e._credentials,e._queue,n)}function Yh(e,t,n){var r=this,i=new ds;return e.asyncQueue.enqueue((function(){return(0,fr.mG)(r,void 0,void 0,(function(){var r;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,sh(e,n)];case 1:return o.sent(),[4,uh(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Or.FAILED_PRECONDITION||e.code===Or.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function $h(e){if(e._initialized||e._terminated)throw new Lr(Or.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Jh=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Lr(Or.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ur(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Zh=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(qr.fromBase64String(t))}catch(t){throw new Lr(Or.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(qr.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Xh=function(e){this._methodName=e},ef=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Lr(Or.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Lr(Or.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Sr(this._lat,e._lat)||Sr(this._long,e._long)},e}(),tf=/^__.*__$/,nf=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new ko(e,this.data,this.fieldMask,t,this.fieldTransforms):new xo(e,this.data,t,this.fieldTransforms)},e}(),rf=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new ko(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function of(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wr()}}var af=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),e.prototype.Oc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Mc:!1});return r.Lc(e),r},e.prototype.Bc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Mc:!1});return r.$c(),r},e.prototype.qc=function(e){return this.Oc({path:void 0,Mc:!0})},e.prototype.Uc=function(e){return Cf(e,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.$c=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))},e.prototype.Lc=function(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(of(this.Fc)&&tf.test(e))throw this.Uc('Document fields cannot begin and end with "__"')},e}(),sf=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.D=n||Ec(e)}return e.prototype.Wc=function(e,t,n,r){return void 0===r&&(r=!1),new af({Fc:e,methodName:t,Kc:n,path:Ur.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},e}();function uf(e){var t=e._freezeSettings(),n=Ec(e._databaseId);return new sf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cf(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Wc(o.merge||o.mergeFields?2:0,t,n,i);Ef("Data must be an object, but it was:",a,r);var s,u,c=wf(r,a);if(o.merge)s=new Ji(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Tf(t,f[h],n);if(!a.contains(d))throw new Lr(Or.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");xf(l,d)||l.push(d)}s=new Ji(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new nf(new Zi(c),s,u)}var lf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Fc)throw 1===e.Fc?e.Uc(this._methodName+"() can only appear at the top level of your update data"):e.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Xh);function hf(e,t,n){return new af({Fc:3,Kc:t.settings.Kc,methodName:e._methodName,Mc:n},t.databaseId,t.D,t.ignoreUndefinedProperties)}var ff=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){return new vo(e.path,new uo)},t.prototype.isEqual=function(e){return e instanceof t},t}(Xh),df=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=hf(this,e,!0),n=this.jc.map((function(e){return bf(e,t)})),r=new co(n);return new vo(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Xh),pf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=hf(this,e,!0),n=this.jc.map((function(e){return bf(e,t)})),r=new ho(n);return new vo(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Xh),mf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Gc=n,r}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=new po(e.D,ro(e.D,this.Gc));return new vo(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Xh);function gf(e,t,n,r){var i=e.Wc(1,t,n);Ef("Data must be an object, but it was:",i,r);var o=[],a=new Xi;Nr(r,(function(e,r){var s=Sf(t,e,n);r instanceof Rh&&(r=r._delegate);var u=i.Bc(s);if(r instanceof lf)o.push(s);else{var c=bf(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Ji(o);return new rf(a.v(),s,i.fieldTransforms)}function vf(e,t,n,r,i,o){var a=e.Wc(1,t,n),s=[Tf(t,r,n)],u=[i];if(o.length%2!=0)throw new Lr(Or.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Tf(t,o[c])),u.push(o[c+1]);for(var l=[],h=new Xi,f=s.length-1;f>=0;--f)if(!xf(l,s[f])){var d=s[f],p=u[f];p instanceof Rh&&(p=p._delegate);var m=a.Bc(d);if(p instanceof lf)l.push(d);else{var g=bf(p,m);null!=g&&(l.push(d),h.set(d,g))}}var v=new Ji(l);return new rf(h.v(),v,a.fieldTransforms)}function yf(e,t,n,r){return void 0===r&&(r=!1),bf(n,e.Wc(r?4:3,t))}function bf(e,t){if(e instanceof Rh&&(e=e._delegate),_f(e))return Ef("Unsupported field value:",t,e),wf(e,t);if(e instanceof Xh)return function(e,t){if(!of(t.Fc))throw t.Uc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Uc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Mc&&4!==t.Fc)throw t.Uc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=bf(o[i],t.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(e instanceof Rh&&(e=e._delegate),null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ro(t.D,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hr.fromDate(e);return{timestampValue:pa(t.D,n)}}if(e instanceof Hr)return n=new Hr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:pa(t.D,n)};if(e instanceof ef)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Zh)return{bytesValue:ma(t.D,e._byteString)};if(e instanceof jh){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ya(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc("Unsupported field value: "+Dh(e))}(e,t)}function wf(e,t){var n={};return Ar(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nr(e,(function(e,r){var i=bf(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function _f(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hr||e instanceof ef||e instanceof Zh||e instanceof jh||e instanceof Xh)}function Ef(e,t,n){if(!_f(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Dh(n);throw"an object"===r?t.Uc(e+" a custom object"):t.Uc(e+" "+r)}}function Tf(e,t,n){if(t instanceof Rh&&(t=t._delegate),t instanceof Jh)return t._internalPath;if("string"==typeof t)return Sf(e,t);throw Cf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var If=new RegExp("[~\\*/\\[\\]]");function Sf(e,t,n){if(t.search(If)>=0)throw Cf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Jh.bind.apply(Jh,(0,fr.ev)([void 0],t.split(".")))))._internalPath}catch(r){throw Cf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Cf(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Lr(Or.INVALID_ARGUMENT,(s+=". ")+e+u)}function xf(e,t){return e.some((function(e){return e.isEqual(t)}))}var kf=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new jh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Nf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data().field(Af("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Nf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(kf);function Af(e,t){return"string"==typeof t?Sf(e,t):t instanceof Rh?t._delegate._internalPath:t._internalPath}var Df=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Pf=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,fr.ZT)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data().field(Af("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(kf),Mf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Pf),Of=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Df(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Mf(n._firestore,n._userDataWriter,r.key,r,new Df(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lr(Or.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Mf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Df(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Mf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Df(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Lf(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Lf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wr()}}function Rf(e,t){return e instanceof Pf&&t instanceof Pf?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Of&&t instanceof Of&&e._firestore===t._firestore&&Bh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function jf(e){if(ji(e)&&0===e.explicitOrderBy.length)throw new Lr(Or.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ff=function(){};function Uf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var zf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).zc=t,i.Hc=n,i.Jc=r,i.type="where",i}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){var t=uf(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Lr(Or.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Qf(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Hf(r,e,h))}s={arrayValue:{values:u}}}else s=Hf(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Qf(a,o),s=yf(n,"where",a,"in"===o||"not-in"===o);var f=yi.create(i,o,s);return function(e,t){if(t.g()){var n=Ui(e);if(null!==n&&!n.isEqual(t.field))throw new Lr(Or.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Fi(e);null!==r&&Kf(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Lr(Or.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Lr(Or.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Fh(e.firestore,e._converter,function(e,t){var n=e.filters.concat([t]);return new Mi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Ff),qf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).zc=t,r.Yc=n,r.type="orderBy",r}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Lr(Or.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Lr(Or.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ni(t,n);return function(e,t){if(null===Fi(e)){var n=Ui(e);null!==n&&Kf(0,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new Fh(e.firestore,e._converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Mi(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Ff),Vf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Xc=n,i.Zc=r,i}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){return new Fh(e.firestore,e._converter,Bi(e._query,this.Xc,this.Zc))},t}(Ff),Bf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.ta=n,i.ea=r,i}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){var t=Gf(e,this.type,this.ta,this.ea);return new Fh(e.firestore,e._converter,function(e,t){return new Mi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Ff),Wf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.ta=n,i.ea=r,i}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){var t=Gf(e,this.type,this.ta,this.ea);return new Fh(e.firestore,e._converter,function(e,t){return new Mi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Ff);function Gf(e,t,n,r){if(n[0]instanceof Rh&&(n[0]=n[0]._delegate),n[0]instanceof kf)return function(e,t,n,r,i){if(!r)throw new Lr(Or.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=qi(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(ri(t,r.key));else{var c=r.field(u.field);if(Qr(c))throw new Lr(Or.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Lr(Or.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new xi(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=uf(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Lr(Or.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Lr(Or.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!zi(e)&&-1!==c.indexOf("/"))throw new Lr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(jr.fromString(c));if(!zr.isDocumentKey(l))throw new Lr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new zr(l);s.push(ri(t,h))}else{var f=yf(n,r,c);s.push(f)}}return new xi(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Hf(e,t,n){if(n instanceof Rh&&(n=n._delegate),"string"==typeof n){if(""===n)throw new Lr(Or.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zi(t)&&-1!==n.indexOf("/"))throw new Lr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(jr.fromString(n));if(!zr.isDocumentKey(r))throw new Lr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ri(e,new zr(r))}if(n instanceof jh)return ri(e,n._key);throw new Lr(Or.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Dh(n)+".")}function Qf(e,t){if(!Array.isArray(e)||0===e.length)throw new Lr(Or.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Lr(Or.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Kf(e,t,n){if(!n.isEqual(t))throw new Lr(Or.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Yf=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),$r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wr()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Nr(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new ef(Wr(e.latitude),Wr(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Kr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yr(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Br(e);return new Hr(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=jr.fromString(e);_r(Ba(n));var r=new bh(n.get(1),n.get(3)),i=new zr(n.popFirst(5));return r.isEqual(t)||vr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function $f(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Jf=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,fr.ZT)(t,e),t.prototype.convertBytes=function(e){return new Zh(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jh(this.firestore,null,t)},t}(Yf),Zf=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=uf(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Xf(e,this._firestore),i=$f(r._converter,t,n),o=cf(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,bo.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Xf(e,this._firestore);return t instanceof Rh&&(t=t._delegate),o="string"==typeof t||t instanceof Jh?vf(this._dataReader,"WriteBatch.update",a._key,t,n,r):gf(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,bo.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Xf(e,this._firestore);return this._mutations=this._mutations.concat(new Lo(t._key,bo.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Lr(Or.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Xf(e,t){if(e instanceof Rh&&(e=e._delegate),e.firestore!==t)throw new Lr(Or.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ed=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,fr.ZT)(t,e),t.prototype.convertBytes=function(e){return new Zh(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jh(this.firestore,null,t)},t}(Yf);function td(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ph(e,jh);var o=Ph(e.firestore,Hh),a=uf(o);return t instanceof Rh&&(t=t._delegate),rd(o,[("string"==typeof t||t instanceof Jh?vf(a,"updateDoc",e._key,t,n,r):gf(a,"updateDoc",e._key,t)).toMutation(e._key,bo.exists(!0))])}function nd(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e instanceof Rh&&(e=e._delegate);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Gh(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Gh(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof jh)c=Ph(e.firestore,Hh),l=Li(e._key.path),u={next:function(t){i[s]&&i[s](id(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Ph(e,Fh);c=Ph(d.firestore,Hh),l=d._query;var p=new ed(c);u={next:function(e){i[s]&&i[s](new Of(c,p,d,e))},error:i[s+1],complete:i[s+2]},jf(e._query)}return function(e,t,n,r){var i=this,o=new rh(r),a=new dl(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(i,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=ul,[4,mh(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Xo(),e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(i,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=cl,[4,mh(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Qh(c),l,h,u)}function rd(e,t){return function(e,t){var n=this,r=new ds;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return n=Sl,[4,ph(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Qh(e),t)}function id(e,t,n){var r=n.docs.get(t._key),i=new ed(e);return new Pf(e,i,t._key,r,new Df(n.hasPendingWrites,n.fromCache),t._converter)}var od=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,fr.ZT)(t,e),t.prototype.get=function(t){var n=this,r=Xf(t,this._firestore),i=new ed(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Pf(n._firestore,i,r._key,e._document,new Df(!1,!1),r._converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=uf(e)}return e.prototype.get=function(e){var t=this,n=Xf(e,this._firestore),r=new Jf(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return wr();var i=e[0];if(i instanceof hi)return new kf(t._firestore,r,n._key,null,n._converter);if(i instanceof li)return new kf(t._firestore,r,i.key,i,n._converter);throw wr()}))},e.prototype.set=function(e,t,n){var r=Xf(e,this._firestore),i=$f(r._converter,t,n),o=cf(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Xf(e,this._firestore);return t instanceof Rh&&(t=t._delegate),o="string"==typeof t||t instanceof Jh?vf(this._dataReader,"Transaction.update",a._key,t,n,r):gf(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Xf(e,this._firestore);return this._transaction.delete(t._key),this},e}());function ad(){if("undefined"==typeof Uint8Array)throw new Lr(Or.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function sd(){if("undefined"==typeof atob)throw new Lr(Or.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ud=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.fromBase64String=function(e){return sd(),new t(Zh.fromBase64String(e))},t.fromUint8Array=function(e){return ad(),new t(Zh.fromUint8Array(e))},t.prototype.toBase64=function(){return sd(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return ad(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(Rh),cd=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){$h(e=Ph(e,Hh));var n=Qh(e),r=e._freezeSettings(),i=new nh;return Yh(n,i,new eh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){$h(e=Ph(e,Hh));var t=Qh(e),n=e._freezeSettings(),r=new nh;return Yh(t,r,new th(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Lr(Or.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ds;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return gs.At()?(t=e+"main",[4,gs.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(xu(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),ld=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},t instanceof bh||(i.sa=t),i}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,t){!function(e,t,n){var r=(e=Ph(e,Lh))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==t&&yr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:t+":"+n,ssl:!1}))}(this._delegate,e,t)},t.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return[4,hh(e)];case 1:return t=r.sent(),[4,dh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Er(e);return t.Qr.delete(0),Ac(t)}(n))]}}))}))}))}(Qh(Ph(this._delegate,Hh)))},t.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return[4,hh(e)];case 1:return t=r.sent(),[4,dh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return(t=Er(e)).Qr.add(0),[4,Dc(t)];case 1:return n.sent(),t.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Qh(Ph(this._delegate,Hh)))},t.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&kh("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new ds;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return t=Dl,[4,ph(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Qh(Ph(this._delegate,Hh)))},t.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new rh(t);return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Er(e).Zr.add(t),t.next()},[4,mh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Xo(),e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Er(e).Zr.delete(t)},[4,mh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Qh(e=Ph(e,Hh)),Gh(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.sa)throw new Lr(Or.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Id(this,zh(this._delegate,e))}catch(e){throw gd(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new md(this,qh(this._delegate,e))}catch(e){throw gd(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new _d(this,function(e,t){if(e=Ph(e,Lh),Ch("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Lr(Or.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Fh(e,null,function(e){return new Mi(jr.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw gd(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new ds;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(e){return lh(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new oh(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Qh(e),(function(n){return t(new od(e,n))}))}(this._delegate,(function(n){return e(new fd(t,n))}))},t.prototype.batch=function(){var e=this;return Qh(this._delegate),new dd(new Zf(this._delegate,(function(t){return rd(e._delegate,t)})))},t.prototype.loadBundle=function(e){throw new Lr(Or.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Lr(Or.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(Rh),hd=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,fr.ZT)(t,e),t.prototype.convertBytes=function(e){return new ud(new Zh(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return md.ia(t,this.firestore,null)},t}(Yf),fd=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r._userDataWriter=new hd(t),r}return(0,fr.ZT)(t,e),t.prototype.get=function(e){var t=this,n=Sd(e);return this._delegate.get(n).then((function(e){return new bd(t._firestore,new Pf(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},t.prototype.set=function(e,t,n){var r=Sd(e);return n?(xh("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Sd(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,fr.ev)([a,t,n],i)),this},t.prototype.delete=function(e){var t=Sd(e);return this._delegate.delete(t),this},t}(Rh),dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.set=function(e,t,n){var r=Sd(e);return n?(xh("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Sd(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,fr.ev)([a,t,n],i)),this},t.prototype.delete=function(e){var t=Sd(e);return this._delegate.delete(t),this},t.prototype.commit=function(){return this._delegate.commit()},t}(Rh),pd=function(e){function t(t,n,r){var i=this;return(i=e.call(this,r)||this)._firestore=t,i._userDataWriter=n,i}return(0,fr.ZT)(t,e),t.prototype.fromFirestore=function(e,t){var n=new Mf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wd(this._firestore,n),null!=t?t:{})},t.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},t.ra=function(e,n){var r=t.oa,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new hd(e),n),i.set(n,o)),o},t}(Rh);pd.oa=new WeakMap;var md=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r._userDataWriter=new hd(t),r}return(0,fr.ZT)(t,e),t.ca=function(e,n,r){if(e.length%2!=0)throw new Lr(Or.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new jh(n._delegate,r,new zr(e)))},t.ia=function(e,n,r){return new t(n,new jh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Id(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Id(this.firestore,zh(this._delegate,e))}catch(e){throw gd(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return e instanceof Rh&&(e=e._delegate),e instanceof jh&&Vh(this._delegate,e)},t.prototype.set=function(e,t){t=xh("DocumentReference.set",t);try{return function(e,t,n){e=Ph(e,jh);var r=Ph(e.firestore,Hh),i=$f(e._converter,t,n);return rd(r,[cf(uf(r),"setDoc",e._key,i,null!==e._converter,n).toMutation(e._key,bo.none())])}(this._delegate,e,t)}catch(e){throw gd(e,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?td(this._delegate,e):td.apply(void 0,(0,fr.ev)([this._delegate,e,t],n))}catch(e){throw gd(e,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return rd(Ph((e=this._delegate).firestore,Hh),[new Lo(e._key,bo.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=vd(t),i=yd(t,(function(t){return new bd(e.firestore,new Pf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return nd(this._delegate,r,i)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Ph(e,jh);var t=Ph(e.firestore,Hh),n=Qh(t),r=new ed(t);return function(e,t){var n=this,r=new ds;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Er(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Kn.In(e,t)}))}(e,t)];case 1:return(i=o.sent())instanceof li?n.resolve(i):i instanceof hi?n.resolve(null):n.reject(new Lr(Or.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=nl(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,fh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Pf(t,r,e._key,n,new Df(n instanceof li&&n.hasLocalMutations,!0),e._converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Ph(e,jh);var t=Ph(e.firestore,Hh);return gh(Qh(t),e._key,{source:"server"}).then((function(n){return id(t,e,n)}))}(this._delegate):function(e){e=Ph(e,jh);var t=Ph(e.firestore,Hh);return gh(Qh(t),e._key).then((function(n){return id(t,e,n)}))}(this._delegate)).then((function(e){return new bd(t.firestore,new Pf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(pd.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(Rh);function gd(e,t,n){return e.message=e.message.replace(t,n),e}function vd(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Gh(r))return r}return{}}function yd(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Gh(e[0])?e[0]:Gh(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var bd=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new md(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,t){return this._delegate.get(e,t)},t.prototype.isEqual=function(e){return Rf(this._delegate,e._delegate)},t}(Rh),wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(bd),_d=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r._userDataWriter=new hd(t),r}return(0,fr.ZT)(t,e),t.prototype.where=function(e,n,r){try{return new t(this.firestore,Uf(this._delegate,function(e,t,n){var r=t,i=Af("where",e);return new zf(i,r,n)}(e,n,r)))}catch(e){throw gd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Uf(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Af("orderBy",e);return new qf(r,n)}(e,n)))}catch(e){throw gd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Uf(this._delegate,function(e){return Mh("limit",e),new Vf("limit",e,"F")}(e)))}catch(e){throw gd(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Uf(this._delegate,function(e){return Mh("limitToLast",e),new Vf("limitToLast",e,"L")}(e)))}catch(e){throw gd(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Uf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bf("startAt",e,!0)}.apply(void 0,e)))}catch(e){throw gd(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Uf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bf("startAfter",e,!1)}.apply(void 0,e)))}catch(e){throw gd(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Uf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Wf("endBefore",e,!0)}.apply(void 0,e)))}catch(e){throw gd(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Uf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Wf("endAt",e,!1)}.apply(void 0,e)))}catch(e){throw gd(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return Bh(this._delegate,e._delegate)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Ph(e,Fh);var t=Ph(e.firestore,Hh),n=Qh(t),r=new ed(t);return function(e,t){var n=this,r=new ds;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,fr.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Vu(e,t,!0)];case 1:return s=u.sent(),r=new yl(t,s.jn),i=r.Io(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=nl(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,fh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Of(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Ph(e,Fh);var t=Ph(e.firestore,Hh),n=Qh(t),r=new ed(t);return vh(n,e._query,{source:"server"}).then((function(n){return new Of(t,r,e,n)}))}(this._delegate):function(e){e=Ph(e,Fh);var t=Ph(e.firestore,Hh),n=Qh(t),r=new ed(t);return jf(e._query),vh(n,e._query).then((function(n){return new Of(t,r,e,n)}))}(this._delegate)).then((function(e){return new Td(t.firestore,new Of(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=vd(t),i=yd(t,(function(t){return new Td(e.firestore,new Of(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return nd(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(pd.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(Rh),Ed=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new wd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(Rh),Td=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new _d(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new wd(e._firestore,t)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Ed(t._firestore,e)}))},t.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new wd(n._firestore,r))}))},t.prototype.isEqual=function(e){return Rf(this._delegate,e._delegate)},t}(Rh),Id=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new md(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new md(this.firestore,void 0===e?qh(this._delegate):qh(this._delegate,e))}catch(e){throw gd(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Ph(e.firestore,Hh),r=qh(e),i=$f(e._converter,t);return rd(n,[cf(uf(e.firestore),"addDoc",r._key,i,null!==e._converter,{}).toMutation(r._key,bo.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new md(t.firestore,e)}))},t.prototype.isEqual=function(e){return Vh(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(pd.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(_d);function Sd(e){return e instanceof Rh&&(e=e._delegate),Ph(e,jh)}var Cd,xd=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,new(Jh.bind.apply(Jh,(0,fr.ev)([void 0],t))))||this}return(0,fr.ZT)(t,e),t.documentId=function(){return new t(Ur.keyField().canonicalString())},t.prototype.isEqual=function(e){return e instanceof Rh&&(e=e._delegate),e instanceof Jh&&this._delegate._internalPath.isEqual(e._internalPath)},t}(Rh),kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.serverTimestamp=function(){var e=new ff("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new lf("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new df("arrayUnion",e)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new pf("arrayRemove",e)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(e){return new mf("increment",e)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(Rh),Nd=n(924),Ad={Firestore:ld,GeoPoint:ef,Timestamp:Hr,Blob:ud,Transaction:fd,WriteBatch:dd,DocumentReference:md,DocumentSnapshot:bd,Query:_d,QueryDocumentSnapshot:wd,QuerySnapshot:Td,CollectionReference:Id,FieldPath:xd,FieldValue:kd,setLogLevel:function(e){var t;t=e,pr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Nd.wA("firestore",(function(e){return function(e,t){return new ld(e,new Hh(e,t),new cd)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ad)))})(Cd=r.Z),Cd.registerVersion("@firebase/firestore","2.2.1"),n(991),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,n){if(n){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(n=n(o=r[e=e[e.length-1]]))!=o&&null!=n&&t(r,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Qa(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""}function f(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function m(e){return"function"==d(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function T(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var I=Date.now;function S(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function C(e){return e}function x(e,t,n){this.code=A+e,this.message=t||D[e]||"",this.a=n||null}function k(e){var t=e&&e.code;return t?new x(t.substring(A.length),e.message,e.serverResponse):null}S(x,Error),x.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},x.prototype.toJSON=function(){return this.w()};var N,A="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function M(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function O(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function L(e){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function R(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");L.call(this,n+e[r])}function j(e,t){throw new R("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function U(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function z(){this.b=this.a=null}N=M("__EID__")?"__EID__":void 0,S(L,Error),L.prototype.name="CustomError",S(R,L),R.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var q=new F((function(){return new B}),(function(e){e.reset()}));function V(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}z.prototype.add=function(e,t){var n=q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},G=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},H=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},Q=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},K=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Y(e,t){return 0<=W(e,t)}function $(e,t){var n;return(n=0<=(t=W(e,t)))&&Array.prototype.splice.call(e,t,1),n}function J(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function Z(e){return Array.prototype.concat.apply([],arguments)}function X(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,oe=/"/g,ae=/'/g,se=/\x00/g,ue=/[\x00&<>"']/;function ce(e,t){return-1!=e.indexOf(t)}function le(e,t){return e<t?-1:e>t?1:0}e:{var he=u.navigator;if(he){var fe=he.userAgent;if(fe){ee=fe;break e}}ee=""}function de(e){return ce(ee,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function me(e){for(var t in e)return!1;return!0}function ge(e){var t,n={};for(t in e)n[t]=e[t];return n}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ve.length;o++)n=ve[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function we(e,t){this.a=e===Ie&&t||"",this.b=Te}function _e(e){return e instanceof we&&e.constructor===we&&e.b===Te?e.a:(j("expected object of type Const, got '"+e+"'"),"type_error:Const")}we.prototype.sa=!0,we.prototype.ra=function(){return this.a},we.prototype.toString=function(){return"Const{"+this.a+"}"};var Ee,Te={},Ie={};function Se(){if(void 0===Ee){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(e){u.console&&u.console.error(e.message)}Ee=e}else Ee=e}return Ee}function Ce(e,t){this.a=t===De?e:""}function xe(e){return e instanceof Ce&&e.constructor===Ce?e.a:(j("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function ke(e,t){var n=_e(e);if(!Ae.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Se();return new Ce(e=t?t.createScriptURL(e):e,De)}(e=n.replace(Ne,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof we?_e(e):encodeURIComponent(String(e))})))}Ce.prototype.sa=!0,Ce.prototype.ra=function(){return this.a.toString()},Ce.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ne=/%{(\w+)}/g,Ae=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,De={};function Pe(e,t){this.a=t===Ue?e:""}function Me(e){return e instanceof Pe&&e.constructor===Pe?e.a:(j("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Pe.prototype.sa=!0,Pe.prototype.ra=function(){return this.a.toString()},Pe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Oe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Le=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Re=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function je(e){if(e instanceof Pe)return e;if(e="object"==typeof e&&e.sa?e.ra():String(e),Re.test(e))e=new Pe(e,Ue);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Le);e=t&&Oe.test(t[1])?new Pe(e,Ue):null}return e}function Fe(e){return e instanceof Pe?e:(e="object"==typeof e&&e.sa?e.ra():String(e),Re.test(e)||(e="about:invalid#zClosurez"),new Pe(e,Ue))}var Ue={},ze=new Pe("about:invalid#zClosurez",Ue);function qe(e,t,n){this.a=n===Ve?e:""}qe.prototype.sa=!0,qe.prototype.ra=function(){return this.a.toString()},qe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ve={};function Be(e,t,n,r){return e=e instanceof Pe?e:Fe(e),t=t||u,n=n instanceof we?_e(n):n||"",t.open(Me(e),n,r,void 0)}function We(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ge(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(oe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function He(e){return He[" "](e),e}He[" "]=f;var Qe,Ke=de("Opera"),Ye=de("Trident")||de("MSIE"),$e=de("Edge"),Je=$e||Ye,Ze=de("Gecko")&&!(ce(ee.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Xe=ce(ee.toLowerCase(),"webkit")&&!de("Edge");function et(){var e=u.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=ee;return Ze?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xe?/WebKit\/(\S+)/.exec(e):Ke?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),Ye){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Qe=String(rt);break e}}Qe=tt}var it,ot={};function at(e){return function(e,t){var n=ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=te(String(Qe)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=le(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||le(0==a[2].length,0==s[2].length)||le(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}u.document&&Ye?it=et()||parseInt(Qe,10)||void 0:it=void 0;var st=it;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var ut=!Ye||9<=Number(st);function ct(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function lt(e,t){pe(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,ft,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(m(o)){a="function"==typeof o.item;break e}}a=!1}G(a?X(o):o,r)}}}function mt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){u.setTimeout((function(){throw e}),0)}function vt(e,t){ft||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);ft=function(){e.then(wt)}}else ft=function(){var e=wt;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!de("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ht||(ht=function(){var e=u.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=mt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Gb;n.Gb=null,e()}},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ht(e)):u.setImmediate(e)}}(),yt||(ft(),yt=!0),bt.add(e,t)}var yt=!1,bt=new z;function wt(){for(var e;e=V();){try{e.a.call(e.b)}catch(e){gt(e)}U(q,e)}yt=!1}function _t(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Lt(n,Tt,e)}),(function(e){if(!(e instanceof Vt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Lt(n,It,e)}))}catch(e){Lt(this,It,e)}}var Et=0,Tt=2,It=3;function St(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}St.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ct=new F((function(){return new St}),(function(e){e.reset()}));function xt(e,t,n){var r=Ct.get();return r.g=e,r.b=t,r.f=n,r}function kt(e){if(e instanceof _t)return e;var t=new _t(f);return Lt(t,Tt,e),t}function Nt(e){return new _t((function(t,n){n(e)}))}function At(e,t,n){Rt(e,t,n,null)||vt(T(t,e))}function Dt(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)At(e[o],T(i,o,!0),T(i,o,!1));else t(r)}))}function Pt(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Et&&1==r?Pt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ft(n),Ut(n,i,It,t)))}e.c=null}else Lt(e,It,t)}function Mt(e,t){e.b||e.a!=Tt&&e.a!=It||jt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Ot(e,t,n,r){var i=xt(null,null,null);return i.a=new _t((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Vt?o(t):e(i)}catch(e){o(e)}}:o})),i.a.c=e,Mt(e,i),i.a}function Lt(e,t,n){e.a==Et&&(e===n&&(t=It,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Rt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,jt(e),t!=It||n instanceof Vt||function(e,t){e.g=!0,vt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Rt(e,t,n,r){if(e instanceof _t)return Mt(e,xt(t||f,n||null,r)),!0;if(O(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(m(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function jt(e){e.h||(e.h=!0,vt(e.gc,e))}function Ft(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==It&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,zt(t,n,r);else try{t.c?t.g.call(t.f):zt(t,n,r)}catch(e){qt.call(null,e)}U(Ct,t)}function zt(e,t,n){t==Tt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return Ot(this,m(e)?e:null,m(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(e=_t.prototype).oa=function(e,t){return(e=xt(e,e,t)).c=!0,Mt(this,e),this},e.o=function(e,t){return Ot(this,null,e,t)},e.cancel=function(e){if(this.a==Et){var t=new Vt(e);vt((function(){Pt(this,t)}),this)}},e.$c=function(e){this.a=Et,Lt(this,Tt,e)},e.ad=function(e){this.a=Et,Lt(this,It,e)},e.gc=function(){for(var e;e=Ft(this);)Ut(this,e,this.a,this.i);this.h=!1};var qt=gt;function Vt(e){L.call(this,e)}function Bt(){0!=Wt&&(Gt[v(this)]=this),this.xa=this.xa,this.pa=this.pa}S(Vt,L),Vt.prototype.name="cancel";var Wt=0,Gt={};function Ht(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=Wt)){var t=v(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gt[t]}}Bt.prototype.xa=!1,Bt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Qt=Object.freeze||function(e){return e},Kt=!Ye||9<=Number(st),Yt=Ye&&!at("9"),$t=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",f,t),u.removeEventListener("test",f,t)}catch(e){}return e}();function Jt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Zt(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ze){e:{try{He(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Xt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jt.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Zt,Jt);var Xt=Qt({2:"touch",3:"pen",4:"mouse"});Zt.prototype.preventDefault=function(){Zt.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Yt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Zt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++tn,this.va=this.Pa=!1}function rn(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new nn(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(e,t,n,r,i){if(r&&r.once)fn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=_n(n),e&&e[en]?Tn(e,t,n,g(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=yn,t=Kt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$t||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function fn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=_n(n),e&&e[en]?In(e,t,n,g(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=_n(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!=typeof e&&e&&!e.va){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function mn(e){return e in cn?cn[e]:cn[e]="on"+e}function gn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&pn(e),n.call(r,t)}function yn(e,t){if(e.va)return!0;if(!Kt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Zt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=gn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=gn(r[i],e,!1,t),n=n&&o}return n}return vn(e,new Zt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(e){return m(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function En(){Bt.call(this),this.v=new on(this),this.ac=this,this.gb=null}function Tn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function In(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Sn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(e,t,n){if(m(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function xn(e){var t=null;return new _t((function(n,r){-1==(t=Cn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function kn(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"==typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Nn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(p(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function An(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof An)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Pn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}S(En,Bt),En.prototype[en]=!0,En.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.gb;if(n)for(t=[];n;n=n.gb)t.push(n);n=this.ac;var r=e.type||e;if("string"==typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var i=e;ye(e=new Jt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Sn(a,r,!0,e)&&i}if(i=Sn(a=e.b=n,r,!0,e)&&i,i=Sn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Sn(a=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=An.prototype).W=function(){Dn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Dn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Pn(this.b,e)?this.b[e]:t},e.set=function(e,t){Pn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof On?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,Rn(this,e.g),this.f=e.f,jn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(Mn))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Rn(this,n[4]),this.f=Vn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!t,this.b=new $n(null,this.i))}function Ln(e,t,n){e.c=n?Vn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Rn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function jn(e,t,n){t instanceof $n?(e.b=t,function(e,t){t&&!e.f&&(Jn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xn(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Bn(t,Kn)),e.b=new $n(t,e.i))}function Fn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function zn(e){return e instanceof On?new On(e):new On(e,void 0)}function qn(e,t,n,r){var i=new On(null,void 0);return e&&Ln(i,e),t&&(i.a=t),n&&Rn(i,n),r&&(i.f=r),i}function Vn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}On.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Bn(t,Gn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Bn(t,Gn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bn(n,"/"==n.charAt(0)?Qn:Hn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Bn(n,Yn)),e.join("")},On.prototype.resolve=function(e){var t=new On(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Rn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ce(i,"./")||ce(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?jn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Gn=/[#\/\?@]/g,Hn=/[#\?:]/g,Qn=/[#\?]/g,Kn=/[#\?@]/g,Yn=/#/g;function $n(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jn(e){e.a||(e.a=new An,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zn(e){var t=Nn(e);if(void 0===t)throw Error("Keys are undefined");var n=new $n(null,void 0);e=kn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Xn(e,t){Jn(e),t=rr(e,t),Pn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Pn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Dn(e)))}function er(e,t){return Jn(e),t=rr(e,t),Pn(e.a.b,t)}function tr(e,t,n){Xn(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),X(n)),e.b+=n.length)}function nr(e){var t=new $n;return t.c=e.c,e.a&&(t.a=new An(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return ar(new or,e,t),t.join("")}function or(){}function ar(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ar(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),cr(r,n),n.push(":"),ar(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":cr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=$n.prototype).add=function(e,t){Jn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Jn(this),this.a.forEach((function(n,r){G(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Jn(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){Jn(this);var t=[];if("string"==typeof e)er(this,e)&&(t=Z(t,this.a.get(rr(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=Z(t,e[n])}return t},e.set=function(e,t){return Jn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(e,t){t.push('"',e.replace(ur,(function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t})),'"')}function lr(){var e=Ar();return Ye&&!!st&&11==st||/Edge\/\d+/.test(e)}function hr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function fr(e,t){t=t||u.window;var n="about:blank";e&&(n=Me(je(e)||ze)),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function pr(e){return!!((e=(e||Ar()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function mr(e){e=e||u.window;try{e.close()}catch(e){}}function gr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(t.target=r,ce(n,"crios/")&&(t.target="_blank")),xr(Ar())==Sr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Pe?n:je(void 0!==n.href?n.href:String(n))||ze,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=mt(document,"A"),"HTMLAnchorElement"),t=t instanceof Pe?t:Fe(t),a.href=Me(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Be("",r,n,a),e=Me(t),a&&(Je&&ce(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ge(e)+'">',e=new qe(e=(r=Se())?r.createHTML(e):e,null,Ve),r=a.document)&&(r.write(function(e){return e instanceof qe&&e.constructor===qe?e.a:(j("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Be(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function br(){var e=null;return new _t((function(t){"complete"==u.document.readyState?t():(e=function(){t()},fn(window,"load",e))})).o((function(t){throw dn(window,"load",e),t}))}function wr(e){return e=e||Ar(),!("file:"!==Lr()&&"ionic:"!==Lr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var e=u.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Er(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function Tr(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Ir(){var e=Tr();return"ReactNative"===e||"Node"===e}var Sr="Firefox",Cr="Chrome";function xr(e){var t=e.toLowerCase();return ce(t,"opera/")||ce(t,"opr/")||ce(t,"opios/")?"Opera":ce(t,"iemobile")?"IEMobile":ce(t,"msie")||ce(t,"trident/")?"IE":ce(t,"edge/")?"Edge":ce(t,"firefox/")?Sr:ce(t,"silk/")?"Silk":ce(t,"blackberry")?"Blackberry":ce(t,"webos")?"Webos":!ce(t,"safari/")||ce(t,"chrome/")||ce(t,"crios/")||ce(t,"android")?!ce(t,"chrome/")&&!ce(t,"crios/")||ce(t,"edge/")?ce(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Cr:"Safari"}var kr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Nr(e,t){t=t||[];var n,r=[],i={};for(n in kr)i[kr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=xr(i=Ar()):"Worker"===r&&(r=xr(i=Ar())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ar(){return u.navigator&&u.navigator.userAgent||""}function Dr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Pr(){try{var e=u.localStorage,t=zr();if(e)return e.setItem(t,"1"),e.removeItem(t),!lr()||!!u.indexedDB}catch(e){return Er()&&!!u.indexedDB}return!1}function Mr(){return(Or()||"chrome-extension:"===Lr()||wr())&&!Ir()&&Pr()&&!Er()}function Or(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return u.location&&u.location.protocol||null}function Rr(e){return!pr(e=e||Ar())&&xr(e)!=Sr}function jr(e){return void 0===e?null:ir(e)}function Fr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ur(e){if(null!==e)return JSON.parse(e)}function zr(e){return e||Math.floor(1e9*Math.random()).toString()}function qr(e){return"Safari"!=xr(e=e||Ar())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Br(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ar(),t=Tr(),this.b=pr(e)||"ReactNative"===t}function Wr(){var e=u.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Gr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Hr(){return!(!Dr("fireauth.oauthhelper",u)&&!Dr("fireauth.iframe",u))}Br.prototype.get=function(){var e=u.navigator;return!e||"boolean"!=typeof e.onLine||!Or()&&"chrome-extension:"!==Lr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qr,Kr={};function Yr(e){Kr[e]||(Kr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Qr=2==$r.abcd}catch(e){Qr=!1}function Jr(e,t,n){Qr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Zr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Jr(e,n,t[n])}function Xr(e){var t={};return Zr(t,e),t}function ei(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Jr(t,n,ei(e[n]));return t}function ti(e){var t=e&&(e[ai]?"phone":null);if(!(t&&e&&e[oi]))throw new x("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",e[oi]),Jr(this,"displayName",e[ri]||null);var n=null;e[ii]&&(n=new Date(e[ii]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",t)}function ni(e){try{var t=new si(e)}catch(e){t=null}return t}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ri="displayName",ii="enrolledAt",oi="mfaEnrollmentId",ai="phoneInfo";function si(e){ti.call(this,e),Jr(this,"phoneNumber",e[ai])}function ui(e){var t={},n=e[fi],r=e[pi],i=e[mi];if(e=ni(e[di]),!i||i!=li&&i!=hi&&!n||i==hi&&!r||i==ci&&!e)throw Error("Invalid checkActionCode response!");i==hi?(t[vi]=n||null,t[bi]=n||null,t[gi]=r):(t[vi]=r||null,t[bi]=r||null,t[gi]=n||null),t[yi]=e||null,Jr(this,_i,i),Jr(this,wi,ei(t))}S(si,ti),si.prototype.w=function(){var e=si.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ci="REVERT_SECOND_FACTOR_ADDITION",li="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",fi="email",di="mfaInfo",pi="newEmail",mi="requestType",gi="email",vi="fromEmail",yi="multiFactorInfo",bi="previousEmail",wi="data",_i="operation";function Ei(e){var t=Un(e=zn(e),Ti)||null,n=Un(e,Ii)||null,r=Un(e,xi)||null;if(r=r&&Ni[r]||null,!t||!n||!r)throw new x("argument-error",Ti+", "+Ii+"and "+xi+" are required in a valid action code URL.");Zr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Si)||null,languageCode:Un(e,Ci)||null,tenantId:Un(e,ki)||null})}var Ti="apiKey",Ii="oobCode",Si="continueUrl",Ci="languageCode",xi="mode",ki="tenantId",Ni={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ci,signIn:li,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function Ai(e){try{return new Ei(e)}catch(e){return null}}function Di(e){var t=e[Ri];if(void 0===t)throw new x("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new x("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Pi];if(n&&"object"==typeof n){t=n[Ui];var r=n[ji];if(n=n[Fi],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new x("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new x("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new x("argument-error",Ui+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new x("missing-android-pkg-name")}}else if(void 0!==n)throw new x("argument-error",Pi+" property must be a non null object when specified.");if(this.f=null,(t=e[Li])&&"object"==typeof t){if("string"==typeof(t=t[zi])&&t.length)this.f=t;else if(void 0!==t)throw new x("argument-error",zi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new x("argument-error",Li+" property must be a non null object when specified.");if(void 0!==(t=e[Oi])&&"boolean"!=typeof t)throw new x("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Mi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new x("argument-error",Mi+" property must be a non empty string when specified.");this.i=e||null}var Pi="android",Mi="dynamicLinkDomain",Oi="handleCodeInApp",Li="iOS",Ri="url",ji="installApp",Fi="minimumVersion",Ui="packageName",zi="bundleId";function qi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Vi=null;function Bi(e){var t=Gi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Wi(e){try{return new Bi(e)}catch(e){return null}}function Gi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Vi){Vi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(e){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],Ki={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Qi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Qi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Qi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Hi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Yi(e){for(var t in Ki)if(Ki[t].fa==e)return Ki[t];return null}function $i(e){var t={};t["facebook.com"]=to,t["google.com"]=ro,t["github.com"]=no,t["twitter.com"]=io;var n=e&&e[Zi];try{if(n)return t[n]?new t[n](e):new eo(e);if(void 0!==e[Ji])return new Xi(e)}catch(e){}return null}var Ji="idToken",Zi="providerId";function Xi(e){var t=e[Zi];if(!t&&e[Ji]){var n=Wi(e[Ji]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Jr(this,"providerId",t),Jr(this,"isNewUser",n)}function eo(e){Xi.call(this,e),Jr(this,"profile",ei((e=Ur(e.rawUserInfo||"{}"))||{}))}function to(e){if(eo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(e){if(eo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function ro(e){if(eo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(e){if(eo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",e.screenName||null)}function oo(e){var t=zn(e),n=Un(t,"link"),r=Un(zn(n),"link");return t=Un(t,"deep_link_id"),Un(zn(t),"link")||t||r||n||e}function ao(e,t){if(!e&&!t)throw new x("internal-error","Internal assert: no raw session string available");if(e&&t)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?so:uo}S(eo,Xi),S(to,eo),S(no,eo),S(ro,eo),S(io,eo);var so="enroll",uo="signin";function co(){}function lo(e,t){return e.then((function(e){if(e[Za]){var n=Wi(e[Za]);if(!n||t!=n.i)throw new x("user-mismatch");return e}throw new x("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==A+"user-not-found"?new x("user-mismatch"):e}))}function ho(e,t){if(!t)throw new x("internal-error","failed to construct a credential");this.a=t,Jr(this,"providerId",e),Jr(this,"signInMethod",e)}function fo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function po(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new ho(e.providerId,e.pendingToken)}catch(e){}return null}function mo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Jr(this,"idToken",t.idToken),t.accessToken&&Jr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Jr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new x("internal-error","failed to construct a credential");Jr(this,"accessToken",t.oauthToken),Jr(this,"secret",t.oauthTokenSecret)}Jr(this,"providerId",e),Jr(this,"signInMethod",n)}function go(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Zn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function vo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new mo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function yo(e,t){this.Qc=t||[],Zr(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(Yi(e)||{}).Ja||null,this.ob=null}function bo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,e,[])}function wo(e){yo.call(this,e,Qi),this.a=[]}function _o(){wo.call(this,"facebook.com")}function Eo(e){if(!e)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new _o).credential({accessToken:t})}function To(){wo.call(this,"github.com")}function Io(e){if(!e)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new To).credential({accessToken:t})}function So(){wo.call(this,"google.com"),this.Ca("profile")}function Co(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new So).credential({idToken:n,accessToken:t})}function xo(){yo.call(this,"twitter.com",Hi)}function ko(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",n,"twitter.com")}function No(e,t,n){this.a=e,this.f=t,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(e){return e&&e.email&&e.password?new No(e.email,e.password,e.signInMethod):null}function Do(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Po(e,t){if(!(t=Mo(t)))throw new x("argument-error","Invalid email link!");return new No(e,t.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Mo(e){return(e=Ai(e=oo(e)))&&e.operation===li?e:null}function Oo(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new x("internal-error");this.a=e,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function Lo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Oo(t)}return null}function Ro(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function jo(e){try{this.a=e||r.Z.auth()}catch(e){throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(e,t){if(!e)throw new x("missing-verification-id");if(!t)throw new x("missing-verification-code");return new Oo({eb:e,cb:t})}function Uo(e){if(e.temporaryProof&&e.phoneNumber)return new Oo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Co(o,n);case"facebook.com":return Eo(n);case"github.com":return Io(n);case"twitter.com":return ko(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new ho(t,a):new mo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new wo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function zo(e){if(!e.isOAuthProvider)throw new x("invalid-oauth-provider")}function qo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new x("invalid-auth-event");if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}function Vo(e){return(e=e||{}).type?new qo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&k(e.error),e.postBody,e.tenantId):null}function Bo(){this.b=null,this.a=[]}ao.prototype.Ha=function(){return this.a?kt(this.a):kt(this.b)},ao.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},co.prototype.ka=function(){},co.prototype.b=function(){},co.prototype.c=function(){},co.prototype.w=function(){},ho.prototype.ka=function(e){return bs(e,fo(this))},ho.prototype.b=function(e,t){var n=fo(this);return n.idToken=t,ws(e,n)},ho.prototype.c=function(e,t){return lo(_s(e,fo(this)),t)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mo.prototype.ka=function(e){return bs(e,go(this))},mo.prototype.b=function(e,t){var n=go(this);return n.idToken=t,ws(e,n)},mo.prototype.c=function(e,t){return lo(_s(e,go(this)),t)},mo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},yo.prototype.Ka=function(e){return this.Ib=ge(e),this},S(bo,yo),S(wo,yo),wo.prototype.Ca=function(e){return Y(this.a,e)||this.a.push(e),this},wo.prototype.Qb=function(){return X(this.a)},wo.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,n,this.providerId)},S(_o,wo),Jr(_o,"PROVIDER_ID","facebook.com"),Jr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(To,wo),Jr(To,"PROVIDER_ID","github.com"),Jr(To,"GITHUB_SIGN_IN_METHOD","github.com"),S(So,wo),Jr(So,"PROVIDER_ID","google.com"),Jr(So,"GOOGLE_SIGN_IN_METHOD","google.com"),S(xo,yo),Jr(xo,"PROVIDER_ID","twitter.com"),Jr(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(e,Ns,{email:this.a,oobCode:this.f}):nu(e,Js,{email:this.a,password:this.f})},No.prototype.b=function(e,t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(e,As,{idToken:t,email:this.a,oobCode:this.f}):nu(e,Bs,{idToken:t,email:this.a,password:this.f})},No.prototype.c=function(e,t){return lo(this.ka(e),t)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Do,{PROVIDER_ID:"password"}),Zr(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ka=function(e){return e.fb(Ro(this))},Oo.prototype.b=function(e,t){var n=Ro(this);return n.idToken=t,nu(e,Xs,n)},Oo.prototype.c=function(e,t){var n=Ro(this);return n.operation="REAUTH",lo(e=nu(e,eu,n),t)},Oo.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},jo.prototype.fb=function(e,t){var n=this.a.a;return kt(t.verify()).then((function(r){if("string"!=typeof r)throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=g(e)?e.session:null,o=g(e)?e.phoneNumber:e;return(i&&i.type==so?i.Ha().then((function(e){return function(e,t){return nu(e,Gs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==uo?i.Ha().then((function(t){return function(e,t){return nu(e,Hs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return nu(e,qs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(jo,{PROVIDER_ID:"phone"}),Zr(jo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},qo.prototype.T=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Wo,Go=null;function Ho(e){var t="unauthorized-domain",n=void 0,r=zn(e);e=r.a,"chrome-extension"==(r=r.c)?n=We("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=We("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",x.call(this,t,n)}function Qo(e,t,n){x.call(this,e,n),(e=t||{}).Jb&&Jr(this,"email",e.Jb),e.ea&&Jr(this,"phoneNumber",e.ea),e.credential&&Jr(this,"credential",e.credential),e.Zb&&Jr(this,"tenantId",e.Zb)}function Ko(e){if(e.code){var t=e.code||"";0==t.indexOf(A)&&(t=t.substring(A.length));var n={credential:Uo(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new x(t,e.message||void 0);return new Qo(t,n,e.message)}return null}function Yo(){}function $o(e){return e.c||(e.c=e.b())}function Jo(){}function Zo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Xo(){}function ea(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Sb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ta(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function na(e,t,n){this.reset(e,t,n,void 0,void 0)}function ra(e){this.f=e,this.b=this.c=this.a=null}function ia(e,t){this.name=e,this.value=t}S(Ho,x),S(Qo,x),Qo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},Qo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,S(Jo,Yo),Jo.prototype.a=function(){var e=Zo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Jo.prototype.b=function(){var e={};return Zo(this)&&(e[0]=!0,e[1]=!0),e},Wo=new Jo,S(Xo,Yo),Xo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ea;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(e=ea.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ta(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",ta(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,ta(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},na.prototype.a=null,na.prototype.reset=function(e,t,n,r,i){r||I(),delete this.a},ia.prototype.toString=function(){return this.name};var oa=new ia("SEVERE",1e3),aa=new ia("WARNING",900),sa=new ia("CONFIG",700),ua=new ia("FINE",500);function ca(e){return e.c?e.c:e.a?ca(e.a):(j("Root logger has no level set."),null)}ra.prototype.log=function(e,t,n){if(e.value>=ca(this).value)for(m(t)&&(t=t()),e=new na(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var la={},ha=null;function fa(e){var t;if(ha||(ha=new ra(""),la[""]=ha,ha.c=sa),!(t=la[e])){t=new ra(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=fa(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,la[e]=t}return t}function da(e,t){e&&e.log(ua,t,void 0)}function pa(e){this.f=e}function ma(e){En.call(this),this.u=e,this.h=void 0,this.readyState=ga,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=fa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(pa,Yo),pa.prototype.a=function(){return new ma(this.f)},pa.prototype.b=function(e){return function(){return e}}({}),S(ma,En);var ga=0;function va(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function ya(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ba(e)}function ba(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function wa(e){En.call(this),this.headers=new An,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=_a,this.u=this.S=!1}(e=ma.prototype).open=function(e,t){if(this.readyState!=ga)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ba(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ya(this)),this.readyState=ga},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ba(this)),this.a&&(this.readyState=3,ba(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,va(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ya(this):ba(this),3==this.readyState&&va(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ya(this))},e.sc=function(e){this.a&&(this.response=e,ya(this))},e.Ua=function(e){var t=this.i;t&&t.log(aa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ya(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(aa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(aa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),S(wa,En);var _a="";wa.prototype.b=fa("goog.net.XhrIo");var Ea=/^https?$/i,Ta=["POST","PUT"];function Ia(e){return"content-type"==e.toLowerCase()}function Sa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ca(e),ka(e)}function Ca(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function xa(e){if(e.c&&void 0!==s)if(e.C[1]&&4==Aa(e)&&2==Da(e))da(e.b,Pa(e,"Local request error detected and ignored"));else if(e.i&&4==Aa(e))Cn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==Aa(e)){da(e.b,Pa(e,"Request complete")),e.c=!1;try{var t,n=Da(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Mn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ea.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Aa(e)?e.a.statusText:""}catch(t){da(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Da(e)+"]",Ca(e)}}finally{ka(e)}}}function ka(e,t){if(e.a){Na(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(oa,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Na(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function Aa(e){return e.a?e.a.readyState:0}function Da(e){try{return 2<Aa(e)?e.a.status:-1}catch(e){return-1}}function Pa(e,t){return t+" ["+e.R+" "+e.l+" "+Da(e)+"]"}function Ma(e){var t=Wa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Oa(e,t,n){e.a=!0,e.c=n,e.f=!t,Fa(e)}function La(e){if(e.a){if(!e.v)throw new Ua(e);e.v=!1}}function Ra(e,t,n,r){e.g.push([t,n,r]),e.a&&Fa(e)}function ja(e){return K(e.g,(function(e){return m(e[1])}))}function Fa(e){if(e.h&&e.a&&ja(e)){var t=e.h,n=Va[t];n&&(u.clearTimeout(n.a),delete Va[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(O(t)||"function"==typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,ja(e)||(n=!0)}}e.c=t,r&&(s=E(e.m,e,!0),r=E(e.m,e,!1),t instanceof Ma?(Ra(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new qa(t),Va[t.a]=t,e.h=t.a)}function Ua(){L.call(this)}function za(){L.call(this)}function qa(e){this.a=u.setTimeout(E(this.c,this),0),this.b=e}(e=wa.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",da(this.b,Pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(da(this.b,Pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ka(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ka(this,!0)),wa.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?xa(this):this.Jc())},e.Jc=function(){xa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _a:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(oa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return da(this.b,"Can not get response: "+e.message),null}},Ma.prototype.cancel=function(e){if(this.a)this.c instanceof Ma&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new za(this),La(this),Oa(this,!1,e))}},Ma.prototype.m=function(e,t){this.i=!1,Oa(this,e,t)},Ma.prototype.then=function(e,t,n){var r,i,o=new _t((function(e,t){r=e,i=t}));return Ra(this,r,(function(e){e instanceof za?o.cancel():i(e)})),o.then(e,t,n)},Ma.prototype.$goog_Thenable=!0,S(Ua,L),Ua.prototype.message="Deferred has already fired",Ua.prototype.name="AlreadyCalledError",S(za,L),za.prototype.message="Deferred was canceled",za.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function Ba(e){var t={},n=t.document||document,r=xe(e).toString(),i=mt(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ma(o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Ga(i,!0);var e=new Ka(Qa,"Timeout reached for loading script "+r);La(a),Oa(a,!1,e)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ga(i,t.xd||!1,s),La(a),Oa(a,!0,null))},i.onerror=function(){Ga(i,!0,s);var e=new Ka(Ha,"Error while loading script "+r);La(a),Oa(a,!1,e)},ye(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=xe(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=h(t.document):(null===l&&(l=h(u.document)),t=l),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Wa(){if(this&&this.Wb){var e=this.Wb;e&&"SCRIPT"==e.tagName&&Ga(e,!0,this.Ma)}}function Ga(e,t,n){null!=n&&u.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ha=0,Qa=1;function Ka(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),L.call(this,n),this.code=e}function Ya(e){this.f=e}function $a(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Xa,this.g=ge(e.secureTokenHeaders||es),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ts,this.a=ge(e.firebaseHeaders||ns),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=u.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest)&&!Er())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new pa(self):Ir()?this.f=new Ya(n):this.f=new Xo,this.b=null}S(Ka,L),S(Ya,Yo),Ya.prototype.a=function(){return new this.f},Ya.prototype.b=function(){return{}};var Ja,Za="idToken",Xa=new Br(3e4,6e4),es={"Content-Type":"application/x-www-form-urlencoded"},ts=new Br(3e4,6e4),ns={"Content-Type":"application/json"};function rs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function is(e,t){t&&(e.l=os("https://securetoken.googleapis.com/v1/token",t),e.h=os("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=os("https://identitytoolkit.googleapis.com/v2/",t))}function os(e,t){return e=zn(e),t=zn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,Rn(e,t.g),e.toString()}function as(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ss(e,t,n,r,i,o,a){(function(){var e=Ar();return!((e=xr(e)!=Cr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Ye&&st&&!(9<st))})()||Er()?e=E(e.u,e):(Ja||(Ja=new _t((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(u[cs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ra(e,null,t,void 0)}(Ba(ke(us,{onload:cs})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=E(e.s,e)),e(t,n,r,i,o,a)}$a.prototype.T=function(){return this.b},$a.prototype.u=function(e,t,n,r,i,o){if(Er()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new wa(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return da(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),In(a,"ready",(function(){s&&clearTimeout(s),Ht(this)})),In(a,"timeout",(function(){s&&clearTimeout(s),Ht(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Wo.a(),e.C=e.D?$o(e.D):$o(Wo),e.a.onreadystatechange=E(e.Vb,e);try{da(e.b,Pa(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return da(e.b,Pa(e,"Error opening Xhr: "+t.message)),void Sa(e,t)}t=r||"";var o=new An(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"==typeof e)G(e,t,void 0);else for(var n=Nn(e),r=kn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Ia,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=u.FormData&&t instanceof u.FormData,!Y(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Na(e),0<e.g&&(e.u=function(e){return Ye&&at(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),da(e.b,Pa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ma,e)):e.s=Cn(e.Ma,e.g,e)),da(e.b,Pa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){da(e.b,Pa(e,"Send error: "+t.message)),Sa(e,t)}}(a,e,n,r,i)};var us=new we(Ie,"https://apis.google.com/js/client.js?onload=%{onload}"),cs="__fcb"+Math.floor(1e6*Math.random()).toString();function ls(e){if("string"!=typeof(e=e.email)||!yr.test(e))throw new x("invalid-email")}function hs(e){"email"in e&&ls(e)}function fs(e){if(!e[Za]){if(e.mfaPendingCredential)throw new x("multi-factor-auth-required",null,ge(e));throw new x("internal-error")}}function ds(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new x("internal-error")}else{if(!e.sessionInfo)throw new x("missing-verification-id");if(!e.code)throw new x("missing-verification-code")}}$a.prototype.s=function(e,t,n,r,i){var o=this;Ja.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},$a.prototype.zb=function(){return nu(this,Ws,{})},$a.prototype.Bb=function(e,t){return nu(this,Vs,{idToken:e,email:t})},$a.prototype.Cb=function(e,t){return nu(this,Bs,{idToken:e,password:t})};var ps={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ms(e){if(!e.phoneVerificationInfo)throw new x("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new x("missing-verification-code")}function gs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new x("internal-error")}function vs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&er(e=new $n(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function ys(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ko(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ko(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ko(e)):e.errorMessage&&(t=ru(e.errorMessage)),t)throw t;fs(e)}function bs(e,t){return t.returnIdpCredential=!0,nu(e,Qs,t)}function ws(e,t){return t.returnIdpCredential=!0,nu(e,Ys,t)}function _s(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,nu(e,Ks,t)}function Es(e){if(!e.oobCode)throw new x("invalid-action-code")}(e=$a.prototype).Db=function(e,t){var n={idToken:e},r=[];return pe(ps,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Vs,n)},e.vb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),nu(this,js,e)},e.wb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),nu(this,Os,e)},e.ub=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),nu(this,Ls,e)},e.Eb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),nu(this,Rs,e)},e.fb=function(e){return nu(this,Zs,e)},e.nb=function(e,t){return nu(this,zs,{oobCode:e,newPassword:t})},e.Ra=function(e){return nu(this,Is,{oobCode:e})},e.jb=function(e){return nu(this,Ts,{oobCode:e})};var Ts={endpoint:"setAccountInfo",A:Es,Z:"email",B:!0},Is={endpoint:"resetPassword",A:Es,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new x("internal-error")},B:!0},Ss={endpoint:"signupNewUser",A:function(e){if(ls(e),!e.password)throw new x("weak-password")},G:fs,V:!0,B:!0},Cs={endpoint:"createAuthUri",B:!0},xs={endpoint:"deleteAccount",N:["idToken"]},ks={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new x("internal-error")}},Ns={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ls,G:fs,V:!0,B:!0},As={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ls,G:fs,V:!0},Ds={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ms,G:fs,B:!0,Na:!0},Ps={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ms,G:fs,B:!0,Na:!0},Ms={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new x("internal-error");ls(e)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new x("internal-error")},Z:"email",B:!0},Rs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new x("internal-error")},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new x("internal-error");ls(e)},Z:"email",B:!0},Fs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Us={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new x("internal-error")}},zs={endpoint:"resetPassword",A:Es,Z:"email",B:!0},qs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Vs={endpoint:"setAccountInfo",N:["idToken"],A:hs,V:!0},Bs={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(hs(e),!e.password)throw new x("weak-password")},G:fs,V:!0},Ws={endpoint:"signupNewUser",G:fs,V:!0,B:!0},Gs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new x("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},Qs={endpoint:"verifyAssertion",A:gs,Ya:vs,G:ys,V:!0,B:!0},Ks={endpoint:"verifyAssertion",A:gs,Ya:vs,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new x("user-not-found");if(e.errorMessage)throw ru(e.errorMessage);fs(e)},V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:function(e){if(gs(e),!e.idToken)throw new x("internal-error")},Ya:vs,G:ys,V:!0},$s={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new x("invalid-custom-token")},G:fs,V:!0,B:!0},Js={endpoint:"verifyPassword",A:function(e){if(ls(e),!e.password)throw new x("wrong-password")},G:fs,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},Xs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new x("internal-error");ds(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ko(e);fs(e)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Za]^!!e.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function nu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.N))return Nt(new x("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return kt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=zn(t+n);Fn(s,"key",e.c),a&&Fn(s,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(s,c,i[c]);return new _t((function(t,n){ss(e,s.toString(),(function(e){e?e.error?n(iu(e,o||{})):t(e):n(new x("network-request-failed"))}),r,u?void 0:ir(Fr(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new x("internal-error");return r[t.Z]}))}function ru(e){return iu({error:{errors:[{message:e}],code:400,message:e}})}function iu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new x(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new x(r[i],t);return!t&&e&&(t=jr(e)),new x("internal-error",t)}function ou(e){this.b=e,this.a=null,this.rb=function(e){return(cu||(cu=new _t((function(e,t){function n(){Vr(),Dr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Vr(),t(Error("Network Error"))},timeout:su.get()})}if(Dr("gapi.iframes.Iframe"))e();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Dr("gapi.load")?n():t(Error("Network Error"))},kt(Ba(r=ke(au,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw cu=null,e})))).then((function(){return new _t((function(t,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new we(Ie,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new Br(3e4,6e4),uu=new Br(5e3,15e3),cu=null;function lu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?qn((e=zn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):qn("https",this.l,null,"/__/auth/iframe"),this.a=e,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fu(e){try{return r.Z.app(e).auth().Ga()}catch(e){return[]}}function du(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pu(e){var t=hr();return function(e){return nu(e,Fs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=zn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=zn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ho(hr())}))}function mu(e){return e.m||(e.m=br().then((function(){if(!e.u){var t=e.c,n=e.i,r=fu(e.b),i=new lu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=X(r||[]),e.u=i.toString()}e.v=new ou(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Vo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",kt(n)}return n.status="ERROR",kt(n)}))}(e)}))),e.m}function gu(e){return e.l||(e.C=e.c?Nr(e.c,fu(e.b)):null,e.l=new $a(e.g,M(e.i),e.C),e.f&&is(e.l,e.f)),e.l}function vu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new hu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ge(u||null),e.f=c,e.yb(l).toString()}function yu(e){if(this.a=e||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(e){this.b=e,this.a={},this.f=E(this.c,this)}lu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},hu.prototype.yb=function(e){return this.h=e,this},hu.prototype.toString=function(){if(this.v){var e=zn(this.v.url);e=qn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=qn("https",this.u,null,"/__/auth/handler");if(Fn(e,"apiKey",this.s),Fn(e,"appName",this.c),Fn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(e){n=null}for(var i in t.ob=n,Fn(e,"providerId",this.a.providerId),t=Fr((n=this.a).Ib))t[i]=t[i].toString();i=n.Qc,t=ge(t);for(var o=0;o<i.length;o++){var a=i[o];a in t&&delete t[a]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),me(t)||Fn(e,"customParameters",jr(t))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Fn(e,"scopes",n.join(",")),this.l?Fn(e,"redirectUrl",this.l):Xn(e.b,"redirectUrl"),this.g?Fn(e,"eventId",this.g):Xn(e.b,"eventId"),this.i?Fn(e,"v",this.i):Xn(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(e,s)&&Fn(e,s,this.b[s]);return this.h?Fn(e,"tid",this.h):Xn(e.b,"tid"),this.f?Fn(e,"eid",this.f):Xn(e.b,"eid"),(s=fu(this.c)).length&&Fn(e,"fw",s.join(",")),e.toString()},(e=du.prototype).Ob=function(e,t,n){var r=new x("popup-closed-by-user"),i=new x("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return mu(e).then((function(){return function(e,t){return e.rb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&mr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new _t((function(t){return function n(){xn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return xn(n).then((function(){t(r)}))}))},e.Xb=function(){var e=Ar();return!Rr(e)&&!qr(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,a,s){if(!e)return Nt(new x("popup-blocked"));if(a&&!Rr())return this.ma().o((function(t){mr(e),i(t)})),r(),kt();this.a||(this.a=pu(gu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw mr(e),i(t),t}));return r(),t})).then((function(){zo(n),a||fr(vu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=pu(gu(this)));var i=this;return this.a.then((function(){zo(t),fr(vu(i.s,i.g,i.b,e,t,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return mu(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new x("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){J(this.h,(function(t){return t==e}))},(e=yu.prototype).get=function(e){return kt(this.a.getItem(e)).then((function(e){return e&&Ur(e)}))},e.set=function(e,t){return kt(this.a.setItem(e,jr(t)))},e.U=function(e){return kt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var wu,_u=[];function Eu(e,t,n){me(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Tu(e){this.a=e}function Iu(e){this.c=e,this.b=!1,this.a=[]}function Su(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Nt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Cu(e,c),t})).o((function(t){throw Cu(e,c),t}))}function Cu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),J(e.a,(function(e){return e==t}))}}function xu(){if(!Du())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Er()&&self?(this.v=function(){var e=Er()?self:null;if(G(_u,(function(n){n.b==e&&(t=n)})),!t){var t=new bu(e);_u.push(t)}return t}(),Eu(this.v,"keyChanged",(function(t,n){return Ru(e).then((function(t){return 0<t.length&&G(e.a,(function(e){e(t)})),{keyProcessed:Y(t,n.key)}}))})),Eu(this.v,"ping",(function(){return kt(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?kt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):kt(null)}().then((function(t){(e.h=t)&&(e.g=new Iu(new Tu(t)),Su(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Y(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function ku(e){return new _t((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new _t((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return ku(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Nu(e){return e.i||(e.i=ku(e)),e.i}function Au(e,t){var n=0;return new _t((function r(i,o){Nu(e).then(t).then(i).o((function(t){if(!(3<++n))return Nu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Du(){try{return!!u.indexedDB}catch(e){return!1}}function Pu(e){return e.objectStore("firebaseLocalStorage")}function Mu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Ou(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Lu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Su(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):kt()}function Ru(e){return Nu(e).then((function(e){var t=Pu(Mu(e,!1));return t.getAll?Ou(t.getAll()):new _t((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r}))}function ju(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Fu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=kt().then((function(){if(Du()){var e=zr(),r="__sak"+e;return wu||(wu=new xu),(n=wu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){G(t.a,(function(t){t(e)}))})),e}))}function Uu(){this.a={},this.type="inMemory"}function zu(){if(!function(){var e="Node"==Tr();if(!(e=qu()||e&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Tr())throw new x("internal-error","The LocalStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=qu()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var e=u.localStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Vu(){this.type="nullStorage"}function Bu(){if(!function(){var e="Node"==Tr();if(!(e=Wu()||e&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Tr())throw new x("internal-error","The SessionStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Wu()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wu(){try{var e=u.sessionStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Gu(){var e={};e.Browser=Ku,e.Node=Yu,e.ReactNative=$u,e.Worker=Ju,this.a=e[Tr()]}bu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];G(r,(function(t){i.push(kt().then((function(){return t(e.origin,e.data.data)})))})),Dt(i).then((function(r){var i=[];G(r,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),G(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Tu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Iu.prototype.close=function(){for(;0<this.a.length;)Cu(this,this.a[0]);this.b=!0},(e=xu.prototype).set=function(e,t){var n=this,r=!1;return Au(this,(function(t){return Ou((t=Pu(Mu(t,!0))).get(e))})).then((function(i){return Au(n,(function(o){if(o=Pu(Mu(o,!0)),i)return i.value=t,Ou(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Ou(o.add(a))}))})).then((function(){return n.c[e]=t,Lu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Au(this,(function(t){return Ou(Pu(Mu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Au(this,(function(r){return n=!0,t.b++,Ou(Pu(Mu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Lu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){ju(e),function t(){e.f=setTimeout((function(){e.l=Ru(e).then((function(t){0<t.length&&G(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ia=function(e){J(this.a,(function(t){return t==e})),0==this.a.length&&ju(this)},(e=Fu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){J(this.a,(function(t){return t==e}))},(e=Uu.prototype).get=function(e){return kt(this.a[e])},e.set=function(e,t){return this.a[e]=t,kt()},e.U=function(e){return delete this.a[e],kt()},e.ca=function(){},e.ia=function(){},(e=zu.prototype).get=function(e){var t=this;return kt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return kt().then((function(){var r=jr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return kt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){u.window&&ln(u.window,"storage",e)},e.ia=function(e){u.window&&dn(u.window,"storage",e)},(e=Vu.prototype).get=function(){return kt(null)},e.set=function(){return kt()},e.U=function(){return kt()},e.ca=function(){},e.ia=function(){},(e=Bu.prototype).get=function(e){var t=this;return kt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return kt().then((function(){var r=jr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return kt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Hu,Qu,Ku={F:zu,bb:Bu},Yu={F:zu,bb:Bu},$u={F:yu,bb:Vu},Ju={F:zu,bb:Vu},Zu={rd:"local",NONE:"none",td:"session"};function Xu(){var e=!(qr(Ar())||!_r()),t=Rr(),n=Pr();this.m=e,this.h=t,this.l=n,this.a={},Hu||(Hu=new Gu),e=Hu;try{this.g=!lr()&&Hr()||!u.indexedDB?new e.a.F:new Fu(Er()?new Uu:new e.a.F)}catch(e){this.g=new Uu,this.h=!0}try{this.i=new e.a.bb}catch(e){this.i=new Uu}this.v=new Uu,this.f=E(this.Yb,this),this.b={}}function ec(){return Qu||(Qu=new Xu),Qu}function tc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function nc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function rc(e,t,n){return n=nc(t,n),"local"==t.F&&(e.b[n]=null),tc(e,t.F).U(n)}function ic(e){e.c&&(clearInterval(e.c),e.c=null)}function oc(e){this.a=e,this.b=ec()}(e=Xu.prototype).get=function(e,t){return tc(this,e.F).get(nc(e,t))},e.set=function(e,t,n){var r=nc(e,n),i=this,o=tc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=nc(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),me(this.a)&&(tc(this,"local").ca(this.f),this.h||(lr()||!Hr())&&u.indexedDB||!this.l||function(e){ic(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Zt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Yb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=nc(e,t),this.a[e]&&(J(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),me(this.a)&&(tc(this,"local").ia(this.f),ic(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?tc(this,"local").ia(this.f):ic(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.mb(t))},Ye&&st&&10==st&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else G(e,E(this.mb,this))},e.mb=function(e){this.a[e]&&G(this.a[e],(function(e){e()}))};var ac,sc={name:"authEvent",F:"local"};function uc(){this.a=ec()}function cc(e,t){this.b=lc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=u.Int32Array?new Int32Array(vc):vc),this.reset()}S(cc,(function(){this.b=-1}));for(var lc=64,hc=lc-1,fc=[],dc=0;dc<hc;dc++)fc[dc]=0;var pc=Z(128,fc);function mc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ac[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function gc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(mc(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(mc(e),i=0)}}e.c=i,e.g+=n}cc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):X(this.h)};var vc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yc(){cc.call(this,8,bc)}S(yc,cc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new uc,this.g=new oc(this.h),this.f=null,this.b=[],this.a=this.c=null}function _c(e){return new x("invalid-cordova-configuration",e)}function Ec(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Tc(e){return e.f||(e.f=e.ma().then((function(){return new _t((function(t){e.Ea((function n(r){return t(r),e.Sa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Ic(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=oo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ur(Un(o=zn(i),"firebaseError")||null))?k(o):null)?new qo(r.c,r.b,null,null,o,null,r.T()):new qo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(e,i)}))}var n=new qo("unknown",null,null,null,new x("no-auth-event")),r=!1,i=xn(500).then((function(){return Ic(e).then((function(){r||Ec(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Dr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Go||(Go=new Bo),function(e){var t=Go;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Dr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Ic(e){var t=null;return function(e){return e.b.get(sc,e.a).then((function(e){return Vo(e)}))}(e.g).then((function(n){return t=n,rc((n=e.g).b,sc,n.a)})).then((function(){return t}))}function Sc(e){this.a=e,this.b=ec()}(e=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?br().then((function(){return new _t((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Nt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Dr("universalLinks.subscribe",u))throw _c("cordova-universal-links-plugin-fix is not installed");if(void 0===Dr("BuildInfo.packageName",u))throw _c("cordova-plugin-buildinfo is not installed");if("function"!=typeof Dr("cordova.plugins.browsertab.openUrl",u))throw _c("cordova-plugin-browsertab is not installed");if("function"!=typeof Dr("cordova.InAppBrowser.open",u))throw _c("cordova-plugin-inappbrowser is not installed")}),(function(){throw new x("cordova-not-ready")}))},e.Ob=function(e,t){return t(new x("operation-not-supported-in-this-environment")),kt()},e.Mb=function(){return Nt(new x("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return Nt(new x("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=kt().then((function(){return zo(t),Tc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new qo(t,r,null,o,new x("no-auth-event"),null,i),s=Dr("BuildInfo.packageName",u);if("string"!=typeof s)throw new x("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",u),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Ar().toLowerCase().match(/android/))return Nt(new x("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=function(e){var t=new yc;gc(t,e),e=[];var n=8*t.g;56>t.c?gc(t,pc,56-t.c):gc(t,pc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(mc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return Q(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),l.sessionId=o;var h=vu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(sc,a.w(),t)})).then((function(){var t=Dr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof t)throw new x("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Dr("cordova.plugins.browsertab.openUrl",u)))throw new x("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Dr("cordova.InAppBrowser.open",u)))throw new x("invalid-cordova-configuration");t=Ar(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new _t((function(e,t){s=function(){var t=Dr("cordova.plugins.browsertab.close",u);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=xn(2e3).then((function(){t(new x("redirect-cancelled-by-user"))})))},l=function(){Wr()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Ic(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null}))},e.Ea=function(e){this.b.push(e),Tc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new qo("unknown",null,null,null,new x("no-auth-event")),e(t))}))},e.Sa=function(e){J(this.b,(function(t){return t==e}))};var Cc={name:"pendingRedirect",F:"session"};function xc(e){return rc(e.b,Cc,e.a)}function kc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Bc,this.C=new Kc,this.g=new Sc(qc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Nc(this.D,this.v,this.m,N,this.J)}function Nc(e,t,n,i,o){var a=r.Z.SDK_VERSION||null;return wr()?new wc(e,t,n,a,i,o):new du(e,t,n,a,i,o)}function Ac(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Dc(e){e.a.Xb()&&Ac(e).o((function(t){var n=new qo("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));jc(t)&&e.s(n)})),e.a.Tb()||Wc(e.b)}function Pc(e,t){Y(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Cc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?xc(e.g).then((function(){Ac(e).o((function(t){var n=new qo("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));jc(t)&&e.s(n)}))})):Dc(e)})).o((function(){Dc(e)}))}function Mc(e,t){J(e.h,(function(e){return e==t}))}kc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Nc(this.D,this.v,this.m,null,this.J),this.i={}},kc.prototype.s=function(e){if(!e)throw new x("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=I())),t=!0;break}}return Wc(this.b),t};var Oc=new Br(2e3,1e4),Lc=new Br(3e4,6e4);function Rc(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function jc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Fc(e,t,n,r,i){var o;return function(e){return e.b.set(Cc,"pending",e.a)}(e.g).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(jc(t))throw new x("operation-not-supported-in-this-environment");return o=t,xc(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new _t((function(){})):xc(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Uc(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),Oc.get())}kc.prototype.qa=function(){return this.b.qa()};var zc={};function qc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Vc(e,t,n,r){var i=qc(t,n,r);return zc[i]||(zc[i]=new kc(e,t,n,r)),zc[i]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(e){e.g||(e.g=!0,Qc(e,!1,null,null))}function Gc(e){e.g&&!e.i&&Qc(e,!1,null,null)}function Hc(e,t){if(e.b=function(){return kt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Qc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Nt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Hc(e,n):Hc(e,{user:null}),e.f=[],e.c=[]}function Kc(){}function Yc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function $c(e,t){this.a=t,Jr(this,"verificationId",e)}function Jc(e,t,n,r){return new jo(e).fb(t,n).then((function(e){return new $c(e,r)}))}function Zc(e){var t=Gi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:e,expirationTime:Gr(1e3*t.exp),authTime:Gr(1e3*t.auth_time),issuedAtTime:Gr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Xc(e,t,n){var r=t&&t[tl];if(!r)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ge(t),this.g=n,this.c=new ao(null,r),this.b=[];var i=this;G(t[el]||[],(function(e){(e=ni(e))&&i.b.push(e)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Qc(this,!0,null,e.a),kt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Qc(e,s,t,null)})).o((function(t){Qc(e,s,null,t)}))}(this,e,t):Nt(new x("invalid-auth-event")):(Qc(this,!1,null,null),kt())}else Nt(new x("invalid-auth-event"))},Bc.prototype.qa=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new x("timeout");e.a&&e.a.cancel(),e.a=xn(Lc.get()).then((function(){e.b||(e.g=!0,Qc(e,!0,null,t))}))}(e))}))},Kc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),kt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Nt(new x("invalid-auth-event"))}else Nt(new x("invalid-auth-event"))},$c.prototype.confirm=function(e){return e=Fo(this.verificationId,e),this.a(e)};var el="mfaInfo",tl="mfaPendingCredential";function nl(e,t,n,r){x.call(this,"multi-factor-auth-required",r,t),this.b=new Xc(e,t,n),Jr(this,"resolver",this.b)}function rl(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new nl(t,e.serverResponse,n,e.message)}catch(e){}return null}function il(){}function ol(e){Jr(this,"factorId",e.fa),this.a=e}function al(e){if(ol.call(this,e),this.a.fa!=jo.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function sl(e,t){for(var n in Jt.call(this,e),t)this[n]=t[n]}function ul(e,t){this.a=e,this.b=[],this.c=E(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&G(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[oi]=e.uid),e.displayName&&(r[ri]=e.displayName),e.enrollmentTime&&(r[ii]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ai]=e.phoneNumber);try{t=new si(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),cl(this,n)}function cl(e,t){e.b=t,Jr(e,"enrolledFactors",t)}function ll(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function hl(e,t){e.stop(),e.b=xn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return Wr()||!e?kt():new _t((function(n){t=function(){Wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){hl(e,!0)})).o((function(t){e.i(t)&&hl(e,!1)}))}function fl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function dl(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function pl(e,t){e.b=Wi(t[Za]||""),e.a=t.refreshToken,dl(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function ml(e,t){this.a=e||null,this.b=t||null,Zr(this,{lastSignInTime:Gr(t||null),creationTime:Gr(e||null)})}function gl(e,t,n,r,i,o){Zr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function vl(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION):null;this.a=new $a(this.l,M(N),i),e.emulatorConfig&&is(this.a,e.emulatorConfig),this.b=new fl(this.a),Sl(this,t[Za]),pl(this.b,t),Jr(this,"refreshToken",this.b.a),kl(this,n||{}),En.call(this),this.R=!1,this.s&&Mr()&&(this.i=Vc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(e){return new ll((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.aa=E(this.hb,this);var o=this;this.ya=null,this.Oa=function(e){o.wa(e.h)},this.ja=null,this.Aa=function(e){is(o.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){wl(o,e.f)},this.ba=null,this.O=new ul(this,n),Jr(this,"multiFactor",this.O)}function yl(e,t){e.ja&&dn(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&ln(t,"languageCodeChanged",e.Oa)}function bl(e,t){e.X&&dn(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&ln(t,"emulatorConfigChanged",e.Aa)}function wl(e,t){e.$=t,as(e.a,r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION,e.$):null)}function _l(e,t){e.ba&&dn(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&ln(t,"frameworkChanged",e.Ba)}function El(e){try{return r.Z.app(e.m).auth()}catch(t){throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Tl(e){e.D||e.u.b||(e.u.start(),dn(e,"tokenChanged",e.aa),ln(e,"tokenChanged",e.aa))}function Il(e){dn(e,"tokenChanged",e.aa),e.u.stop()}function Sl(e,t){e.za=t,Jr(e,"_lat",t)}function Cl(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Dt(t).then((function(){return e}))}function xl(e){e.i&&!e.R&&(e.R=!0,Pc(e.i,e))}function kl(e,t){Zr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new ml(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Nl(){}function Al(e){return kt().then((function(){if(e.D)throw new x("app-deleted")}))}function Dl(e){return Q(e.providerData,(function(e){return e.providerId}))}function Pl(e,t){t&&(Ml(e,t.providerId),e.providerData.push(t))}function Ml(e,t){J(e.providerData,(function(e){return e.providerId==t}))}function Ol(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Jr(e,t,n)}function Ll(e,t){e!=t&&(Zr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Jr(e,"metadata",function(e){return new ml(e.a,e.b)}(t.metadata)):Jr(e,"metadata",new ml),G(t.providerData,(function(t){Pl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Jr(e,"refreshToken",e.b.a),cl(e.O,t.O.b))}function Rl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return nu(e.a,Ms,{idToken:t}).then(E(e.Kc,e))}(e,t).then((function(){return n||Ol(e,"isAnonymous",!1),t}))}))}function jl(e,t){t[Za]&&e.za!=t[Za]&&(pl(e.b,t),e.dispatchEvent(new sl("tokenChanged")),Sl(e,t[Za]),Ol(e,"refreshToken",e.b.a))}function Fl(e,t){return Rl(e).then((function(){if(Y(Dl(e),t))return Cl(e).then((function(){throw new x("provider-already-linked")}))}))}function Ul(e,t,n){return Xr({user:e,credential:Uo(t),additionalUserInfo:t=$i(t),operationType:n})}function zl(e,t){return jl(e,t),e.reload().then((function(){return e}))}function ql(e,t,n,i,o){if(!Mr())return Nt(new x("operation-not-supported-in-this-environment"));if(e.h&&!o)return Nt(e.h);var a=Yi(n.providerId),s=zr(e.uid+":::"),u=null;(!Rr()||_r())&&e.s&&n.isOAuthProvider&&(u=vu(e.s,e.l,e.m,t,n,null,s,r.Z.SDK_VERSION||null,null,null,e.tenantId));var c=gr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Bl(e),!o)return e.I().then((function(){}))})).then((function(){return Rc(e.i,c,t,n,s,!!u,e.tenantId)})).then((function(){return new _t((function(n,r){e.na(t,null,new x("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=s,e.c=Uc(e.i,e,t,c,s)}))})).then((function(e){return c&&mr(c),e?Xr(e):null})).o((function(e){throw c&&mr(c),e})),Wl(e,i,o)}function Vl(e,t,n,r,i){if(!Mr())return Nt(new x("operation-not-supported-in-this-environment"));if(e.h&&!i)return Nt(e.h);var o=null,a=zr(e.uid+":::");return r=r().then((function(){if(Bl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Cl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Ql,e.w(),t.a)),t})).then((function(){return Fc(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Kl(e.ha);throw o})).then((function(){if(o)throw o})),Wl(e,r,i)}function Bl(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new x("internal-error");throw new x("auth-domain-config-required")}}function Wl(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),Nt(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new sl("userInvalidated")),e.h=t),t}))}(e,t,n);return e.J.push(r),r.oa((function(){$(e.J,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=rl(t.w(),El(e),E(e.jc,e))),n||t}))}function Gl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Za]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new vl(t,n,e);return e.providerData&&G(e.providerData,(function(e){e&&Pl(i,Xr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Hl(e){this.a=e,this.b=ec()}Xc.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=ge(t.f);return delete n[el],delete n[tl],ye(n,e),t.g(n)}))},S(nl,x),il.prototype.sb=function(e,t,n){return t.type==so?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ye(n,{phoneVerificationInfo:Ro(e.a)}),nu(t,Ds,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(e.a)}),nu(t,Ps,n)}))}(this,e,t)},S(ol,il),S(al,ol),S(sl,Jt),(e=ul.prototype).yc=function(e){cl(this,function(e){var t=[];return G(e.mfaInfo||[],(function(e){(e=ni(e))&&t.push(e)})),t}(e.hd))},e.Rb=function(){return this.a.I().then((function(e){return new ao(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return jl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return nu(r,tu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=H(t.b,(function(e){return e.uid!=n}));return cl(t,r),jl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:Q(this.b,(function(e){return e.w()}))}}},ll.prototype.start=function(){this.a=this.c,hl(this,!0)},ll.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},fl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},fl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Nt(new x("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ss(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(iu(e)):e.access_token&&e.refresh_token?n(e):r(new x("internal-error")):r(new x("network-request-failed"))}),"POST",Zn(t).toString(),e.g,e.m.get()):r(new x("internal-error"))}))}(e.f,t).then((function(t){return e.b=Wi(t.access_token),e.a=t.refresh_token,dl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):kt(null):kt({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(vl,En),vl.prototype.wa=function(e){this.ya=e,rs(this.a,e)},vl.prototype.la=function(){return this.ya},vl.prototype.Ga=function(){return X(this.$)},vl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Jr(vl.prototype,"providerId","firebase"),(e=vl.prototype).reload=function(){var e=this;return Wl(this,Al(this).then((function(){return Rl(e).then((function(){return Cl(e)})).then(Nl)})))},e.oc=function(e){return this.I(e).then((function(e){return new Zc(e)}))},e.I=function(e){var t=this;return Wl(this,Al(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new x("internal-error");return e.accessToken!=t.za&&(Sl(t,e.accessToken),t.dispatchEvent(new sl("tokenChanged"))),Ol(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new x("internal-error");kl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?Q(e,(function(e){return new gl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Pl(this,t[n]);Ol(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new sl("userReloaded",{hd:e}))},e.Lc=function(e){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return Wl(this,e.c(this.a,this.uid).then((function(e){return jl(t,e),n=Ul(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return Wl(this,Fl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Ul(t,e,"link"),zl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Wl(this,Fl(this,"phone").then((function(){return Jc(El(n),e,t,E(n.qb,n))})))},e.Mc=function(e,t){var n=this;return Wl(this,kt().then((function(){return Jc(El(n),e,t,E(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return Wl(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return jl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Wl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return jl(t,e),t.reload()})))},e.Cb=function(e){var t=this;return Wl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return jl(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Al(this);var t=this;return Wl(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return jl(t,e),Ol(t,"displayName",e.displayName||null),Ol(t,"photoURL",e.photoUrl||null),G(t.providerData,(function(e){"password"===e.providerId&&(Jr(e,"displayName",t.displayName),Jr(e,"photoURL",t.photoURL))})),Cl(t)})).then(Nl))},e.cd=function(e){var t=this;return Wl(this,Rl(this).then((function(n){return Y(Dl(t),e)?function(e,t,n){return nu(e,ks,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return G(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),G(Dl(t),(function(e){n[e]||Ml(t,e)})),n[jo.PROVIDER_ID]||Jr(t,"phoneNumber",null),Cl(t)})):Cl(t).then((function(){throw new x("no-such-provider")}))})))},e.delete=function(){var e=this;return Wl(this,this.I().then((function(t){return nu(e.a,xs,{idToken:t})})).then((function(){e.dispatchEvent(new sl("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");yl(e,null),bl(e,null),_l(e,null),e.J=[],e.D=!0,Il(e),Jr(e,"refreshToken",null),e.i&&Mc(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?E(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?E(this.Lb,this):null},e.Ec=function(e){var t=this;return ql(this,"linkViaPopup",e,(function(){return Fl(t,e.providerId).then((function(){return Cl(t)}))}),!1)},e.Nc=function(e){return ql(this,"reauthViaPopup",e,(function(){return kt()}),!0)},e.Fc=function(e){var t=this;return Vl(this,"linkViaRedirect",e,(function(){return Fl(t,e.providerId)}),!1)},e.Oc=function(e){return Vl(this,"reauthViaRedirect",e,(function(){return kt()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,this.I().then((function(n){return ws(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Ul(i,e,"link"),zl(i,e)})).then((function(){return o})))},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,kt().then((function(){return lo(_s(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Ul(i,e,"reauthenticate"),jl(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.ub=function(e){var t=this,n=null;return Wl(this,this.I().then((function(t){return n=t,void 0===e||me(e)?{}:qi(new Di(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return Wl(this,this.I().then((function(e){return r=e,void 0===t||me(t)?{}:qi(new Di(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Wl(this,e=lo(kt(e),n.uid).then((function(e){return t=Ul(n,e,"reauthenticate"),jl(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),G(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ye(e,this.O.w()),e};var Ql={name:"redirectUser",F:"session"};function Kl(e){return rc(e.b,Ql,e.a)}function Yl(e){this.a=e,this.b=ec(),this.c=null,this.f=function(e){var t=Zl("local"),n=Zl("session"),r=Zl("none");return function(e,t,n){var r=nc(t,n),i=tc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Ur(u.localStorage.getItem(r))}catch(e){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(Jl,e.a).then((function(e){return e?Zl(e):t}))}))}))})).then((function(t){return e.c=t,$l(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(Zl("local"),this.a,E(this.g,this))}function $l(e,t){var n,r=[];for(n in Zu)Zu[n]!==t&&r.push(rc(e.b,Zl(Zu[n]),e.a));return r.push(rc(e.b,Jl,e.a)),function(e){return new _t((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)At(e[s],T(o,s),a);else t(i)}))}(r)}Yl.prototype.g=function(){var e=this,t=Zl("local");nh(this,(function(){return kt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return $l(e,"local").then((function(){e.c=t}))}))}))};var Jl={name:"persistence",F:"session"};function Zl(e){return{name:"authUser",F:e}}function Xl(e,t){return nh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function eh(e){return nh(e,(function(){return rc(e.b,e.c,e.a)}))}function th(e,t,n){return nh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Gl(e||{})}))}))}function nh(e,t){return e.f=e.f.then(t,t),e.f}function rh(e){if(this.l=!1,Jr(this,"settings",new Yc),Jr(this,"app",e),!hh(this).options||!hh(this).options.apiKey)throw new x("invalid-api-key");e=r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION):null,this.a=new $a(hh(this).options&&hh(this).options.apiKey,M(N),e),this.R=[],this.s=[],this.O=[],this.hb=r.Z.INTERNAL.createSubscribe(E(this.zc,this)),this.X=void 0,this.bc=r.Z.INTERNAL.createSubscribe(E(this.Ac,this)),ch(this,null),this.i=new Yl(hh(this).options.apiKey+":"+hh(this).name),this.D=new Hl(hh(this).options.apiKey+":"+hh(this).name),this.$=mh(this,function(e){var t=hh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Ql,e.a).then((function(e){return e&&t&&(e.authDomain=t),Gl(e||{})}))}(e.D,hh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Kl(e.D)}));return mh(e,t)}(e).then((function(){return th(e.i,t,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Xl(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:eh(e.i)}))):null})).then((function(t){ch(e,t||null)}));return mh(e,n)}(this)),this.h=mh(this,function(e){return e.$.then((function(){return uh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(Zl("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.ya=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(e){var t=hh(e).options.authDomain,n=hh(e).options.apiKey;t&&Mr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Vc(t,n,hh(e).name,e.P),Pc(e.b,e),fh(e)&&xl(fh(e)),e.m){xl(e.m);var r=e.m;r.wa(e.la()),yl(r,e),wl(r=e.m,e.J),_l(r,e),is((r=e.m).a,e.P),bl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.P){var e=zn(this.P.url);e=Xr({protocol:e.c,host:e.a,port:e.g,options:Xr({disableWarnings:this.P.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.P=null}function ih(e){Jt.call(this,"languageCodeChanged"),this.h=e}function oh(e){Jt.call(this,"emulatorConfigChanged"),this.c=e}function ah(e){Jt.call(this,"frameworkChanged"),this.f=e}function sh(e){return e.Oa||Nt(new x("auth-domain-config-required"))}function uh(e){if(!Mr())return Nt(new x("operation-not-supported-in-this-environment"));var t=sh(e).then((function(){return e.b.qa()})).then((function(e){return e?Xr(e):null}));return mh(e,t)}function ch(e,t){fh(e)&&(function(e,t){J(e.S,(function(e){return e==t}))}(fh(e),e.Ba),dn(fh(e),"tokenChanged",e.ya),dn(fh(e),"userDeleted",e.za),dn(fh(e),"userInvalidated",e.Aa),Il(fh(e))),t&&(t.S.push(e.Ba),ln(t,"tokenChanged",e.ya),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&Tl(t)),Jr(e,"currentUser",t),t&&(t.wa(e.la()),yl(t,e),wl(t,e.J),_l(t,e),is(t.a,e.P),bl(t,e))}function lh(e,t){var n=null,r=null;return mh(e,t.then((function(t){return n=Uo(t),r=$i(t),function(e,t){var n={};return n.apiKey=hh(e).options.apiKey,n.authDomain=hh(e).options.authDomain,n.appName=hh(e).name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return function(e,t,n,r){var i=new vl(e,t);return n&&(i.ha=n),r&&wl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return fh(e)&&t.uid==fh(e).uid?(Ll(fh(e),t),e.da(t)):(ch(e,t),xl(t),e.da(t))})).then((function(){ph(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=rl(t.w(),e,E(e.kc,e))),n||t})).then((function(){return Xr({user:fh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function hh(e){return e.app}function fh(e){return e.currentUser}function dh(e){return fh(e)&&fh(e)._lat||null}function ph(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](dh(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](dh(e))}}function mh(e,t){return e.R.push(t),t.oa((function(){$(e.R,t)})),t}function gh(){}function vh(){this.a={},this.b=1e12}Yl.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new x("invalid-persistence-type"),n=new x("unsupported-persistence-type");e:{for(r in Zu)if(Zu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(Tr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Du()&&"none"!==e)throw n;break;default:if(!Pr()&&"none"!==e)throw n}}(e),nh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,$l(n,e)})).then((function(){if(n.c=Zl(e),t)return n.b.set(n.c,t,n.a)})):kt()}))},S(rh,En),S(ih,Jt),S(oh,Jt),S(ah,Jt),(e=rh.prototype).xb=function(e){return mh(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,rs(this.a,this.aa),this.dispatchEvent(new ih(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=u.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&br().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.P={url:e,ec:t},this.settings.ib=!0,is(this.a,this.P),this.dispatchEvent(new oh(this.P))}},e.Gc=function(e){this.J.push(e),as(this.a,r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new ah(this.J))},e.Ga=function(){return X(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:hh(this).options.apiKey,authDomain:hh(this).options.authDomain,appName:hh(this).name,currentUser:fh(this)&&fh(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return lh(i,bs(i.a,o))}))},e.Xc=function(e){if(!Mr())return Nt(new x("operation-not-supported-in-this-environment"));var t=this,n=Yi(e.providerId),i=zr(),o=null;(!Rr()||_r())&&hh(this).options.authDomain&&e.isOAuthProvider&&(o=vu(hh(this).options.authDomain,hh(this).options.apiKey,hh(this).name,"signInViaPopup",e,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.P));var a=gr(o,n&&n.ua,n&&n.ta);return mh(this,n=sh(this).then((function(n){return Rc(n,a,"signInViaPopup",e,i,!!o,t.T())})).then((function(){return new _t((function(e,n){t.na("signInViaPopup",null,new x("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=i,t.c=Uc(t.b,t,"signInViaPopup",a,i)}))})).then((function(e){return a&&mr(a),e?Xr(e):null})).o((function(e){throw a&&mr(a),e})))},e.Yc=function(e){if(!Mr())return Nt(new x("operation-not-supported-in-this-environment"));var t=this;return mh(this,sh(this).then((function(){return function(e){return nh(e,(function(){return e.b.set(Jl,e.c.F,e.a)}))}(t.i)})).then((function(){return Fc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.qa=function(){var e=this;return uh(this).then((function(t){return e.b&&Gc(e.b.b),t})).o((function(t){throw e.b&&Gc(e.b.b),t}))},e.dd=function(e){if(!e)return Nt(new x("null-user"));if(this.S!=e.tenantId)return Nt(new x("tenant-id-mismatch"));var t=this,n={};n.apiKey=hh(this).options.apiKey,n.authDomain=hh(this).options.authDomain,n.appName=hh(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[Za]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new vl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&wl(t,r),Ll(t,e),t}(e,n,t.D,t.Ga());return mh(this,this.h.then((function(){if(hh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return fh(t)&&e.uid==fh(t).uid?(Ll(fh(t),e),t.da(e)):(ch(t,r),xl(r),t.da(r))})).then((function(){ph(t)})))},e.Ab=function(){var e=this;return mh(this,this.h.then((function(){return e.b&&Gc(e.b.b),fh(e)?(ch(e,null),eh(e.i).then((function(){ph(e)}))):kt()})))},e.Zc=function(){var e=this;return th(this.i,hh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=fh(e)&&t){n=fh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ll(fh(e),t),fh(e).I();(fh(e)||t)&&(ch(e,t),t&&(xl(t),t.ha=e.D),e.b&&Pc(e.b,e),ph(e))}}))},e.da=function(e){return Xl(this.i,e)},e.mc=function(){ph(this),this.da(fh(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return lh(t,kt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(fh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.O.push(t),mh(e,e.h.then((function(){!e.l&&Y(e.O,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(dh(e)))})))}(this,(function(){e.next(fh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(fh(r)):"function"==typeof e.next&&e.next(fh(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof e?e(fh(r)):"function"==typeof e.next&&e.next(fh(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this;return mh(this,this.h.then((function(){return fh(t)?fh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return lh(t,nu(t.a,$s,{token:e}))})).then((function(e){var n=e.user;return Ol(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return lh(n,nu(n.a,Js,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return lh(n,nu(n.a,Ss,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return lh(t,e.ka(t.a))}))},e.Sc=function(e){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=fh(e);if(t&&t.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return lh(e,e.a.zb()).then((function(t){var n=t.user;return Ol(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return fh(this)&&fh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&fh(this)&&Tl(fh(this))},e.Pc=function(e){var t=this;G(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&fh(this)&&Il(fh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),mh(this,this.h.then((function(){t.l||Y(t.s,e)&&e(dh(t))})))},e.removeAuthTokenListener=function(e){J(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener(Zl("local"),e.a,this.ja),this.b&&(Mc(this.b,this),Gc(this.b.b)),Promise.resolve()},e.hc=function(e){return mh(this,function(e,t){return nu(e,Cs,{identifier:t,continueUri:Or()?hr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Mo(e)},e.wb=function(e,t){var n=this;return mh(this,kt().then((function(){var e=new Di(t);if(!e.c)throw new x("argument-error",Oi+" must be true when sending sign in link to email");return qi(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return mh(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return mh(this,this.a.Ra(e).then((function(e){return new ui(e)})))},e.jb=function(e){return mh(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return mh(this,kt().then((function(){return void 0===t||me(t)?{}:qi(new Di(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return mh(this,Jc(this,e,t,E(this.$a,this)))},e.Vc=function(e,t){var n=this;return mh(this,kt().then((function(){var r=t||hr(),i=Po(e,r);if(!(r=Mo(r)))throw new x("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new x("tenant-id-mismatch");return n.$a(i)})))},gh.prototype.render=function(){},gh.prototype.reset=function(){},gh.prototype.getResponse=function(){},gh.prototype.execute=function(){};var yh=null;function bh(e,t){return(t=wh(t))&&e.a[t]||null}function wh(e){return(e=void 0===e?1e12:e)?e.toString():null}function _h(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Eh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Th(){}function Ih(){}vh.prototype.render=function(e,t){return this.a[this.b.toString()]=new _h(e,t),this.b++},vh.prototype.reset=function(e){var t=bh(this,e);e=wh(e),t&&e&&(t.delete(),delete this.a[e])},vh.prototype.getResponse=function(e){return(e=bh(this,e))?e.getResponse():null},vh.prototype.execute=function(e){(e=bh(this,e))&&e.execute()},_h.prototype.getResponse=function(){return Eh(this),this.b},_h.prototype.execute=function(){Eh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},_h.prototype.delete=function(){Eh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Jr(Th,"FACTOR_ID","phone"),Ih.prototype.g=function(){return yh||(yh=new vh),kt(yh)},Ih.prototype.c=function(){};var Sh=null;function Ch(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xh=new we(Ie,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),kh=new Br(3e4,6e4);Ch.prototype.g=function(e){var t=this;return new _t((function(n,r){var i=setTimeout((function(){r(new x("network-request-failed"))}),kh.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new x("internal-error"));delete u[t.a]},kt(Ba(ke(xh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Ch.prototype.c=function(){this.b--};var Nh=null;function Ah(e,t,n,r,i,o,a){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,a?(Sh||(Sh=new Ih),a=Sh):(Nh||(Nh=new Ch),a=Nh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Mh])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Oh],!u.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $a(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Dh];this.a[Dh]=function(e){if(Lh(s,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Dr(c,u);"function"==typeof t&&t(e)}};var l=this.a[Ph];this.a[Ph]=function(){if(Lh(s,null),"function"==typeof l)l();else if("string"==typeof l){var e=Dr(l,u);"function"==typeof e&&e()}}}var Dh="callback",Ph="expired-callback",Mh="sitekey",Oh="size";function Lh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Rh(e,t){return e.h.push(t),t.oa((function(){$(e.h,t)})),t}function jh(e){if(e.D)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}function Fh(e,t,n){var i=!1;try{this.b=n||r.Z.app()}catch(e){throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new x("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION,a):null,Ah.call(this,n,e,t,(function(){try{var e=o.b.auth().la()}catch(t){e=null}return e}),a,M(N),i)}function Uh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=zh.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");n=zh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new x("argument-error",e+" failed: "+r)}(e=Ah.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Rh(this,kt().then((function(){if(Or()&&!Er())return br();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,nu(e.s,Us,{})})).then((function(t){e.a[Mh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){jh(this);var e=this;return Rh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ge(a.name),'"'),a.type){o.push(' type="',Ge(a.type),'"');var s={};ye(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=mt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):lt(o,a)),2<r.length&&pt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){jh(this);var e=this;return Rh(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){J(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){jh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){jh(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},S(Fh,Ah);var zh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Vh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Bh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function Wh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Gh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Hh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Qh(e,t){return g(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Kh(e){return g(e)&&"string"==typeof e.uid}function Yh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function $h(e,t){for(var n in t){var r=t[n].name;e[r]=Xh(r,e[n],t[n].j)}}function Jh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:T((function(e){return this[e]}),n),set:T((function(e,t,n,r){Uh(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function Zh(e,t,n,r){e[t]=Xh(t,n,r)}function Xh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Uh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}$h(rh.prototype,{jb:{name:"applyActionCode",j:[qh("code")]},Ra:{name:"checkActionCode",j:[qh("code")]},nb:{name:"confirmPasswordReset",j:[qh("code"),qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[qh("email"),qh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[qh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[qh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Yh(Bh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Yh(Bh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[qh("email"),Yh(Bh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[qh("email"),Bh("actionCodeSettings")]},xb:{name:"setPersistence",j:[qh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Hh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Hh()]},Tc:{name:"signInWithCustomToken",j:[qh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[qh("email"),qh("password")]},Vc:{name:"signInWithEmailLink",j:[qh("email"),qh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Yh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof vl)}},Gh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[qh("url"),Bh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[qh("code")]}}),Jh(rh.prototype,{lc:{name:"languageCode",kb:Yh(qh(),Gh(),"languageCode")},ti:{name:"tenantId",kb:Yh(qh(),Gh(),"tenantId")}}),rh.Persistence=Zu,rh.Persistence.LOCAL="local",rh.Persistence.SESSION="session",rh.Persistence.NONE="none",$h(vl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Vh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Vh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Hh()]},qb:{name:"linkWithCredential",j:[Hh()]},Dc:{name:"linkWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hh()]},tb:{name:"reauthenticateWithCredential",j:[Hh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Yh(Bh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qh(null,!0)]},cd:{name:"unlink",j:[qh("provider")]},Bb:{name:"updateEmail",j:[qh("email")]},Cb:{name:"updatePassword",j:[qh("password")]},ed:{name:"updatePhoneNumber",j:[Hh("phone")]},Db:{name:"updateProfile",j:[Bh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[qh("email"),Yh(Bh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]}}),$h(vh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(_t.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Jh(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Vh("appVerificationDisabledForTesting")}}),$h($c.prototype,{confirm:{name:"confirm",j:[qh("verificationCode")]}}),Zh(co,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[vo,Ao,Lo,po],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Yh(qh(),Bh(),"json")]),Zh(Do,"credential",(function(e,t){return new No(e,t)}),[qh("email"),qh("password")]),$h(No.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),$h(_o.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Zh(_o,"credential",Eo,[Yh(qh(),Bh(),"token")]),Zh(Do,"credentialWithLink",Po,[qh("email"),qh("emailLink")]),$h(To.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Zh(To,"credential",Io,[Yh(qh(),Bh(),"token")]),$h(So.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Zh(So,"credential",Co,[Yh(qh(),Yh(Bh(),Gh()),"idToken"),Yh(qh(),Gh(),"accessToken",!0)]),$h(xo.prototype,{Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Zh(xo,"credential",ko,[Yh(qh(),Bh(),"token"),qh("secret",!0)]),$h(wo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},credential:{name:"credential",j:[Yh(qh(),Yh(Bh(),Gh()),"optionsOrIdToken"),Yh(qh(),Gh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),$h(mo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),$h(ho.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Zh(jo,"credential",Fo,[qh("verificationId"),qh("verificationCode")]),$h(jo.prototype,{fb:{name:"verifyPhoneNumber",j:[Yh(qh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Qh(e.session,so)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Qh(e.session,uo)&&Kh(e.multiFactorHint):e.session&&e.multiFactorUid?Qh(e.session,uo)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),$h(Oo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),$h(x.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),$h(Qo.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),$h(Ho.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),$h(nl.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),$h(Xc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),$h(ul.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},qh("displayName",!0)]},bd:{name:"unenroll",j:[Yh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Kh},qh(),"multiFactorInfoIdentifier")]}}),$h(Fh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Zh(Ei,"parseLink",Ai,[qh("link")]),Zh(Th,"assertion",(function(e){return new al(e)}),[Hh("phone")]),function(){if(void 0===r.Z||!r.Z.INTERNAL||!r.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:li,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ci,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:rh,AuthCredential:co,Error:x};Zh(e,"EmailAuthProvider",Do,[]),Zh(e,"FacebookAuthProvider",_o,[]),Zh(e,"GithubAuthProvider",To,[]),Zh(e,"GoogleAuthProvider",So,[]),Zh(e,"TwitterAuthProvider",xo,[]),Zh(e,"OAuthProvider",wo,[qh("providerId")]),Zh(e,"SAMLAuthProvider",bo,[qh("providerId")]),Zh(e,"PhoneAuthProvider",jo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof rh)}}]),Zh(e,"RecaptchaVerifier",Fh,[Yh(qh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Bh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.Z.app.App)}}]),Zh(e,"ActionCodeURL",Ei,[]),Zh(e,"PhoneMultiFactorGenerator",Th,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new rh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:E((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:E(e.nc,e),addAuthTokenListener:E(e.cc,e),removeAuthTokenListener:E(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.4"),r.Z.INTERNAL.extendNamespace({User:vl})}()}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Dd="firebasestorage.googleapis.com",Pd=function(e){function t(n,r){var i=e.call(this,Md(n),"Firebase Storage: "+r+" ("+Md(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return(0,fr.ZT)(t,e),t.prototype._codeEquals=function(e){return Md(e)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e},enumerable:!1,configurable:!0}),t}(o.ZR);function Md(e){return"storage/"+e}function Od(){return new Pd("unknown","An unknown error occurred, please check the error payload for server response.")}function Ld(){return new Pd("canceled","User canceled the upload/download.")}function Rd(){return new Pd("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function jd(e){return new Pd("invalid-argument",e)}function Fd(){return new Pd("app-deleted","The Firebase app was deleted.")}function Ud(e){return new Pd("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zd(e,t){return new Pd("invalid-format","String does not match format '"+e+"': "+t)}function qd(e){throw new Pd("internal-error","Internal error: "+e)}var Vd={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Bd=function(e,t){this.data=e,this.contentType=t||null};function Wd(e,t){switch(e){case Vd.RAW:return new Bd(Gd(t));case Vd.BASE64:case Vd.BASE64URL:return new Bd(Hd(e,t));case Vd.DATA_URL:return new Bd((n=new Kd(t)).base64?Hd(Vd.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw zd(Vd.DATA_URL,"Malformed data URL.")}return Gd(t)}(n.rest),new Kd(t).contentType)}var n;throw Od()}function Gd(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Hd(e,t){switch(e){case Vd.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw zd(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Vd.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw zd(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw zd(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Qd,Kd=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw zd(Vd.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=t[1]||null;null!=i&&(this.base64=(r=";base64",(n=i).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=e.substring(e.indexOf(",")+1)},Yd={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $d(e){switch(e){case"running":case"pausing":case"canceling":return Yd.RUNNING;case"paused":return Yd.PAUSED;case"success":return Yd.SUCCESS;case"canceled":return Yd.CANCELED;case"error":default:return Yd.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Qd||(Qd={}));var Jd=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Qd.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Qd.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Qd.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw qd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw qd("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw qd("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw qd("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Zd=function(){function e(){}return e.prototype.createXhrIo=function(){return new Jd},e}(),Xd=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw new Pd("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=Dd.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(t);if(l){var h=l[c.indices.bucket],f=l[c.indices.path];f||(f=""),n=new e(h,f),c.postModify(n);break}}if(null==n)throw function(e){return new Pd("invalid-url","Invalid URL '"+e+"'.")}(t);return n},e}(),ep=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function tp(e){return"string"==typeof e||e instanceof String}function np(e){return rp()&&e instanceof Blob}function rp(){return"undefined"!=typeof Blob}function ip(e,t,n,r){if(r<t)throw jd("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw jd("Invalid value for '"+e+"'. Expected "+n+" or less.")}function op(e){return"https://"+Dd+"/v0"+e}function ap(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var sp=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(e){o(e)}else null!==a?((r=Od()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Fd():Ld()):o(r=new Pd("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new up(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c||(c=!0,n.apply(null,e))}function h(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new up(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===Qd.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new up(a,n))}else{var s=n.getErrorCode()===Qd.ABORT;t(!1,new up(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}(f,u())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,(0,fr.ev)([null,e],t));else{var r;u()||a?l.call.apply(l,(0,fr.ev)([null,e],t)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(e){d||(d=!0,c||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),up=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function cp(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function lp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=cp();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(rp())return new Blob(e);throw new Pd("unsupported-environment","This browser doesn't seem to support creating Blobs")}var hp=function(){function e(e,t){var n=0,r="";np(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(np(this.data_)){var r=(i=this.data_,o=t,a=n,i.webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(rp()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(lp.apply(null,r))}var i=t.map((function(e){return tp(e)?Wd(Vd.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function fp(e){var t;try{t=JSON.parse(e)}catch(e){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function dp(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function pp(e,t){return t}var mp=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||pp},gp=null;function vp(){if(gp)return gp;var e=[];e.push(new mp("bucket")),e.push(new mp("generation")),e.push(new mp("metageneration")),e.push(new mp("name","fullPath",!0));var t=new mp("name");t.xform=function(e,t){return function(e){return!tp(e)||e.length<2?e:dp(e)}(t)},e.push(t);var n=new mp("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new mp("timeCreated")),e.push(new mp("updated")),e.push(new mp("md5Hash",null,!0)),e.push(new mp("cacheControl",null,!0)),e.push(new mp("contentDisposition",null,!0)),e.push(new mp("contentEncoding",null,!0)),e.push(new mp("contentLanguage",null,!0)),e.push(new mp("contentType",null,!0)),e.push(new mp("metadata","customMetadata",!0)),gp=e}function yp(e,t,n){var r=fp(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Xd(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}function bp(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var wp=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function _p(e){if(!e)throw Od()}function Ep(e,t){return function(n,r){var i=yp(e,r,t);return _p(null!==i),i}}function Tp(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=new Pd("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Pd("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Pd("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Ip(e){var t=Tp(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Pd("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Sp(e,t,n){var r=op(t.fullServerUrl()),i=e.maxOperationRetryTime,o=new wp(r,"GET",Ep(e,n),i);return o.errorHandler=Ip(t),o}function Cp(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=op(t.bucketOnlyServerUrl()),s=e.maxOperationRetryTime,u=new wp(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=fp(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Xd(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Xd(t,l.name)),r.items.push(s)}return r}(e,t,r)}(e,t,r);return _p(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=Tp(t),u}function xp(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var kp=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Np(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){_p(!1)}return _p(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Ap=262144;var Dp=function(e,t,n){if(function(e){return"function"==typeof e}(e)||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function Pp(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Mp=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=vp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(n){switch(t._state){case"running":e(n);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=xp(t,r,i),s={name:a.fullPath},u=op(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=bp(a,n),h=e.maxUploadRetryTime,f=new wp(u,"POST",(function(e){var t;Np(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){_p(!1)}return _p(tp(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Tp(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new wp(n,"POST",(function(e){var t=Np(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){_p(!1)}n||_p(!1);var i=Number(n);return _p(!isNaN(i)),new kp(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Tp(t),o}(e._ref.storage,e._ref._location,t,e._blob),i=e._ref.storage._makeRequest(r,n);e._request=i,i.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Ap*this._chunkMultiplier,n=new kp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(e,t,n,r,i,o,a,s){var u=new kp(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Pd("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,f);if(null===p)throw Rd();var m=t.maxUploadRetryTime,g=new wp(n,"POST",(function(e,n){var i,a=Np(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Ep(t,o)(e,n):null,new kp(s,c,"final"===a,i)}),m);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=Tp(e),g}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){return e._error=t,void e._transition("error")}var a=e._ref.storage._makeRequest(o,i);e._request=a,a.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Ap*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=Sp(e._ref.storage,e._ref._location,e._mappings),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=xp(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+bp(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=hp.getBlob(c,r,l);if(null===h)throw Rd();var f={name:u.fullPath},d=op(o),p=e.maxUploadRetryTime,m=new wp(d,"POST",Ep(e,n),p);return m.urlParams=f,m.headers=a,m.body=h.uploadData(),m.errorHandler=Tp(t),m}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ld(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=$d(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Dp(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch($d(this._state)){case Yd.SUCCESS:Pp(this._resolve.bind(null,this.snapshot))();break;case Yd.CANCELED:case Yd.ERROR:Pp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch($d(this._state)){case Yd.RUNNING:case Yd.PAUSED:e.next&&Pp(e.next.bind(e,this.snapshot))();break;case Yd.SUCCESS:e.complete&&Pp(e.complete.bind(e))();break;case Yd.CANCELED:case Yd.ERROR:e.error&&Pp(e.error.bind(e,this._error))();break;default:e.error&&Pp(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Op=function(){function e(e,t){this._service=e,this._location=t instanceof Xd?t:Xd.makeFromUrl(t)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Xd(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return dp(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Xd(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Ud(e)},e}();function Lp(e){var t={prefixes:[],items:[]};return Rp(e,t).then((function(){return t}))}function Rp(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:return[4,jp(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Rp(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function jp(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return null!=t&&"number"==typeof t.maxResults&&ip("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=o.sent(),r=t||{},i=Cp(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage._makeRequest(i,n).getPromise()]}}))}))}function Fp(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t,n){var r=op(t.fullServerUrl()),i=e.maxOperationRetryTime,o=new wp(r,"GET",function(e,t){return function(n,r){var i=yp(e,r,t);return _p(null!==i),function(e,t){var n=fp(t);if(null===n)return null;if(!tp(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(t){var n=e.bucket,r=e.fullPath;return op("/b/"+i(n)+"/o/"+i(r))+ap({alt:"media",token:t})}))[0]}(i,r)}}(e,n),i);return o.errorHandler=Ip(t),o}(e.storage,e._location,vp()),[2,e.storage._makeRequest(n,t).getPromise().then((function(e){if(null===e)throw new Pd("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Up(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Xd(e._location.bucket,n);return new Op(e.storage,r)}function zp(e){return/^[A-Za-z]+:\/\//.test(e)}function qp(e,t){if(e instanceof Bp){var n=e;if(null==n._bucket)throw new Pd("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Op(n,n._bucket);return null!=t?qp(r,t):r}if(void 0!==t){if(t.includes(".."))throw jd('`path` param cannot contain ".."');return Up(e,t)}return e}function Vp(e,t){if(t&&zp(t)){if(e instanceof Bp)return new Op(e,t);throw jd("To use ref(service, url), the first argument must be a Storage instance.")}return qp(e,t)}var Bp=function(){function e(e,t,n,r,i){var o,a;this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Xd.makeFromBucketSpec(r):(o=this.app.options,null==(a=null==o?void 0:o.storageBucket)?null:Xd.makeFromBucketSpec(a))}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){ip("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){ip("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Op(this,e)},e.prototype._makeRequest=function(e,t){var n=this;if(this._deleted)return new ep(Fd());var r=function(e,t,n,r,i){var o=ap(e.urlParams),a=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(s,i),new sp(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}(e,this._appId,t,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},e}();function Wp(e,t){return Vp(e,t)}var Gp,Hp,Qp=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Kp=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Qp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Qp(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new Qp(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Qp(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Yp=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new $p(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new $p(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),$p=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return Up(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Kp(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Mp(e,new hp(t),n)}(e,t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Vd.RAW),this._throwIfRoot("putString");var r=Wd(t,e),i=(0,fr.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Kp(new Mp(this._delegate,new hp(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return Lp(e)}(this._delegate).then((function(t){return new Yp(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return jp(e,t)}(this._delegate,e||void 0).then((function(e){return new Yp(e,t.storage)}))},e.prototype.getMetadata=function(){return function(e){return function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=Sp(e.storage,e._location,vp()),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e)}(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=function(e,t,n,r){var i=op(t.fullServerUrl()),o=bp(n,r),a=e.maxOperationRetryTime,s=new wp(i,"PATCH",Ep(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Ip(t),s}(e.storage,e._location,t,vp()),[2,e.storage._makeRequest(r,n).getPromise()]}}))}))}(e,t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return Fp(e)}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t){var n=op(t.fullServerUrl()),r=e.maxOperationRetryTime,i=new wp(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Ip(t),i}(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e)}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Ud(e)},e}(),Jp=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(zp(e))throw jd("ref() expected a child path but got a URL, use refFromURL instead.");return new $p(Wp(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!zp(e))throw jd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xd.makeFromUrl(e)}catch(e){throw jd("refFromUrl() expected a valid full URL but got an invalid one.")}return new $p(Wp(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e}();Gp=r.Z,Hp={TaskState:Yd,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Vd,Storage:Bp,Reference:$p},Gp.INTERNAL.registerComponent(new Nd.wA("storage",(function(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal");return new Jp(i,new Bp(i,o,new Zd,n,r.Z.SDK_VERSION))}),"PUBLIC").setServiceProps(Hp).setMultipleInstances(!0)),Gp.registerVersion("@firebase/storage","0.4.5");var Zp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Xp=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,fr.ZT)(t,e),t}(Error),em=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e;return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function tm(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var nm=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return tm(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?tm(e,(function(e){return t.decode(e)})):e},e}(),rm=function(){function e(e,t,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=e,this.fetchImpl=i,this.serializer=new nm,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new em(t,n),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return e()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=r}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},e.prototype.call=function(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return(0,fr.Jh)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new Xp("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([im(c,this.postJSON(r,i,o)),l,im(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new Xp("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!Zp[s])return new Xp("internal","internal");r=Zp[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(e){}return"ok"===r?null:new Xp(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new Xp("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new Xp("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function im(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:rm};e.INTERNAL.registerComponent(new Nd.wA("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("messaging");return new rm(i,o,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(r.Z,fetch.bind(self)),r.Z.registerVersion("@firebase/functions","0.6.4"),r.Z.initializeApp({apiKey:"AIzaSyBlXW0dEHMAViOraM2_3ToWmz0uuIwwLuI",authDomain:"ensollarada.firebaseapp.com",databaseURL:"https://ensollarada.firebaseio.com",projectId:"ensollarada",storageBucket:"ensollarada.appspot.com",messagingSenderId:"233410337859",appId:"1:233410337859:web:f259b9c1268bfbeb5708f6"}),r.Z.firestore,r.Z.database;const om=r.Z.storage,am=r.Z.auth,sm=r.Z.functions;function um(e,t){return(um=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,um(e,t)}var lm=n(74),hm=n.n(lm);function fm(){return(fm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dm(e){return"/"===e.charAt(0)}function pm(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var mm=function(e,t){if(!e)throw new Error("Invariant failed")};function gm(e){return"/"===e.charAt(0)?e:"/"+e}function vm(e){return"/"===e.charAt(0)?e.substr(1):e}function ym(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function bm(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function wm(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function _m(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=fm({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&dm(e),a=t&&dm(t),s=o||a;if(e&&dm(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var h=i[l];"."===h?pm(i,l):".."===h?(pm(i,l),c++):c&&(pm(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&dm(i[0])||i.unshift("");var f=i.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Em(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Tm=!("undefined"==typeof window||!window.document||!window.document.createElement);function Im(e,t){t(window.confirm(e))}var Sm="hashchange",Cm={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+vm(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:vm,decodePath:gm},slash:{encodePath:gm,decodePath:gm}};function xm(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function km(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Nm(e){window.location.replace(xm(window.location.href)+"#"+e)}function Am(e){void 0===e&&(e={}),Tm||mm(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?Im:r,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?bm(gm(e.basename)):"",u=Cm[a],c=u.encodePath,l=u.decodePath;function h(){var e=l(km());return s&&(e=ym(e,s)),_m(e)}var f=Em();function d(e){fm(S,e),S.length=t.length,f.notifyListeners(S.location,S.action)}var p=!1,m=null;function g(){var e=km(),t=c(e);if(e!==t)Nm(t);else{var n=h(),r=S.location;if(!p&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===wm(n))return;m=null,function(e){if(p)p=!1,d();else{f.confirmTransitionTo(e,"POP",i,(function(t){t?d({action:"POP",location:e}):function(e){var t=S.location,n=w.lastIndexOf(wm(t));-1===n&&(n=0);var r=w.lastIndexOf(wm(e));-1===r&&(r=0);var i=n-r;i&&(p=!0,_(i))}(e)}))}}(n)}}var v=km(),y=c(v);v!==y&&Nm(y);var b=h(),w=[wm(b)];function _(e){t.go(e)}var E=0;function T(e){1===(E+=e)&&1===e?window.addEventListener(Sm,g):0===E&&window.removeEventListener(Sm,g)}var I=!1,S={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=xm(window.location.href)),n+"#"+c(s+wm(e))},push:function(e,t){var n="PUSH",r=_m(e,void 0,void 0,S.location);f.confirmTransitionTo(r,n,i,(function(e){if(e){var t=wm(r),i=c(s+t);if(km()!==i){m=t,function(e){window.location.hash=e}(i);var o=w.lastIndexOf(wm(S.location)),a=w.slice(0,o+1);a.push(t),w=a,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=_m(e,void 0,void 0,S.location);f.confirmTransitionTo(r,n,i,(function(e){if(e){var t=wm(r),i=c(s+t);km()!==i&&(m=t,Nm(i));var o=w.indexOf(wm(S.location));-1!==o&&(w[o]=t),d({action:n,location:r})}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return I||(T(1),I=!0),function(){return I&&(I=!1,T(-1)),t()}},listen:function(e){var t=f.appendListener(e);return T(1),function(){T(-1),t()}}};return S}function Dm(e,t){return(Dm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Dm(e,t)}var Mm=1073741823,Om="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};function Lm(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Rm=e.createContext||function(t,n){var r,i,o,a="__create-react-context-"+((Om[o="__global_unique_id__"]=(Om[o]||0)+1)+"__"),s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=Lm(t.props.value),t}Pm(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(t="function"==typeof n?n(r,i):Mm,0!=(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);s.childContextTypes=((r={})[a]=hm().object.isRequired,r);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Pm(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?Mm:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?Mm:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return u.contextTypes=((i={})[a]=hm().object,i),{Provider:s,Consumer:u}};function jm(){return(jm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Fm=n(508),Um=n.n(Fm),zm=n(972),qm=n(773),Vm=n.n(qm),Bm=function(e){var t=Rm();return t.displayName="Router-History",t}(),Wm=function(e){var t=Rm();return t.displayName="Router",t}(),Gm=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}cm(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return e.createElement(Wm.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(Bm.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component,e.Component;var Hm={},Qm=0;function Km(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Hm[n]||(Hm[n]={});if(r[e])return r[e];var i=[],o={regexp:Um()(e,i,t),keys:i};return Qm<1e4&&(r[e]=o,Qm++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var Ym=function(t){function n(){return t.apply(this,arguments)||this}return cm(n,t),n.prototype.render=function(){var t=this;return e.createElement(Wm.Consumer,null,(function(n){n||mm(!1);var r=t.props.location||n.location,i=jm({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?Km(r.pathname,t.props):n.match}),o=t.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&0===a.length&&(a=null),e.createElement(Wm.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:s?e.createElement(s,i):u?u(i):null:"function"==typeof a?a(i):null)}))},n}(e.Component);e.Component;var $m=function(t){function n(){return t.apply(this,arguments)||this}return cm(n,t),n.prototype.render=function(){var t=this;return e.createElement(Wm.Consumer,null,(function(n){n||mm(!1);var r,i,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var a=t.props.path||t.props.from;i=a?Km(o.pathname,jm({},t.props,{path:a})):n.match}})),i?e.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(e.Component),Jm=e.useContext;function Zm(){return Jm(Bm)}function Xm(){return Jm(Wm).location}function eg(e,t){return(eg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tg(){return(tg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ng(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}e.Component;var rg=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Am(e.props),e}return i=t,(r=n).prototype=Object.create(i.prototype),r.prototype.constructor=r,eg(r,i),n.prototype.render=function(){return e.createElement(Gm,{history:this.history,children:this.props.children})},n;var r,i}(e.Component),ig=function(e,t){return"function"==typeof e?e(t):e},og=function(e,t){return"string"==typeof e?_m(e,null,null,t):e},ag=function(e){return e},sg=e.forwardRef;void 0===sg&&(sg=ag);var ug=sg((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,a=ng(t,["innerRef","navigate","onClick"]),s=a.target,u=tg({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=ag!==sg&&n||r,e.createElement("a",u)})),cg=sg((function(t,n){var r=t.component,i=void 0===r?ug:r,o=t.replace,a=t.to,s=t.innerRef,u=ng(t,["component","replace","to","innerRef"]);return e.createElement(Wm.Consumer,null,(function(t){t||mm(!1);var r=t.history,c=og(ig(a,t.location),t.location),l=c?r.createHref(c):"",h=tg({},u,{href:l,navigate:function(){var e=ig(a,t.location);(o?r.replace:r.push)(e)}});return ag!==sg?h.ref=n||s:h.innerRef=s,e.createElement(i,h)}))})),lg=function(e){return e},hg=e.forwardRef;void 0===hg&&(hg=lg),hg((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.activeClassName,a=void 0===o?"active":o,s=t.activeStyle,u=t.className,c=t.exact,l=t.isActive,h=t.location,f=t.sensitive,d=t.strict,p=t.style,m=t.to,g=t.innerRef,v=ng(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(Wm.Consumer,null,(function(t){t||mm(!1);var r=h||t.location,o=og(ig(m,r),r),y=o.pathname,b=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?Km(r.pathname,{path:b,exact:c,sensitive:f,strict:d}):null,_=!!(l?l(w,r):w),E=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(u,a):u,T=_?tg({},p,{},s):p,I=tg({"aria-current":_&&i||null,className:E,style:T,to:o},v);return lg!==hg?I.ref=n||g:I.innerRef=g,e.createElement(cg,I)}))}));const fg=(0,e.createContext)();function dg({children:t,useConn:n,setConn:r,useOverlay:i,setOverlay:o,useSwipe:a,setSwipe:s}){return e.createElement(fg.Provider,{value:{useConn:n,setConn:r,useOverlay:i,setOverlay:o,useSwipe:a,setSwipe:s}},t)}function pg(){const t=(0,e.useContext)(fg),{useConn:n,setConn:r}=t;return{useConn:n,setConn:r}}function mg(){const t=(0,e.useContext)(fg),{useOverlay:n,setOverlay:r}=t;return{useOverlay:n,setOverlay:r}}function gg(){const t=(0,e.useContext)(fg),{useSwipe:n,setSwipe:r}=t;return{useSwipe:n,setSwipe:r}}var vg=n(807),yg=n.n(vg),bg=n(414),wg=n(319),_g=n(916),Eg=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Tg=(0,_g.Z)((function(e){return Eg.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Ig(){return(Ig=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Sg=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Cg=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,zm.typeOf)(e)},xg=Object.freeze([]),kg=Object.freeze({});function Ng(e){return"function"==typeof e}function Ag(e){return e.displayName||e.name||"Component"}function Dg(e){return e&&"string"==typeof e.styledComponentId}var Pg="undefined"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",Mg="undefined"!=typeof window&&"HTMLElement"in window,Og=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY);function Lg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Rg=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Lg(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),jg=new Map,Fg=new Map,Ug=1,zg=function(e){if(jg.has(e))return jg.get(e);for(;Fg.has(Ug);)Ug++;var t=Ug++;return jg.set(e,t),Fg.set(t,e),t},qg=function(e){return Fg.get(e)},Vg=function(e,t){jg.set(e,t),Fg.set(t,e)},Bg="style["+Pg+'][data-styled-version="5.2.1"]',Wg=new RegExp("^"+Pg+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Gg=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},Hg=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(Wg);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(Vg(c,u),Gg(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},Qg=function(){return n.nc},Kg=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Pg))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(Pg,"active"),r.setAttribute("data-styled-version","5.2.1");var a=Qg();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},Yg=function(){function e(e){var t=this.element=Kg(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Lg(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),$g=function(){function e(e){var t=this.element=Kg(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Jg=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Zg=Mg,Xg={isServer:!Mg,useCSSOMInjection:!Og},ev=function(){function e(e,t,n){void 0===e&&(e=kg),void 0===t&&(t={}),this.options=Ig({},Xg,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&Mg&&Zg&&(Zg=!1,function(e){for(var t=document.querySelectorAll(Bg),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Pg)&&(Hg(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return zg(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Ig({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Jg(i):r?new Yg(i):new $g(i),new Rg(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(zg(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(zg(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(zg(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=qg(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var u=Pg+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),tv=/(a)(d)/gi,nv=function(e){return String.fromCharCode(e+(e>25?39:97))};function rv(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=nv(t%52)+n;return(nv(t%52)+n).replace(tv,"$1-$2")}var iv=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ov=function(e){return iv(5381,e)};function av(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ng(n)&&!Dg(n))return!1}return!0}var sv=ov("5.2.1"),uv=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&av(e),this.componentId=t,this.baseHash=iv(sv,t),this.baseStyle=n,ev.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=Sv(this.rules,e,t,n).join(""),a=rv(iv(this.baseHash,o.length)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=iv(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=Sv(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=iv(c,p+h),l+=p}}if(l){var m=rv(c>>>0);if(!t.hasNameForId(r,m)){var g=n(l,"."+m,void 0,r);t.insertRules(r,m,g)}i.push(m)}}return i.join(" ")},e}(),cv=/^\s*\/\/.*$/gm,lv=[":","[",".","#"];function hv(e){var t,n,r,i,o=void 0===e?kg:e,a=o.options,s=void 0===a?kg:a,u=o.plugins,c=void 0===u?xg:u,l=new bg.Z(s),h=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),d=function(e,r,o){return 0===r&&lv.includes(o[n.length])||o.match(i)?e:"."+t};function p(e,o,a,s){void 0===s&&(s="&");var u=e.replace(cv,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(a||!o?"":o,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},f,function(e){if(-2===e){var t=h;return h=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Lg(15),iv(e,t.name)}),5381).toString():"",p}var fv=e.createContext(),dv=(fv.Consumer,e.createContext()),pv=(dv.Consumer,new ev),mv=hv();function gv(){return(0,e.useContext)(fv)||pv}function vv(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],o=gv(),a=(0,e.useMemo)((function(){var e=o;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),s=(0,e.useMemo)((function(){return hv({options:{prefix:!t.disableVendorPrefixes},plugins:r})}),[t.disableVendorPrefixes,r]);return(0,e.useEffect)((function(){yg()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(fv.Provider,{value:a},e.createElement(dv.Provider,{value:s},t.children))}var yv=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=mv);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Lg(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=mv),this.name+e.hash},e}(),bv=/([A-Z])/,wv=/([A-Z])/g,_v=/^ms-/,Ev=function(e){return"-"+e.toLowerCase()};function Tv(e){return bv.test(e)?e.replace(wv,Ev).replace(_v,"-ms-"):e}var Iv=function(e){return null==e||!1===e||""===e};function Sv(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=Sv(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return Iv(e)?"":Dg(e)?"."+e.styledComponentId:Ng(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:Sv(e(t),t,n,r):e instanceof yv?n?(e.inject(n,r),e.getName(r)):e:Cg(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!Iv(t[a])&&(Cg(t[a])?o.push.apply(o,e(t[a],a)):Ng(t[a])?o.push(Tv(a)+":",t[a],";"):o.push(Tv(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in wg.Z?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}function Cv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ng(e)||Cg(e)?Sv(Sg(xg,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Sv(Sg(e,n))}new Set;var xv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,kv=/(^-|-$)/g;function Nv(e){return e.replace(xv,"-").replace(kv,"")}function Av(e){return"string"==typeof e&&!0}var Dv=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Pv=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Mv(e,t,n){var r=e[n];Dv(t)&&Dv(r)?Ov(r,t):e[n]=t}function Ov(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Dv(a))for(var s in a)Pv(s)&&Mv(e,a[s],s)}return e}var Lv=e.createContext();Lv.Consumer;var Rv={};function jv(t,n,r){var i=Dg(t),o=!Av(t),a=n.attrs,s=void 0===a?xg:a,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Nv(e);Rv[n]=(Rv[n]||0)+1;var r=n+"-"+function(e){return rv(ov(e)>>>0)}("5.2.1"+n+Rv[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,h=void 0===l?function(e){return Av(e)?"styled."+e:"Styled("+Ag(e)+")"}(t):l,f=n.displayName&&n.componentId?Nv(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&t.shouldForwardProp&&(p=n.shouldForwardProp?function(e,r){return t.shouldForwardProp(e,r)&&n.shouldForwardProp(e,r)}:t.shouldForwardProp);var m,g=new uv(r,f,i?t.componentStyle:void 0),v=g.isStatic&&0===s.length,y=function(t,n){return function(t,n,r,i){var o=t.attrs,a=t.componentStyle,s=t.defaultProps,u=t.foldedComponentIds,c=t.shouldForwardProp,l=t.styledComponentId,h=t.target,f=function(e,t,n){void 0===e&&(e=kg);var r=Ig({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in Ng(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(function(e,t,n){return void 0===n&&(n=kg),e.theme!==n.theme&&e.theme||t||n.theme}(n,(0,e.useContext)(Lv),s)||kg,n,o),d=f[0],p=f[1],m=function(t,n,r,i){var o=gv(),a=(0,e.useContext)(dv)||mv;return n?t.generateAndInjectStyles(kg,o,a):t.generateAndInjectStyles(r,o,a)}(a,i,d),g=r,v=p.$as||n.$as||p.as||n.as||h,y=Av(v),b=p!==n?Ig({},n,{},p):n,w={};for(var _ in b)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?w.as=b[_]:(c?c(_,Tg):!y||Tg(_))&&(w[_]=b[_]));return n.style&&p.style!==n.style&&(w.style=Ig({},n.style,{},p.style)),w.className=Array.prototype.concat(u,l,m!==l?m:null,n.className,p.className).filter(Boolean).join(" "),w.ref=g,(0,e.createElement)(v,w)}(m,t,n,v)};return y.displayName=h,(m=e.forwardRef(y)).attrs=d,m.componentStyle=g,m.displayName=h,m.shouldForwardProp=p,m.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):xg,m.styledComponentId=f,m.target=i?t.target:t,m.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),o=t&&t+"-"+(Av(e)?e:Nv(Ag(e)));return jv(e,Ig({},i,{attrs:d,componentId:o}),r)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?Ov({},t.defaultProps,e):e}}),m.toString=function(){return"."+m.styledComponentId},o&&Vm()(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var Fv=function(e){return function e(t,n,r){if(void 0===r&&(r=kg),!(0,zm.isValidElementType)(n))return Lg(1,String(n));var i=function(){return t(n,r,Cv.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Ig({},r,{},i))},i.attrs=function(i){return e(t,n,Ig({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(jv,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Fv[e]=Fv(e)})),function(){var e=function(e,t){this.rules=e,this.componentId=t,this.isStatic=av(e),ev.registerId(this.componentId+1)}.prototype;e.createStyles=function(e,t,n,r){var i=r(Sv(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},e.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.renderStyles=function(e,t,n,r){e>2&&ev.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}(),function(){var t=function(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=Qg();return"<style "+[n&&'nonce="'+n+'"',Pg+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?Lg(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return Lg(2);var r=((n={})[Pg]="",n["data-styled-version"]="5.2.1",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=Qg();return i&&(r.nonce=i),[e.createElement("style",Ig({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new ev({isServer:!0}),this.sealed=!1}.prototype;t.collectStyles=function(t){return this.sealed?Lg(2):e.createElement(vv,{sheet:this.instance},t)},t.interleaveWithNodeStream=function(e){return Lg(3)}}();var Uv=Fv;const zv=e=>`\n  -webkit-border-radius: ${"number"==typeof e?e+"px":e};\n  -moz-border-radius: ${"number"==typeof e?e+"px":e};\n  -ms-border-radius: ${"number"==typeof e?e+"px":e};\n  -o-border-radius: ${"number"==typeof e?e+"px":e};\n  border-radius: ${"number"==typeof e?e+"px":e};\n`,qv="\n  &:focus:hover {\n    background-color: rgba(60,64,67,0.1);\n  }\n\n  &:hover {\n    background-color: rgba(60,64,67,0.08);\n  }\n\n  &:active {\n    background-color: rgba(60,64,67,0.12);\n  }\n",Vv='\n  position: relative;\n  display: flex;\n\n  & input {\n    &:checked ~ label::before {\n      color: #fff;\n      border-color: rgba(25, 145, 107, 0.3);\n      background-color: rgba(25, 145, 107, 0.6);\n    }\n\n    &:checked ~ label::after {\n      background-color: #fff;\n      -webkit-transform: translateX(2.2rem);\n      transform: translateX(2.2rem);\n    }\n\n    & ~ label::after {\n      background-color: #aebcca;\n      border-radius: 1.5rem;\n      -webkit-transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,-webkit-transform 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n      transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,-webkit-transform 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n      transition: transform 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out;\n      transition: transform 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out,-webkit-transform 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n    }\n\n    &:not(:disabled):active ~ label::before {\n      color: #fff;\n      border-color: #75e7c3;\n      background-color: #75e7c3;\n    }\n\n    &:focus:not(:checked) ~ label::before {\n      border-color: #4ae0b0;\n    }\n\n    &:focus ~ label::before {\n      -webkit-box-shadow: 0 0 0 0.2rem rgba(25,145,107,0.25);\n      box-shadow: 0 0 0 0.2rem rgba(25,145,107,0.25);\n    }\n  }\n\n  & label {\n    font-family: var(--font-lato);\n    display: inline-flex;\n    align-items: center;\n    cursor: pointer;\n\n    @media (max-width: 720px)  {\n      color: rgba(0, 0, 0, 0.65);\n      font-weight: 700;\n    }\n\n    & {\n      display: inline-flex;\n      align-items: center;\n      cursor: pointer;\n    }\n\n    &::before {\n      pointer-events: all;\n      border-radius: 1.8rem;\n      margin-right: 1.2rem;\n      float: left;\n    }\n\n    &::before {\n      -webkit-transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n      transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n      transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out;\n      transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n    }\n\n    &::before {\n      display: block;\n      width: 5rem;\n      height: 2.4rem;\n      pointer-events: none;\n      content: "";\n      background-color: #fff;\n      border: #aebcca solid 1px;\n    }\n\n    &::after {\n      position: absolute;\n      top: 0.4rem;\n      left: .4rem;\n      display: block;\n      width: 2rem;\n      height: 1.6rem;\n      content: "";\n      background: no-repeat 50% / 50% 50%;\n    }\n  }\n',Bv=Uv.main`
  width: 100%;
  display: flex;
  flex-direction: column;
  height: 100%;

  & > * {
    height: 100%;
  }
`,Wv=Uv.article`
  font-weight: 500;
  display: flex;
  flex-direction: column;
  max-height: calc(100% - 48px);
  min-height: calc(100% - 48px);

  /* @media (min-width: 721px) {
    ${"\n  overflow-x: hidden;\n  overflow-y: overlay;\n"}
  }

  @media (max-width: 720px) {
    overflow-x: initial;
    overflow-y: initial;
  } */
`,Gv=Uv.div`
  height: 92px;
  width: 92px;
  background-color: rgba(255,255,255,0.25);
  justify-content: center;
  align-items: center;
  display: flex;

  & svg {
    width: 60%;
    height: 60%;
    animation: IGCoreSpinnerSpin12 1.2s steps(12) infinite;
  }
`,Hv=Uv.aside`
  width: 100vw;
  max-width: 256px;
  color: var(--color-clean-solid);
  background: var(--color-aside-bg);
  -webkit-transition: all .3s ease-in-out;
  -o-transition: all .3s ease-in-out;
  transition: all .3s ease-in-out;
  height: 100%;
  z-index: 1100;

  @media(max-width: 800px) {
    transform: ${({useSwipe:e})=>e?"translate3d(0,0,0) ":"translate3d(-100%, 0, 0)"};
    max-width: 240px;
    position: fixed;
    left: 0;
  }

`,Qv=Uv.div`
  width: 32px;
  right: calc(-32px + -1.6rem);
  display: none;
  z-index: 3;
  position: absolute;
  border-radius: 50%;
  height: 32px;
  top: 0;

  @media(max-width: 720px) {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 7.5px auto;
  }

  &, & * {
    transition: .25s linear;
  }

  & i, & i::before, & i::after {
    position: absolute;
    width: 18px;
    height: 2px;
    -webkit-transition: transform .3s linear, top .3s linear, background .25s linear;
    -o-transition: transform .3s linear, top .3s linear, background .25s linear;
    transition: transform .3s linear, top .3s linear, background .25s linear;
    background: #777777;
  }

  & button {
    width: 18px;
    height: 18px;
    display: block;
    -webkit-box-sizing: initial;
    box-sizing: initial;
    position: relative;
    border-radius: 50%;
    padding: 7px;
  }

  & i {
    top: 15px;
    left: 7px;

    &::before, &::after {
      content: '';
      left: 0;
    }
    &::before {
      top: 5px;
    }
    &::after {
      top: -5px;
    }
  }

  ${({useSwipe:e})=>e?"\n    margin: initial !IMPORTANT;\n    right: -48px;\n    width: 48px;\n    height: 48px;\n\n    background: var(--color-aside-bg);\n    -webkit-border-radius: 0 0 3px 0;\n    -moz-border-radius: 0 0 3px 0;\n    -ms-border-radius: 0 0 3px 0;\n    -o-border-radius: 0 0 3px 0;\n    border-radius: 0 0 3px 0;\n\n    & button {\n      padding: 15px;\n\n      & i, & i::before, & i::after {\n        background: #ffffff;\n      }\n\n      & i {\n        top: 23px;\n        background: none;\n        left: 12px;\n\n        &::before, &::after {\n          top: 0;\n          width: 24px;\n        }\n\n        &::before {\n          -webkit-transform: rotate(-45deg);\n          -ms-transform: rotate(-45deg);\n          transform: rotate(-45deg);\n        }\n\n        &::after {\n          -webkit-transform: rotate(45deg);\n          -ms-transform: rotate(45deg);\n          transform: rotate(45deg);\n        }\n      }\n    }\n  ":`\n    & button{\n      ${qv}\n    }\n  `}
`,Kv=Uv.div`

  & ul {
    overflow-x: hidden;
    overflow-y: overlay;
    height: calc(100vh - 48px);
    box-shadow: 0 1px 0 var(--color-aside-border) inset;

    & ol {
      font-weight: 500;
      padding: 12px 0;
      box-shadow: 0 -1px 0 var(--color-aside-border) inset;
    }
  }
`,Yv=Uv.section`
  background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0ibWFyY2EiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2NC4xODgiIGhlaWdodD0iNDAuODc1IiB2aWV3Qm94PSIwIDAgMTY0LjE4OCA0MC44NzUiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICNjMDA7CiAgICAgIH0KCiAgICAgIC5jbHMtMSwgLmNscy0yIHsKICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogI2ZmZjsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggaWQ9IkZvcm1hXzFfY29waWFyIiBkYXRhLW5hbWU9IkZvcm1hIDEgY29waWFyIiBjbGFzcz0iY2xzLTEiIGQ9Ik00Ny43MTYsMjYuNTIyYTUuOTc4LDUuOTc4LDAsMCwwLC41MjctMi45YzAtLjA5NCwwLTAuNDM3LDAtMC41MjcsMC0yLjYzOS0yLjYzMy00Ljc0LTQuMjItNC43NDctMC41MzIsMC02LjMyOSwwLTYuMzI5LDBMMjcuNDA5LDguMDYxSDQxLjM4NmMzLjEsMCw4LjEuNTYzLDEwLjI4NSw0Ljc0NywwLjkxMiwxLjQ4MiwxLjIwNyw1Ljc2MSwxLjIxMiw3Ljk4NywwLjAyMSwwLjcyNiwwLDUuMzY3LDAsNS43NDdDNTIuMzQsMjYuNTQxLDQ4LjEsMjYuNTIsNDcuNzE2LDI2LjUyMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNi40MDYgLTguMDYzKSIvPgogIDxwYXRoIGlkPSJGb3JtYV8xIiBkYXRhLW5hbWU9IkZvcm1hIDEiIGNsYXNzPSJjbHMtMSIgZD0iTTM2LjY5NCw0OC45MzlMMjYuNjczLDM4LjY1M3MxNi4wNjgsMCwxNi4zNTEsMGMxLjU4MiwwLDQuMjI1LTIuNjM5LDQuMjItNS4yNzQsMC0uMDk0LDAtMC40MzcsMC0wLjUyNywwLTIuNjM5LTIuNjMzLTQuNzQtNC4yMi00Ljc0Ny0wLjUzMiwwLTYuMzI5LDAtNi4zMjksMEwyNi40MDksMTcuODE5SDQzLjAyM2ExMy43NzEsMTMuNzcxLDAsMCwxLDEwLjAyMiw0Ljc0N2M0LjI4NSw0LjU0Nyw0LjQ4Myw4Ljk2Nyw0LjQ4Myw4Ljk2NywwLjAwNSwwLjc2MSwwLDMuNDI4LDAsMy40MjhhMTMuNDUsMTMuNDUsMCwwLDEtMy45NTYsOC45NjdjLTQuNjQ3LDQuNzUzLTguOTcxLDUuMDEtMTAuNTQ5LDUuMDExQzQyLjc1Niw0OC45NCwzNi42OTQsNDguOTM5LDM2LjY5NCw0OC45MzlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYuNDA2IC04LjA2MykiLz4KICA8cGF0aCBpZD0iQnJhY2FlbCIgY2xhc3M9ImNscy0yIiBkPSJNOTEuMzMsMzIuNzExYzAsMi4wMS0xLjQxLDMuMTgtMy43MiwzLjE4SDgyLjk5di02LjUxaDQuNUM4OS43NywyOS4zODEsOTEuMzMsMzAuNjQxLDkxLjMzLDMyLjcxMVptLTAuNTQtOS4wOWMwLDEuOTItMS4zNSwyLjk3LTMuNTcsMi45N0g4Mi45OXYtNS45N2g0LjIzQzg5LjQ0LDIwLjYyMiw5MC43OSwyMS43MzIsOTAuNzksMjMuNjIyWm0zLjk2LDkuNDVhNS4xODUsNS4xODUsMCwwLDAtNC4wMi01LjEsNC44NzgsNC44NzgsMCwwLDAsMy41NC00Ljc3YzAtMi45NC0yLjM0LTUuMzctNi43NS01LjM3SDc5LjU3VjM4LjY4MWg4LjM0QzkyLjE2OSwzOC42ODEsOTQuNzQ5LDM2LjI1MSw5NC43NDksMzMuMDcxWm03LjE0MS0zLjA5YzAtMy41MSwxLjU1OS00LjU2LDQuMDc5LTQuNTZoMC44N3YtMy41NGE1LjM4Miw1LjM4MiwwLDAsMC00Ljk0OSwyLjY3di0yLjRIOTguNDdWMzguNjgxaDMuNDJ2LTguN1ptNi45NTksMC4zNmMwLDUuMSwzLjQ1LDguNjEsNy43NCw4LjYxYTcuMTE1LDcuMTE1LDAsMCwwLDUuNzktMi43M3YyLjQ2aDMuNDVWMjIuMTUyaC0zLjQ1djIuNGE3LjAzNiw3LjAzNiwwLDAsMC01LjczLTIuNjdDMTEyLjMsMjEuODgyLDEwOC44NDksMjUuMjQxLDEwOC44NDksMzAuMzQxWm0xMy41MywwLjA2YzAsMy41Ny0yLjQzLDUuNTgtNS4wMSw1LjU4LTIuNTUsMC01LjAxLTIuMDctNS4wMS01LjY0czIuNDYtNS40OSw1LjAxLTUuNDlDMTE5Ljk0OSwyNC44NTEsMTIyLjM3OSwyNi44NjEsMTIyLjM3OSwzMC40Wm02LjgxLDBjMCw1LjE5LDMuMzYsOC41NSw4LjEsOC41NWE3LjQyMyw3LjQyMywwLDAsMCw3LjYxOS01LjQ5aC0zLjY4OWEzLjc3NSwzLjc3NSwwLDAsMS0zLjkzLDIuNjFjLTIuNzYsMC00LjU5LTIuMDQtNC41OS01LjY3LDAtMy42LDEuODMtNS42NCw0LjU5LTUuNjRhMy44NjMsMy44NjMsMCwwLDEsMy45MywyLjYxaDMuNjg5Yy0wLjkyOS0zLjQ4LTMuNTY5LTUuNDktNy42MTktNS40OUMxMzIuNTQ5LDIxLjg4MiwxMjkuMTg5LDI1LjI0MSwxMjkuMTg5LDMwLjRabTE4LS4wNmMwLDUuMSwzLjQ1LDguNjEsNy43NCw4LjYxYTcuMTE0LDcuMTE0LDAsMCwwLDUuNzg5LTIuNzN2Mi40NmgzLjQ1VjIyLjE1MmgtMy40NXYyLjRhNy4wMzYsNy4wMzYsMCwwLDAtNS43MjktMi42N0MxNTAuNjM5LDIxLjg4MiwxNDcuMTg5LDI1LjI0MSwxNDcuMTg5LDMwLjM0MVptMTMuNTI5LDAuMDZjMCwzLjU3LTIuNDMsNS41OC01LjAwOSw1LjU4LTIuNTUsMC01LjAxLTIuMDctNS4wMS01LjY0czIuNDYtNS40OSw1LjAxLTUuNDlDMTU4LjI4OCwyNC44NTEsMTYwLjcxOCwyNi44NjEsMTYwLjcxOCwzMC40Wm0xNC45MS01LjY0YTQuMjkyLDQuMjkyLDAsMCwxLDQuNjIsNC4xN0gxNzEuMUE0LjUsNC41LDAsMCwxLDE3NS42MjgsMjQuNzYxWm03Ljc0LDloLTMuNjlhNCw0LDAsMCwxLTMuOSwyLjMxLDQuNTQ2LDQuNTQ2LDAsMCwxLTQuNzA5LTQuMzhIMTgzLjdhMTAuNTQ4LDEwLjU0OCwwLDAsMCwuMTItMS42OCw3LjcwOSw3LjcwOSwwLDAsMC04LjA0LTguMTNjLTQuODg5LDAtOC4yNDksMy4zMy04LjI0OSw4LjUyczMuNTEsOC41NSw4LjI0OSw4LjU1QTcuNTUzLDcuNTUzLDAsMCwwLDE4My4zNjgsMzMuNzYxWm0zLjgxLDQuOTJoMy40MnYtMjIuMmgtMy40MnYyMi4yWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjQwNiAtOC4wNjMpIi8+Cjwvc3ZnPgo=");
  align-items: center;
  display: flex;
  background-size: 112px;
  background-repeat: no-repeat;
  background-position: 26px center;
  height: 48px;
`,$v=Uv.div`

  & button {
    width: 100%;
    color: var(--color-clean);
    text-decoration: none;
    display: flex;
    padding: 7px 10px 7px 26px;
    line-height: 26px;
    font-size: 1.8rem;
    align-items: center;
    font-weight: 400;

    &:hover {
      background: var(--color-white-op008);
    }

    & svg {
      margin-right: 2rem;
    }
  }
`,Jv=Uv.div`
  font-family: var(--font-open);
  padding: 2.2rem 1.6rem;
  font-size: 1.4rem;

  & * {
    display: block;
  }

  & *:not(:last-child){
    padding-bottom: 0.7rem;
  }

  & span {
    color: var(--color-white-op07);
    letter-spacing: 0.5px;
  }
`;var Zv=function(){const t=Zm(),{pathname:n}=Xm(),{useSwipe:r,setSwipe:i}=gg(),o=e=>{n!==e&&t.push(e),i(!1)};return e.createElement(Hv,{useSwipe:r},e.createElement(Qv,{useSwipe:r},e.createElement("button",{type:"button",onClick:()=>i((e=>!e))},e.createElement("i",null))),e.createElement(Kv,null,e.createElement(Yv,null),e.createElement("ul",null,e.createElement("ol",null,e.createElement($v,null,e.createElement("button",{type:"button",onClick:()=>o("/")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"18",height:"18",fill:"#ffffff"},e.createElement("path",{d:"M16 0 L32 16 L28 16 L28 30 L20 30 L20 20 L12 20 L12 30 L4 30 L4 16 L0 16 Z"})),e.createElement("span",null,"Área de serviço")))),e.createElement("ol",null,e.createElement($v,null,e.createElement("button",{type:"button",onClick:()=>o("/products")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 484.373 484.373",width:"18",height:"18",fill:"#ffffff"},e.createElement("path",{d:"M473.61,119.808c0-0.512,0-0.512,0-1.024c-0.512-1.024-0.512-2.048-1.024-3.072V115.2 c-0.512-1.024-1.536-2.048-2.048-2.56l-0.512-0.512c-0.512-0.512-1.536-1.024-2.048-1.536l-0.512-0.512h-0.512l-0.512-0.512 L248.842,1.536c-4.096-2.048-9.216-2.048-13.824,0l-73.216,36.352l218.624,112.128l0.512,0.512c0.512,0,0.512,0.512,1.024,0.512 c0.512,0.512,0.512,1.024,1.024,1.536c0,0.512,0,0.512,0,1.024v0.512v118.784c0,2.048-1.024,3.584-2.56,4.608l-44.032,23.04 c-2.56,1.536-5.632,0.512-7.168-2.048c-0.512-0.512-0.512-1.536-0.512-2.56V179.712L107.53,65.536l-0.512-0.512l-88.576,44.032 l-0.512,0.512h-0.512l-0.512,0.512c-0.512,0.512-1.536,1.024-2.048,1.536l-0.512,0.512c-1.024,1.024-1.536,2.048-2.56,3.072v0.512 c-0.512,1.024-1.024,2.048-1.024,3.072c0,0.512,0,0.512,0,1.024c0,1.024-0.512,1.536-0.512,2.56v0.512v238.592 c0,5.632,3.072,11.264,8.704,13.824l215.552,107.52c3.072,1.536,6.656,2.048,10.24,1.024l1.024-0.512 c1.024,0,1.536-0.512,2.56-1.024l217.088-107.52c5.12-2.56,8.704-7.68,8.704-13.824V122.88v-0.512 C473.61,121.344,473.61,120.832,473.61,119.808z"})),e.createElement("span",null,"Meus produtos"))),e.createElement($v,null,e.createElement("button",{type:"button",onClick:()=>alert("Bracael.COM\\nVersão Alpha, 16.09.2020\\nO Conteúdo para está página estará disponivel em breve.")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 478 478",width:"18",height:"18",fill:"#ffffff"},e.createElement("path",{d:"M119.5,187.75H17.1c-9.4,0-17,7.6-17.1,17.1v256c0,9.5,7.7,17.1,17.1,17.1h102.4c9.5,0,17.1-7.7,17.1-17.1v-256 C136.6,195.35,128.9,187.75,119.5,187.75z"}),e.createElement("path",{d:"M290.2,0.05H187.8c-9.4,0-17.1,7.6-17.1,17v443.8c0,9.5,7.7,17.1,17.1,17.1h102.4c9.5,0,17.1-7.7,17.1-17.1V17.15 C307.3,7.65,299.6,0.05,290.2,0.05z"}),e.createElement("path",{d:"M460.9,136.55H358.5c-9.5,0-17.1,7.6-17.1,17.1v307.2c0,9.5,7.7,17.1,17.1,17.1h102.4c9.5,0,17.1-7.7,17.1-17.1v-307.2 C478,144.15,470.3,136.55,460.9,136.55z"})),e.createElement("span",null,"Estatísticas"))),e.createElement($v,null,e.createElement("button",{type:"button",onClick:()=>alert("Bracael.COM\\nVersão Alpha, 16.09.2020\\nO Conteúdo para está página estará disponivel em breve.")},e.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18",height:"18",fill:"#ffffff"},e.createElement("defs",null,e.createElement("path",{id:"path-1",d:"m2.25592.488155c.488155.488155.488155 1.27961 0 1.76777-.488155.488155-1.27961.488155-1.76777 0-.488155-.488155-.488155-1.27961 0-1.76777.488155-.488155 1.27961-.488155 1.76777 0"})),e.createElement("use",{transform:"translate(3.878 4.878)",xlinkHref:"#path-1"}),e.createElement("use",{transform:"translate(9.378 4.878)",xlinkHref:"#path-1"}),e.createElement("path",{d:"m8 0c-4.41113 0-8 3.58887-8 8s3.58887 8 8 8 8-3.58887 8-8-3.58887-8-8-8zm0 14c-3.30859 0-6-2.69141-6-6s2.69141-6 6-6 6 2.69141 6 6-2.69141 6-6 6z"}),e.createElement("path",{d:"m3.5 3c1.93298 0 3.5-1.34314 3.5-3h-7c0 1.65686 1.56702 3 3.5 3z",transform:"translate(4.5 9)"})),e.createElement("span",null,"Avaliações"))),e.createElement($v,null,e.createElement("button",{type:"button",onClick:()=>o("/settings")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426.667 426.667",width:"18",height:"18",fill:"#ffffff"},e.createElement("path",{d:"M416.8,269.44l-45.013-35.307c0.853-6.827,1.493-13.76,1.493-20.8s-0.64-13.973-1.493-20.8l45.12-35.307 c4.053-3.2,5.227-8.96,2.56-13.653L376.8,69.653c-2.667-4.587-8.213-6.507-13.013-4.587l-53.12,21.44 c-10.987-8.427-23.04-15.573-36.053-21.013l-8-56.533C265.653,3.947,261.28,0,255.947,0h-85.333c-5.333,0-9.707,3.947-10.56,8.96 l-8,56.533c-13.013,5.44-25.067,12.48-36.053,21.013l-53.12-21.44c-4.8-1.813-10.347,0-13.013,4.587L7.2,143.573 c-2.667,4.587-1.493,10.347,2.56,13.653l45.013,35.307c-0.853,6.827-1.493,13.76-1.493,20.8s0.64,13.973,1.493,20.8L9.76,269.44 c-4.053,3.2-5.227,8.96-2.56,13.653l42.667,73.92c2.667,4.587,8.213,6.507,13.013,4.587L116,340.16 c10.987,8.427,23.04,15.573,36.053,21.013l8,56.533c0.853,5.013,5.227,8.96,10.56,8.96h85.333c5.333,0,9.707-3.947,10.56-8.96 l8-56.533c13.013-5.44,25.067-12.48,36.053-21.013l53.12,21.44c4.8,1.813,10.347,0,13.013-4.587l42.667-73.92 C422.027,278.507,420.853,272.747,416.8,269.44z M213.28,288c-41.28,0-74.667-33.387-74.667-74.667S172,138.667,213.28,138.667 s74.667,33.387,74.667,74.667S254.56,288,213.28,288z"})),e.createElement("span",null,"Configurações")))),e.createElement("ol",null,e.createElement($v,null,e.createElement("button",{type:"button",onClick:()=>alert("Bracael.COM\\nVersão Alpha, 16.09.2020\\nO Conteúdo para está página estará disponivel em breve.")},e.createElement("svg",{viewBox:"0 0 515.556 515.556",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"#ffffff"},e.createElement("path",{d:"m257.778 0c-142.137 0-257.778 115.641-257.778 257.778s115.641 257.778 257.778 257.778 257.778-115.641 257.778-257.778-115.642-257.778-257.778-257.778zm32.222 418.889h-64.444v-64.444h64.444zm32.222-147.769-32.222 32.222v18.88h-64.444v-32.222c0-8.543 3.398-16.74 9.44-22.782l41.662-41.662c8.48-8.48 13.342-20.233 13.342-32.222 0-17.763-14.459-32.222-32.222-32.222s-32.222 14.459-32.222 32.222v32.222h-64.444v-32.222c0-53.305 43.361-96.667 96.667-96.667s96.667 43.361 96.667 96.667c-.001 29.39-11.44 57.018-32.224 77.786z"})),e.createElement("span",null,"Suporte"))),e.createElement($v,null,e.createElement("button",{type:"button",onClick:()=>alert("Bracael.COM\\nVersão Alpha, 16.09.2020\\nO Conteúdo para está página estará disponivel em breve.")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 50",width:"18",height:"18",fill:"#ffffff"},e.createElement("path",{d:"M0,54V8S0.02,4.006,4,4H51s5-.02,5,5c-0.032.858-.01,28.359,0,31,0.008,3.932-4,4-4,4-0.928-.027-45,0-45,0ZM26,14V29h5V11H23Zm0,22h5V32H26v4Z"})),e.createElement("span",null,"Enviar feedback")))),e.createElement(Jv,null,e.createElement("span",null,"BRACAEL 2020 ©",e.createElement("br",null),"Todos os direitos reservados."),e.createElement("span",null,"Painel administrativo para parceiros."),e.createElement("span",null,"Last time updated November 5, 2020")))))};const Xv=Uv.header`
  width: 100%;
  background: #fff;
  border-bottom: 1px solid rgb(236,239,241);
  padding: 0 2.2rem;
  max-height: 48px;
  min-height: 48px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 5;

  @media (max-width: 720px) {
    padding: 0 1.6rem;
  }

  & > span {

    @media (max-width: 720px) {
      visibility: hidden;
    }

    font-size: 2rem;
    font-weight: 900;
  }

  & > div {
    align-items: center;
    display: flex;

    & button {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;

      ${qv}
      ${.25,"\n  transition: 0.25s linear;\n"}
    }
  }
`;Uv.span`
  transition: box-shadow 0.3s, color 0.3s;
  font-style: italic;
  font-family: var(--font-lato);
  padding: 0 1rem;
  font-weight: 400;
  line-height: 22px;
  margin-right: 0.8rem;
  font-size: 1.4rem;
  height: 22px;

  ${zv(3)}

  ${({status:e})=>e?"\n    box-shadow: inset 0 0 0 1px #23d45a;\n    color: #23d45a;\n  ":"\n    box-shadow: inset 0 0 0 1px #ff4e45;\n    color: #ff4e45;\n  "}
`;var ey=function(){const{pathname:t}=Xm(),[n,r]=(0,e.useState)(t),[i,o]=(0,e.useState)("Carregando...");t!==n&&r(t),"/"===n?"Area de serviço"!==i&&o("Area de serviço"):"/settings"===n?"Configurações"!==i&&o("Configurações"):"/products"===n?"Meus produtos"!==i&&o("Meus produtos"):"/edit"===n?"Novo produto"!==i&&o("Novo produto"):n.split("/").includes("edit")?"Editar novo produto"!==i&&o("Editar novo produto"):n.split("/").includes("products")&&"Editar produto"!==i&&o("Editar produto");const{useOverlay:a,setOverlay:s}=mg();return e.createElement(Xv,null,e.createElement("span",null,i),e.createElement("div",null,e.createElement("button",{type:"button",onClick:()=>s((e=>!e))},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 515.556 515.556",fill:"#777777"},e.createElement("path",{d:"m257.778 0c-142.137 0-257.778 115.641-257.778 257.778s115.641 257.778 257.778 257.778 257.778-115.641 257.778-257.778-115.642-257.778-257.778-257.778zm140.412 390.282c-88.007-44.093-194.425-45.965-284.592-4.146-30.464-34.181-49.153-79.073-49.153-128.358 0-106.61 86.723-193.333 193.333-193.333s193.333 86.723 193.333 193.333c0 51.296-20.213 97.861-52.921 132.504z"}),e.createElement("path",{d:"m326.132 157.202c37.751 37.751 37.751 98.957 0 136.707s-98.957 37.751-136.707 0-37.751-98.957 0-136.707 98.956-37.751 136.707 0"})))))};const ty="object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g||"object"==typeof n.g&&n.g.GLOBAL===n.g?n.g:{};ty.__REACT_ASYNC__=ty.__REACT_ASYNC__||{};const ny=()=>{};class ry{constructor(){this.abort=ny,this.signal={}}}let iy;try{iy=n(74)}catch(Cd){}const oy=iy&&iy.oneOfType([iy.node,iy.func]),ay=iy&&iy.shape({initialValue:iy.any,data:iy.any,error:iy.instanceOf(Error),value:iy.any,startedAt:iy.instanceOf(Date),finishedAt:iy.instanceOf(Date),status:iy.oneOf(["initial","pending","fulfilled","rejected"]),isInitial:iy.bool,isPending:iy.bool,isLoading:iy.bool,isFulfilled:iy.bool,isResolved:iy.bool,isRejected:iy.bool,isSettled:iy.bool,counter:iy.number,promise:iy.instanceOf(Promise),run:iy.func,reload:iy.func,cancel:iy.func,setData:iy.func,setError:iy.func});var sy=iy&&{Async:{children:oy,promise:iy.instanceOf(Promise),promiseFn:iy.func,deferFn:iy.func,watch:iy.any,watchFn:iy.func,initialValue:iy.any,onResolve:iy.func,onReject:iy.func,reducer:iy.func,dispatcher:iy.func,debugLabel:iy.string,suspense:iy.bool},Initial:{children:oy,state:ay.isRequired,persist:iy.bool},Pending:{children:oy,state:ay.isRequired,initial:iy.bool},Fulfilled:{children:oy,state:ay.isRequired,persist:iy.bool},Rejected:{children:oy,state:ay.isRequired,persist:iy.bool},Settled:{children:oy,state:ay.isRequired,persist:iy.bool}};const uy=(e,...t)=>"function"==typeof e?e(...t):e,cy=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isInitial||n&&!r.data?uy(t,r):null),ly=({children:t,initial:n,state:r={}})=>e.createElement(e.Fragment,null,!r.isPending||n&&r.value?null:uy(t,r)),hy=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isFulfilled||n&&r.data?uy(t,r.data,r):null),fy=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isRejected||n&&r.error?uy(t,r.error,r):null),dy=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isSettled||n&&r.value?uy(t,r):null);var py;sy&&(cy.propTypes=sy.Initial,ly.propTypes=sy.Pending,hy.propTypes=sy.Fulfilled,fy.propTypes=sy.Rejected,dy.propTypes=sy.Settled),function(e){e.initial="initial",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"}(py||(py={}));const my=(e,t)=>e instanceof Error?py.rejected:void 0!==e?py.fulfilled:t?py.pending:py.initial,gy=e=>({status:e,isInitial:e===py.initial,isPending:e===py.pending,isLoading:e===py.pending,isFulfilled:e===py.fulfilled,isResolved:e===py.fulfilled,isRejected:e===py.rejected,isSettled:e===py.fulfilled||e===py.rejected}),vy=function(){};Object.setPrototypeOf?Object.setPrototypeOf(vy,Promise):vy.__proto__=Promise,vy.prototype=Object.assign(Object.create(Promise.prototype),{finally(){return this},catch(){return this},then(){return this}});const yy=new vy;var by;!function(e){e.start="start",e.cancel="cancel",e.fulfill="fulfill",e.reject="reject"}(by||(by={}));const wy=({initialValue:e,promise:t,promiseFn:n})=>({initialValue:e,data:e instanceof Error?void 0:e,error:e instanceof Error?e:void 0,value:e,startedAt:t||n?new Date:void 0,finishedAt:e?new Date:void 0,...gy(my(e,t||n)),counter:0,promise:yy}),_y=(e,t)=>{switch(t.type){case by.start:return{...e,startedAt:new Date,finishedAt:void 0,...gy(py.pending),counter:t.meta.counter,promise:t.meta.promise};case by.cancel:return{...e,startedAt:void 0,finishedAt:void 0,...gy((n=e.error||e.data,n instanceof Error?py.rejected:void 0!==n?py.fulfilled:py.initial)),counter:t.meta.counter,promise:t.meta.promise};case by.fulfill:return{...e,data:t.payload,value:t.payload,error:void 0,finishedAt:new Date,...gy(py.fulfilled),promise:t.meta.promise};case by.reject:return{...e,error:t.payload,value:t.payload,finishedAt:new Date,...gy(py.rejected),promise:t.meta.promise};default:return e}var n},Ey=e=>(t,...n)=>{e(t,...n),t.type===by.start&&"function"==typeof t.payload&&t.payload()};e.Component,function(t={},n="Async"){const{Consumer:r,Provider:i}=e.createContext(void 0);function o({children:t}){return e.createElement(r,null,(e=>{if(!e)throw new Error("this component should only be used within an associated <Async> component!");return t(e)}))}class a extends e.Component{constructor(e){super(e),this.mounted=!1,this.counter=0,this.args=[],this.promise=yy,this.abortController=new ry,this.start=this.start.bind(this),this.load=this.load.bind(this),this.run=this.run.bind(this),this.cancel=this.cancel.bind(this),this.onResolve=this.onResolve.bind(this),this.onReject=this.onReject.bind(this),this.setData=this.setData.bind(this),this.setError=this.setError.bind(this);const n=e.promise,r=e.promiseFn||t.promiseFn,i=e.initialValue||t.initialValue;this.state={...wy({initialValue:i,promise:n,promiseFn:r}),cancel:this.cancel,run:this.run,reload:()=>{this.load(),this.run(...this.args)},setData:this.setData,setError:this.setError},this.debugLabel=e.debugLabel||t.debugLabel;const{devToolsDispatcher:o}=ty.__REACT_ASYNC__,a=e.reducer||t.reducer,s=e.dispatcher||t.dispatcher||o,u=a?(e,t)=>a(e,t,_y):_y,c=Ey(((e,t)=>{this.setState((t=>u(t,e)),t)}));this.dispatch=s?t=>s(t,c,e):c}componentDidMount(){this.mounted=!0,!this.props.promise&&this.state.initialValue||this.load()}componentDidUpdate(e){const{watch:n,watchFn:r=t.watchFn,promise:i,promiseFn:o}=this.props;return n!==e.watch||r&&r({...t,...this.props},{...t,...e})?(this.counter&&this.cancel(),this.load()):i!==e.promise&&(this.counter&&this.cancel(),i)||o!==e.promiseFn&&(this.counter&&this.cancel(),o)?this.load():void 0}componentWillUnmount(){this.cancel(),this.mounted=!1}getMeta(e){return{counter:this.counter,promise:this.promise,debugLabel:this.debugLabel,...e}}start(e){return"AbortController"in ty&&(this.abortController.abort(),this.abortController=new ty.AbortController),this.counter++,this.promise=new Promise(((t,n)=>{this.mounted&&this.dispatch({type:by.start,payload:()=>e().then(t,n),meta:this.getMeta()})}))}load(){const e=this.props.promise,n=this.props.promiseFn||t.promiseFn;if(e)this.start((()=>e)).then(this.onResolve(this.counter)).catch(this.onReject(this.counter));else if(n){const e={...t,...this.props};this.start((()=>n(e,this.abortController))).then(this.onResolve(this.counter)).catch(this.onReject(this.counter))}}run(...e){const n=this.props.deferFn||t.deferFn;if(n){this.args=e;const r={...t,...this.props};return this.start((()=>n(e,r,this.abortController))).then(this.onResolve(this.counter),this.onReject(this.counter))}}cancel(){const e=this.props.onCancel||t.onCancel;e&&e(),this.counter++,this.abortController.abort(),this.mounted&&this.dispatch({type:by.cancel,meta:this.getMeta()})}onResolve(e){return n=>{if(this.counter===e){const e=this.props.onResolve||t.onResolve;this.setData(n,(()=>e&&e(n)))}return n}}onReject(e){return n=>{if(this.counter===e){const e=this.props.onReject||t.onReject;this.setError(n,(()=>e&&e(n)))}return n}}setData(e,t){return this.mounted&&this.dispatch({type:by.fulfill,payload:e,meta:this.getMeta()},t),e}setError(e,t){return this.mounted&&this.dispatch({type:by.reject,payload:e,error:!0,meta:this.getMeta()},t),e}render(){const{children:t,suspense:n}=this.props;if(n&&this.state.isPending&&this.promise!==yy)throw this.promise;if("function"==typeof t){const n=t;return e.createElement(i,{value:this.state},n(this.state))}return null!=t?e.createElement(i,{value:this.state},t):null}}sy&&(a.propTypes=sy.Async);const s=t=>e.createElement(o,null,(n=>e.createElement(cy,Object.assign({},t,{state:n})))),u=t=>e.createElement(o,null,(n=>e.createElement(ly,Object.assign({},t,{state:n})))),c=t=>e.createElement(o,null,(n=>e.createElement(hy,Object.assign({},t,{state:n})))),l=t=>e.createElement(o,null,(n=>e.createElement(fy,Object.assign({},t,{state:n})))),h=t=>e.createElement(o,null,(n=>e.createElement(dy,Object.assign({},t,{state:n}))));s.displayName=`${n}.Initial`,u.displayName=`${n}.Pending`,c.displayName=`${n}.Fulfilled`,l.displayName=`${n}.Rejected`,h.displayName=`${n}.Settled`,Object.assign(a,{displayName:n,Initial:s,Pending:u,Loading:u,Fulfilled:c,Resolved:c,Rejected:l,Settled:h})}(),Error;var Ty=e.useEffect?function(t,n){const r="function"==typeof t?{...n,promiseFn:t}:t,i=(0,e.useRef)(0),o=(0,e.useRef)(!0),a=(0,e.useRef)(void 0),s=(0,e.useRef)(r),u=(0,e.useRef)(yy),c=(0,e.useRef)(new ry),{devToolsDispatcher:l}=ty.__REACT_ASYNC__,{reducer:h,dispatcher:f=l}=r,[d,p]=(0,e.useReducer)(h?(e,t)=>h(e,t,_y):_y,r,wy),m=(0,e.useCallback)(f?e=>f(e,Ey(p),s.current):Ey(p),[f]),{debugLabel:g}=r,v=(0,e.useCallback)((e=>({counter:i.current,promise:u.current,debugLabel:g,...e})),[g]),y=(0,e.useCallback)(((e,t=ny)=>(o.current&&(m({type:by.fulfill,payload:e,meta:v()}),t()),e)),[m,v]),b=(0,e.useCallback)(((e,t=ny)=>(o.current&&(m({type:by.reject,payload:e,error:!0,meta:v()}),t()),e)),[m,v]),{onResolve:w,onReject:_}=r,E=(0,e.useCallback)((e=>t=>e===i.current&&y(t,(()=>w&&w(t)))),[y,w]),T=(0,e.useCallback)((e=>t=>e===i.current&&b(t,(()=>_&&_(t)))),[b,_]),I=(0,e.useCallback)((e=>("AbortController"in ty&&(c.current.abort(),c.current=new ty.AbortController),i.current++,u.current=new Promise(((t,n)=>{o.current&&m({type:by.start,payload:()=>e().then(t,n),meta:v()})})))),[m,v]),{promise:S,promiseFn:C,initialValue:x}=r,k=(0,e.useCallback)((()=>{const e=x&&0===i.current;S?I((()=>S)).then(E(i.current)).catch(T(i.current)):C&&!e&&I((()=>C(s.current,c.current))).then(E(i.current)).catch(T(i.current))}),[I,S,C,x,E,T]),{deferFn:N}=r,A=(0,e.useCallback)(((...e)=>{N&&(a.current=e,I((()=>N(e,s.current,c.current))).then(E(i.current)).catch(T(i.current)))}),[I,N,E,T]),D=(0,e.useCallback)((()=>{a.current?A(...a.current):k()}),[A,k]),{onCancel:P}=r,M=(0,e.useCallback)((()=>{P&&P(),i.current++,c.current.abort(),o.current&&m({type:by.cancel,meta:v()})}),[P,m,v]),{watch:O,watchFn:L}=r;if((0,e.useEffect)((()=>{L&&s.current&&L(r,s.current)&&(s.current=r,k())})),(0,e.useEffect)((()=>{s.current=r}),[r]),(0,e.useEffect)((()=>{i.current&&M(),(S||C)&&k()}),[S,C,O]),(0,e.useEffect)((()=>()=>{o.current=!1}),[]),(0,e.useEffect)((()=>()=>M()),[]),(0,e.useDebugValue)(d,(({status:e})=>`[${i.current}] ${e}`)),r.suspense&&d.isPending&&u.current!==yy)throw u.current;return(0,e.useMemo)((()=>({...d,run:A,reload:D,cancel:M,setData:y,setError:b})),[d,A,D,M,y,b])}:()=>{throw new Error("useAsync requires React v16.8 or up. Upgrade your React version or use the <Async> component instead.")};function Iy(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Sy(e){Iy(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function Cy(e,t){Iy(2,arguments);var n=Sy(e),r=Sy(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function xy(e,t){Iy(2,arguments);var n=Sy(e),r=Sy(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return 12*i+o}function ky(e){Iy(1,arguments);var t=Sy(e);return t.setHours(23,59,59,999),t}function Ny(e){Iy(1,arguments);var t=Sy(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ay(e){Iy(1,arguments);var t=Sy(e);return ky(t).getTime()===Ny(t).getTime()}function Dy(e,t){Iy(2,arguments);var n,r=Sy(e),i=Sy(t),o=Cy(r,i),a=Math.abs(xy(r,i));if(a<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*a);var s=Cy(r,i)===-o;Ay(Sy(e))&&1===a&&1===Cy(e,i)&&(s=!1),n=o*(a-s)}return 0===n?0:n}function Py(e,t){Iy(2,arguments);var n=Sy(e),r=Sy(t);return n.getTime()-r.getTime()}function My(e,t){Iy(2,arguments);var n=Py(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var Oy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Ly(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var Ry={date:Ly({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Ly({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Ly({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},jy={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Fy(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=i.width?String(i.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function Uy(e){return function(t,n){var r=String(t),i=n||{},o=i.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=r.match(a);if(!s)return null;var u,c=s[0],l=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return u="[object Array]"===Object.prototype.toString.call(l)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].test(c))return n}(l):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n].test(c))return n}(l),u=e.valueCallback?e.valueCallback(u):u,{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(c.length)}}}var zy,qy={code:"en-US",formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof Oy[e]?Oy[e]:1===t?Oy[e].one:Oy[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:Ry,formatRelative:function(e,t,n,r){return jy[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Fy({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Fy({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Fy({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Fy({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Fy({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(zy={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),r=t||{},i=n.match(zy.matchPattern);if(!i)return null;var o=i[0],a=n.match(zy.parsePattern);if(!a)return null;var s=zy.valueCallback?zy.valueCallback(a[0]):a[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(o.length)}}),era:Uy({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Uy({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Uy({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Uy({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Uy({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vy(e){return function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},e)}function By(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Wy=1440,Gy=43200;function Hy(e,t,n){Iy(2,arguments);var r=n||{},i=r.locale||qy;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Cy(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var a,s,u=Vy(r);u.addSuffix=Boolean(r.addSuffix),u.comparison=o,o>0?(a=Sy(t),s=Sy(e)):(a=Sy(e),s=Sy(t));var c,l=My(s,a),h=(By(s)-By(a))/1e3,f=Math.round((l-h)/60);if(f<2)return r.includeSeconds?l<5?i.formatDistance("lessThanXSeconds",5,u):l<10?i.formatDistance("lessThanXSeconds",10,u):l<20?i.formatDistance("lessThanXSeconds",20,u):l<40?i.formatDistance("halfAMinute",null,u):l<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):0===f?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",f,u);if(f<45)return i.formatDistance("xMinutes",f,u);if(f<90)return i.formatDistance("aboutXHours",1,u);if(f<Wy){var d=Math.round(f/60);return i.formatDistance("aboutXHours",d,u)}if(f<2520)return i.formatDistance("xDays",1,u);if(f<Gy){var p=Math.round(f/Wy);return i.formatDistance("xDays",p,u)}if(f<86400)return c=Math.round(f/Gy),i.formatDistance("aboutXMonths",c,u);if((c=Dy(s,a))<12){var m=Math.round(f/Gy);return i.formatDistance("xMonths",m,u)}var g=c%12,v=Math.floor(c/12);return g<3?i.formatDistance("aboutXYears",v,u):g<9?i.formatDistance("overXYears",v,u):i.formatDistance("almostXYears",v+1,u)}function Qy(e,t){return Iy(1,arguments),Hy(e,Date.now(),t)}var Ky=n(724),Yy=n.n(Ky);const $y=Uv.div`
  color: rgb(153, 153, 153);
  font-size: 12px;
  box-shadow: rgb(204 204 204) 0px 0px 16px;
  background-color: rgb(255, 255, 255);
  overflow: hidden;

  ${zv(3)}
`,Jy=Uv.div`
  padding: 1.2rem 1.6rem;
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1.2rem;
  }
`,Zy=Uv.div`
  background: #FAFAFC;
  border-top: 1px solid #EFEEF9;
  justify-content: space-between;

  @media (max-width: 1039px) {
    padding: 0.6rem 1.6rem 1rem !IMPORTANT;
    flex-direction: column !IMPORTANT;
    align-items: center !IMPORTANT;
    justify-content: initial !IMPORTANT;
  }
`,Xy=Uv.div`
  display: flex;
  align-items: center;
  justify-content: center;

  @media (max-width: 1039px) {
    font-size: 1.3rem;
  }
`,eb=Uv.div`
  justify-content: center;
  display: flex;

  @media (max-width: 1039px) {
    margin-bottom: 0.5rem;
  }

  & button {
    display: flex;
    justify-content: space-evenly;
    align-items: center;
    height: 26px;
    padding: 0 1rem 2px;
    padding-right: 1.3rem;
    line-height: 27px;
    transition: .1s;
    background: #d8d8d8;
    box-shadow: inset 0px -2px 0px 0px rgba(0, 0, 0, 0.15);
    color: rgba(0, 0, 0, 0.5);
    font-weight: 500;

    @media (max-width: 1039px) {
      padding: 0 1rem;
      -webkit-box-sizing: initial;
      box-sizing: border-box;
      background: border-box;
      box-shadow: initial;
      border-radius: 50%;
      color: initial;
      height: 30px;
      width: 30px;

      & span {
        display: none;
      }

      &:hover {
        background: #888888 !IMPORTANT;

        & svg {
          fill: #ffffff;
        }
      }
    }

    @media (min-width: 721px) {
      ${zv(3)}
    }

    & span {
      margin-left: 1.2rem;
    }

    & svg {
      fill: #888888;
    }

    &:not(:last-child) {
      margin-right: 1rem;
    }
  }
`,tb=Uv.div`
  display: flex;

  & > div {
    width: 100%;
  }
`,nb=Uv.div`
  width: 100%;
  margin-right: 1.6rem;
  justify-content: space-between;
  flex-direction: column;
  display: flex;
`,rb=Uv.span`
  font-size: 2.2rem;
  color: #323232;
  display: block;
`,ib=Uv.button`
  width: 100%;
  color: #fff;
  background-color: #279acc;
  border-bottom: 2px solid #1682b5;
  height: 30px;
  padding: 2px 1.3rem 0 1.3rem;
  margin: 0 1rem;
  font-weight: 500;
  white-space: nowrap;

  ${zv(3)}

  @media (max-width: 1039px) {
    margin: initial;
    height: 26px;
    font-size: 1.4rem;
  }
`,ob=Uv.div`
  max-width: 33%;

  @media (min-width: 1040px) {
    & > div:not(:last-child) {
      margin-bottom: 1.6rem;
    }
  }
`,ab=Uv.div`
  display: flex;
`,sb=Uv.div`
  color: #000;
  width: 100%;
  flex-direction: column;
  display: flex;
`,ub=Uv.span`
  font-weight: 300;
  font-size: 1.4rem;
`,cb=Uv.span`
  font-size: 1.8rem;
  color: #000;
`;var lb=function({date_approved:t}){const[n,r]=(0,e.useState)(Qy(new Date(t),{addSuffix:!0,locale:Yy(),timeZone:"America/Sao_Paulo"}));return(0,e.useEffect)((()=>{setInterval((()=>{r(Qy(new Date(t),{addSuffix:!0,locale:Yy()}))}),1e3)}),[n]),e.createElement(Xy,null,n)},hb=function({data:t,i:n}){console.log(t[1]);const{receiver:r="Cael",date_approved:i=(new Date).toISOString(),shipping_value:o=0,subtotal:a=0}=t[1];return e.createElement($y,null,e.createElement(Jy,null,e.createElement(tb,null,e.createElement(nb,null,e.createElement(rb,null,r)),e.createElement(ob,null,e.createElement(ib,{type:"button"},"Add. código"))),e.createElement(ab,null,e.createElement(sb,null,e.createElement(ub,null,"Subtotal"),e.createElement(cb,null,Number(a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),e.createElement(sb,null,e.createElement(ub,null,"Frete"),e.createElement(cb,null,Number(o).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),e.createElement(sb,null,e.createElement(ub,null,"Total"),e.createElement(cb,null,Number(o+a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))))),e.createElement(Zy,null,e.createElement(eb,null,e.createElement("button",{type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 465.882 465.882"},e.createElement("path",{d:"m465.882 0-465.882 262.059 148.887 55.143 229.643-215.29-174.674 235.65.142.053-.174-.053v128.321l83.495-97.41 105.77 39.175z"})),e.createElement("span",null,"Enviar")),e.createElement("button",{type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 16 16"},e.createElement("path",{d:"m5.41421 1.17157c1.17157 1.17157 1.17157 3.07107 0 4.24264s-3.07107 1.17157-4.24264 0c-1.17157-1.17157-1.17157-3.07107 0-4.24264 1.17157-1.17157 3.07107-1.17157 4.24264 0",transform:"translate(4.707 4.707)"}),e.createElement("path",{d:"m16 7h-1.07983c-.440613-3.05908-2.86108-5.47955-5.92017-5.92017v-1.07983h-2v1.07983c-3.05908.440613-5.47955 2.86108-5.92017 5.92017h-1.07983v2h1.07983c.440613 3.05908 2.86108 5.47955 5.92017 5.92017v1.07983h2v-1.07983c3.05908-.440613 5.47955-2.86108 5.92017-5.92017h1.07983zm-8 6c-2.75684 0-5-2.24316-5-5s2.24316-5 5-5 5 2.24316 5 5-2.24316 5-5 5z"})),e.createElement("span",null,"Rota")),e.createElement("button",{type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 54.757 54.757"},e.createElement("path",{d:"M40.94,5.617C37.318,1.995,32.502,0,27.38,0c-5.123,0-9.938,1.995-13.56,5.617c-6.703,6.702-7.536,19.312-1.804,26.952 L27.38,54.757L42.721,32.6C48.476,24.929,47.643,12.319,40.94,5.617z M27.557,26c-3.859,0-7-3.141-7-7s3.141-7,7-7s7,3.141,7,7 S31.416,26,27.557,26z"})),e.createElement("span",null,"Local")),e.createElement("button",{type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 512 512"},e.createElement("path",{d:"m414 80h-316c-5.523 0-10-4.477-10-10v-26c0-24.301 19.699-44 44-44h248c24.301 0 44 19.699 44 44v26c0 5.523-4.477 10-10 10z"}),e.createElement("path",{d:"m458 112h-404c-29.776 0-54 24.224-54 54v188c0 29.776 24.224 54 54 54h34v-80c0-39.701 32.299-72 72-72h192c39.701 0 72 32.299 72 72v80h34c29.776 0 54-24.224 54-54v-188c0-29.776-24.224-54-54-54zm-361.98 120c-13.255 0-24.005-10.745-24.005-24s10.74-24 23.995-24h.01c13.255 0 24 10.745 24 24s-10.745 24-24 24z"}),e.createElement("path",{d:"m352 304h-192c-13.255 0-24 10.745-24 24v80 32c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24v-32-80c0-13.255-10.745-24-24-24z"})),e.createElement("span",null,"Imprimir")),e.createElement("button",{type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14"},e.createElement("path",{fillRule:"evenodd",d:"M7,9A2,2,0,1,1,9,7,2,2,0,0,1,7,9ZM7,4A2,2,0,1,1,9,2,2,2,0,0,1,7,4Zm0,6a2,2,0,1,1-2,2A2,2,0,0,1,7,10Z"})),e.createElement("span",null,"Opções"))),e.createElement(lb,{date_approved:i})))};const fb=Uv.div`
  display: flex;
  flex-direction: column;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,db=Uv.span`
  width: max-content;
  background: #fff;
  font-size: 1.5rem;
  padding: 0.6rem 1rem;
  box-shadow: 0px -1px rgb(0,0,0,0.05);

  ${zv(3)}
`;var pb=function({data:t,i:n}){const r=t[0];return console.log(r),e.createElement(fb,null,e.createElement(db,null,t[0]),Object.entries(t[1]).map(((t,n)=>e.createElement(hb,{data:t,i:n,uid:r,key:t[0]}))))};const mb=Uv.div`
  padding: 1.6rem;
  overflow-x: hidden;
  overflow-y: overlay;

  & > *:not(:last-child) {
    margin-bottom: 2rem;
  }
`;var gb=function({data:t}){return e.createElement(mb,null,Object.entries(t).map(((t,n)=>e.createElement(pb,{data:t,i:n,key:t[0]}))))};const vb=async({signal:e})=>await sm().httpsCallable("getItemConnection")("order").then((e=>e.data));var yb=function(){const{data:t,error:n}=Ty({promiseFn:vb});return n?n.message:t?e.createElement(gb,{data:t}):e.createElement("div",null,"Carregando...")},bb=n(988);const wb=Uv.div`
  width: 100%;
  overflow-x: hidden;
  overflow-y: overlay;
  flex-direction: column;
  display: flex;
  height: 100%;

  @media (min-width: 1040px) {
    padding: 3rem;
  }
`,_b=Uv.div`
  padding: 0 0 2.2rem;

  @media (max-width: 720px) {
    bottom: 20px;
    right: 20px;
    display: flex;
    position: fixed;
    z-index: 118;
    padding: initial;
  }

  & button {
    color: #fff;
    background: -webkit-gradient(linear,left top,left bottom,from(#0db722),to(#0e9c20));
    border: 1px solid var(--color-master-border);
    font-size: 1.4rem;
    font-weight: 500;
    padding: 4.5px 1.6rem;
    ${zv(3)}
    text-align: center;

    @media (max-width: 720px) {
      width: 40px;
      height: 40px;
      ${zv("50%")}
      border: initial !IMPORTANT;
      padding: initial !IMPORTANT;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 6px 10px 0 rgba(0,0,0,0.14), 0 1px 18px 0 rgba(0,0,0,0.12), 0 3px 5px -1px rgba(0,0,0,0.2);
      background: var(--color-single-text) !IMPORTANT;

      &:hover {
          background: #4c5e67 !IMPORTANT;
      }

      &:focus {
          background: #36454d !IMPORTANT;
      }
    }

    @media screen and (min-width: 721px) {
      & svg {
          display: none;
      }
    }

    @media (max-width: 720px) {
      & span {
        display: none;
      }
    }
  }
`,Eb=Uv.div`

  @media (max-width: 1039px) {
    padding: 1.6rem;
  }

  & > small {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
`,Tb=Uv.div`
  display: flex;
  font-family: var(--font-lato);
  background: var(--color-clean);
  border-bottom: 1px solid var(--color-silver);
  transition: border-bottom 0.3s, box-shadow 0.3s;
  position: relative;

  ${zv(3)}

  &:hover {
    border-bottom: 1px solid transparent;
    box-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.30), 0 2px 6px 2px rgba(60, 64, 67, 0.15);
  }

  @media (max-width: 720px)  {
    flex-direction: column;
    padding: 1.4rem;
  }

  &:not(:last-child) {
    margin-bottom: 1.6rem;
  }

  & > button {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
    width: 100%;
    height: 100%;
    position: absolute;
  }
`,Ib=Uv.div`
  width: 100%;
  display: flex;
  padding: 10px;

  @media (max-width: 720px) {
    padding: initial;
  }
`,Sb=Uv.div`
  min-width: 72px;
  max-width: 72px;
  height: 72px;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  background-size: cover;
  background-position: center;
  background-color: #e8e8e8;

  ${zv(3)}
`,Cb=Uv.div`
  width: 100%;
  margin-left: 1.6rem;
  position: relative;

  & > div:not(:first-child):not(:last-child) {
    margin-bottom: 1.2rem;
  }
`,xb=Uv.div`
  position: absolute;
  background: linear-gradient(90deg,rgba(198,223,178,0) 0,rgba(255 255 255) 50%);
  padding-left: 22px;
  box-sizing: initial;
  right: 0;

  & button {
    padding: 7px;
    position: relative;
    border-radius: 50%;
    height: 32px;
    width: 32px;
    z-index: 2;

    ${qv}
  }
`,kb=Uv.div`
  display: inline-grid;

  & span {
    font-size: 2rem;
    font-weight: 700;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    display: block;
    color: var(--color-single-text);
    letter-spacing: .4px;
  }
`,Nb=Uv.span`
  letter-spacing: 0.4px;
  font-family: var(--font-oswald);
  font-size: 1.8rem;
  font-weight: 500;
  color: #a00;
`,Ab=Uv.span`
  font-style: italic;
  box-shadow: 0 0 0 1px #00000078;
  font-size: 1.4rem;
  padding: 0.2rem 0.4rem;
  line-height: 11px;
  height: 16px;
  display: inline-flex;
  top: -2px;
  position: relative;
  border-radius: 3px;
  margin-left: 1rem;

  color: var(--color-single-text);
  font-weight: 400;
`;var Db=function({data:t}){return e.createElement(Sb,{style:{backgroundImage:`url("${t}?alt=media")`}},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"72",width:"72",alt:""}))};const Pb=Uv.div`
  height: ${({height:e})=>"number"==typeof e?`${e}px`:e};
  margin-bottom: ${({marginBottom:e})=>"number"==typeof e?`${e}px`:e};
  margin-left: ${({marginLeft:e})=>"number"==typeof e?`${e}px`:e};
  margin-right: ${({marginRight:e})=>"number"==typeof e?`${e}px`:e};

  width: ${({width:e})=>"number"==typeof e?`${e}px`:e};
  max-width: ${({maxWidth:e})=>"number"==typeof e?`${e}px`:e};
  min-width: ${({minWidth:e})=>"number"==typeof e?`${e}px`:e};

  display: ${({displayFlex:e})=>e&&"flex"};

  justify-content: ${({justifyContent:e})=>e&&e};

  & > *:not(:last-child) {
    margin-top: ${({spaceTopChild:e})=>e&&e};
    margin-right: ${({spaceRightChild:e})=>e&&e};
    margin-left: ${({spaceLeftChild:e})=>e&&e};
    margin-bottom: ${({spaceBottomChild:e})=>e&&e};
  }

  & > * {
    display: flex;
  }

  & * {
    float: ${({floatChild:e})=>e&&e};
  }
`,Mb=(Uv.div`
  display: flex;
`,"data:image/svg+xml;base64,PHN2ZyBpZD0iQWdydXBhcl8xIiBkYXRhLW5hbWU9IkFncnVwYXIgMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjUwIiBoZWlnaHQ9IjI1MCIgdmlld0JveD0iMCAwIDI1MCAyNTAiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICNjNWM1YzU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiwgLmNscy0zIHsKICAgICAgICBmaWxsOiAjZmZmOwogICAgICB9CgogICAgICAuY2xzLTMgewogICAgICAgIGZpbGwtcnVsZTogZXZlbm9kZDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHJlY3QgaWQ9IlJldMOibmd1bG9fMSIgZGF0YS1uYW1lPSJSZXTDom5ndWxvIDEiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjI1MCIgaGVpZ2h0PSIyNTAiLz4KICA8Y2lyY2xlIGlkPSJFbGlwc2VfMSIgZGF0YS1uYW1lPSJFbGlwc2UgMSIgY2xhc3M9ImNscy0yIiBjeD0iMTI1IiBjeT0iMTAzIiByPSI1NyIvPgogIDxwYXRoIGlkPSJGb3JtYV8xIiBkYXRhLW5hbWU9IkZvcm1hIDEiIGNsYXNzPSJjbHMtMyIgZD0iTTMxLDI1MHM0LjE1Mi03Ny4yMzIsNjktOTljMS42NjQtLjA0NCw0Ny40MDYtMC4wMDcsNTAsMCwzNy41MTEsOC4yODUsNzAuMTUxLDYxLjM3NSw2OSw5OUMyMTUuNzY5LDI0OS45MDUsMzEsMjUwLDMxLDI1MFoiLz4KPC9zdmc+Cg=="),Ob=async({thumb:e},{signal:t})=>{const[n]=e;return await(async e=>{const{image_format:t,image_height:n,image_name:r,image_size:i,image_width:o}=e;return await om().ref("/products/images/thumbs").child(r+"_160x160.jpeg").getDownloadURL().then((function(e){return e}),(function(e){return Mb})).catch((e=>Mb))})(n)};var Lb=function({thumb:t}){const{data:n,error:r}=Ty({promiseFn:Ob,thumb:t});return r?r.message:n?e.createElement(Db,{data:n}):e.createElement(Pb,{floatChild:"left"},e.createElement(bb.ZP,{width:72,height:72}))},Rb=function({data:t,i:n}){const{title:r,category:i,price:o,thumb:a}=t[1],s=Zm();return e.createElement(Tb,null,e.createElement(Ib,null,"string"!=typeof a?e.createElement(Lb,{thumb:a}):null,e.createElement(Cb,null,e.createElement(xb,null,e.createElement("button",{type:"button",onClick:()=>alert("Estou trabalhando nesse recurso!")},e.createElement("svg",{viewBox:"0 0 515.555 515.555",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"#777777"},e.createElement("path",{d:"m303.347 18.875c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"}),e.createElement("path",{d:"m303.347 212.209c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"}),e.createElement("path",{d:"m303.347 405.541c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"})))),e.createElement(kb,null,e.createElement("span",null,r)),e.createElement("div",null,e.createElement(Nb,null,o.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),i.includes("Unavailable")&&e.createElement(Ab,null,"Indisponível")))),e.createElement("button",{type:"button",onClick:()=>s.push(`/products/${t[0]}`)}))},jb=function({data:t}){const n=Zm();return e.createElement(wb,null,e.createElement(_b,null,e.createElement("button",{type:"button",onClick:()=>n.push("/post")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"#fff"},e.createElement("path",{d:"M14,8H8v6H6V8H0V6H6V0H8V6h6V8Z"})),e.createElement("span",null,"Novo produto"))),e.createElement(Eb,null,Object.keys(t).length?Object.entries(t).sort(((e,t)=>e[1].published<t[1].published?1:t[1].published<e[1].published?-1:0)).map(((t,n)=>e.createElement(Rb,{key:t[0],data:t,i:n}))):e.createElement("small",null,"Não há produtos publicado!")))},Fb=function(){const t=Zm();return e.createElement(wb,null,e.createElement(_b,null,e.createElement("button",{type:"button",onClick:()=>t.push("/post")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"#fff"},e.createElement("path",{d:"M14,8H8v6H6V8H0V6H6V0H8V6h6V8Z"})),e.createElement("span",null,"Novo produto"))),e.createElement(Eb,null,["","","","","",""].map(((t,n)=>e.createElement(Tb,{key:n},e.createElement(Ib,null,e.createElement(Pb,{floatChild:"left"},e.createElement(bb.ZP,{width:72,height:72})),e.createElement(Cb,null,e.createElement(xb,null),e.createElement(kb,null,e.createElement(bb.ZP,{width:180,height:19})),e.createElement("div",null,e.createElement(bb.ZP,{width:59,height:21})))))))))};const Ub=async({signal:e})=>await sm().httpsCallable("getItemConnection")("public/feed").then((e=>e.data));var zb=function(){const{data:t,error:n}=Ty({promiseFn:Ub});return n?n.message:t?e.createElement(jb,{data:t}):e.createElement(Fb,null)};const{jQuery:qb}=window;var Vb={u:{a:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],c:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],d:["sun","mon","tue","wed","thu","fri","sat"],e:(new Date).getDay()},size_letter:["xp","p","m","g","xg"],size_number:["34","36","38","40","42","44","46","48"],size_ring:["12","13","14","15","16","17","18","19","20","21","22","23","24","25","26"],product_color:{red:"#e03838",green:"#38e064",yellow:"#e0cb38",black:"#313131",orange:"#e08513",pink:"#e01385",purple:"#8813e0",blue:"#1378e0",cyan:"19d296"},category_names:{"001":"Roupas","002":"Acessórios","003":"Calçados"},organize_names:{"001":["001","002","003","004","009","010","011","012","013","014","015","016"],"002":["007","008","017","018","019"],"003":[]},subcategory_names:{"001":"Camisas","002":"Blusas","003":"Shorts","004":"Calças","005":"Bolsas","006":"Mochilas","007":"Brincos","008":"Anéis","009":"Conjuntos","010":"Tops","011":"Quimono","012":"Bodys","013":"Vestidos","014":"Kaftan","015":"Biquíni","016":"Maiôs","017":"Pulseiras","018":"Colares","019":"Tornozeleiras","020":"Óculos"},cloth_names:{"001":"Jeans","002":"Moletom","003":"Sarja","004":"Viscose"},p:{1:["003","004"],2:["001","002","009","010","011","012","013","014","015","016"],3:["003","004"],4:["001","002","003","004","009","010","011","012","013","014","015","016","020"],5:["008"],6:["017","018","019"],7:["020"]},isValid:{"001":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"002":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"003":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_number:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"004":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_number:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"005":function(e){return!1},"006":function(e){return!1},"007":function(e){const{thumb:t=[],price:n,title:r,description:i}=e;return t.length&&n&&r&&i},"008":function(e){const{thumb:t=[],price:n,title:r,description:i,size_ring:o}=e;return t.length&&n&&r&&i&&o},"009":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"010":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"011":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"012":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"013":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"014":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"015":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"016":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"017":function(e){const{thumb:t=[],price:n,title:r,description:i,size_length:o}=e;return t.length&&n&&r&&i&&o},"018":function(e){const{thumb:t=[],price:n,title:r,description:i,size_length:o}=e;return t.length&&n&&r&&i&&o},"019":function(e){const{thumb:t=[],price:n,title:r,description:i,size_length:o}=e;return t.length&&n&&r&&i&&o},"020":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o}=e;return t.length&&n.length&&r&&i&&o}}};const Bb=e=>{document.body.contains(document.querySelector(".push-alert"))||(document.body.insertAdjacentHTML("beforeend",`\n    <div class="push-alert">\n      <p>${e}</p>\n    </div>`),qb(".push-alert").animate({transform:"-70"},{step:function(e,t){qb(this).css({transform:"translate3d(0px, "+e+"px, 0px)"})},duration:150,easing:"linear",queue:!1,complete:function(){setTimeout((()=>{qb(this).animate({opacity:0},{duration:300,easing:"linear",queue:!1,complete:function(){this.remove()}})}),1300)}},"linear"))},Wb=(0,e.createContext)();function Gb({children:t,usePost:n,setPost:r,useStateNumber:i,setStateNumber:o}){return e.createElement(Wb.Provider,{value:{usePost:n,setPost:r,useStateNumber:i,setStateNumber:o}},t)}function Hb(){const t=(0,e.useContext)(Wb),{usePost:n,setPost:r}=t;return{usePost:n,setPost:r}}function Qb(){const t=(0,e.useContext)(Wb),{useStateNumber:n,setStateNumber:r}=t;return{useStateNumber:n,setStateNumber:r}}const Kb=Uv.div`
  background: #efefef;
  align-items: center;
  display: flex;
  padding: 1rem;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,Yb=Uv.div`
  background-color: #fafafa;
  border-bottom: 1px solid #e7e7e7;
  display: block;

  ${zv(3)}

  & svg {
    float: left;
  }
`,$b=Uv.span`
  width: 100%;
  font-weight: 400;
  white-space: nowrap;
  flex-direction: column;
  display: block;
  text-overflow: ellipsis;
  overflow: hidden;
`,Jb=(Uv.div`
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,Uv.button`
  display: flex;
  padding: 0.8rem;

  &:hover {
    box-shadow: inset 0 0 0 1px #000;
    border-radius: 3px;
  }

  & svg {
    float: left;
  }
`),Zb=Uv.span`
  color: #959595;
  letter-spacing: .2px;
  font-size: 1.2rem;
  font-weight: 400;
  white-space: nowrap;
`,Xb=Uv.span`
  color: ${({typeStatus:e})=>"ready"===e?"#32be5b":"loading"===e?"#ffb103":"sucess"===e?"#3bb5e9":"#000000"};
  border: 1px solid;
  letter-spacing: .2px;
  font-size: 1.2rem;
  font-weight: 400;
  padding: 0 0.4rem;
  text-transform: uppercase;
  white-space: nowrap;
  
  ${zv(2)}
`;var ew=function({data:t}){const{file:n,image_name:r,image_format:i}=t,{name:o,size:a}=n;return e.createElement(Kb,null,e.createElement(Yb,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#a067e6"},e.createElement("path",{d:"M7,8.5C7,7.119,8.119,6,9.5,6S12,7.119,12,8.5S10.881,11,9.5,11S7,9.881,7,8.5z M14.5,11l-4,6l-2-3L5,19h15L14.5,11z"}))),e.createElement($b,null,o),e.createElement(Zb,null,a<1e6?Math.floor(a/1e3)+" KB":Math.floor(a/1e6)+" MB"),e.createElement(Xb,{typeStatus:"ready"},"Pronto"),e.createElement(Jb,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 413.348 413.348"},e.createElement("path",{d:"m413.348 24.354-24.354-24.354-182.32 182.32-182.32-182.32-24.354 24.354 182.32 182.32-182.32 182.32 24.354 24.354 182.32-182.32 182.32 182.32 24.354-24.354-182.32-182.32z"}))))},tw=function({data:t}){const{file:n}=t,{name:r,size:i}=n;return e.createElement(Kb,null,e.createElement(Yb,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#a067e6"},e.createElement("path",{d:"M7,8.5C7,7.119,8.119,6,9.5,6S12,7.119,12,8.5S10.881,11,9.5,11S7,9.881,7,8.5z M14.5,11l-4,6l-2-3L5,19h15L14.5,11z"}))),e.createElement($b,null,r),e.createElement(Zb,null,i<1e6?Math.floor(i/1e3)+" KB":Math.floor(i/1e6)+" MB"),e.createElement(Xb,{typeStatus:"loading"},"A carregar"))},nw=function({data:t}){const{file:n,image_format:r}=t,{name:i,size:o}=n;return e.createElement(Kb,null,e.createElement(Yb,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#a067e6"},e.createElement("path",{d:"M7,8.5C7,7.119,8.119,6,9.5,6S12,7.119,12,8.5S10.881,11,9.5,11S7,9.881,7,8.5z M14.5,11l-4,6l-2-3L5,19h15L14.5,11z"}))),e.createElement($b,null,i),e.createElement(Xb,{typeStatus:"sucess"},"Concluído"),e.createElement(Zb,null,r.toUpperCase()," / ",o<1e6?Math.floor(o/1e3)+" KB":Math.floor(o/1e6)+" MB"))};const rw=async({useLoadImg:e},{signal:t})=>await Promise.all(e.map((async(e,t)=>{const{file:n,type:r}=e,{name:i}=n;return await om().ref("/products/images/"+ +new Date+"-"+i).put(n,{contentType:r}).then((e=>e.ref.getMetadata()))})));var iw=function({useLoadImg:t,setLoadImg:n}){const{useStateNumber:r,setStateNumber:i}=Qb(),{data:o,error:a}=Ty({promiseFn:rw,useLoadImg:t});return(0,e.useEffect)((()=>{o&&i((e=>e+1))}),[o]),a?a.message:o?t.map(((t,n)=>e.createElement(nw,{key:n,data:t}))):t.map(((t,n)=>e.createElement(tw,{key:n,data:t})))},ow=function({useLoadImg:t,setLoadImg:n,useStage:r,setStage:i}){return r?e.createElement(iw,{useLoadImg:t,setLoadImg:n}):t.map(((t,n)=>e.createElement(ew,{key:n,data:t})))};const aw=({width:e,height:t,fill:n})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 386.667 386.667",fill:n},React.createElement("path",{d:"m386.667 45.564-45.564-45.564-147.77 147.769-147.769-147.769-45.564 45.564 147.769 147.769-147.769 147.77 45.564 45.564 147.769-147.769 147.769 147.769 45.564-45.564-147.768-147.77z"})),sw=({width:e,height:t,fill:n})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 512 512",fill:n},React.createElement("path",{d:"M497,0H15C6.716,0,0,6.716,0,15v433.801V497c0,8.284,6.716,15,15,15h482c8.285,0,15-6.716,15-15v-48.199V15 C512,6.716,505.285,0,497,0z M482,407.37l-93.977-112.772c-2.573-3.089-6.279-5.015-10.285-5.347 c-4.008-0.333-7.979,0.959-11.025,3.582l-73.677,63.436L163.154,198.275c-3.139-3.818-7.961-5.844-12.879-5.419 c-4.924,0.426-9.322,3.249-11.759,7.55L30,391.905V30h452V407.37z"}),React.createElement("path",{d:"M352.4,96.4c-34.848,0-63.199,28.352-63.199,63.2c0,34.848,28.352,63.201,63.199,63.201 c34.849,0,63.199-28.352,63.199-63.2C415.599,124.753,387.249,96.4,352.4,96.4z"})),uw=()=>React.createElement(Gv,null,React.createElement("svg",{"aria-label":"Carregando...",viewBox:"0 0 100 100"},React.createElement("rect",{fill:"#555555",height:"6",opacity:"0",rx:"3",ry:"3",transform:"rotate(-90 50 50)",width:"25",x:"72",y:"47"}),React.createElement("rect",{fill:"#555555",height:"6",opacity:"0.08333333333333333",rx:"3",ry:"3",transform:"rotate(-60 50 50)",width:"25",x:"72",y:"47"}),React.createElement("rect",{fill:"#555555",height:"6",opacity:"0.16666666666666666",rx:"3",ry:"3",transform:"rotate(-30 50 50)",width:"25",x:"72",y:"47"}),React.createElement("rect",{fill:"#555555",height:"6",opacity:"0.25",rx:"3",ry:"3",transform:"rotate(0 50 50)",width:"25",x:"72",y:"47"}),React.createElement("rect",{fill:"#555555",height:"6",opacity:"0.3333333333333333",rx:"3",ry:"3",transform:"rotate(30 50 50)",width:"25",x:"72",y:"47"}),React.createElement("rect",{fill:"#555555",height:"6",opacity:"0.4166666666666667",rx:"3",ry:"3",transform:"rotate(60 50 50)",width:"25",x:"72",y:"47"}),React.createElement("rect",{fill:"#555555",height:"6",opacity:"0.5",rx:"3",ry:"3",transform:"rotate(90 50 50)",width:"25",x:"72",y:"47"}),React.createElement("rect",{fill:"#555555",height:"6",opacity:"0.5833333333333334",rx:"3",ry:"3",transform:"rotate(120 50 50)",width:"25",x:"72",y:"47"}),React.createElement("rect",{fill:"#555555",height:"6",opacity:"0.6666666666666666",rx:"3",ry:"3",transform:"rotate(150 50 50)",width:"25",x:"72",y:"47"}),React.createElement("rect",{fill:"#555555",height:"6",opacity:"0.75",rx:"3",ry:"3",transform:"rotate(180 50 50)",width:"25",x:"72",y:"47"}),React.createElement("rect",{fill:"#555555",height:"6",opacity:"0.8333333333333334",rx:"3",ry:"3",transform:"rotate(210 50 50)",width:"25",x:"72",y:"47"}),React.createElement("rect",{fill:"#555555",height:"6",opacity:"0.9166666666666666",rx:"3",ry:"3",transform:"rotate(240 50 50)",width:"25",x:"72",y:"47"}))),cw=Uv.div`
  flex-direction: column;
  display: flex;
  height: 100%;
  min-height: 46vh;

  & > *:not(:last-child) {
    margin-bottom: 2rem;
  }
`,lw=Uv.div`
  width: 100%;
  display: flex;
`,hw=Uv.button`
  width: 100%;
  color: #fff;
  background-color: #f33;
  box-shadow: 0 0 8px -3px #000;
  white-space: nowrap;
  padding: 1rem 2rem;
  margin: auto;

  ${zv(3)}
`,fw=Uv.div`
  height: 100%;
`,dw=Uv.div`
  flex-direction: column;
  display: flex;
  height: 100%;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,pw=Uv.div`
  display: flex;
  width: ${({useWidth:e})=>e&&"100%"};

  & > *:not(:last-child) {
    margin-right: 1.6rem;
  }
`,mw=Uv(hw)``,gw=Uv.div`
  justify-content: center;
  flex-direction: column;
  align-items: center;
  display: flex;
  height: 100%;

  & > *:not(:last-child) {
    margin-bottom: 1.8rem;
  }

  & span {
    font-size: 2rem;
  }
`;var vw=function(){const t=(0,e.useRef)(null),[n,r]=(0,e.useState)([]),[i,o]=(0,e.useState)(!1);return e.createElement(cw,null,e.createElement(fw,null,e.createElement(dw,null,n.length?e.createElement(ow,{useLoadImg:n,setLoadImg:r,useStage:i,setStage:o}):e.createElement(gw,null,e.createElement(sw,{width:"82",height:"82"}),e.createElement("span",null,"Aguardando imagem")))),e.createElement(lw,null,e.createElement(pw,{useWidth:!0},e.createElement(hw,{type:"button",onClick:()=>(()=>{const{current:e}=t;e.click()})()},"Selecionar imagem"),e.createElement("input",{type:"file",ref:t,accept:".jpg, .jpeg, .png",multiple:"multiple",onChange:()=>(()=>{const{current:e}=t;r(Array.from(e.files).map(((e,t)=>{const{name:n}=e,r=[...n.split(".")];let i=r.pop();return{image_name:r.join(),image_format:i,file:e}})))})()})),e.createElement(pw,{useWidth:!1},e.createElement(mw,{type:"button",onClick:()=>o(!0)},"Enviar"))))};const yw=Uv.div`
  height: 100%;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,bw=Uv.div`

  & > *:not(:nth-child(4n-4)) {
  margin-right: 1rem;
  }

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,ww=Uv.div`
  justify-content: space-between;
  display: flex;
`,_w=Uv.div`
  ${Vv}
`,Ew=Uv.span`
  align-items: center;
  display: flex;
`,Tw=Uv.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
`,Iw=async({useDeleteImg:e},{signal:t})=>await(async e=>await om().ref("products/images").child(e).delete().then((async function(){return Bb("Imagem deletada com sucesso"),await om().ref("/products/images").listAll().then((e=>e.items)).then((e=>Promise.all(e.map((e=>e.getMetadata())))))})).catch((function(e){Bb("Ups, ocorreu um erro!")})))(e);var Sw=function({useDeleteImg:t,setDeleteImg:n,useChecked:r,setChecked:i}){const{usePost:o,setPost:a}=Hb(),{data:s,error:u}=Ty({promiseFn:Iw,useDeleteImg:t});return(0,e.useEffect)((()=>{s&&(a((e=>{const{thumb:t=[]}=e;return{...e,thumb:t.filter(((e,t)=>{const{image_name:n,image_format:r}=e;return s.map((e=>e.name)).includes(`${n}.${r}`)}))}})),n("")),u&&n("")}),[s]),e.createElement(Tw,null,e.createElement(uw,null),e.createElement("span",null,"Carregando..."))};const Cw=Uv.div`
  width: 100vw;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  z-index: 1;
`,xw=Uv.div`
  background: #fff;
  z-index: 99;
  width: calc(100vw - 3.6rem);
  max-width: 500px;
  overflow: hidden;
  font-size: 1.43rem;
  box-shadow: inset 0 0 15px 0 rgba(0,0,0,0.24), 0 12px 15px 0 rgba(0,0,0,0.24);
  max-height: 90%;
  overflow-x: hidden;
  overflow-y: overlay;

  ${zv(3)}
`,kw=Uv.div`
  font-size: 2.2rem;
  font-weight: 500;
  padding: 2.4rem;
`,Nw=Uv.div`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding: 2.4rem;

  & button:not(:last-child) {
      margin-right: 1.6rem;
  }

  & button {
      text-transform: uppercase;
      font-weight: 900;
      padding: 8px;
  }

  & button:last-child {
      color: ${({buttonColor:e})=>e};
  }
`,Aw=Uv.div`
  padding: 0 2.4rem;
`,Dw=Uv.div`
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 2;
  width: 100vw;
  height: 100%;
  position: fixed;
  background: transparent;
`,{jQuery:Pw}=window;var Mw=function({title:t,message:n,button:r,buttonColor:i,onClick:o=!0,action:a}){const s=()=>Pw('[role="modaly"]').fadeOut(300,(function(){this.remove()}));return Pw('[role="modaly"]').fadeIn(200),e.createElement(Cw,{component:o},o&&e.createElement(Dw,{onClick:()=>s()}),e.createElement(xw,null,e.createElement(kw,null,e.createElement("span",null,t)),e.createElement(Aw,null,n),e.createElement(Nw,{buttonColor:i&&i},1===r.length?e.createElement("button",{type:"button",tabIndex:"0",onClick:()=>s()},r[0]):e.createElement(e.Fragment,null,e.createElement("button",{type:"button",tabIndex:"0",onClick:()=>s()},r[0]),e.createElement("button",{type:"button",tabIndex:"0",onClick:()=>(a(),void s())},r[1])))))};Uv.div`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,Uv.div`
  display: table;

  & > *:nth-child(-n+4) {
    margin-bottom: 1.6rem;
  }

  & > *:not(:nth-child(5)):not(:nth-child(8)) {
    margin-right: 1.6rem;
  }
`,Uv.button`
  width: 100%;
  max-width: 21%;
  min-height: 72px;
  min-width: 72px;
  max-height: 72px;
  height: 100%;
  margin: auto 0;
  overflow: hidden;
  justify-content: center;
  align-items: center;
  display: flex;
  background-size: cover;
  background-position: center center;
  background-color: rgb(232, 232, 232);
  position: relative;
  float: left;

  ${zv(3)}

  & svg {
    float: left;
  }
`;const Ow=Uv.div`
  width: 100%;
  max-width: 21%;
  min-width: 70px;
  min-height: 70px;
  max-height: 70px;
  height: 100%;
  margin: auto 0;
  overflow: hidden;
  display: flex;
  align-items: center;
  background-size: cover;
  background-position: center center;
  background-color: rgb(232, 232, 232);
  position: relative;
  cursor: pointer;
  float: left;

  ${zv(3)}

  & img {
    float: left;
  }
`,Lw=(Uv.div`
  background-color: #fff;
  border-bottom: 1px solid #e7e7e7;

  ${zv(4)}

  & svg {
    float: left;
  }
`,Uv.span`
  width: 100%;
  font-weight: 100;
`,Uv.span`
  color: #959595;
  text-transform: uppercase;
  font-weight: 100;
  white-space: nowrap;
`,Uv.button`
  justify-content: center;
  align-items: center;
  display: flex;
  padding: 0.8rem;

  &:hover {
    box-shadow: 0 0 0 1px rgb(0,0,0,0.5);

    ${zv(3)}
  }

  & svg {
    float: left;
  }
`,e=>{const t=[...e.split(".")];return t.pop(),t.join()});var Rw=function({data:n}){const r=(()=>{const e=document.createElement("div");return e.setAttribute("role","modaly"),e})(),{name:i,size:o}=n,{usePost:a,setPost:s}=Hb();return e.createElement(Ow,{style:{backgroundImage:"url(https://firebasestorage.googleapis.com/v0/b/ensollarada.appspot.com/o/products%2Fimages%2Fthumbs%2F"+Lw(i)+"_160x160.jpeg?alt=media)"},onClick:()=>(n=>t.render(e.createElement(Mw,n),document.body.appendChild(r)))({title:"Confirmar imagem",message:"Ei, você quer adicionar esta imagem para este produto?",button:["Cancelar","Adicionar"],buttonColor:"#19c556",action:function(){s((e=>{const{thumb:t=[]}=e;8===t.length?Bb("Maxímo de 8 imagens!"):Bb("Imagen adicionada!");const n={...e,thumb:[...t,{image_size:o,image_name:Lw(i),image_format:(r=i,[...r.split(".")].pop())}]};var r;return t.length<8?n:e}))}})},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"100%",width:"100%",alt:""}))};const jw=e=>{const t=[...e.split(".")];return t.pop(),t.join()};var Fw=function({data:n,useDeleteImg:r,setDeleteImg:i}){const o=(()=>{const e=document.createElement("div");return e.setAttribute("role","modaly"),e})(),{name:a,size:s}=n;return e.createElement(Ow,{style:{backgroundImage:"url(https://firebasestorage.googleapis.com/v0/b/ensollarada.appspot.com/o/products%2Fimages%2Fthumbs%2F"+jw(a)+"_160x160.jpeg?alt=media)"},onClick:()=>(n=>t.render(e.createElement(Mw,n),document.body.appendChild(o)))({title:"Atenção!",message:"Ei, você quer mesmo remover essa imagem?",button:["Cancelar","Sim, remover!"],buttonColor:"#ff2222",action:function(){i(a)}})},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"100%",width:"100%",alt:""}))},Uw=function({data:t,useDeleteImg:n,setDeleteImg:r,useChecked:i,setChecked:o}){return t.length?e.createElement(yw,null,e.createElement(ww,null,e.createElement(_w,null,e.createElement("input",{type:"checkbox",readOnly:!0,checked:i}),e.createElement("label",{onClick:()=>o((e=>!e))},i?"Selecionar":"Deletar")),e.createElement(Ew,null,t.length," imagens em total")),e.createElement(bw,null,i?t.map(((t,n)=>e.createElement(Rw,{key:n,data:t}))):t.map(((t,i)=>e.createElement(Fw,{key:i,data:t,useDeleteImg:n,setDeleteImg:r}))))):e.createElement(Tw,null,"Por enquanto, não há nada por aqui.")};const zw=async({signal:e})=>await(async()=>await om().ref("/products/images").listAll().then((e=>e.items)).then((e=>Promise.all(e.map((e=>e.getMetadata()))))))();var qw=function({useDeleteImg:t,setDeleteImg:n,useChecked:r,setChecked:i}){const{data:o,error:a}=Ty({promiseFn:zw});return a?a.message:o?e.createElement(Uw,{data:o,useDeleteImg:t,setDeleteImg:n,useChecked:r,setChecked:i}):e.createElement(Tw,null,e.createElement(uw,null),e.createElement("span",null,"Carregando..."))},Vw=function(){const[t,n]=(0,e.useState)(!0),[r,i]=(0,e.useState)("");return r?e.createElement(Sw,{useDeleteImg:r,setDeleteImg:i,useChecked:t,setChecked:n}):e.createElement(qw,{useDeleteImg:r,setDeleteImg:i,useChecked:t,setChecked:n})},Bw=function(){const{useStateNumber:t,setStateNumber:n}=Qb();return 1&t?e.createElement(Vw,{key:1}):e.createElement(Vw,{key:2})};const Ww=Uv.div`
  display: flex;

  @media (max-width: 720px) {
    margin-bottom: initial;
    box-shadow: rgba(0, 0, 0, 0.25) 0 0 16px;
  }

  & ul {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr;
    margin: 0 auto;
  }

  & > * {
    width: 100%;
  }
`,Gw=Uv.li`
  position: relative;

  & input:checked ~ label::after {
    background-color: #cc0000;
    width: 100%;
    border-top-left-radius: 3px;
    border-top-right-radius: 3px;
    left: 0;
    right: 0;
  }

  & input:not(:checked) ~ label:hover::after {
    background-color: rgba(170, 170, 170, 0.45);
    width: 60%;
    border-top-left-radius: 3px;
    border-top-right-radius: 3px;
    left: 20%;
    right: 20%;
  }

  & label {
    color: hsl(0, 0%, 60%);
    max-width: 150px;
    padding: 1.6rem;
    float: left;
    width: 100%;
    cursor: pointer;
    text-align: center;
    transition: color .3s;
    font-weight: 500;
    font-family: var(--font-poppins);
    font-size: 1.6rem;
    
    &:hover {
      color: #404040;
    }

    &::after {
      content: "";
      display: block;
      width: 20%;
      height: 3px;
      left: 40%;
      right: 40%;
      transition: 0.3s;
      background-color: transparent;
      position: absolute;
      bottom: 0;
    }
  }
`,Hw=Uv.div`
  width: 200%;
  position: relative;
  transition: .3s;
  display: flex;
  height: 100%;
  left: ${({useScreen:e})=>1===e?"0":"-100%"};
  max-height: 86%;

  & > div {

    &:nth-child(1) {
      opacity: ${({useScreen:e})=>1===e?"1":"0"};
    }

    &:nth-child(2) {
      opacity: ${({useScreen:e})=>1===e?"0":"1"};
    }
  }
`,Qw=Uv.div`
  width: 100%;
  padding: 2.6rem 2rem;
  transition: opacity 1.5s ease 0s;
  overflow-x: hidden;
  overflow-y: overlay;

  @media (min-width: 1040px) {
    padding: 4.2rem 6.6rem;
  }

  & > small {
    color: #aaa;
    align-items: center;
    justify-content: center;
    display: flex;
    height: 100%;
  }
`,{jQuery:Kw}=window;var Yw=function({usePost:t,setPost:n,useModal:r,setModal:i,useModalThumb:o,setModalThumb:a}){(0,e.useEffect)((()=>{document.querySelector('[role="modal"]')&&(Kw('[role="modal"]').fadeIn(200),i(!1))}),[]);const[s,u]=(0,e.useState)(1),[c,l]=(0,e.useState)(0);return e.createElement(Cw,null,e.createElement(Gb,{usePost:t,setPost:n,useStateNumber:c,setStateNumber:l},e.createElement(Dw,{onClick:()=>a(!0)}),e.createElement(xw,null,e.createElement(Ww,null,e.createElement("ul",null,e.createElement(Gw,null,e.createElement("input",{type:"radio",readOnly:!0,checked:1===s}),e.createElement("label",{onClick:()=>1!==s&&u(1)},"Subir imagem")),e.createElement(Gw,null,e.createElement("input",{type:"radio",readOnly:!0,checked:2===s}),e.createElement("label",{onClick:()=>2!==s&&u(2)},"Imagem existente")))),e.createElement(Hw,{useScreen:s},e.createElement(Qw,null,e.createElement(vw,null)),e.createElement(Qw,null,e.createElement(Bw,null))))))};const $w=Uv.div`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,Jw=Uv.div`
  display: table;

  & > *:not(:nth-last-child(1)) {
    margin-bottom: 1.6rem;
  }

  & > *:not(:nth-child(4)):not(:nth-child(8)) {
    margin-right: 1.6rem;
  }
`,Zw=Uv.button`
  width: 100%;
  max-width: 21%;
  min-height: 72px;
  min-width: 72px;
  max-height: 72px;
  height: 100%;
  margin: auto 0;
  overflow: hidden;
  justify-content: center;
  align-items: center;
  display: flex;
  background-size: cover;
  background-position: center center;
  background-color: rgb(232, 232, 232);
  position: relative;
  float: left;

  ${zv(3)}

  & svg {
    float: left;
  }
`,Xw=Uv.div`
  width: 100%;
  max-width: 21%;
  min-width: 72px;
  min-height: 72px;
  max-height: 72px;
  height: 100%;
  margin: auto 0;
  overflow: hidden;
  display: flex;
  align-items: center;
  background-size: cover;
  background-position: center center;
  background-color: rgb(232, 232, 232);
  position: relative;
  float: left;

  ${zv(3)}

  & img {
    float: left;
  }
`,e_=Uv.button`
  justify-content: center;
  align-items: center;
  display: flex;
  padding: 0.8rem;
  padding: 0.8rem;
  position: absolute;
  top: 0;
  right: 0;

  & svg {
    float: left;
    z-index: 1;
  }

  &:after {
    content: "";
    width: 62px;
    position: absolute;
    height: 62px;
    z-index: 0;
    background: -moz-radial-gradient(center, ellipse cover,  rgba(0,0,0,0.25) 0%, rgba(0,0,0,0.25) 22%, rgba(0,0,0,0) 71%, rgba(0,0,0,0) 100%); /* FF3.6-15 */
    background: -webkit-radial-gradient(center, ellipse cover,  rgba(0,0,0,0.25) 0%,rgba(0,0,0,0.25) 22%,rgba(0,0,0,0) 71%,rgba(0,0,0,0) 100%); /* Chrome10-25,Safari5.1-6 */
    background: radial-gradient(ellipse at center,  rgba(0,0,0,0.25) 0%,rgba(0,0,0,0.25) 22%,rgba(0,0,0,0) 71%,rgba(0,0,0,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#40000000', endColorstr='#00000000',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
    top: -26px;
    right: -20px;
  }
`;var t_=function({data:n,i:r,usePost:i,setPost:o}){const a=(()=>{const e=document.createElement("div");return e.setAttribute("role","modaly"),e})(),{image_name:s,image_format:u,image_size:c}=n;return e.createElement(Xw,{style:{backgroundImage:"url(https://firebasestorage.googleapis.com/v0/b/ensollarada.appspot.com/o/products%2Fimages%2Fthumbs%2F"+s+"_160x160.jpeg?alt=media)"}},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"100%",width:"100%",alt:""}),e.createElement(e_,{type:"button",onClick:()=>(n=>t.render(e.createElement(Mw,n),document.body.appendChild(a)))({title:"Atenção!",message:"Ei, você quer mesmo remover essa imagem?",button:["Cancelar","Sim!"],buttonColor:"#ff2222",action:function(){Bb("Imagem removida!"),o((e=>{const{thumb:t=[]}=e;return{...e,thumb:t.filter(((e,t)=>r!==t))}}))}})},e.createElement(aw,{width:"12",height:"12",fill:"#ffffff"})))};const{jQuery:n_}=window;var r_=function({usePost:n,setPost:r}){const[i,o]=(0,e.useState)(!1),[a,s]=(0,e.useState)(!1),u=(()=>{const e=document.createElement("div");return e.setAttribute("role","modal"),e})(),{thumb:c=[]}=n;return(0,e.useEffect)((()=>{i?t.render(e.createElement(Yw,{usePost:n,setPost:r,useModal:i,setModal:o,useModalThumb:a,setModalThumb:s}),document.body.appendChild(u)):a&&(n_('[role="modal"]').fadeOut(300,(function(){this.remove()})),s(!1))}),[i,a]),e.createElement($w,null,e.createElement(Jw,null,c.length?c.map(((t,i)=>e.createElement(t_,{key:i,data:t,i:i,usePost:n,setPost:r}))):null,8!==c.length?e.createElement(Zw,{type:"button",onClick:()=>o(!0)},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 341.4 341.4",width:"32",height:"32",fill:"#999"},e.createElement("polygon",{points:"192,149.4 192,0 149.4,0 149.4,149.4 0,149.4 0,192 149.4,192 149.4,341.4 192,341.4 192,192 341.4,192 341.4,149.4"}))):null))};const i_=Uv.div`
  width: 100%;
  display: flex;
  flex-direction: column;
  padding: 3rem;
  height: 100%;

  @media (min-width: 1040px) {
    flex-direction: column;
    overflow-x: hidden;
    overflow-y: overlay;
  }

  @media (max-width: 1039px) {
    padding: initial;
  }
`,o_=Uv.div`
  justify-content: space-between;
  display: flex;
  min-height: 54px;
  max-height: 54px;
  height: 100%;

  @media (max-width: 1039px) {
    padding: 1.6rem;
    box-shadow: rgba(0, 0, 0, 0.25) 0 0 16px;
    position: relative;
    z-index: 2;
  }
`,a_=Uv.div`
  display: flex;
  align-items: center;
`,s_=Uv.span`
  font-size: 2rem;
  font-weight: 700;

  @media (max-width: 720px) {
    color: var( --color-aside-border);
    font-family: var(--font-lato);
    font-style: italic;
  }
`,u_=Uv.span`
  display: none;
`,c_=Uv.div`
  display: flex;
  flex-direction: row-reverse;
  height: 28px;

  & button {
    padding: 0.6rem 1.6rem;
    font-size: 1.4rem;
    font-weight: bold;

    ${zv(3)}
  }

  & > *:not(:last-child) {
    margin-left: 1rem;
  }
`,l_=Uv.button`
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);
  color: #222;
`,h_=Uv.button`
  color: #fff;
  background: -webkit-gradient(linear,left top,left bottom,from(#0db722),to(#0e9c20));
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);
`,f_=Uv.div`
  background: #fff;
  display: flex;
  margin-top: 1.6rem;
  padding: 1.6rem;

  @media (min-width: 1040px) {
    width: 100%;
    max-width: 480px;
    margin: auto;

    ${zv(3)}
  }

  @media (max-width: 1039px) {
    flex-direction: column;
    border-radius: initial;
    padding: 3rem 1.6rem 1.6rem;
    overflow-x: hidden;
    overflow-y: overlay;
    margin: initial;
    height: 100%;
  }
`,d_=Uv.div`
  display: inherit;
  flex-direction: column;

  @media (min-width: 1040px) {
    width: 100%;
  }

  & > div:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,p_=Uv.div`
  display: flex;
  justify-content: space-between;
  position: relative;

  & * {
    transition: all 0.2s ease-in-out;
  }
`,m_=Uv.input`
  color: #797979;
  background: transparent;
  width: 100%;
  font-size: 1.6rem;
  box-shadow: inset 0 0 0 1px #dadce0;
  position: relative;
  z-index: 1;

  padding: 1rem;

  ${zv(3)}

  &:focus ~ label, ${({status:e})=>e&&"& ~ label"} {
    color: #b7b7b7;
    background: #fff;
    padding: 0 0.8rem;
    z-index: 1;
    top: -1rem;
  }

  &:focus ~ label {
    color: #1273EB;
  }

  &:focus {
    color: #000000;
    box-shadow: inset 0 0 0 1px #1273EB;
  }
`,g_=Uv.label`
  font-weight: 300;
  position: absolute;
  font-size: 1.4rem;
  left: 1.3rem;
  top: 1.1rem;
`,v_=Uv.textarea`
  padding: 1rem;
  min-height: 100px;
  resize: none;
  float: left;
  color: #797979;
  background: transparent;
  width: 100%;
  font-size: 1.6rem;
  box-shadow: inset 0 0 0 1px #dadce0;
  position: relative;
  z-index: 1;

  ${zv(3)}

  &:focus {
    color: #000000;
    box-shadow: inset 0 0 0 1px #1273EB, 0 0 0 4px rgba(18, 115, 235, 0.15);
  }
`;var y_=function({usePost:t,setPost:n}){const{title:r=""}=t;return e.createElement(p_,null,e.createElement(m_,{type:"text",onInput:e=>{return t=e.target.value,n((e=>({...e,title:t})));var t},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:r,status:r}),e.createElement(g_,null,"Título"))};const{jQuery:b_}=window;var w_=function({usePost:t,setPost:n}){const r=(0,e.useRef)(null),{price:i=0}=t;return(0,e.useEffect)((()=>{const{current:e}=r;e.value=i?i.toFixed(2):"",b_(e).mask("#.##0,00",{reverse:!0})}),[r]),e.createElement(p_,null,e.createElement(m_,{type:"text",placeholder:"0,00",ref:r,onInput:e=>{return t=e.target.value,n((e=>({...e,price:isNaN(Number(t))?Number(t.replace(/\./g,"").replace(/\,/g,".")):Number(t)})));var t},status:!0,autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off"}),e.createElement(g_,null,"R$"))},__=function({usePost:t,setPost:n}){const{description:r}=t;return e.createElement(p_,{hasText:!0,textarea:!0},e.createElement(v_,{maxLength:"600",placeholder:"Descrição",onInput:e=>{return t=e.target.value,n((e=>({...e,description:t.replace(/\n/gi,"\n")})));var t},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:r}))};const E_=Uv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;

  ${zv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,T_=Uv.span`
  display: block;
  text-transform: uppercase;
  font-weight: 900;
`,I_=Uv.div`
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,S_=Uv.input`
  & ~ label:before {
    content: '';
    background: ${({hexColor:e})=>Vb.product_color[e]?Vb.product_color[e]:"#f4f4f4"};
    box-shadow: inset 0 0 0 1px rgb(0,0,0,0.2);
    display: inline-block;
    width: 26px;
    height: 26px;
    position: relative;
    margin-right: 1em;
    vertical-align: top;
    cursor: pointer;
    text-align: center;
    -webkit-transition: all 250ms ease;
    transition: all 250ms ease;

    ${zv("50%")}
  }

  &:checked ~ label:before {
    box-shadow: 0 0 0 2px #fff,0 0 0 3px #3197ee;
  }

  &:focus ~ label:before {
    outline: none;
    border-color: #3197EE;
  }

  &:disabled ~ label:before {
    box-shadow: inset 0 0 0 4px #f4f4f4;
    border-color: #b4b4b4;
    background: #b4b4b4;
  }

  & ~ label:empty:before {
    margin-right: 0;
  }
`,C_=Uv.label`
  display: flex;

  &:before {
    float: left;
  }
`;var x_=function({usePost:t,setPost:n}){const{colors:r=[]}=t,i=e=>{if(r.length<2){const i={...t};i.colors=[...r],1===r.length&&i.colors.includes(e)?delete i.colors:i.colors.includes(e)?i.colors.splice(i.colors.indexOf(e),1):i.colors.push(e),n(i)}else if(r.includes(e)){const r={...t};r.colors.splice(r.colors.indexOf(e),1),n(r)}else Bb("Tenha no máximo de 2 colores!")};return e.createElement(p_,null,e.createElement(E_,null,e.createElement(T_,null,"Cores do produto"),e.createElement(I_,null,e.createElement("div",null,e.createElement(S_,{type:"checkbox",hexColor:"red",readOnly:!0,checked:r.includes("red")}),e.createElement(C_,{onClick:()=>i("red")})),e.createElement("div",null,e.createElement(S_,{type:"checkbox",hexColor:"green",readOnly:!0,checked:r.includes("green")}),e.createElement(C_,{onClick:()=>i("green")})),e.createElement("div",null,e.createElement(S_,{type:"checkbox",hexColor:"yellow",readOnly:!0,checked:r.includes("yellow")}),e.createElement(C_,{onClick:()=>i("yellow")})),e.createElement("div",null,e.createElement(S_,{type:"checkbox",hexColor:"black",readOnly:!0,checked:r.includes("black")}),e.createElement(C_,{onClick:()=>i("black")})),e.createElement("div",null,e.createElement(S_,{type:"checkbox",hexColor:"orange",readOnly:!0,checked:r.includes("orange")}),e.createElement(C_,{onClick:()=>i("orange")})),e.createElement("div",null,e.createElement(S_,{type:"checkbox",hexColor:"pink",readOnly:!0,checked:r.includes("pink")}),e.createElement(C_,{onClick:()=>i("pink")})),e.createElement("div",null,e.createElement(S_,{type:"checkbox",hexColor:"purple",readOnly:!0,checked:r.includes("purple")}),e.createElement(C_,{onClick:()=>i("purple")})),e.createElement("div",null,e.createElement(S_,{type:"checkbox",hexColor:"blue",readOnly:!0,checked:r.includes("blue")}),e.createElement(C_,{onClick:()=>i("blue")})),e.createElement("div",null,e.createElement(S_,{type:"checkbox",hexColor:"cyan",readOnly:!0,checked:r.includes("cyan")}),e.createElement(C_,{onClick:()=>i("cyan")})))))};const k_=Uv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;

  ${zv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,N_=Uv.span`
  display: block;
  text-transform: uppercase;
  font-weight: 900;
`,A_=Uv.div`
  flex-direction: column;
  display: flex;
`,D_=Uv.div`
  align-items: center;
  display: flex;

  &:not(:last-child) {
    margin-bottom: 1rem;
  }

  & > *:not(:last-child) {
    margin-right: 1.6rem;
  }
`,P_=Uv.input`
  color: #797979;
  width: 100%;
  max-width: 34%;
  min-width: 60px;
  font-size: 1.6rem;
  box-shadow: inset 0 0 0 1px #dadce0;
  position: relative;
  padding: 0.6rem 1rem;
  z-index: 1;

  ${zv(3)}
`,M_=Uv.label`
  text-transform: uppercase;
  min-width: 26px;
`;var O_=function({data:t,usePost:n,setPost:r}){const{size_number:i={}}=n,o=i[t]?i[t]:"";return e.createElement(D_,null,e.createElement(M_,null,t),e.createElement(P_,{type:"text",placeholder:"0",onInput:e=>{return i=e.target.value,void r((e=>{const{size_number:r={}}=e;return{...n,size_number:{...r,[t]:Number(i)}}}));var i},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:o}))},L_=function({usePost:t,setPost:n}){return e.createElement(k_,null,e.createElement(N_,null,"Produtos em estoque"),e.createElement(A_,null,Vb.size_number.map(((r,i)=>e.createElement(O_,{key:i,data:r,usePost:t,setPost:n})))))};const R_=Uv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;

  ${zv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,j_=Uv.span`
  display: block;
  text-transform: uppercase;
  font-weight: 900;
`,F_=Uv.div`
  flex-direction: column;
  display: flex;
`,U_=Uv.div`
  align-items: center;
  display: flex;

  &:not(:last-child) {
    margin-bottom: 1rem;
  }

  & > *:not(:last-child) {
    margin-right: 1.6rem;
  }
`,z_=Uv.input`
  color: #797979;
  width: 100%;
  max-width: 34%;
  min-width: 60px;
  font-size: 1.6rem;
  box-shadow: inset 0 0 0 1px #dadce0;
  position: relative;
  padding: 0.6rem 1rem;
  z-index: 1;

  ${zv(3)}
`,q_=Uv.label`
  text-transform: uppercase;
  min-width: 26px;
`;var V_=function({data:t,usePost:n,setPost:r}){const{size_letter:i={}}=n,o=i[t]?i[t]:"";return e.createElement(U_,null,e.createElement(q_,null,t),e.createElement(z_,{type:"text",placeholder:"0",onInput:e=>{return o=e.target.value,void(isNaN(Number(o))||o.replace(/[^0-9]/g,"")===String(i[t])||i[t]===Number(o)||r((e=>{const{size_letter:r={}}=e;return{...n,size_letter:{...r,[t]:Number(o)}}})));var o},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:o}))},B_=function({usePost:t,setPost:n}){return e.createElement(R_,null,e.createElement(j_,null,"Produtos em estoque"),e.createElement(F_,null,Vb.size_letter.map(((r,i)=>e.createElement(V_,{key:i,data:r,usePost:t,setPost:n})))))};const W_=Uv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;
  flex-direction: column;
  display: flex;

  ${zv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,G_=Uv.span`
  text-transform: uppercase;
  font-weight: 900;
`,H_=Uv.div`
  flex-direction: column;
  display: flex;
`,Q_=Uv.div`
  width: 100%;
  align-items: center;
  display: flex;

  &:not(:last-child) {
    margin-bottom: 1rem;
  }

  & input {
    ${"\n  & ~ label:before {\n    content: '';\n    background: #f4f4f4;\n    border-radius: 100%;\n    border: 1px solid #b4b4b4;\n    display: inline-block;\n    width: 1.4em;\n    height: 1.4em;\n    position: relative;\n    margin-right: 1em;\n    vertical-align: top;\n    cursor: pointer;\n    text-align: center;\n    -webkit-transition: all 250ms ease;\n    transition: all 250ms ease;\n  }\n\n  &:checked ~ label:before {\n    background-color: #3197EE;\n    box-shadow: inset 0 0 0 3px #f4f4f4;\n  }\n\n  &:focus ~ label:before {\n    outline: none;\n    border-color: #3197EE;\n  }\n\n  &:disabled ~ label:before {\n    box-shadow: inset 0 0 0 4px #f4f4f4;\n    border-color: #b4b4b4;\n    background: #b4b4b4;\n  }\n\n  & ~ label:empty:before {\n    margin-right: 0;\n  }\n"}
  }

  & label {
    cursor: pointer;
  }
`;var K_=function({data:t,usePost:n,setPost:r}){const{cloth_material:i=""}=n,[o,a]=t;return e.createElement(Q_,null,e.createElement("input",{type:"checkbox",readOnly:!0,checked:o===i}),e.createElement("label",{onClick:()=>r(i===o?e=>{const t={...e};return delete t.cloth_material,t}:e=>({...e,cloth_material:o}))},a))},Y_=function({usePost:t,setPost:n}){return e.createElement(W_,null,e.createElement(G_,null,"Tecido do produto"),e.createElement(H_,null,Object.entries(Vb.cloth_names).map(((r,i)=>e.createElement(K_,{key:i,data:r,usePost:t,setPost:n})))))};const $_=Uv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;

  ${zv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,J_=Uv.span`
  display: block;
  text-transform: uppercase;
  font-weight: 900;
`,Z_=Uv.div`
  flex-direction: column;
  display: flex;
`,X_=Uv.select`
  padding: 1rem;
  box-shadow: 0 0 0 1px #ccc;
  font-family: var(--font-poppins);
  
  ${zv(3)}
`,eE=Uv.option`
  font-size: 2rem;
  font-family: var(--font-poppins);
`;var tE=function({usePost:t,setPost:n}){const{size_ring:r=""}=t;return e.createElement($_,null,e.createElement(J_,null,"Numeração de produto"),e.createElement(Z_,null,e.createElement(X_,{onChange:e=>{return t=e.target.value,n((e=>({...e,size_ring:t})));var t},value:r},Vb.size_ring.map(((t,n)=>e.createElement(eE,{key:n},t))))))};const nE=Uv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;

  ${zv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,rE=Uv.span`
  display: block;
  text-transform: uppercase;
  font-weight: 900;
`,iE=Uv.div`
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1.6rem;
  }
`,oE=Uv.div`
  justify-content: space-between;
  align-items: center;
  position: relative;
  display: flex;

  & * {
    transition: all 0.2s ease-in-out;
  }
`,aE=Uv.input`
  color: #797979;
  background: transparent;
  width: 100%;
  font-size: 1.6rem;
  box-shadow: inset 0 0 0 1px #a6a6a7;
  position: relative;
  z-index: 1;

  padding: 1rem;

  ${zv(3)}

  &:focus ~ label, ${({status:e})=>e&&"& ~ label"} {
    color: #a6a6a7;
    background: #efefef;
    padding: 0 0.8rem;
    z-index: 1;
    top: -1rem;
  }

  &:focus ~ label {
    color: #1273EB;
  }

  &:focus {
    color: #000000;
    box-shadow: inset 0 0 0 1px #1273EB;
  }
`,sE=Uv.label`
  font-weight: 300;
  position: absolute;
  font-size: 1.4rem;
  left: 1.3rem;
  top: 1.1rem;
`,uE=Uv.span`
  /* background: transparent; */
`;var cE=function({usePost:t,setPost:n}){const{size_length:r=0}=t;return e.createElement(nE,null,e.createElement(rE,null,"Comprimento do produto"),e.createElement(iE,null,e.createElement(oE,null,e.createElement(aE,{type:"text",placeholder:"0",onInput:e=>{return t=e.target.value,void(isNaN(Number(t))||t.replace(/[^0-9]/g,"")===String(r)||r===Number(t)||n((e=>({...e,size_length:Number(t)}))));var t},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:r||"",status:!0}),e.createElement(sE,null,"Centímetros")),e.createElement(oE,null,e.createElement(uE,null,r/100," M"))))};const lE=Uv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;

  ${zv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,hE=Uv.span`
  display: block;
  text-transform: uppercase;
  font-weight: 900;
`,fE=Uv.div`
  flex-direction: column;
  display: flex;
`,dE=Uv.div`
  ${Vv}

  &:not(:last-child) {
    margin-bottom: 1rem;
  }
`;var pE=function({usePost:t,setPost:n}){const{sort_child:r=!1}=t;return e.createElement(lE,null,e.createElement(hE,null,"Produto infantil?"),e.createElement(fE,null,e.createElement(dE,null,e.createElement("input",{type:"checkbox",readOnly:!0,checked:r}),e.createElement("label",{onClick:()=>n((e=>{const{sort_child:t=!1}=e;return{...e,sort_child:!t}}))},r?"Infantil":"Adulto"))))};const mE=Uv.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: auto;
  width: 56px;
  height: 100%;
  position: relative;
  z-index: 1;

  & > div {
    width: 12px;
    height: 12px;
    background-color: #c61e10;
    border-radius: 100%;
    display: inline-block;
    animation: treo-bouncedelay 1s infinite ease-in-out both;
  }
`,gE=Uv.div`
  animation-delay: -0.32s !IMPORTANT;
`,vE=Uv.div`
  animation-delay: -0.16s !IMPORTANT;
`,yE=Uv.div`
  clear: both;
`,{jQuery:bE}=window;var wE=function(){return(0,e.useEffect)((()=>{document.querySelector('[role="over"]')&&bE('[role="over"]').fadeIn(200)}),[]),e.createElement(mE,null,e.createElement(gE,null),e.createElement(vE,null),e.createElement(yE,null))};const{jQuery:_E}=window;var EE=function({data:n,id:r}){const i=(()=>{const e=document.createElement("div");return e.setAttribute("role","over"),e})(),[o,a]=(0,e.useState)(n),s=Zm(),{subcategory:u}=o,c=()=>{Vb.isValid[u](o)?(document.querySelector('[role="over"]')||t.render(e.createElement(wE,null),document.body.appendChild(i)),sm().httpsCallable("set")({val:`public/feed/${r}`,data:o}).then((function({data:e}){const{status:t}=e;t?(Bb("Produto atualizado!"),s.push("/products")):Bb("Erro desconhecido. Tente novamente!"),document.querySelector('[role="over"]')&&_E('[role="over"]').fadeOut(300,(function(){this.remove()}))})).catch((function(e){Bb("Erro ao chamar API!"),document.querySelector('[role="over"]')&&_E('[role="over"]').fadeOut(300,(function(){this.remove()}))}))):Bb("Há algo errado!")};return e.createElement(i_,null,e.createElement(o_,null,e.createElement(a_,null,e.createElement(s_,null,Vb.subcategory_names[u]),e.createElement(u_,null,"Você está publicando para ",Vb.subcategory_names[u])),e.createElement(c_,null,e.createElement(h_,{type:"button",onClick:()=>c()},"Atualizar"),e.createElement(l_,{type:"button",onClick:()=>s.push("/products")},"Fechar"))),e.createElement(f_,null,e.createElement(d_,null,e.createElement(r_,{usePost:o,setPost:a}),e.createElement(y_,{usePost:o,setPost:a}),e.createElement(w_,{usePost:o,setPost:a}),e.createElement(__,{usePost:o,setPost:a}),Vb.p[1].includes(u)?e.createElement(L_,{usePost:o,setPost:a}):null,Vb.p[2].includes(u)?e.createElement(B_,{usePost:o,setPost:a}):null,Vb.p[3].includes(u)?e.createElement(Y_,{usePost:o,setPost:a}):null,Vb.p[4].includes(u)?e.createElement(x_,{usePost:o,setPost:a}):null,Vb.p[5].includes(u)?e.createElement(tE,{usePost:o,setPost:a}):null,Vb.p[6].includes(u)?e.createElement(cE,{usePost:o,setPost:a}):null,Vb.p[7].includes(u)?e.createElement(pE,{usePost:o,setPost:a}):null)))},TE=function(){return e.createElement(i_,null,e.createElement(o_,null,e.createElement(a_,null,e.createElement(s_,null,e.createElement(bb.ZP,{width:70,height:19})),e.createElement(u_,null,e.createElement(bb.ZP,{width:60,height:19}))),e.createElement(c_,null,e.createElement(Pb,{floatChild:"left"},e.createElement(bb.yB,{color:"#0db722",highlightColor:"#0e9c20"},e.createElement(bb.ZP,{width:76,height:28}))),e.createElement(Pb,{floatChild:"left"},e.createElement(bb.ZP,{width:64,height:28})))),e.createElement(f_,null,e.createElement(d_,null,e.createElement(Pb,{displayFlex:!0,spaceRightChild:"1.6rem"},e.createElement(bb.ZP,{width:72,height:72}),e.createElement(bb.ZP,{width:72,height:72}),e.createElement(bb.ZP,{width:72,height:72})),e.createElement(Pb,null,e.createElement(bb.ZP,{width:"100%",height:34})),e.createElement(Pb,null,e.createElement(bb.ZP,{width:"100%",height:34})),e.createElement(Pb,null,e.createElement(bb.ZP,{width:"100%",height:34})),e.createElement(Pb,null,e.createElement(bb.ZP,{width:"100%",height:100})))))};const IE=async({id:e},{signal:t})=>await sm().httpsCallable("getItemConnection")("public/feed/"+e).then((e=>e.data));var SE=function(){const{id:t}=(i=Jm(Wm).match)?i.params:{},{data:n,error:r}=Ty({promiseFn:IE,id:t});var i;return r?r.message:n?e.createElement(EE,{data:n,id:t}):e.createElement(TE,null)};const CE=Uv.div`
    display: flex;

    ${({fixed:e=!1})=>e&&"\n        background-color: #e4e4e4;\n        flex-direction: column;\n        align-items: center;\n    "};

    @media (max-width: 720px) {
        flex-direction: column;
        padding: 1.2rem 3rem;
        background: initial;
    }

    &:hover {
        background-color: #e4e4e4;
    }

    & > div:not(:last-child) {
        @media screen and (max-width: 720px) {
            margin-bottom: 1.2rem;
        }
    }

    & > div:first-child {
        max-width: 250px;
    }

    & > div:last-child {
        max-width: 440px;
    }

    & > div {
        width: 100%;
        padding: 10px;

        @media (max-width: 720px) {
            max-width: initial;
            padding: initial;
        }
    }
`,xE=Uv.div`
  @media screen and (max-width: 720px) {
    font-weight: 700;
    color: rgba(0, 0, 0, 0.87);
  }
`,kE=Uv.div`
  ${Vv}

  &:not(:last-child) {
    margin-bottom: 1rem;
  }
`,NE=Uv.div`
    @media screen and (max-width: 720px) {
        font-weight: 700;
        font-style: italic;
        color: rgba(0, 0, 0, 0.65);
    }

    & > *:not(:last-child) {
        margin-right: 10px;
    }

    & button {
        font-weight: 500;

        & {
            color: #00838f;
            font-family: var(--font-lato);
        }

        @media screen and (max-width: 720px) {
            font-weight: 700;
            font-style: italic;
        }

        &:hover {
            text-decoration: underline;
        }
    }
`,AE=Uv.div`
  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,DE=Uv.div`
  & > div:nth-child(1) {
    display: ${({status:e})=>e?"none":"block"}
  }

  & > div:nth-child(2) {
    display: ${({status:e})=>e?"block":"none"}
  }
`,PE=Uv.div`
  display: table;

  & input {
    width: 100%;
    text-indent: 1rem;
    border: 1px solid rgba(0, 0, 0, 0.15);
    height: 30px;

    @media screen and (max-width: 720px) {
      font-weight: 500;
      font-size: 1.4rem;
      line-height: 30px;
    }

    ${zv(3)}
  }
`,ME=(Uv.div`
  display: table;
  margin-top: 1rem;

  & input {
    width: 100%;
    text-indent: 1rem;
    border: 1px solid rgba(0, 0, 0, 0.15);
    height: 30px;

    ${zv(3)}

    @media (max-width: 720px) {
      font-weight: 500;
      font-size: 1.4rem;
      line-height: 30px;
    }

    &:nth-child(1), &:nth-child(3), &:nth-child(5) {
      max-width: 72%;
    }

    &:nth-child(2), &:nth-child(4), &:nth-child(6) {
      margin-left: 1rem;
      max-width: calc(28% - 1rem);
    }

    &:not(:last-child):not(:nth-child(5)) {
      margin-bottom: 1rem;
    }
  }
`,Uv.div`
  margin-top: 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
`),OE=`\n  border: 1px solid rgba(0,0,0,0.1);\n  cursor: pointer;\n  height: 26px;\n  padding: 0 1.6rem;\n  line-height: 26px;\n  box-sizing: content-box;\n  vertical-align: middle;\n  font-size: 1.4rem;\n  font-weight: bold;\n  font-family: var(--font-poppins);\n\n  ${zv(2)}\n`,LE=Uv.button`
  color: #fff;
  background: -webkit-gradient(linear,left top,left bottom,from(#0db722),to(#0e9c20));

  ${OE}
`,RE=Uv.button`
  color: #222;
  background: -webkit-gradient(linear,left top,left bottom,from(#ffffff),to(#ececec));
  border: 1px solid rgba(0,0,0,0.2) !IMPORTANT;

  ${OE}
`;Uv.button`
  color: #00838f;
  font-family: var(--font-lato);
  font-weight: 500;

  @media (max-width: 720px) {
    font-weight: 700;
    font-style: italic;
  }

  &:hover {
    text-decoration: underline;
  }
`;var jE=function({useScreenBasic:t,setScreenBasic:n}){const{useConn:r,setConn:i}=pg(),{business:{info:{title:o}}}=r,[a,s]=(0,e.useState)(o);return e.createElement(CE,null,e.createElement(xE,null,e.createElement("span",null,"Título")),e.createElement(DE,{status:0===t},e.createElement(NE,null,e.createElement("span",null,o),e.createElement("button",{type:"button",onClick:()=>n(0)},"Editar")),e.createElement(AE,null,e.createElement(PE,null,e.createElement("input",{type:"text",onInput:e=>{return t=e.target.value,s(t);var t},autoCapitalize:"off",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:a})),e.createElement(ME,null,e.createElement(LE,{type:"button",onClick:()=>(async()=>{await sm().httpsCallable("set")({val:"public/business/info/title",data:a}).then((function(e){const{status:t}=e.data;t?(Bb("Configurações salvas"),n(-1),i((e=>{const t={...e};return t.business.info.title=a,t}))):Bb("Falhou, tente novamente!")})).catch((function(e){console.error(e)}))})()},"Salvar alterações"),e.createElement(RE,{type:"button",onClick:()=>n(-1)},"Cancelar")))))};const{jQuery:FE}=window;var UE=function({useScreenBasic:t,setScreenBasic:n}){const r=(0,e.useRef)(null),{useConn:i,setConn:o}=pg(),{business:{info:{minvalue:a}}}=i,[s,u]=(0,e.useState)(a?a.toFixed(2):"");return(0,e.useEffect)((()=>{const{current:e}=r;e.value=s}),[s]),(0,e.useEffect)((()=>{const{current:e}=r;FE(e).mask("#.##0,00",{reverse:!0})}),[r]),e.createElement(CE,null,e.createElement(xE,null,e.createElement("span",null,"Preço minimo")),e.createElement(DE,{status:1===t},e.createElement(NE,null,e.createElement("span",null,Number(a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),e.createElement("button",{type:"button",onClick:()=>n(1)},"Editar")),e.createElement(AE,null,e.createElement(PE,null,e.createElement("input",{type:"text",placeholder:"0,00",ref:r,onInput:e=>{return t=e.target.value,u(t);var t},autoCapitalize:"off",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off"})),e.createElement(ME,null,e.createElement(LE,{type:"button",onClick:()=>(async()=>{await sm().httpsCallable("set")({val:"public/business/info/minvalue",data:isNaN(Number(s))?Number(s.replace(/\./g,"").replace(/\,/g,".")):Number(s)}).then((function(e){const{status:t}=e.data;t?(Bb("Configurações salvas"),n(-1),o((e=>{const t={...e};return t.business.info.minvalue=isNaN(Number(s))?Number(s.replace(/\./g,"").replace(/\,/g,".")):Number(s),t}))):Bb("Falhou, tente novamente!")})).catch((function(e){console.error(e)}))})()},"Salvar alterações"),e.createElement(RE,{type:"button",onClick:()=>n(-1)},"Cancelar")))))},zE=function({useScreenBasic:t,setScreenBasic:n}){const{useConn:r,setConn:i}=pg(),{business:{info:{paymentName:o}}}=r,[a,s]=(0,e.useState)(o);return e.createElement(CE,null,e.createElement(xE,null,e.createElement("span",null,"Descrição de compra")),e.createElement(DE,{status:2===t},e.createElement(NE,null,e.createElement("span",null,o),e.createElement("button",{type:"button",onClick:()=>n(2)},"Editar")),e.createElement(AE,null,e.createElement(PE,null,e.createElement("input",{type:"text",onInput:e=>{return t=e.target.value,s(t);var t},autoCapitalize:"off",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:a})),e.createElement(ME,null,e.createElement(LE,{type:"button",onClick:()=>(async()=>{await sm().httpsCallable("set")({val:"public/business/info/paymentName",data:a}).then((function(e){const{status:t}=e.data;t?(Bb("Configurações salvas"),n(-1),i((e=>{const t={...e};return t.business.info.paymentName=a,t}))):Bb("Falhou, tente novamente!")})).catch((function(e){console.error(e)}))})()},"Salvar alterações"),e.createElement(RE,{type:"button",onClick:()=>n(-1)},"Cancelar")))))},qE=function(){const{useConn:t,setConn:n}=pg(),{business:{offCupom:r}}=t,i=async()=>{await sm().httpsCallable("set")({val:"public/business/offCupom",data:!r}).then((function(e){const{status:t}=e.data;t?(Bb("Configurações salvas"),n((e=>{const t={...e};return t.business.offCupom=!r,t}))):Bb("Falhou, tente novamente!")})).catch((function(e){console.error(e)}))};return e.createElement(CE,null,e.createElement(xE,null,e.createElement("span",null,"Disponibilizar cupom?")),e.createElement("div",null,e.createElement(kE,null,e.createElement("input",{type:"checkbox",onChange:()=>i(),checked:r}),e.createElement("label",{onClick:()=>i()},r?"Sim":"Não"))))};const VE=Uv.div`
  width: 100%;
  display: flow-root;
  overflow-x: hidden;
  overflow-y: overlay;
  padding: 3rem;
  height: 100%;

  @media (max-width: 720px) {
    padding: initial;
  }

  & > div {
    &:not(:last-child) {
      margin-bottom: 1.6rem;
      border-bottom: 1px solid #e6e6e6;
      padding-bottom: 1.6rem;
    }

    @media (max-width: 720px) {
      font-family: var(--font-lato);
      padding: 2.6rem 0 !IMPORTANT;
    }
  }

`,BE=Uv.div`
  & {
    padding: 0 10px 10px;
  }

  @media (max-width: 720px) {
    padding: 1.2rem 3rem;
  }

  & span {
    & {
      color: #333;
      font-size: 18px;
      font-weight: 400;
      font-family: var(--font-open);
    }

    @media (max-width: 720px) {
      color: #263238;
      letter-spacing: .5px;
      font-weight: 700;
      font-family: var(--font-lato);
    }
  }
`;var WE=function(){const[t,n]=(0,e.useState)(-1);return e.createElement(VE,null,e.createElement("div",null,e.createElement(BE,null,e.createElement("span",null,"Básico")),e.createElement("div",null,e.createElement(jE,{useScreenBasic:t,setScreenBasic:n}),e.createElement(UE,{useScreenBasic:t,setScreenBasic:n}),e.createElement(zE,{useScreenBasic:t,setScreenBasic:n}),e.createElement(qE,null))))};const GE=Uv.div`
  padding: 3rem;

  @media (max-width: 1039px) {
    width: 100%;
    overflow-x: hidden;
    overflow-y: overlay;
    padding: initial;
    height: 100%;
  }
`,HE=Uv.div`
  padding-top: 1.6rem;
  padding-right: 1.6rem;
  padding-left: 1.6rem;
  justify-content: space-between;
  display: flex;
`,QE=Uv.span`
  font-size: 2rem;
  font-weight: 600;
`,KE=Uv.span`
  padding: 1.6rem;
  justify-content: center;
  flex-direction: column;
  display: flex;
`,YE=Uv.button`
  width: 100% !IMPORTANT;
  height: 112px !IMPORTANT;
  background: -moz-linear-gradient(45deg, rgba(0, 0, 0, 0.3) 0%, transparent 90%);
  background: -webkit-linear-gradient(45deg, rgba(0, 0, 0, 0.3) 0%, transparent 90%);
  background: linear-gradient(45deg, rgba(0, 0, 0, 0.3) 0%, transparent 90%);
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#0000004d', endColorstr='#00000000',GradientType=1 );
  font-weight: 700;
  font-size: 2rem;
  color: #585858;

  ${zv(3)}

  &:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`;var $E=function({data:t,usePost:n,setPost:r,useStage:i,setStage:o}){const[a,s]=t;return e.createElement(YE,{type:"button",onClick:()=>(r((e=>{const t={...e};return t.category=a,t})),void o(2))},e.createElement("span",null,s))},JE=function({usePost:t,setPost:n,useStage:r,setStage:i}){return e.createElement(GE,null,e.createElement(KE,null,Object.entries(Vb.category_names).map(((o,a)=>e.createElement($E,{key:a,data:o,usePost:t,setPost:n,useStage:r,setStage:i})))))},ZE=function({data:t,usePost:n,setPost:r,useStage:i,setStage:o}){const{id:a,name:s}=t;return e.createElement(YE,{type:"button",onClick:()=>(r((e=>{const t={...e};return t.subcategory=a,t})),void o(3))},e.createElement("span",null,s))},XE=function({useStage:t,setStage:n,usePost:r,setPost:i}){const{category:o}=r;return e.createElement(GE,null,e.createElement(HE,null,e.createElement(QE,null,"Qual o produto?"),e.createElement("button",{type:"button",onClick:()=>n(1)},"Voltar?")),e.createElement(KE,null,Vb.organize_names[o].map((e=>({id:e,name:Vb.subcategory_names[e]}))).filter((e=>!!e.name)).map(((o,a)=>e.createElement(ZE,{key:a,data:o,usePost:r,setPost:i,useStage:t,setStage:n})))))};const{jQuery:eT}=window;var tT=function({usePost:n,setPost:r}){const i=(()=>{const e=document.createElement("div");return e.setAttribute("role","over"),e})(),o=Zm(),{subcategory:a}=n,s=()=>{Vb.isValid[a](n)?(document.querySelector('[role="over"]')||t.render(e.createElement(wE,null),document.body.appendChild(i)),sm().httpsCallable("push")({val:"public/feed",data:n}).then((function({data:e}){const{status:t}=e;t?(Bb("Produto publicado!"),eT('[role="over"]').fadeOut(300,(function(){this.remove()})),o.push("/products")):(Bb("Erro desconhecido. Tente novamente!"),eT('[role="over"]').fadeOut(300,(function(){this.remove()})))})).catch((function(e){Bb("Erro ao chamar API!"),document.querySelector('[role="over"]')&&eT('[role="over"]').fadeOut(300,(function(){this.remove()}))}))):Bb("Há algo errado!")};return e.createElement(i_,null,e.createElement(o_,null,e.createElement(a_,null,e.createElement(s_,null,Vb.subcategory_names[a]),e.createElement(u_,null,"Você está publicando para ",Vb.subcategory_names[a])),e.createElement(c_,null,e.createElement(h_,{type:"button",onClick:()=>s()},"Publicar"),e.createElement(l_,{type:"button",onClick:()=>o.push("/products")},"Fechar"))),e.createElement(f_,null,e.createElement(d_,null,e.createElement(r_,{usePost:n,setPost:r}),e.createElement(y_,{usePost:n,setPost:r}),e.createElement(w_,{usePost:n,setPost:r}),e.createElement(__,{usePost:n,setPost:r}),Vb.p[1].includes(a)?e.createElement(L_,{usePost:n,setPost:r}):null,Vb.p[2].includes(a)?e.createElement(B_,{usePost:n,setPost:r}):null,Vb.p[3].includes(a)?e.createElement(Y_,{usePost:n,setPost:r}):null,Vb.p[4].includes(a)?e.createElement(x_,{usePost:n,setPost:r}):null,Vb.p[5].includes(a)?e.createElement(tE,{usePost:n,setPost:r}):null,Vb.p[6].includes(a)?e.createElement(cE,{usePost:n,setPost:r}):null,Vb.p[7].includes(a)?e.createElement(pE,{usePost:n,setPost:r}):null)))},nT=function(){const[t,n]=(0,e.useState)({}),[r,i]=(0,e.useState)(1);return console.log(t),1===r?e.createElement(JE,{useStage:r,setStage:i,usePost:t,setPost:n}):2===r?e.createElement(XE,{useStage:r,setStage:i,usePost:t,setPost:n}):3===r?e.createElement(tT,{usePost:t,setPost:n}):e.createElement("div",null,"Erro!")},rT=function(){return e.createElement($m,null,e.createElement(Ym,{path:"/",exact:!0,component:yb}),e.createElement(Ym,{path:"/products/:id",component:SE}),e.createElement(Ym,{path:"/products",component:zb}),e.createElement(Ym,{path:"/settings",component:WE}),e.createElement(Ym,{path:"/post",component:nT}))},iT=function(){return e.createElement(Bv,null,e.createElement(ey,null),e.createElement(Wv,null,e.createElement(rT,null)))};const oT=Uv.div`
  background-color: rgb(255 255 255);
  height: 48px;
  border-bottom-width: 1px;
  border-left-width: 1px;
  border-top-width: 0;
  border-right-width: 0;
  border-style: solid;
  border-color: rgb(236, 239, 241);
  display: flex;
  align-items: center;

  & span {
    width: 100%;
    font-size: 2rem;
    padding: 1.6rem;
    font-weight: 500;
  }
`,aT=Uv.div`
  width: 100vw;
  max-width: 256px;
  z-index: 101;
  color: #383838;
  background: #eceff1;
  -webkit-transition: all .3s ease-in-out;
  -o-transition: all .3s ease-in-out;
  transition: all .3s ease-in-out;
  height: 100vh;
  border-left: 1px solid #ffffff;

  & {
    -webkit-transform: translate3d(100vw, 0, 0);
    -moz-transform: translate3d(100vw, 0, 0);
    transform: translate3d(100vw, 0, 0);
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }

  & > div {
    padding: 1.6rem;

    &:not(:last-child) {
      border-style: solid;
      border-width: 0 0 1px;
      border-color: #fff;
    }
  }

  & button {
    display: flex;
    align-items: center;

    & span {
        margin-left: 1rem;
    }
  }
`,sT=Uv.div`

  & li {

    & span {
      font-weight: 500;
    }

    & p {
      text-transform: uppercase;
    }

    &:not(:last-child) {
      margin-bottom: 1rem;
    }
  }
`,uT=Uv.div`

  & button {

    &:not(:last-child) {
      margin-bottom: 1rem;
    }
  }
`;var cT=function(){const n=Zm(),{useOverlay:r,setOverlay:i}=mg(),{useConn:o,setConn:a}=pg(),{root:s}=o,{index:u=""}=s||{},[c,l]=(0,e.useState)({}),{brand:h="",commerce:f="",invoice:d="",onwer:p=""}=c;(0,e.useEffect)((()=>{u&&fetch(`https://bracaelcom.firebaseio.com/client/${u}.json`,{method:"GET",mode:"cors",cache:"default"}).then((e=>e.json())).then((e=>l(e)))}),[]);const m=(()=>{const e=document.createElement("div");return e.setAttribute("role","modal"),e})();return e.createElement(aT,null,e.createElement(oT,null,e.createElement("span",null,"Ferramentas")),e.createElement("div",null,e.createElement(sT,null,e.createElement("li",null,e.createElement("span",null,"Razão social"),e.createElement("p",null,h)),e.createElement("li",null,e.createElement("span",null,"Comércio"),e.createElement("p",null,f)),e.createElement("li",null,e.createElement("span",null,"Status"),e.createElement("p",null,d?"Ativo":"Pendente")),e.createElement("li",null,e.createElement("span",null,"Em nome de"),e.createElement("p",null,p)))),e.createElement("div",null,e.createElement(uT,null,e.createElement("button",{type:"button",onClick:()=>alert("Página em desenvolvimento...")},"Pedidos arquivados"),e.createElement("button",{type:"button",onClick:()=>alert("Página em desenvolvimento...")},"Pedidos excluídos"))),e.createElement("div",null,e.createElement("small",null,"Controle as configurações do seu comércio e gerencie todos os pedidos recebidos até a entrega para o cliente com uma excelente experiência.")),e.createElement("div",null,e.createElement("button",{type:"text",onClick:()=>{var r;r={title:"Sair da conta?",message:"Confirme para sair da conta.",button:["Cancelar","Confirmar"],buttonColor:"#ff2222",action:function(){i((e=>!e)),n.push("/"),am().signOut().then((()=>{Bb("Desconectado com sucesso!")}))}},t.render(e.createElement(Mw,r),document.body.appendChild(m))}},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",viewBox:"0 0 515.556 515.556",width:"16"},e.createElement("path",{d:"m225.556 0h64.444v257.778h-64.444z"}),e.createElement("path",{d:"m322.222 73.944v68.602c56.798 24.932 96.667 81.559 96.667 147.454 0 88.832-72.28 161.111-161.111 161.111s-161.111-72.279-161.111-161.111c0-65.896 39.869-122.523 96.667-147.454v-68.602c-93.051 27.813-161.112 114.097-161.112 216.056 0 124.358 101.182 225.556 225.556 225.556s225.556-101.198 225.556-225.556c0-101.959-68.061-188.243-161.112-216.056z"})),e.createElement("span",null,"Sair"))))};const lT=Uv.div`
  width: 100vw;
  height: 100%;
  position: fixed;
  display: none;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;

  & {
    backdrop-filter: blur(2px);
    background: rgba(255, 255, 255, 0.6);
  }
`,{jQuery:hT}=window;var fT=function(){const{useOverlay:t,setOverlay:n}=mg(),r=(0,e.useRef)(null),[i,o]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{const{current:e}=r;i&&(document.querySelector("#root").style.transform="translate3d(-256px, 0, 0)",hT(e).fadeIn(300))}),[i]),(0,e.useEffect)((()=>{const{current:e}=r;t?o(!0):(""!==document.querySelector("#root").style.transform&&document.querySelector("#root").removeAttribute("style"),hT(e).fadeOut(300,(function(){o(!1)})))}),[t]),i&&e.createElement(lT,{ref:r,onClick:()=>n(!1)})};const dT=Uv.div`
  width: 100vw;
  height: 100%;
  position: fixed;
  display: none;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 999;

  & {
    background: rgba(0, 0, 0, 0.4);
  }
`,{jQuery:pT}=window;var mT=function({data:t}){const{useSwipe:n,setSwipe:r}=gg(),i=(0,e.useRef)(null),[o,a]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{const{current:e}=i;o&&pT(e).fadeIn(300)}),[o]),(0,e.useEffect)((()=>{const{current:e}=i;n?a(!0):pT(e).fadeOut(300,(()=>a(!1)))}),[n]),o&&e.createElement(dT,{ref:i,onClick:()=>r(!1)})},gT=function(t){const[n,r]=(0,e.useState)(t),[i,o]=(0,e.useState)(!1),[a,s]=(0,e.useState)(!1);return e.createElement(rg,null,e.createElement(dg,{useConn:n,setConn:r,useOverlay:i,setOverlay:o,useSwipe:a,setSwipe:s},e.createElement(Zv,null),e.createElement(iT,null),e.createElement(cT,null),e.createElement(fT,null),e.createElement(mT,null)))};const vT=(0,e.createContext)();function yT({children:t,useToggle:n,setToggle:r,useInputEmail:i,setInputEmail:o,useInputPassword:a,setInputPassword:s}){return e.createElement(vT.Provider,{value:{useToggle:n,setToggle:r,useInputEmail:i,setInputEmail:o,useInputPassword:a,setInputPassword:s}},t)}const bT=Uv.div`
  width: 100%;
  background: #fff;
  font-family: var(--font-lato);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow-y: overlay;
  overflow-x: hidden;
  height: 100%;

  & > div {
    width: 100%;
    padding: 46px 46px 32px;
    max-width: 632px;
    background: #fff;

    ${zv(6)}

    @media screen and (max-width: 720px) {
      padding: 0 2rem;
      background: initial;
    }
  }
`,wT=Uv.div`
  margin: 0 0 32px;
  color: #3c3c3c;
  font-size: 18px;
  font-weight: 500;
  display: block;
  text-align: center;
  font-style: italic;

  & section {
    width: 164px;
    height: 41px;
    margin: 0 auto 16px;

    background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0ibWFyY2EiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2NC4xODgiIGhlaWdodD0iNDAuODc1IiB2aWV3Qm94PSIwIDAgMTY0LjE4OCA0MC44NzUiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICNjMDA7CiAgICAgIH0KCiAgICAgIC5jbHMtMSwgLmNscy0yIHsKICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogIzIwMjAyMDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggaWQ9IkZvcm1hXzFfY29waWFyIiBkYXRhLW5hbWU9IkZvcm1hIDEgY29waWFyIiBjbGFzcz0iY2xzLTEiIGQ9Ik00Ny43MTYsMjYuNTIyYTUuOTc4LDUuOTc4LDAsMCwwLC41MjctMi45YzAtLjA5NCwwLTAuNDM3LDAtMC41MjcsMC0yLjYzOS0yLjYzMy00Ljc0LTQuMjItNC43NDctMC41MzIsMC02LjMyOSwwLTYuMzI5LDBMMjcuNDA5LDguMDYxSDQxLjM4NmMzLjEsMCw4LjEuNTYzLDEwLjI4NSw0Ljc0NywwLjkxMiwxLjQ4MiwxLjIwNyw1Ljc2MSwxLjIxMiw3Ljk4NywwLjAyMSwwLjcyNiwwLDUuMzY3LDAsNS43NDdDNTIuMzQsMjYuNTQxLDQ4LjEsMjYuNTIsNDcuNzE2LDI2LjUyMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNi40MDYgLTguMDYzKSIvPgogIDxwYXRoIGlkPSJGb3JtYV8xIiBkYXRhLW5hbWU9IkZvcm1hIDEiIGNsYXNzPSJjbHMtMSIgZD0iTTM2LjY5NCw0OC45MzlMMjYuNjczLDM4LjY1M3MxNi4wNjgsMCwxNi4zNTEsMGMxLjU4MiwwLDQuMjI1LTIuNjM5LDQuMjItNS4yNzQsMC0uMDk0LDAtMC40MzcsMC0wLjUyNywwLTIuNjM5LTIuNjMzLTQuNzQtNC4yMi00Ljc0Ny0wLjUzMiwwLTYuMzI5LDAtNi4zMjksMEwyNi40MDksMTcuODE5SDQzLjAyM2ExMy43NzEsMTMuNzcxLDAsMCwxLDEwLjAyMiw0Ljc0N2M0LjI4NSw0LjU0Nyw0LjQ4Myw4Ljk2Nyw0LjQ4Myw4Ljk2NywwLjAwNSwwLjc2MSwwLDMuNDI4LDAsMy40MjhhMTMuNDUsMTMuNDUsMCwwLDEtMy45NTYsOC45NjdjLTQuNjQ3LDQuNzUzLTguOTcxLDUuMDEtMTAuNTQ5LDUuMDExQzQyLjc1Niw0OC45NCwzNi42OTQsNDguOTM5LDM2LjY5NCw0OC45MzlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYuNDA2IC04LjA2MykiLz4KICA8cGF0aCBpZD0iQnJhY2FlbCIgY2xhc3M9ImNscy0yIiBkPSJNOTEuMzMsMzIuNzExYzAsMi4wMS0xLjQxLDMuMTgtMy43MiwzLjE4SDgyLjk5di02LjUxaDQuNUM4OS43NywyOS4zODEsOTEuMzMsMzAuNjQxLDkxLjMzLDMyLjcxMVptLTAuNTQtOS4wOWMwLDEuOTItMS4zNSwyLjk3LTMuNTcsMi45N0g4Mi45OXYtNS45N2g0LjIzQzg5LjQ0LDIwLjYyMiw5MC43OSwyMS43MzIsOTAuNzksMjMuNjIyWm0zLjk2LDkuNDVhNS4xODUsNS4xODUsMCwwLDAtNC4wMi01LjEsNC44NzgsNC44NzgsMCwwLDAsMy41NC00Ljc3YzAtMi45NC0yLjM0LTUuMzctNi43NS01LjM3SDc5LjU3VjM4LjY4MWg4LjM0QzkyLjE2OSwzOC42ODEsOTQuNzQ5LDM2LjI1MSw5NC43NDksMzMuMDcxWm03LjE0LTMuMDljMC0zLjUxLDEuNTYtNC41Niw0LjA4LTQuNTZoMC44N3YtMy41NGE1LjM4NCw1LjM4NCwwLDAsMC00Ljk1LDIuNjd2LTIuNEg5OC40N1YzOC42ODFoMy40MTl2LTguN1ptNi45NiwwLjM2YzAsNS4xLDMuNDUsOC42MSw3Ljc0LDguNjFhNy4xMTUsNy4xMTUsMCwwLDAsNS43OS0yLjczdjIuNDZoMy40NVYyMi4xNTJoLTMuNDV2Mi40YTcuMDM2LDcuMDM2LDAsMCwwLTUuNzMtMi42N0MxMTIuMywyMS44ODIsMTA4Ljg0OSwyNS4yNDEsMTA4Ljg0OSwzMC4zNDFabTEzLjUzLDAuMDZjMCwzLjU3LTIuNDMsNS41OC01LjAxLDUuNTgtMi41NSwwLTUuMDEtMi4wNy01LjAxLTUuNjRzMi40Ni01LjQ5LDUuMDEtNS40OUMxMTkuOTQ5LDI0Ljg1MSwxMjIuMzc5LDI2Ljg2MSwxMjIuMzc5LDMwLjRabTYuODEsMGMwLDUuMTksMy4zNiw4LjU1LDguMSw4LjU1YTcuNDIzLDcuNDIzLDAsMCwwLDcuNjE5LTUuNDloLTMuNjg5YTMuNzc1LDMuNzc1LDAsMCwxLTMuOTMsMi42MWMtMi43NiwwLTQuNTktMi4wNC00LjU5LTUuNjcsMC0zLjYsMS44My01LjY0LDQuNTktNS42NGEzLjg2MywzLjg2MywwLDAsMSwzLjkzLDIuNjFoMy42ODljLTAuOTI5LTMuNDgtMy41NjktNS40OS03LjYxOS01LjQ5QzEzMi41NDksMjEuODgyLDEyOS4xODksMjUuMjQxLDEyOS4xODksMzAuNFptMTgtLjA2YzAsNS4xLDMuNDUsOC42MSw3Ljc0LDguNjFhNy4xMTQsNy4xMTQsMCwwLDAsNS43ODktMi43M3YyLjQ2aDMuNDVWMjIuMTUyaC0zLjQ1djIuNGE3LjAzNiw3LjAzNiwwLDAsMC01LjcyOS0yLjY3QzE1MC42MzksMjEuODgyLDE0Ny4xODksMjUuMjQxLDE0Ny4xODksMzAuMzQxWm0xMy41MjksMC4wNmMwLDMuNTctMi40Myw1LjU4LTUuMDEsNS41OC0yLjU0OSwwLTUuMDA5LTIuMDctNS4wMDktNS42NHMyLjQ2LTUuNDksNS4wMDktNS40OUMxNTguMjg4LDI0Ljg1MSwxNjAuNzE4LDI2Ljg2MSwxNjAuNzE4LDMwLjRabTE0LjkxLTUuNjRhNC4yOTIsNC4yOTIsMCwwLDEsNC42Miw0LjE3SDE3MS4xQTQuNSw0LjUsMCwwLDEsMTc1LjYyOCwyNC43NjFabTcuNzQsOWgtMy42OWE0LDQsMCwwLDEtMy45LDIuMzEsNC41NDYsNC41NDYsMCwwLDEtNC43MDktNC4zOEgxODMuN2ExMC41NDgsMTAuNTQ4LDAsMCwwLC4xMi0xLjY4LDcuNzA5LDcuNzA5LDAsMCwwLTguMDQtOC4xM2MtNC44ODksMC04LjI0OSwzLjMzLTguMjQ5LDguNTJzMy41MSw4LjU1LDguMjQ5LDguNTVBNy41NTMsNy41NTMsMCwwLDAsMTgzLjM2OCwzMy43NjFabTMuODEsNC45MmgzLjQydi0yMi4yaC0zLjQydjIyLjJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYuNDA2IC04LjA2MykiLz4KPC9zdmc+Cg==");
  }
`,_T=Uv.div`
  position: relative;

  & * {
    transition: all 0.2s ease-in-out;
  }

  &:not(:last-child) {
    margin-top: 2.2rem;
  }
`,ET=Uv.svg`
  color: #aaa;
  position: absolute;
  top: 15px;
  right: 15px;
  height: 24px;
  width: 24px;
  z-index: 11;

  & {
    cursor: pointer;

    ${zv("100%")}
  }

  &:hover {
    color: rgba(121, 121, 121);
  }
`,TT=Uv.input`
  width: 100%;
  background: transparent;
  padding: 16px 0;
  display: block;
  font-weight: 400;
  color: #797979;
  font-size: 1.75rem;
  box-shadow: inset 0 0 0 1px #dadce0;
  font-family: var(--font-poppins);
  text-indent: 16px;
  border-radius: 3px;
  position: relative;
  z-index: 10;

  ${({hasText:e})=>e&&"\n    & ~ label {\n      padding: 0 10px;\n      font-size: 1em;\n      background: #fff;\n      z-index: 20;\n      top: -8px;\n    }\n  "}

  &:focus {
    box-shadow: inset 0 0 0 1px #1273EB;
  }

  &:focus ~ label {
    color: #1273EB;
  }

  &:focus ~ label {
    padding: 0 10px;
    font-size: 1em;
    background: #fff;
    z-index: 20;
    top: -8px;
  }
`,IT=Uv.label`
  color: #676767;
  font-weight: 100;
  position: absolute;
  font-size: 2rem;
  top: 16px;
  left: 1em;
`,ST=Uv.label`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 2.6rem 0 0;
`,CT=Uv.button`
  ${"\n  font-size: 1.75rem;\n  color: #1a73e8;\n  font-weight: 700;\n  font-family: var(--font-lato);\n"}
`,xT=Uv.button`
  ${zv(3)}
  ${"\n  color: #fff;\n  min-height: 40px;\n  background-color: #0161cd;\n  font-weight: 500;\n  text-align: center;\n  max-width: 132px;\n  width: 100%;\n\n  &:hover {\n    background: #0e75e8;\n  }\n\n  &:focus {\n    -webkit-box-shadow: rgb(151, 200, 255) 0px 0px 4px 2px;\n    box-shadow: rgb(151, 200, 255) 0px 0px 4px 2px;\n  }\n\n  &:active {\n    background: #00f;\n  }\n"}
`;var kT=function(){const{useToggle:t,setToggle:n}=function(){const t=(0,e.useContext)(vT),{useToggle:n,setToggle:r}=t;return{useToggle:n,setToggle:r}}(),r=()=>n((e=>!e));return t?e.createElement(ET,{onClick:()=>r(),fill:"currentColor",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"https://www.w3.org/2000/svg"},e.createElement("path",{d:"M10.58,7.25l1.56,1.56c1.38,0.07,2.47,1.17,2.54,2.54l1.56,1.56C16.4,12.47,16.5,12,16.5,11.5C16.5,9.02,14.48,7,12,7 C11.5,7,11.03,7.1,10.58,7.25z"}),e.createElement("path",{d:"M12,6c3.79,0,7.17,2.13,8.82,5.5c-0.64,1.32-1.56,2.44-2.66,3.33l1.42,1.42c1.51-1.26,2.7-2.89,3.43-4.74 C21.27,7.11,17,4,12,4c-1.4,0-2.73,0.25-3.98,0.7L9.63,6.3C10.4,6.12,11.19,6,12,6z"}),e.createElement("path",{d:"M16.43,15.93l-1.25-1.25l-1.27-1.27l-3.82-3.82L8.82,8.32L7.57,7.07L6.09,5.59L3.31,2.81L1.89,4.22l2.53,2.53 C2.92,8.02,1.73,9.64,1,11.5C2.73,15.89,7,19,12,19c1.4,0,2.73-0.25,3.98-0.7l4.3,4.3l1.41-1.41l-3.78-3.78L16.43,15.93z M11.86,14.19c-1.38-0.07-2.47-1.17-2.54-2.54L11.86,14.19z M12,17c-3.79,0-7.17-2.13-8.82-5.5c0.64-1.32,1.56-2.44,2.66-3.33 l1.91,1.91C7.6,10.53,7.5,11,7.5,11.5c0,2.48,2.02,4.5,4.5,4.5c0.5,0,0.97-0.1,1.42-0.25l0.95,0.95C13.6,16.88,12.81,17,12,17z"})):e.createElement(ET,{onClick:()=>r(),fill:"currentColor",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"https://www.w3.org/2000/svg"},e.createElement("path",{d:"M12,7c-2.48,0-4.5,2.02-4.5,4.5S9.52,16,12,16s4.5-2.02,4.5-4.5S14.48,7,12,7z M12,14.2c-1.49,0-2.7-1.21-2.7-2.7 c0-1.49,1.21-2.7,2.7-2.7s2.7,1.21,2.7,2.7C14.7,12.99,13.49,14.2,12,14.2z"}),e.createElement("path",{d:"M12,4C7,4,2.73,7.11,1,11.5C2.73,15.89,7,19,12,19s9.27-3.11,11-7.5C21.27,7.11,17,4,12,4z M12,17 c-3.79,0-7.17-2.13-8.82-5.5C4.83,8.13,8.21,6,12,6s7.17,2.13,8.82,5.5C19.17,14.87,15.79,17,12,17z"}))},NT=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(""),[o,a]=(0,e.useState)("");return e.createElement(yT,{useToggle:t,setToggle:n},e.createElement(bT,null,e.createElement("div",null,e.createElement(wT,null,e.createElement("section",null),e.createElement("span",null,"Use uma conta Bracael")),e.createElement("form",{autoComplete:"off"},e.createElement(_T,null,e.createElement(TT,{type:"email",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",hasText:r,onChange:e=>i(e.target.value),value:r}),e.createElement(IT,null,"E-mail")),e.createElement(_T,null,e.createElement(TT,{type:t?"text":"password",hasText:o,onChange:e=>a(e.target.value),value:o}),e.createElement(kT,null),e.createElement(IT,null,"Senha")),e.createElement(ST,null,e.createElement(CT,{type:"button",onClick:()=>alert("Entre em contato conosco pelo WhatsApp ou Instagram!")},"Esqueceu a sua senha?"),e.createElement(xT,{type:"submit",onClick:e=>(e.preventDefault(),void am().signInWithEmailAndPassword(r,o).then((()=>Bb("Seja bem-vindo!"))).catch((function(){alert("E-mail ou senha invalidos")})))},"Fazer login"))))))};am().onAuthStateChanged((function(n){n?Promise.resolve(async function(){return await sm().httpsCallable("getAPI")()}()).then((function(n){t.render(e.createElement(e.StrictMode,null,e.createElement(gT,n.data)),document.getElementById("root"))})).catch((function(){t.render(e.createElement("div",null,"ERRO 500"),document.getElementById("root"))})):t.render(e.createElement(e.StrictMode,null,e.createElement(NT,null)),document.getElementById("root"))}))}()}();
//# sourceMappingURL=main.js.map