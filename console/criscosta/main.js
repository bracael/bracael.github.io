/*! For license information please see main.js.LICENSE.txt */
!function(){var e={713:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{Z:function(){return i}})},481:function(e,t,n){"use strict";n.r(t),n.d(t,{CacheProvider:function(){return N},ClassNames:function(){return V},Global:function(){return j},ThemeContext:function(){return x},createElement:function(){return R},css:function(){return L},jsx:function(){return R},keyframes:function(){return U},withEmotionCache:function(){return A}});var r=n(713),i=n(466),o=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(e){}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),a=n(414),s="/*|*/";function u(e){e&&c.current.insert(e+"}")}var c={current:null},l=function(e,t,n,r,i,o,a,l,h,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return c.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===l)return t+s;break;case 3:switch(l){case 102:case 112:return c.current.insert(n[0]+t),"";default:return t+(0===f?s:"")}case-2:t.split("/*|*/}").forEach(u)}};function h(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var f=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0),i=i.next}while(void 0!==i)}},d=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},p=n(319),m=n(916),g=/[A-Z]|^ms/g,v=/_EMO_([^_]+?)_([^]*?)_EMO_/g,y=function(e){return 45===e.charCodeAt(1)},b=function(e){return null!=e&&"boolean"!=typeof e},w=(0,m.Z)((function(e){return y(e)?e:e.replace(g,"-$&").toLowerCase()})),_=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(v,(function(e,t,n){return I={name:t,styles:n,next:I},t}))}return 1===p.Z[e]||y(e)||"number"!=typeof t||0===t?t:t+"px"};function E(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return I={name:n.name,styles:n.styles,next:I},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)I={name:i.name,styles:i.styles,next:I},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=E(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":b(a)&&(r+=w(o)+":"+_(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=E(e,t,a,!1);switch(o){case"animation":case"animationName":r+=w(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)b(a[u])&&(r+=w(o)+":"+_(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=I,a=n(e);return I=o,E(e,t,a,r)}}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var I,S=/label:\s*([^\s;\n{]+)\s*;/g,T=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";I=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=E(n,t,o,!1)):i+=o[0];for(var a=1;a<e.length;a++)i+=E(n,t,e[a],46===i.charCodeAt(i.length-1)),r&&(i+=o[a]);S.lastIndex=0;for(var s,u="";null!==(s=S.exec(i));)u+="-"+s[1];return{name:d(i)+u,styles:i,next:I}},C=Object.prototype.hasOwnProperty,k=(0,i.createContext)("undefined"!=typeof HTMLElement?function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r,i=new a.Z(t),s={};r=e.container||document.head;var u,h=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(h,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){s[e]=!0})),e.parentNode!==r&&r.appendChild(e)})),i.use(e.stylisPlugins)(l),u=function(e,t,n,r){var o=t.name;c.current=n,i(e,t.styles),r&&(f.inserted[o]=!0)};var f={key:n,sheet:new o({key:n,container:r,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:s,registered:{},insert:u};return f}():null),x=(0,i.createContext)({}),N=k.Provider,A=function(e){var t=function(t,n){return(0,i.createElement)(k.Consumer,null,(function(r){return e(t,r,n)}))};return(0,i.forwardRef)(t)},D="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",P=function(e,t){var n={};for(var r in t)C.call(t,r)&&(n[r]=t[r]);return n[D]=e,n},O=function(e,t,n,r){var o=null===n?t.css:t.css(n);"string"==typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var a=t[D],s=[o],u="";"string"==typeof t.className?u=h(e.registered,s,t.className):null!=t.className&&(u=t.className+" ");var c=T(s);f(e,c,"string"==typeof a),u+=e.key+"-"+c.name;var l={};for(var d in t)C.call(t,d)&&"css"!==d&&d!==D&&(l[d]=t[d]);return l.ref=r,l.className=u,(0,i.createElement)(a,l)},M=A((function(e,t,n){return"function"==typeof e.css?(0,i.createElement)(x.Consumer,null,(function(r){return O(t,e,r,n)})):O(t,e,null,n)})),L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T(t)},R=function(e,t){var n=arguments;if(null==t||!C.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=M,o[1]=P(e,t);for(var a=2;a<r;a++)o[a]=n[a];return i.createElement.apply(null,o)},j=A((function(e,t){var n=e.styles;if("function"==typeof n)return(0,i.createElement)(x.Consumer,null,(function(e){var r=T([n(e)]);return(0,i.createElement)(F,{serialized:r,cache:t})}));var r=T([n]);return(0,i.createElement)(F,{serialized:r,cache:t})})),F=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.sheet=new o({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},n.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},n.insertStyles=function(){if(void 0!==this.props.serialized.next&&f(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},n.componentWillUnmount=function(){this.sheet.flush()},n.render=function(){return null},t}(i.Component),U=function(){var e=L.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},z=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function q(e,t,n){var r=[],i=h(e,r,n);return r.length<2?n:i+t(r)}var V=A((function(e,t){return(0,i.createElement)(x.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=T(n,t.registered);return f(t,i,!1),t.key+"-"+i.name},i={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return q(t.registered,r,z(n))},theme:n};return e.children(i)}))}))},916:function(e,t){"use strict";t.Z=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},414:function(e,t){"use strict";t.Z=function(e){function t(e,r,u,c,f){for(var d,p,m,g,w,E=0,I=0,S=0,T=0,C=0,P=0,M=m=d=0,R=0,j=0,F=0,U=0,z=u.length,q=z-1,V="",B="",W="",G="";R<z;){if(p=u.charCodeAt(R),R===q&&0!==I+T+S+E&&(0!==I&&(p=47===I?10:47),T=S=E=0,z++,q++),0===I+T+S+E){if(R===q&&(0<j&&(V=V.replace(h,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(R)}p=59}switch(p){case 123:for(d=(V=V.trim()).charCodeAt(0),m=1,U=++R;R<z;){switch(p=u.charCodeAt(R)){case 123:m++;break;case 125:m--;break;case 47:switch(p=u.charCodeAt(R+1)){case 42:case 47:e:{for(M=R+1;M<q;++M)switch(u.charCodeAt(M)){case 47:if(42===p&&42===u.charCodeAt(M-1)&&R+2!==M){R=M+1;break e}break;case 10:if(47===p){R=M+1;break e}}R=M}}break;case 91:p++;case 40:p++;case 34:case 39:for(;R++<q&&u.charCodeAt(R)!==p;);}if(0===m)break;R++}switch(m=u.substring(U,R),0===d&&(d=(V=V.replace(l,"").trim()).charCodeAt(0)),d){case 64:switch(0<j&&(V=V.replace(h,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=D}if(U=(m=t(r,j,m,p,f+1)).length,0<O&&(w=s(3,m,j=n(D,V,F),r,x,k,U,p,f,c),V=j.join(""),void 0!==w&&0===(U=(m=w.trim()).length)&&(p=0,m="")),0<U)switch(p){case 115:V=V.replace(_,a);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(v,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===c&&(B+=m,m="")}else m="";break;default:m=t(r,n(r,V,F),m,c,f+1)}W+=m,m=F=j=M=d=0,V="",p=u.charCodeAt(++R);break;case 125:case 59:if(1<(U=(V=(0<j?V.replace(h,""):V).trim()).length))switch(0===M&&(d=V.charCodeAt(0),45===d||96<d&&123>d)&&(U=(V=V.replace(" ",":")).length),0<O&&void 0!==(w=s(1,V,r,e,x,k,B.length,c,f,c))&&0===(U=(V=w.trim()).length)&&(V="\0\0"),d=V.charCodeAt(0),p=V.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){G+=V+u.charAt(R);break}default:58!==V.charCodeAt(U-1)&&(B+=i(V,d,p,V.charCodeAt(2)))}F=j=M=d=0,V="",p=u.charCodeAt(++R)}}switch(p){case 13:case 10:47===I?I=0:0===1+d&&107!==c&&0<V.length&&(j=1,V+="\0"),0<O*L&&s(0,V,r,e,x,k,B.length,c,f,c),k=1,x++;break;case 59:case 125:if(0===I+T+S+E){k++;break}default:switch(k++,g=u.charAt(R),p){case 9:case 32:if(0===T+E+I)switch(C){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===T+I+E&&(j=F=1,g="\f"+g);break;case 108:if(0===T+I+E+N&&0<M)switch(R-M){case 2:112===C&&58===u.charCodeAt(R-3)&&(N=C);case 8:111===P&&(N=P)}break;case 58:0===T+I+E&&(M=R);break;case 44:0===I+S+T+E&&(j=1,g+="\r");break;case 34:case 39:0===I&&(T=T===p?0:0===T?p:T);break;case 91:0===T+I+S&&E++;break;case 93:0===T+I+S&&E--;break;case 41:0===T+I+E&&S--;break;case 40:if(0===T+I+E){if(0===d)switch(2*C+3*P){case 533:break;default:d=1}S++}break;case 64:0===I+S+T+E+M+m&&(m=1);break;case 42:case 47:if(!(0<T+E+S))switch(I){case 0:switch(2*p+3*u.charCodeAt(R+1)){case 235:I=47;break;case 220:U=R,I=42}break;case 42:47===p&&42===C&&U+2!==R&&(33===u.charCodeAt(U+2)&&(B+=u.substring(U,R+1)),g="",I=0)}}0===I&&(V+=g)}P=C,C=p,R++}if(0<(U=B.length)){if(j=r,0<O&&void 0!==(w=s(2,B,j,e,x,k,U,c,f,c))&&0===(B=w).length)return G+B+W;if(B=j.join(",")+"{"+B+"}",0!=A*N){switch(2!==A||o(B,2)||(N=0),N){case 111:B=B.replace(b,":-moz-$1")+B;break;case 112:B=B.replace(y,"::-webkit-input-$1")+B.replace(y,"::-moz-$1")+B.replace(y,":-ms-input-$1")+B}N=0}}return G+B+W}function n(e,t,n){var i=t.trim().split(m);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===A||2===A&&o(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(C,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(w,"tb");break;case 232:u=a.replace(w,"tb-rl");break;case 220:u=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(I,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(I,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),M(2!==t?r:r.replace(S,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var h,f=0,d=t;f<O;++f)switch(h=P[f].call(c,e,d,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(M=null,e?"function"!=typeof e?A=1:(A=2,M=e):A=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,x,k,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=t(D,r,n,0,0);return 0<O&&void 0!==(i=s(-2,o,r,r,x,k,o.length,0,0,0))&&(o=i),N=0,k=x=1,o}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,I=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,k=1,x=1,N=0,A=1,D=[],P=[],O=0,M=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:O=P.length=0;break;default:if("function"==typeof t)P[O++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c}},319:function(e,t){"use strict";t.Z={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},856:function(e,t,n){"use strict";var r,i,o=n(622),a=n(574),s=n(924),u=n(861),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),m=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(e),this.container=new s.H0(t.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=f),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.wA(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");(0,u.Am)(e,t)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.r3)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(m);return t.INTERNAL=(0,o.pi)((0,o.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.ZB)(t,e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=g;!function(e,t){e.INTERNAL.registerComponent(new s.wA("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion(h,"0.6.20",void 0),e.registerVersion("fire-js","")}(w),t.Z=w},924:function(e,t,n){"use strict";n.d(t,{wA:function(){return o},H0:function(){return u},zt:function(){return s}});var r=n(622),i=n(574),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=a);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=(0,r.pi)({identifier:a,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(e){if(i)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.instanceIdentifier,o=void 0===i?a:i,s=e.options,u=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(o);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:u});try{for(var h=(0,r.XA)(this.instancesDeferred.entries()),f=h.next();!f.done;f=h.next()){var d=(0,r.CR)(f.value,2),p=d[0],m=d[1];c===this.normalizeInstanceIdentifier(p)&&m.resolve(l)}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}return l},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},991:function(e,t,n){"use strict";var r=n(856),i=n(924),o=n(574),a=n(622),s=n(861);e=n.hmd(e);var u,c=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),l=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new c(t)}}catch(e){}return new l},f=h("localStorage"),d=h("sessionStorage"),p=new s.Yd("@firebase/database"),m=(u=1,function(){return u++}),g=function(e){var t=(0,o.dS)(e),n=new o.gQ;n.update(t);var r=n.digest();return o.US.encodeByteArray(r)},v=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=v.apply(null,i):n+="object"==typeof i?(0,o.Pz)(i):i,n+=" "}return n},y=null,b=!0,w=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(p.logLevel=s.in.VERBOSE,y=p.log.bind(p),t&&d.set("logging_enabled",!0)):"function"==typeof e?y=e:(y=null,d.remove("logging_enabled"))},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===y&&!0===d.get("logging_enabled")&&w(!0)),y){var n=v.apply(null,e);y(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];_.apply(void 0,(0,a.ev)([e],(0,a.CR)(t)))}},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));p.error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));throw p.error(n),new Error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+v.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));p.warn(n)},C=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",x="[MAX_NAME]",N=function(e,t){if(e===t)return 0;if(e===k||t===x)return-1;if(t===k||e===x)return 1;var n=j(e),r=j(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},A=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},P=function(e){if("object"!=typeof e||null===e)return(0,o.Pz)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(t[i]),r+=":",r+=P(e[t[i]]);return r+"}"},O=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){(0,o.hu)(!C(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},R=new RegExp("^-?(0*)\\d{1,10}$"),j=function(e){if(R.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},F=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw T("Exception was thrown by user callback.",t),e}),Math.floor(0))}},U=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},z=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',T(e)},e}(),q=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),V=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B="websocket",W="long_polling",G=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function H(e,t,n){var r;if((0,o.hu)("string"==typeof t,"typeof type must == string"),(0,o.hu)("object"==typeof n,"typeof params must == object"),t===B)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==W)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return M(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var K=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.p$)(this.counters_)},e}(),Q={},Y={};function $(e){var t=e.toString();return Q[t]||(Q[t]=new K),Q[t]}var J=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&F((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Z="start",X="close",ee=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=$(t),this.urlFn=function(e){return H(t,W,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new J(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new te((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Z)n.id=o,n.password=s;else{if(i!==X)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&V.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!((0,o.Yr)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.h$)(t),r=O(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),te=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){_("frame writing exception"),e.stack&&_(e.stack),_(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){_("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),ne="";function re(e){ne=e}var ie=null;"undefined"!=typeof MozWebSocket?ie=MozWebSocket:"undefined"!=typeof WebSocket&&(ie=WebSocket);var oe=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=$(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&V.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),H(e,B,r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+ne+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},a=process.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new ie(this.connURL,[],i)}else i={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new ie(this.connURL,[],i)}catch(e){this.log_("Error instantiating WebSocket.");var u=e.message||e.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ie&&!e.forceDisallow_},e.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=O(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ae=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[ee,oe]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=oe&&oe.isAvailable(),o=i&&!oe.previouslyFailed();if(t.webSocketOnly&&(i||T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[oe];else{var s=this.transports_=[];try{for(var u=(0,a.XA)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),se=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new ae(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=D("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?I("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&T("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ue=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),ce=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.ev)([],(0,a.CR)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.hu)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),le=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(ce),he=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function fe(){return new he("")}function de(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pe(e){return e.pieces_.length-e.pieceNum_}function me(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new he(e.pieces_,t)}function ge(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ve(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function ye(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new he(t,0)}function be(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof he)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new he(n,0)}function we(e){return e.pieceNum_>=e.pieces_.length}function _e(e,t){var n=de(e),r=de(t);if(null===n)return t;if(n===r)return _e(me(e),me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ee(e,t){for(var n=ve(e,0),r=ve(t,0),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ie(e,t){if(pe(e)!==pe(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Se(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(pe(e)>pe(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Te=function(e,t){this.errorPrefix_=t,this.parts_=ve(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);Ce(this)};function Ce(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ke(e))}function ke(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var xe,Ne,Ae=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(ce),De=1e3,Pe=function(e){function t(n,r,i,a,s,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=E("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=De,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Ae.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&le.getInstance().on("online",l.onOnline_,l),l}return(0,a.ZT)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new o.BH,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&(0,o.r3)(e,"w")){var n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):I("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=De),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(e){(0,o.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(e){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),s.authToken_=e&&e.accessToken,l=new se(a,s.repoInfo_,s.applicationId_,n,r,i,(function(e){T(e+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(t){s.log_("Failed to get token: "+t),c||(e.repoInfo_.nodeAdmin&&T(t),h())}))}},t.prototype.interrupt=function(e){_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return P(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new he(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=(0,a.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.XA)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ne.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=le.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ue),Oe=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Me=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Oe(k,e),r=new Oe(k,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Oe.MIN},e}(),Le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return xe},set:function(e){xe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return N(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Oe.MIN},t.prototype.maxPost=function(){return new Oe(x,xe)},t.prototype.makePost=function(e,t){return(0,o.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Oe(e,xe)},t.prototype.toString=function(){return".key"},t}(Me),Re=new Le,je=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Fe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ze.EMPTY_NODE,this.right=null!=o?o:ze.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return ze.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ze.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Ue=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Fe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),ze=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Fe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Fe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new je(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new je(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new je(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new je(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Ue,e}();function qe(e,t){return N(e.name,t.name)}function Ve(e,t){return N(e,t)}var Be,We,Ge,He,Ke,Qe=function(e){return"number"==typeof e?"number:"+L(e):"string:"+e},Ye=function(e){if(e.isLeafNode()){var t=e.val();(0,o.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===Ne||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===Ne||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},$e=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ye(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Be},set:function(e){Be=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return we(t)?this:".priority"===de(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=de(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===pe(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Qe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=g(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Je=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Oe.MIN},t.prototype.maxPost=function(){return new Oe(x,new $e("[PRIORITY-POST]",Ge))},t.prototype.makePost=function(e,t){var n=We(e);return new Oe(t,new $e("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Me)),Ze=Math.log(2),Xe=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ze,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),et=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Fe(a,o.node,Fe.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new Fe(a,o.node,Fe.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new Fe(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Fe.BLACK):(s(h,Fe.BLACK),s(h,Fe.RED))}return o}(new Xe(e.length));return new ze(r||t,o)},tt={},nt=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.hu)(tt&&Je,"ChildrenNode.ts has not been loaded"),He=He||new e({".priority":tt},{".priority":Je})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ze?t:null},e.prototype.hasIndex=function(e){return(0,o.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.hu)(t!==Re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Oe.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?et(i,t.getCompare()):tt;var l=t.toString(),h=(0,a.pi)({},this.indexSet_);h[l]=t;var f=(0,a.pi)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.UI)(this.indexes_,(function(e,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),e===tt){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Oe.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),et(s,a.getCompare())}return tt}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Oe(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.UI)(this.indexes_,(function(e){if(e===tt)return e;var r=n.get(t.name);return r?e.remove(new Oe(t.name,r)):e})),this.indexSet_)},e}(),rt=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ye(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ke||(Ke=new e(new ze(Ve),null,nt.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ke},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ke:t},e.prototype.getChild=function(e){var t=de(e);return null===t?this:this.getImmediateChild(t).getChild(me(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Oe(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Ke:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=de(e);if(null===n)return t;(0,o.hu)(".priority"!==de(e)||1===pe(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(me(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Je,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Qe(this.getPriority().val())+":"),this.forEachChild(Je,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":g(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Oe(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Oe(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Oe(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Oe.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Oe.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===it?-1:0},e.prototype.withIndex=function(t){if(t===Re||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Re||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Je),r=t.getIterator(Je),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Re?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),it=new(function(e){function t(){return e.call(this,new ze(Ve),rt.EMPTY_NODE,nt.Default)||this}return(0,a.ZT)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return rt.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(rt));function ot(e,t){if(void 0===t&&(t=null),null===e)return rt.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new $e(e,ot(t));if(e instanceof Array){var n=rt.EMPTY_NODE;return M(e,(function(t,r){if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){var i=ot(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ot(t))}var r=[],i=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=ot(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Oe(e,n)))}})),0===r.length)return rt.EMPTY_NODE;var a=et(r,qe,(function(e){return e.name}),Ve);if(i){var s=et(r,Je.getCompare());return new rt(a,ot(t),new nt({".priority":s},{".priority":Je}))}return new rt(a,ot(t),nt.Default)}Object.defineProperties(Oe,{MIN:{value:new Oe(k,rt.EMPTY_NODE)},MAX:{value:new Oe(x,it)}}),Le.__EMPTY_NODE=rt.EMPTY_NODE,$e.__childrenNodeConstructor=rt,Ne=it,Ge=it,function(e){We=e}(ot);var at,st,ut=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.hu)(!we(t)&&".priority"!==de(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.ZT)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ot(e),r=rt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Oe(t,r)},t.prototype.maxPost=function(){var e=rt.EMPTY_NODE.updateChild(this.indexPath_,it);return new Oe(x,e)},t.prototype.toString=function(){return ve(this.indexPath_,0).join("/")},t}(Me),ct=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?N(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Oe.MIN},t.prototype.maxPost=function(){return Oe.MAX},t.prototype.makePost=function(e,t){var n=ot(e);return new Oe(t,n)},t.prototype.toString=function(){return".value"},t}(Me)),lt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ht=(at=0,st=[],function(e){var t,n=e===at;at=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=lt.charAt(e%64),e=Math.floor(e/64);(0,o.hu)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===st[t];t--)st[t]=0;st[t]++}else for(t=0;t<12;t++)st[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=lt.charAt(st[t]);return(0,o.hu)(20===i.length,"nextPushId: Length should be 20."),i}),ft=function(e){if("2147483647"===e)return"-";var t=j(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return x;var o=n[i],a=lt.charAt(lt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},dt=function(e){if("-2147483648"===e)return k;var t=j(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=lt.charAt(lt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function pt(e){return{type:"value",snapshotNode:e}}function mt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function gt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function vt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var yt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(gt(t,s)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(mt(t,n)):a.trackChildChange(vt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Je,(function(e,r){t.hasChild(e)||n.trackChildChange(gt(e,r))})),t.isLeafNode()||t.forEachChild(Je,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(vt(t,r,i))}else n.trackChildChange(mt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?rt.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),bt=function(){function e(t){this.indexedFilter_=new yt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Oe(t,n))||(n=rt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=rt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(rt.EMPTY_NODE);var i=this;return t.forEachChild(Je,(function(e,t){i.matches(new Oe(e,t))||(r=r.updateImmediateChild(e,rt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),wt=function(){function e(e){this.rangedFilter_=new bt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Oe(t,n))||(n=rt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=rt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=rt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(rt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,rt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new Oe(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(vt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(gt(t,f));var m=u.updateImmediateChild(t,rt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(mt(d.name,d.node)),m.updateImmediateChild(d.name,d.node)):m}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(gt(l.name,l.node)),i.trackChildChange(mt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,rt.EMPTY_NODE)):e},e}(),_t=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Je}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:x},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Je},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Et(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function It(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function St(e,t){var n=e.copy();return n.index_=t,n}function Tt(e){var t,n={};return e.isDefault()||(e.index_===Je?t="$priority":e.index_===ct?t="$value":e.index_===Re?t="$key":((0,o.hu)(e.index_ instanceof ut,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.Pz)(t),e.startSet_&&(n.startAt=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Ct(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Je&&(t.i=e.index_.toString()),t}var kt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return(0,a.ZT)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Tt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Tt(e._queryParams),r=e._path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(t.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.xO)(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=(0,o.cI)(u.responseText)}catch(e){T("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&T("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}(ue),xt=function(){function e(){this.rootNode_=rt.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Nt(){return{value:null,children:new Map}}function At(e,t,n){if(we(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=de(t);e.children.has(r)||e.children.set(r,Nt()),At(e.children.get(r),t=me(t),n)}}function Dt(e,t){if(we(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Je,(function(t,n){At(e,new he(t),n)})),Dt(e,t)}if(e.children.size>0){var r=de(t);return t=me(t),e.children.has(r)&&Dt(e.children.get(r),t)&&e.children.delete(r),0===e.children.size}return!0}function Pt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Pt(r,new he(t.toString()+"/"+e),n)}))}var Ot,Mt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.pi)({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Lt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Mt(e);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,i){i>0&&(0,o.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Rt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ot||(Ot={}));var jt,Ft=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ot.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(we(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new he(t));return new e(fe(),n,this.revert)}return(0,o.hu)(de(this.path)===t,"operationForChild called for unrelated child."),new e(me(this.path),this.affectedTree,this.revert)},e}(),Ut=function(){function e(e,t){this.source=e,this.path=t,this.type=Ot.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return we(this.path)?new e(this.source,fe()):new e(this.source,me(this.path))},e}(),zt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ot.OVERWRITE}return e.prototype.operationForChild=function(t){return we(this.path)?new e(this.source,fe(),this.snap.getImmediateChild(t)):new e(this.source,me(this.path),this.snap)},e}(),qt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ot.MERGE}return e.prototype.operationForChild=function(t){if(we(this.path)){var n=this.children.subtree(new he(t));return n.isEmpty()?null:n.value?new zt(this.source,fe(),n.value):new e(this.source,fe(),n)}return(0,o.hu)(de(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,me(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Vt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(we(e))return this.isFullyInitialized()&&!this.filtered_;var t=de(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Bt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Wt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new Oe(t.childName,t.snapshotNode),i=new Oe(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Gt(e,t){return{eventCache:e,serverCache:t}}function Ht(e,t,n,r){return Gt(new Vt(t,n,r),e.serverCache)}function Kt(e,t,n,r){return Gt(e.eventCache,new Vt(t,n,r))}function Qt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Yt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var $t=function(){function e(e,t){void 0===t&&(jt||(jt=new ze(A)),t=jt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return M(t,(function(e,t){n=n.set(new he(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:fe(),value:this.value};if(we(e))return null;var n=de(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(me(e),t);return null!=i?{path:be(new he(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(we(t))return this;var n=de(t),r=this.children.get(n);return null!==r?r.subtree(me(t)):new e(null)},e.prototype.set=function(t,n){if(we(t))return new e(n,this.children);var r=de(t),i=(this.children.get(r)||new e(null)).set(me(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(we(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=de(t),r=this.children.get(n);if(r){var i=r.remove(me(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(we(e))return this.value;var t=de(e),n=this.children.get(t);return n?n.get(me(e)):null},e.prototype.setTree=function(t,n){if(we(t))return n;var r,i=de(t),o=(this.children.get(i)||new e(null)).setTree(me(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(fe(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(be(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,fe(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(we(e))return null;var i=de(e),o=this.children.get(i);return o?o.findOnPath_(me(e),be(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,fe(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(we(t))return this;this.value&&r(n,this.value);var i=de(t),o=this.children.get(i);return o?o.foreachOnPath_(me(t),be(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(fe(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(be(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Jt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new $t(null))},e}();function Zt(e,t,n){if(we(t))return new Jt(new $t(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=_e(i,t);return o=o.updateChild(a,n),new Jt(e.writeTree_.set(i,o))}var s=new $t(n),u=e.writeTree_.setTree(t,s);return new Jt(u)}function Xt(e,t,n){var r=e;return M(n,(function(e,n){r=Zt(r,be(t,e),n)})),r}function en(e,t){if(we(t))return Jt.empty();var n=e.writeTree_.setTree(t,new $t(null));return new Jt(n)}function tn(e,t){return null!=nn(e,t)}function nn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(_e(n.path,t)):null}function rn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Je,(function(e,n){t.push(new Oe(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Oe(e,n.value))})),t}function on(e,t){if(we(t))return e;var n=nn(e,t);return new Jt(null!=n?new $t(n):e.writeTree_.subtree(t))}function an(e){return e.writeTree_.isEmpty()}function sn(e,t){return un(fe(),e.writeTree_,t)}function un(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=un(be(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(be(e,".priority"),r)),n}function cn(e,t){return wn(t,e)}function ln(e,t){if(e.snap)return Se(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Se(be(e.path,n),t))return!0;return!1}function hn(e){return e.visible}function fn(e,t,n){for(var r=Jt.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Se(n,s)?r=Zt(r,u=_e(n,s),a.snap):Se(s,n)&&(u=_e(s,n),r=Zt(r,fe(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(Se(n,s))r=Xt(r,u=_e(n,s),a.children);else if(Se(s,n))if(we(u=_e(s,n)))r=Xt(r,fe(),a.children);else{var c=(0,o.DV)(a.children,de(u));if(c){var l=c.getChild(me(u));r=Zt(r,fe(),l)}}}}}return r}function dn(e,t,n,r,i){if(r||i){var o=on(e.visibleWrites,t);return!i&&an(o)?n:i||null!=n||tn(o,fe())?sn(fn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Se(e.path,t)||Se(t,e.path))}),t),n||rt.EMPTY_NODE):null}var a=nn(e.visibleWrites,t);if(null!=a)return a;var s=on(e.visibleWrites,t);return an(s)?n:null!=n||tn(s,fe())?sn(s,n||rt.EMPTY_NODE):null}function pn(e,t,n,r){return dn(e.writeTree,e.treePath,t,n,r)}function mn(e,t){return function(e,t,n){var r=rt.EMPTY_NODE,i=nn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Je,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=on(e.visibleWrites,t);return n.forEachChild(Je,(function(e,t){var n=sn(on(o,new he(e)),t);r=r.updateImmediateChild(e,n)})),rn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return rn(on(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function gn(e,t,n,r){return function(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=be(t,n);if(tn(e.visibleWrites,a))return null;var s=on(e.visibleWrites,a);return an(s)?i.getChild(n):sn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function vn(e,t){return function(e,t){return nn(e.visibleWrites,t)}(e.writeTree,be(e.treePath,t))}function yn(e,t,n){return function(e,t,n,r){var i=be(t,n),o=nn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?sn(on(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function bn(e,t){return wn(be(e.treePath,t),e.writeTree)}function wn(e,t){return{treePath:e,writeTree:t}}var _n=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,vt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,gt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,mt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,vt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),En=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),In=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Vt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Yt(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=on(e.visibleWrites,t),c=nn(u,fe());if(null!=c)s=c;else{if(null==n)return[];s=sn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Sn(e,t,n,r,i,a){var s=t.eventCache;if(null!=vn(r,n))return t;var u=void 0,c=void 0;if(we(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Yt(t),h=mn(r,l instanceof rt?l:rt.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=pn(r,Yt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=de(n);if(".priority"===d){(0,o.hu)(1===pe(n),"Can't have a priority with additional path components");var p=s.getNode(),m=gn(r,n,p,c=t.serverCache.getNode());u=null!=m?e.filter.updatePriority(p,m):s.getNode()}else{var g=me(n),v=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=gn(r,n,s.getNode(),c);v=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else v=yn(r,d,t.serverCache);u=null!=v?e.filter.updateChild(s.getNode(),d,v,g,i,a):s.getNode()}}return Ht(t,u,s.isFullyInitialized()||we(n),e.filter.filtersNodes())}function Tn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(we(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=de(n);if(!c.isCompleteForPath(n)&&pe(n)>1)return t;var d=me(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,En,null)}var m=Kt(t,u,c.isFullyInitialized()||we(n),l.filtersNodes());return Sn(e,m,n,i,new In(i,m,o),s)}function Cn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new In(i,t,o);if(we(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Ht(t,u,!0,e.filter.filtersNodes());else{var h=de(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Ht(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=me(n),d=c.getNode().getImmediateChild(h),p=void 0;if(we(f))p=r;else{var m=l.getCompleteChild(h);p=null!=m?".priority"===ge(f)&&m.getChild(ye(f)).isEmpty()?m:m.updateChild(f,r):rt.EMPTY_NODE}s=d.equals(p)?t:Ht(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function kn(e,t){return e.eventCache.isCompleteForChild(t)}function xn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Nn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=we(n)?r:new $t(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=xn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Tn(e,c,new he(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=xn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Tn(e,c,new he(n),h,i,o,a,s)}})),c}var An,Dn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new yt(r.getIndex()),o=(n=r).loadsAllData()?new yt(n.getIndex()):n.hasLimit()?new wt(n):new bt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(rt.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(rt.EMPTY_NODE,s.getNode(),null),l=new Vt(u,a.isFullyInitialized(),i.filtersNodes()),h=new Vt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Gt(h,l),this.eventGenerator_=new Bt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Pn(e,t){var n=Yt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!we(t)&&!n.getImmediateChild(de(t)).isEmpty())?n.getChild(t):null}function On(e){return 0===e.eventRegistrations_.length}function Mn(e,t,n){var r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Ln(e,t,n,r){t.type===Ot.MERGE&&null!==t.source.queryId&&((0,o.hu)(Yt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(Qt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=function(e,t,n,r,i){var a,s,u=new _n;if(n.type===Ot.OVERWRITE){var c=n;c.source.fromUser?a=Cn(e,t,c.path,c.snap,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!we(c.path),a=Tn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Ot.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=be(n,r);kn(t,de(c))&&(s=Cn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=be(n,r);kn(t,de(c))||(s=Cn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Nn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Ot.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=vn(r,n))return t;var u=new In(r,t,i),c=t.eventCache.getNode(),l=void 0;if(we(n)||".priority"===de(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=pn(r,Yt(t));else{var f=t.serverCache.getNode();(0,o.hu)(f instanceof rt,"serverChildren would be complete if leaf node"),h=mn(r,f)}h=h,l=e.filter.updateFullNode(c,h,a)}else{var d=de(n),p=yn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,me(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,rt.EMPTY_NODE,me(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=pn(r,Yt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=vn(r,fe()),Ht(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=vn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(we(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Tn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(we(n)){var c=new $t(null);return u.getNode().forEachChild(Re,(function(e,t){c=c.set(new he(e),t)})),Nn(e,t,n,c,i,o,s,a)}return t}var l=new $t(null);return r.foreach((function(e,t){var r=be(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Nn(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Ot.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return Sn(e,Kt(t,o.getNode(),o.isFullyInitialized()||we(n),o.isFiltered()),n,r,En,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Qt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pt(Qt(t)))}}(t,a,f),{viewCache:a,changes:f}}(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.hu)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Rn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Rn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Wt(e,i,"child_removed",t,r,n),Wt(e,i,"child_added",t,r,n),Wt(e,i,"child_moved",o,r,n),Wt(e,i,"child_changed",t,r,n),Wt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var jn,Fn=function(){this.views=new Map};function Un(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Ln(c,t,n,r)}var l=[];try{for(var h=(0,a.XA)(e.views.values()),f=h.next();!f.done;f=h.next())c=f.value,l=l.concat(Ln(c,t,n,r))}catch(e){i={error:e}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function zn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=pn(n,i?r:null),u=!1;s?u=!0:r instanceof rt?(s=mn(n,r),u=!1):(s=rt.EMPTY_NODE,u=!1);var c=Gt(new Vt(s,u,!1),new Vt(r,i,!1));return new Dn(t,c)}return a}function qn(e){var t,n,r=[];try{for(var i=(0,a.XA)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Vn(e,t){var n,r,i=null;try{for(var o=(0,a.XA)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Pn(u,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Bn(e,t){if(t._queryParams.loadsAllData())return Hn(e);var n=t._queryIdentifier;return e.views.get(n)}function Wn(e,t){return null!=Bn(e,t)}function Gn(e){return null!=Hn(e)}function Hn(e){var t,n;try{for(var r=(0,a.XA)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Kn=1,Qn=function(e){this.listenProvider_=e,this.syncPointTree_=new $t(null),this.pendingWriteTree_={visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Yn(e,t,n,r,i){return function(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Zt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?tr(e,new zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function $n(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&ln(u,r.path)?i=!1:Se(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(e){e.visibleWrites=fn(e.allWrites,hn,fe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=en(e.visibleWrites,r.path):M(r.children,(function(t){e.visibleWrites=en(e.visibleWrites,be(r.path,t))})),!0))}(e.pendingWriteTree_,t)){var i=new $t(null);return null!=r.snap?i=i.set(fe(),!0):M(r.children,(function(e){i=i.set(new he(e),!0)})),tr(e,new Ft(r.path,i,n))}return[]}function Jn(e,t,n){return tr(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Zn(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),u=[];if(s&&("default"===t._queryIdentifier||Wn(s,t))){var c=function(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=Gn(e);if("default"===u)try{for(var f=(0,a.XA)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,a.CR)(d.value,2),m=p[0],g=p[1];l=l.concat(Mn(g,n,r)),On(g)&&(e.views.delete(m),g.query._queryParams.loadsAllData()||c.push(g.query))}}catch(e){i={error:e}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(g=e.views.get(u))&&(l=l.concat(Mn(g,n,r)),On(g)&&(e.views.delete(u),g.query._queryParams.loadsAllData()||c.push(g.query)));return h&&!Gn(e)&&c.push(new((0,o.hu)(An,"Reference.ts has not been loaded"),An)(t._repo,t._path)),{removed:c,events:l}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(i,(function(e,t){return Gn(t)}));if(h&&!f){var d=e.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&Gn(t))return[Hn(t)];var r=[];return t&&(r=qn(t)),M(n,(function(e,t){r=r.concat(t)})),r}))}(d),m=0;m<p.length;++m){var g=p[m],v=g.query,y=ir(e,g);e.listenProvider_.startListening(lr(v),or(e,v),y.hashFn,y.onComplete)}}!f&&l.length>0&&!r&&(h?e.listenProvider_.stopListening(lr(t),null):l.forEach((function(t){var n=e.queryToTagMap.get(ar(t));e.listenProvider_.stopListening(lr(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=ar(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return u}function Xn(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=_e(e,r);i=i||Vn(t,n),a=a||Gn(t)}));var s,u=e.syncPointTree_.get(r);u?(a=a||Gn(u),i=i||Vn(u,fe())):(u=new Fn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=rt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Vn(t,fe());n&&(i=i.updateImmediateChild(e,n))})));var c=Wn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=ar(t);(0,o.hu)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Kn++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=function(e,t,n,r,i,o){var a=zn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Je,(function(e,t){r.push(mt(e,t))})),n.isFullyInitialized()&&r.push(pt(n.getNode())),Rn(e,r,n.getNode(),t)}(a,n)}(u,t,n,cn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Bn(u,t);f=f.concat(function(e,t,n){var r=t._path,i=or(e,t),a=ir(e,n),s=e.listenProvider_.startListening(lr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!Gn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!we(e)&&t&&Gn(t))return[Hn(t).query];var r=[];return t&&(r=r.concat(qn(t).map((function(e){return e.query})))),M(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(lr(h),or(e,h))}return s}(e,t,d))}return f}function er(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Vn(n,_e(e,t));if(r)return r}));return dn(r,t,i,n,!0)}function tr(e,t){return nr(t,e.syncPointTree_,null,cn(e.pendingWriteTree_,fe()))}function nr(e,t,n,r){if(we(e.path))return rr(e,t,n,r);var i=t.get(fe());null==n&&null!=i&&(n=Vn(i,fe()));var o=[],a=de(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=bn(r,a);o=o.concat(nr(s,u,c,l))}return i&&(o=o.concat(Un(i,e,r,n))),o}function rr(e,t,n,r){var i=t.get(fe());null==n&&null!=i&&(n=Vn(i,fe()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=bn(r,t),u=e.operationForChild(t);u&&(o=o.concat(rr(u,i,a,s)))})),i&&(o=o.concat(Un(i,e,r,n))),o}function ir(e,t){var n=t.query,r=or(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||rt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=sr(e,n);if(r){var i=ur(r),o=i.path,a=i.queryId,s=_e(o,t);return cr(e,o,new Ut(Rt(a),s))}return[]}(e,n._path,r):function(e,t){return tr(e,new Ut({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Zn(e,n,null,i)}}}function or(e,t){var n=ar(t);return e.queryToTagMap.get(n)}function ar(e){return e._path.toString()+"$"+e._queryIdentifier}function sr(e,t){return e.tagToQueryMap.get(t)}function ur(e){var t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new he(e.substr(0,t))}}function cr(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),Un(r,n,cn(e.pendingWriteTree_,t),null)}function lr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.hu)(jn,"Reference.ts has not been loaded"),jn)(e._repo,e._path):e}var hr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),fr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=be(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return er(this.syncTree_,this.path_)},e}(),dr=function(e,t,n){return e&&"object"==typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?pr(e[".sv"],t,n):"object"==typeof e[".sv"]?mr(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},pr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,o.hu)(!1,"Unexpected server value: "+e)}},mr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},gr=function(e,t,n,r){return yr(t,new fr(n,e),r)},vr=function(e,t,n){return yr(e,new hr(t),n)};function yr(e,t,n){var r,i=e.getPriority().val(),o=dr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=dr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new $e(s,ot(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new $e(o))),u.forEachChild(Je,(function(e,i){var o=yr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var br=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function wr(e,t){for(var n=t instanceof he?t:new he(t),r=e,i=de(n);null!==i;){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new br(i,r,a),i=de(n=me(n))}return r}function _r(e){return e.node.value}function Er(e,t){e.node.value=t,kr(e)}function Ir(e){return e.node.childCount>0}function Sr(e,t){M(e.node.children,(function(n,r){t(new br(n,e,r))}))}function Tr(e,t,n,r){n&&!r&&t(e),Sr(e,(function(e){Tr(e,t,!0,r)})),n&&r&&t(e)}function Cr(e){return new he(null===e.parent?e.name:Cr(e.parent)+"/"+e.name)}function kr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===_r(e)&&!Ir(e)}(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,kr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,kr(e))}(e.parent,e.name,e)}var xr=/[\[\].#$\/\u0000-\u001F\u007F]/,Nr=/[\[\].#$\u0000-\u001F\u007F]/,Ar=10485760,Dr=function(e){return"string"==typeof e&&0!==e.length&&!xr.test(e)},Pr=function(e){return"string"==typeof e&&0!==e.length&&!Nr.test(e)},Or=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!C(e)||e&&"object"==typeof e&&(0,o.r3)(e,".sv")},Mr=function(e,t,n,r){r&&void 0===t||Lr((0,o.gK)(e,"value"),t,n)},Lr=function(e,t,n){var r=n instanceof he?new Te(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+ke(r));if("function"==typeof t)throw new Error(e+"contains a function "+ke(r)+" with contents = "+t.toString());if(C(t))throw new Error(e+"contains "+t.toString()+" "+ke(r));if("string"==typeof t&&t.length>Ar/3&&(0,o.ug)(t)>Ar)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+ke(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,a=!1;if(M(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Dr(t)))throw new Error(e+" contains an invalid key ("+t+") "+ke(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.ug)(t),Ce(e)}(r,t),Lr(e,n,r),u=(s=r).parts_.pop(),s.byteLength_-=(0,o.ug)(u),s.parts_.length>0&&(s.byteLength_-=1)})),i&&a)throw new Error(e+' contains ".value" child '+ke(r)+" in addition to actual children.")}},Rr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];M(t,(function(e,t){var r=new he(e);if(Lr(i,t,be(n,r)),".priority"===ge(r)&&!Or(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=ve(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Dr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ee);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Se(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},jr=function(e,t,n){if(!n||void 0!==t){if(C(t))throw new Error((0,o.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Or(t))throw new Error((0,o.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Fr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ur=function(e,t,n,r){if(!(r&&void 0===n||Dr(n)))throw new Error((0,o.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},zr=function(e,t,n,r){if(!(r&&void 0===n||Pr(n)))throw new Error((0,o.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},qr=function(e,t){if(".info"===de(t))throw new Error(e+" failed = Can't modify data under /.info/")},Vr=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Dr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Pr(e)}(n))throw new Error((0,o.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Br=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.gK)(e,t)+"must be a boolean.")},Wr=function(){this.eventLists_=[],this.recursionDepth_=0};function Gr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ie(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Hr(e,t,n){Gr(e,n),Qr(e,(function(e){return Ie(e,t)}))}function Kr(e,t,n){Gr(e,n),Qr(e,(function(e){return Se(e,t)||Se(t,e)}))}function Qr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(Yr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Yr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();y&&_("event: "+n.toString()),F(r)}}}var $r="repo_interrupt",Jr=function(){function e(e,t,n){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Nt(),this.transactionQueueTree_=new br,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Zr(e){var t=e.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Xr(e){return(t=(t={timestamp:Zr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ei(e,t,n,r,i){e.dataUpdateCount++;var a=new he(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.UI)(n,(function(e){return ot(e)}));s=function(e,t,n,r){var i=sr(e,r);if(i){var o=ur(i),a=o.path,s=o.queryId,u=_e(a,t),c=$t.fromObject(n);return cr(e,a,new qt(Rt(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=ot(n);s=function(e,t,n,r){var i=sr(e,r);if(null!=i){var o=ur(i),a=o.path,s=o.queryId,u=_e(a,t);return cr(e,a,new zt(Rt(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.UI)(n,(function(e){return ot(e)}));s=function(e,t,n){var r=$t.fromObject(n);return tr(e,new qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=ot(n);s=Jn(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=di(e,a)),Kr(e.eventQueue_,f,s)}function ti(e,t){ni(e,"connected",t),!1===t&&function(e){ci(e,"onDisconnectEvents");var t=Xr(e),n=Nt();Pt(e.onDisconnect_,fe(),(function(r,i){var o=gr(r,i,e.serverSyncTree_,t);At(n,r,o)}));var r=[];Pt(n,fe(),(function(t,n){r=r.concat(Jn(e.serverSyncTree_,t,n));var i=yi(e,t);di(e,i)})),e.onDisconnect_=Nt(),Kr(e.eventQueue_,fe(),r)}(e)}function ni(e,t,n){var r=new he("/.info/"+t),i=ot(n);e.infoData_.updateSnapshot(r,i);var o=Jn(e.infoSyncTree_,r,i);Kr(e.eventQueue_,r,o)}function ri(e){return e.nextWriteId_++}function ii(e,t,n,r,i){ci(e,"set",{path:t.toString(),value:n,priority:r});var o=Xr(e),a=ot(n,r),s=er(e.serverSyncTree_,t),u=vr(a,s,o),c=ri(e),l=Yn(e.serverSyncTree_,t,u,c,!0);Gr(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||T("set at "+t+" failed: "+n);var a=$n(e.serverSyncTree_,c,!o);Kr(e.eventQueue_,t,a),li(0,i,n,r)}));var h=yi(e,t);di(e,h),Kr(e.eventQueue_,h,[])}function oi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Dt(e.onDisconnect_,t),li(0,n,r,i)}))}function ai(e,t,n,r){var i=ot(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&At(e.onDisconnect_,t,i),li(0,r,n,o)}))}function si(e,t,n){var r;r=".info"===de(t._path)?Zn(e.infoSyncTree_,t,n):Zn(e.serverSyncTree_,t,n),Hr(e.eventQueue_,t._path,r)}function ui(e){e.persistentConnection_&&e.persistentConnection_.interrupt($r)}function ci(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),_.apply(void 0,(0,a.ev)([r],(0,a.CR)(t)))}function li(e,t,n,r){t&&F((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function hi(e,t,n){return er(e.serverSyncTree_,t,n)||rt.EMPTY_NODE}function fi(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||vi(e,t),_r(t)){var n=mi(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=hi(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.hu)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=_e(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){ci(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat($n(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);for(vi(e,wr(e.transactionQueueTree_,t)),fi(e,e.transactionQueueTree_),Kr(e.eventQueue_,t,i),s=0;s<o.length;s++)F(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else for(T("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;di(e,t)}}),s)}(e,Cr(t),n)}else Ir(t)&&Sr(t,(function(t){fi(e,t)}))}function di(e,t){var n=pi(e,t),r=Cr(n);return function(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=_e(n,l.path),f=!1;if((0,o.hu)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat($n(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)f=!0,u="maxretry",i=i.concat($n(e.serverSyncTree_,l.currentWriteId,!0));else{var d=hi(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Lr("transaction failed: Data returned ",p,l.path);var m=ot(p);"object"==typeof p&&null!=p&&(0,o.r3)(p,".priority")||(m=m.updatePriority(d.getPriority()));var g=l.currentWriteId,v=Xr(e),y=vr(m,d,v);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=y,l.currentWriteId=ri(e),a.splice(a.indexOf(g),1),i=(i=i.concat(Yn(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat($n(e.serverSyncTree_,g,!0))}else f=!0,u="nodata",i=i.concat($n(e.serverSyncTree_,l.currentWriteId,!0))}Kr(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);for(vi(e,e.transactionQueueTree_),u=0;u<r.length;u++)F(r[u]);fi(e,e.transactionQueueTree_)}}(e,mi(e,n),r),r}function pi(e,t){var n,r=e.transactionQueueTree_;for(n=de(t);null!==n&&void 0===_r(r);)r=wr(r,n),n=de(t=me(t));return r}function mi(e,t){var n=[];return gi(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function gi(e,t,n){var r=_r(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Sr(t,(function(t){gi(e,t,n)}))}function vi(e,t){var n=_r(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Er(t,n.length>0?n:void 0)}Sr(t,(function(t){vi(e,t)}))}function yi(e,t){var n=Cr(pi(e,t)),r=wr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){bi(e,t)})),bi(e,r),Tr(r,(function(t){bi(e,t)})),n}function bi(e,t){var n=_r(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat($n(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?Er(t,void 0):n.length=a+1,Kr(e.eventQueue_,Cr(t),i),s=0;s<r.length;s++)F(r[s])}}var wi=function(e,t){var n=_i(e),r=n.namespace;"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new G(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new he(n.pathString)}},_i=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.XA)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):T("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Ei=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},e}(),Ii=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Si=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Ti=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.BH;return oi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){qr("OnDisconnect.remove",this._path);var e=new o.BH;return ai(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){qr("OnDisconnect.set",this._path),Mr("OnDisconnect.set",e,this._path,!1);var t=new o.BH;return ai(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){qr("OnDisconnect.setWithPriority",this._path),Mr("OnDisconnect.setWithPriority",e,this._path,!1),jr("OnDisconnect.setWithPriority",t,!1);var n=new o.BH;return function(e,t,n,r,i){var o=ot(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&At(e.onDisconnect_,t,o),li(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){qr("OnDisconnect.update",this._path),Rr("OnDisconnect.update",e,this._path,!1);var t=new o.BH;return function(e,t,n,r){if((0,o.xb)(n))return _("onDisconnect().update() called with empty data.  Don't do anything."),void li(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&M(n,(function(n,r){var i=ot(r);At(e.onDisconnect_,be(t,n),i)})),li(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Ci=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return we(this._path)?null:ge(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ai(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Ct(this._queryParams),t=P(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Ct(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.m9)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ie(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function ki(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function xi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Re){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==k)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==x)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Je){if(null!=t&&!Or(t)||null!=n&&!Or(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof ut||e.getIndex()===ct,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ni(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ai=function(e){function t(t,n){return e.call(this,t,n,new _t,!1)||this}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=ye(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Ci),Di=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new he(t),r=Mi(this.ref,t);return new e(this._node.getChild(n),r,Je)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Mi(n.ref,r),Je))}))},e.prototype.hasChild=function(e){var t=new he(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Pi(e,t){return(e=(0,o.m9)(e))._checkNotDeleted("ref"),void 0!==t?Mi(e._root,t):e._root}function Oi(e,t){(e=(0,o.m9)(e))._checkNotDeleted("refFromURL");var n=wi(t,e._repo.repoInfo_.nodeAdmin);Vr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Pi(e,n.path.toString())}function Mi(e,t){var n;return null===de((e=(0,o.m9)(e))._path)?("child","path",!1,(n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zr("child","path",n,false)):zr("child","path",t,!1),new Ai(e._repo,be(e._path,t))}function Li(e,t){e=(0,o.m9)(e),qr("push",e._path),Mr("push",t,e._path,!0);var n,r=Zr(e._repo),i=ht(r),a=Mi(e,i),s=Mi(e,i);return n=null!=t?ji(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Ri(e){return qr("remove",e._path),ji(e,null)}function ji(e,t){e=(0,o.m9)(e),qr("set",e._path),Mr("set",t,e._path,!1);var n=new o.BH;return ii(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Fi(e,t){e=(0,o.m9)(e),qr("setPriority",e._path),jr("setPriority",t,!1);var n=new o.BH;return ii(e._repo,be(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Ui(e,t,n){if(qr("setWithPriority",e._path),Mr("setWithPriority",t,e._path,!1),jr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.BH;return ii(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function zi(e,t){Rr("update",t,e._path,!1);var n=new o.BH;return function(e,t,n,r){ci(e,"update",{path:t.toString(),value:n});var i=!0,a=Xr(e),s={};if(M(n,(function(n,r){i=!1,s[n]=gr(be(t,n),ot(r),e.serverSyncTree_,a)})),i)_("update() called with empty data.  Don't do anything."),li(0,r,"ok",void 0);else{var u=ri(e),c=function(e,t,n,r){!function(e,t,n,r){(0,o.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Xt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=$t.fromObject(n);return tr(e,new qt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,u);Gr(e.eventQueue_,c),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||T("update at "+t+" failed: "+n);var a=$n(e.serverSyncTree_,u,!o),s=a.length>0?di(e,t):t;Kr(e.eventQueue_,s,a),li(0,r,n,i)})),M(n,(function(n){var r=yi(e,be(t,n));di(e,r)})),Kr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function qi(e){return function(e,t){var n=function(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=_e(e,n);r=r||Vn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Vn(i,fe()):(i=new Fn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Vt(r,!0,!1):null;return Qt(zn(i,t,cn(e.pendingWriteTree_,t._path),o?a.getNode():rt.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ot(n),i=Jn(e.serverSyncTree_,t._path,r);return Hr(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return ci(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.m9)(e))._repo,e).then((function(t){return new Di(t,new Ai(e._repo,e._path),e._queryParams.getIndex())}))}var Vi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Ei("value",this,new Di(e.snapshotNode,new Ai(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ii(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Bi=function(){function e(e){this.callbacks=e}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,(0,o.r3)(this.callbacks,t)},e.prototype.createCancelEvent=function(e,t){return this.callbacks.cancel.hasCancelCallback?new Ii(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");var n=Mi(new Ai(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ei(e.type,this,new Di(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){if("cancel"===e.getEventType()){var t=this.callbacks.cancel;return function(){return t.onCancel(e.error)}}var n=this.callbacks[e.eventType];return function(){return n.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks||!t.callbacks)return!0;var r=Object.keys(t.callbacks),i=Object.keys(this.callbacks),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return s===a&&(!t.callbacks[a]||!this.callbacks[s]||t.callbacks[a].matches(this.callbacks[s]))}return i.every((function(e){return t.callbacks[e].matches(n.callbacks[e])}))}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks},e}();function Wi(e,t,n,r,i){var o,a;if("object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce){var s=n,u=function(t,n){s(t,n),si(e._repo,e,l)};u.userCallback=n.userCallback,u.context=n.context,n=u}var c=new Si(n,a||void 0),l="value"===t?new Vi(c):new Bi(((o={})[t]=c,o));return function(e,t,n){var r;r=".info"===de(t._path)?Xn(e.infoSyncTree_,t,n):Xn(e.serverSyncTree_,t,n),Hr(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return si(e._repo,e,l)}}function Gi(e,t,n,r){return Wi(e,"value",t,n,r)}function Hi(e,t,n,r){return Wi(e,"child_added",t,n,r)}function Ki(e,t,n,r){return Wi(e,"child_changed",t,n,r)}function Qi(e,t,n,r){return Wi(e,"child_moved",t,n,r)}function Yi(e,t,n,r){return Wi(e,"child_removed",t,n,r)}function $i(e,t,n){var r=null,i=null,o=n?new Si(n):null;"value"===t?r=new Vi(o):t&&(n&&((i={})[t]=o),r=new Bi(i)),si(e._repo,e,r)}var Ji=function(){},Zi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Mr("endAt",this._value,e._path,!0);var t=It(e._queryParams,this._value,this._key);if(Ni(t),xi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ci(e._repo,e._path,t,e._orderByCalled)},t}(Ji);function Xi(e,t){return Ur("endAt","key",t,!0),new Zi(e,t)}var eo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Mr("endBefore",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===Re?("string"==typeof n&&(n=dt(n)),i=It(t,n,r)):i=It(t,n,null==r?k:dt(r)),i.endBeforeSet_=!0,i);if(Ni(o),xi(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ci(e._repo,e._path,o,e._orderByCalled)},t}(Ji);function to(e,t){return Ur("endBefore","key",t,!0),new eo(e,t)}var no=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Mr("startAt",this._value,e._path,!0);var t=Et(e._queryParams,this._value,this._key);if(Ni(t),xi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ci(e._repo,e._path,t,e._orderByCalled)},t}(Ji);function ro(e,t){return void 0===e&&(e=null),Ur("startAt","key",t,!0),new no(e,t)}var io=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Mr("startAfter",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===Re?("string"==typeof n&&(n=ft(n)),i=Et(t,n,r)):i=Et(t,n,null==r?x:ft(r)),i.startAfterSet_=!0,i);if(Ni(o),xi(o),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ci(e._repo,e._path,o,e._orderByCalled)},t}(Ji);function oo(e,t){return Ur("startAfter","key",t,!0),new io(e,t)}var ao=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ci(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled);var t,n,r},t}(Ji);function so(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ao(e)}var uo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ci(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled);var t,n,r},t}(Ji);function co(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new uo(e)}var lo=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ki(e,"orderByChild");var t=new he(this._path);if(we(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ut(t),r=St(e._queryParams,n);return xi(r),new Ci(e._repo,e._path,r,!0)},t}(Ji);function ho(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return zr("orderByChild","path",e,!1),new lo(e)}var fo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ki(e,"orderByKey");var t=St(e._queryParams,Re);return xi(t),new Ci(e._repo,e._path,t,!0)},t}(Ji);function po(){return new fo}var mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ki(e,"orderByPriority");var t=St(e._queryParams,Je);return xi(t),new Ci(e._repo,e._path,t,!0)},t}(Ji);function go(){return new mo}var vo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ki(e,"orderByValue");var t=St(e._queryParams,ct);return xi(t),new Ci(e._repo,e._path,t,!0)},t}(Ji);function yo(){return new vo}var bo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(Mr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Zi(this._value,this._key)._apply(new no(this._value,this._key)._apply(e))},t}(Ji);function wo(e,t){return Ur("equalTo","key",t,!0),new bo(e,t)}function _o(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.m9)(e);try{for(var u=(0,a.XA)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.hu)(!An,"__referenceConstructor has already been defined"),An=e}(Ai),function(e){(0,o.hu)(!jn,"__referenceConstructor has already been defined"),jn=e}(Ai);var Eo={},Io=!1;function So(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var o,a=wi(i,r),s=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,i="http://"+u+"?ns="+s.namespace,s=(a=wi(i,r)).repoInfo):o=!a.repoInfo.secure;var c=r&&o?new q:new z(e.name,e.options,t);Vr("Invalid Firebase Database URL",a),we(a.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");var l=function(e,t,n){var r=Eo[t.name];r||(r={},Eo[t.name]=r);var i=r[e.toURLString()];return i&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Jr(e,Io,n),r[e.toURLString()]=i,i}(s,e,c);return new To(l,e)}var To=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){if(e.stats_=$(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new kt(e.repoInfo_,(function(t,n,r,i){ei(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return ti(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Pe(e.repoInfo_,t,(function(t,n,r,i){ei(e,t,n,r,i)}),(function(t){ti(e,t)}),(function(t){!function(e,t){M(t,(function(t,n){ni(e,t,n)}))}(e,t)}),e.authTokenProvider_,n),e.server_=e.persistentConnection_}var r,i;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=(r=function(){return new Lt(e.stats_,e.server_)},i=e.repoInfo_.toString(),Y[i]||(Y[i]=r()),Y[i]),e.infoData_=new xt,e.infoSyncTree_=new Qn({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Jn(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),ni(e,"connected",!1),e.serverSyncTree_=new Qn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Kr(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ai(this._repo,fe())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=Eo[t])&&n[e.key]===e||S("Database "+t+"("+e.repoInfo_+") has already been deleted."),ui(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&S("Cannot call "+e+" on a deleted database.")},e}();function Co(e){(e=(0,o.m9)(e))._checkNotDeleted("goOffline"),ui(e._repo)}function ko(e){var t;(e=(0,o.m9)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume($r)}function xo(e,t){w(e,t)}var No={".sv":"timestamp"},Ao=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Do(e,t,n){var r;if(e=(0,o.m9)(e),qr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new o.BH,s=Gi(e,(function(){}));return function(t,n,r,i,s,u){ci(t,"transaction on "+n);var c={path:n,update:r,onComplete:function(t,n,r){var i=null;t?a.reject(t):(i=new Di(r,new Ai(e._repo,e._path),Je),a.resolve(new Ao(n,i)))},status:null,order:m(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=hi(t,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Lr("transaction failed: Data returned ",h,c.path),c.status=0;var f=wr(t.transactionQueueTree_,n),d=_r(f)||[];d.push(c),Er(f,d);var p=void 0;"object"==typeof h&&null!==h&&(0,o.r3)(h,".priority")?(p=(0,o.DV)(h,".priority"),(0,o.hu)(Or(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(er(t.serverSyncTree_,n)||rt.EMPTY_NODE).getPriority().val();var g=Xr(t),v=ot(h,p),y=vr(v,l,g);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=y,c.currentWriteId=ri(t);var b=Yn(t.serverSyncTree_,n,y,c.currentWriteId,c.applyLocally);Kr(t.eventQueue_,n,b),fi(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,s,i),a.promise}var Po=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Oo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Mo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),zr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),zr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ro(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Lo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Mo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Gi(this._delegate,c,l),n;case"child_added":return Hi(this._delegate,c,l),n;case"child_removed":return Yi(this._delegate,c,l),n;case"child_changed":return Ki(this._delegate,c,l),n;case"child_moved":return Qi(this._delegate,c,l),n;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.Dv)("Query.off",0,3,arguments.length),Fr("Query.off",e,!0),(0,o.Wj)("Query.off","callback",t,!0),(0,o.lb)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,$i(this._delegate,e,r)}else $i(this._delegate,e)},e.prototype.get=function(){var e=this;return qi(this._delegate).then((function(t){return new Mo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=new o.BH,c=function(e,t){var r=new Mo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":Gi(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Hi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Yi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Ki(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Qi(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new e(this.database,_o(this._delegate,so(t)))},e.prototype.limitToLast=function(t){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new e(this.database,_o(this._delegate,co(t)))},e.prototype.orderByChild=function(t){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new e(this.database,_o(this._delegate,ho(t)))},e.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new e(this.database,_o(this._delegate,po()))},e.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new e(this.database,_o(this._delegate,go()))},e.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new e(this.database,_o(this._delegate,yo()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new e(this.database,_o(this._delegate,ro(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new e(this.database,_o(this._delegate,oo(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new e(this.database,_o(this._delegate,Xi(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new e(this.database,_o(this._delegate,to(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new e(this.database,_o(this._delegate,wo(t,n)))},e.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,o.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Ro(this.database,new Ai(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Ro=function(e){function t(t,n){var r=e.call(this,t,new Ci(n._repo,n._path,new _t,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.ZT)(t,e),t.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,Mi(this._delegate,e))},t.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",t,!0);var n=ji(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qr("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",t,!0);var i=zi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=Ui(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",e,!0);var t=Ri(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,o.Wj)("Reference.transaction","onComplete",t,!0),Br("Reference.transaction","applyLocally",n,!0);var i=Do(this._delegate,e,{applyLocally:n}).then((function(e){return new Oo(e.committed,new Mo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",t,!0);var n=Fi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",n,!0);var i=Li(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return qr("Reference.onDisconnect",this._delegate._path),new Po(new Ti(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Lo),jo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t){!function(e,t,n){(e=(0,o.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized."),function(e,t,n){e.repoInfo_=new G(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new q)}(e._repo,t,n)}(this._delegate,e,t)},e.prototype.ref=function(e){if((0,o.Dv)("database.ref",0,1,arguments.length),e instanceof Ro){var t=Oi(this._delegate,e.toString());return new Ro(this,t)}return t=Pi(this._delegate,e),new Ro(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.Dv)(t,1,1,arguments.length);var n=Oi(this._delegate,e);return new Ro(this,n)},e.prototype.goOffline=function(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),Co(this._delegate)},e.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),ko(this._delegate)},e.ServerValue={TIMESTAMP:No,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}(),Fo=Object.freeze({__proto__:null,forceLongPolling:function(){oe.forceDisallow(),ee.forceAllow()},forceWebSockets:function(){ee.forceDisallow()},isWebSocketsAvailable:function(){return oe.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Mt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);M(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n;e.stats_.incrementCounter(t),n=t,e.statsReporter_.statsToReport_[n]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;re(r);var c=new i.zt("auth-internal",new i.H0("database-standalone"));return c.setComponent(new i.wA("auth-internal",(function(){return o}),"PRIVATE")),{instance:new jo(So(t,c,n,u),t),namespace:a}}}),Uo=Pe;Pe.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Pe.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var zo=se,qo=G,Vo=Object.freeze({__proto__:null,DataConnection:Uo,RealTimeConnection:zo,hijackHash:function(e){var t=Pe.prototype.put;return Pe.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Pe.prototype.put=t}},ConnectionTarget:qo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Io=e}(e)}}),Bo=jo.ServerValue;!function(t){re(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.wA("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return new jo(So(r,i,n),r)}),"PUBLIC").setServiceProps({Reference:Ro,Query:Lo,Database:jo,DataSnapshot:Mo,enableLogging:xo,INTERNAL:Fo,ServerValue:Bo,TEST_ACCESS:Vo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.9.10"),(0,o.Yr)()&&(e.exports=n)}(r.Z)},861:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,{in:function(){return o},Yd:function(){return h},Ub:function(){return f},Am:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},574:function(e,t,n){"use strict";n.d(t,{BH:function(){return f},LL:function(){return S},ZR:function(){return I},gQ:function(){return j},hu:function(){return i},g5:function(){return o},US:function(){return s},h$:function(){return u},r3:function(){return P},ne:function(){return F},p$:function(){return l},ZB:function(){return h},gK:function(){return V},m9:function(){return K},z$:function(){return d},GJ:function(){return D},jU:function(){return g},ru:function(){return v},d:function(){return b},xb:function(){return M},w1:function(){return w},uI:function(){return p},UG:function(){return m},Yr:function(){return E},b$:function(){return y},Mn:function(){return _},w9:function(){return A},cI:function(){return k},UI:function(){return L},xO:function(){return R},DV:function(){return O},ug:function(){return H},dS:function(){return G},Pz:function(){return x},Dv:function(){return q},Wj:function(){return B},lb:function(){return W}});var r=n(622),i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=a(e);return s.encodeByteArray(t,!0)},c=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function m(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function g(){return"object"==typeof self&&self.self===self}function v(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return d().indexOf("Electron/")>=0}function w(){var e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return d().indexOf("MSAppHost/")>=0}function E(){return!1}var I=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),S=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?T(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new I(i,s,r);return u},e}();function T(e,t){return e.replace(C,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var C=/\{\$([^}]+)}/g;function k(e){return JSON.parse(e)}function x(e){return JSON.stringify(e)}var N=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=k(c(o[0])||""),n=k(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},A=function(e){var t=N(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},D=function(e){var t=N(e).claims;return"object"==typeof t&&!0===t.admin};function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function M(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function L(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function R(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var j=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function F(e,t){var n=new U(e,t);return n.subscribe.bind(n)}var U=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function z(){}var q=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function V(e,t){return e+" failed: "+t+" argument "}function B(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(V(e,t)+"must be a valid function.")}function W(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(V(e,t)+"must be a valid context object.")}var G=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},H=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function K(e){return e&&e._delegate?e._delegate:e}},773:function(e,t,n){"use strict";var r=n(972),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),m=u(n),g=0;g<a.length;++g){var v=a[g];if(!(o[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=f(n,v);try{c(t,v,y)}catch(e){}}}}return t}},347:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},508:function(e,t,n){var r=n(710);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return l(new RegExp("(?:"+i.join("|")+")",h(r)),n)}(t,n,i):function(e,t,n){return f(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=p&&p!==m,E="+"===b||"*"===b,I="?"===b||"*"===b,S=n[2]||l,T=v||y;r.push({name:g||o++,prefix:m||"",delimiter:S,optional:I,repeat:E,partial:_,asterisk:!!w,pattern:T?c(T):w?".*":"[^"+u(S)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+a,h(n)),t)}},710:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},433:function(e,t,n){"use strict";var r=n(642);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},74:function(e,t,n){e.exports=n(433)()},642:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},748:function(e,t,n){"use strict";var r=n(466),i=n(347),o=n(767);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,I=60106,S=60107,T=60108,C=60114,k=60109,x=60110,N=60112,A=60113,D=60120,P=60115,O=60116,M=60121,L=60128,R=60129,j=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),I=U("react.portal"),S=U("react.fragment"),T=U("react.strict_mode"),C=U("react.profiler"),k=U("react.provider"),x=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),D=U("react.suspense_list"),P=U("react.memo"),O=U("react.lazy"),M=U("react.block"),U("react.scope"),L=U("react.opaque.id"),R=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var z,q="function"==typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function B(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var W=!1;function G(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return G(e.type,!1);case 11:return G(e.type.render,!1);case 22:return G(e.type._render,!1);case 1:return G(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case I:return"Portal";case C:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return K(e.type);case M:return K(e._render);case O:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,ke=null,xe=null;function Ne(e){if(e=Xr(e)){if("function"!=typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=ti(t),Ce(e.stateNode,e.type,t))}}function Ae(e){ke?xe?xe.push(e):xe=[e]:ke=e}function De(){if(ke){var e=ke,t=xe;if(xe=ke=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Pe,Re=!1,je=!1;function Fe(){null===ke&&null===xe||(Me(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(h)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){ze=!1}function Ve(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Be=!1,We=null,Ge=!1,He=null,Ke={onError:function(e){Be=!0,We=e}};function Qe(e,t,n,r,i,o,a,s,u){Be=!1,We=null,Ve.apply(Ke,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(a(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Xe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=Xr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Zr(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Xr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Xr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&vt(at)&&(at=null),null!==st&&vt(st)&&(st=null),null!==ut&&vt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},St={},Tt={};function Ct(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var kt=Ct("animationend"),xt=Ct("animationiteration"),Nt=Ct("animationstart"),At=Ct("transitionend"),Dt=new Map,Pt=new Map,Ot=["abort","abort",kt,"animationEnd",xt,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Dt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Rt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~a;0!==u?(r=Rt(u),i=Lt):0!=(s&=o)&&(r=Rt(s),i=Lt)}else 0!=(o=n&~a)?(r=Rt(o),i=Lt):0!==s&&(r=Rt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Bt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Rt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Bt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Ut(10,t):e;case 10:return 0===(e=zt(192&~t))?Ut(8,t):e;case 8:return 0===(e=zt(3584&~t))&&0===(e=zt(4186112&~t))&&(e=512),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function zt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Gt|0)|0},Wt=Math.log,Gt=Math.LN2,Ht=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Re||Me();var i=Jt,o=Re;Re=!0;try{Oe(i,e,t,n,r)}finally{(Re=o)||Fe()}}function $t(e,t,n,r){Kt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0==(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=Zr(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$e(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Xt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(hn),dn=i({},hn,{view:0,detail:0}),pn=sn(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(mn),vn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},dn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var kn=sn(i({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=sn(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],On=h&&"CompositionEvent"in window,Mn=null;h&&"documentMode"in document&&(Mn=document.documentMode);var Ln=h&&"TextEvent"in window&&!Mn,Rn=h&&(!On||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ae(r),0<(t=Or(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Kn(e){Tr(e,0)}function Qn(e){if(J(ei(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(h){var Jn;if(h){var Zn="oninput"in document;if(!Zn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Zn="function"==typeof Xn.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Gn&&(Gn.detachEvent("onpropertychange",tr),Hn=Gn=null)}function tr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];if(Wn(t,Hn,e,Te(e)),e=Kn,Re)e(t);else{Re=!0;try{Pe(e,t)}finally{Re=!1,Fe()}}}}function nr(e,t,n){"focusin"===e?(er(),Hn=n,(Gn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function ir(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==Z(r)||(r="selectionStart"in(r=mr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Or(gr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Ot,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<wr.length;_r++)Pt.set(wr[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Sr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Qe.apply(this,arguments),Be){if(!Be)throw Error(a(198));var l=We;Be=!1,We=null,Ge||(Ge=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Sr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Sr(i,s,c),o=u}}}if(Ge)throw e=He,Ge=!1,He=null,e}function Cr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var kr="_reactListening"+Math.random().toString(36).slice(2);function xr(e){e[kr]||(e[kr]=!0,s.forEach((function(t){Ir.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ni(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Ar(o,e,i,t),a.add(s))}function Ar(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=$t;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Zr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e();je=!0;try{Le(e,t,n)}finally{je=!1,Fe()}}((function(){var r=o,i=Te(n),a=[];e:{var s=Dt.get(e);if(void 0!==s){var u=fn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=kn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case kt:case xt:case Nt:u=bn;break;case At:u=An;break;case"scroll":u=pn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var l=0!=(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&null!=(m=Ue(p,f))&&l.push(Pr(p,m,d))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[$r])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(h=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ei(u),d=null==c?s:ei(c),(s=new l(m,p+"leave",u,n,i)).target=h,s.relatedTarget=d,m=null,Zr(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,m=l),h=m,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Mr(d))p++;for(d=0,m=f;m;m=Mr(m))d++;for(;0<p-d;)l=Mr(l),p--;for(;0<d-p;)f=Mr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Mr(l),f=Mr(f)}l=null}else l=null;null!==u&&Lr(a,s,u,l,!1),null!==c&&null!==h&&Lr(a,h,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Yn;else if(Bn(s))if($n)g=or;else{g=rr;var v=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ei(r):window,e){case"focusin":(Bn(v)||"true"===v.contentEditable)&&(mr=v,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=nn()):(en="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(v=Or(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:v}),(y||null!==(y=zn(n)))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&Un(e,t)?(e=nn(),tn=en=Xt=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Or(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Tr(a,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Or(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Pr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Pr(e,o,i))),e=e.return}return r}function Mr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,o))&&a.unshift(Pr(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(Pr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Rr(){}var jr=null,Fr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,Vr="function"==typeof clearTimeout?clearTimeout:void 0;function Br(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0,Kr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Kr,Yr="__reactProps$"+Kr,$r="__reactContainer$"+Kr,Jr="__reactEvents$"+Kr;function Zr(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$r]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Qr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function Xr(e){return!(e=e[Qr]||e[$r])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ti(e){return e[Yr]||null}function ni(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function ai(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function si(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},ci=oi(ui),li=oi(!1),hi=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function di(e){return null!=e.childContextTypes}function pi(){ai(li),ai(ci)}function mi(e,t,n){if(ci.current!==ui)throw Error(a(168));si(ci,t),si(li,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,K(t)||"Unknown",o));return i({},n,r)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,hi=ci.current,si(ci,e),si(li,li.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ai(li),ai(ci),si(ci,e)):ai(li),si(li,n)}var bi=null,wi=null,_i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Si=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Ci=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,xi=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Oi={},Mi=void 0!==Ti?Ti:function(){},Li=null,Ri=null,ji=!1,Fi=Ci(),Ui=1e4>Fi?Ci:function(){return Ci()-Fi};function zi(){switch(ki()){case xi:return 99;case Ni:return 98;case Ai:return 97;case Di:return 96;case Pi:return 95;default:throw Error(a(332))}}function qi(e){switch(e){case 99:return xi;case 98:return Ni;case 97:return Ai;case 96:return Di;case 95:return Pi;default:throw Error(a(332))}}function Vi(e,t){return e=qi(e),_i(e,t)}function Bi(e,t,n){return e=qi(e),Ei(e,t,n)}function Wi(){if(null!==Ri){var e=Ri;Ri=null,Ii(e)}Gi()}function Gi(){if(!ji&&null!==Li){ji=!0;var e=0;try{var t=Li;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Ei(xi,Wi),t}finally{ji=!1}}}var Hi=_.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=oi(null),Yi=null,$i=null,Ji=null;function Zi(){Ji=$i=Yi=null}function Xi(e){var t=Qi.current;ai(Qi),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Yi=e,Ji=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Oa=!0),e.firstContext=null)}function no(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$i){if(null===Yi)throw Error(a(308));$i=t,Yi.dependencies={lanes:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(u=t,d=n,m.tag){case 1:if("function"==typeof(p=m.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(d,f,u):p))break e;f=i({},f,u);break e;case 2:ro=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Ls|=s,e.lanes=s,e.memoizedState=f}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new r.Component).refs;function fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=au(),r=su(e),i=ao(n,r);i.tag=2,null!=t&&(i.callback=t),so(e,i),uu(e,r,n)}};function mo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function go(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=di(t)?hi:ci.current,o=(r=null!=(r=t.contextTypes))?fi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=di(t)?hi:ci.current,i.context=fi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=qu(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Vu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Wu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=qu(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case I:return(t=Gu(t,e.mode,n)).return=e,t}if(bo(t)||V(t))return(t=Vu(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===S?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case I:return n.key===i?l(e,t,n,r):null}if(bo(n)||V(n))return null!==i?null:h(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===S?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||V(r))return h(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,s[m],u);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,h=g}if(m===s.length)return n(i,h),c;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(a=o(h,a,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=V(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=d(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===h?l=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return l}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===S&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===S){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===S?((r=Vu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=qu(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return s(e);case I:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Wu(o,e.mode,u)).return=e,e=r),s(e);if(bo(o))return m(e,r,o,u);if(V(o))return g(e,r,o,u);if(l&&_o(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return n(e,r)}}var Io=Eo(!0),So=Eo(!1),To={},Co=oi(To),ko=oi(To),xo=oi(To);function No(e){if(e===To)throw Error(a(174));return e}function Ao(e,t){switch(si(xo,t),si(ko,e),si(Co,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(Co),si(Co,t)}function Do(){ai(Co),ai(ko),ai(xo)}function Po(e){No(xo.current);var t=No(Co.current),n=de(t,e.type);t!==n&&(si(ko,e),si(Co,n))}function Oo(e){ko.current===e&&(ai(Co),ai(ko))}var Mo=oi(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ro=null,jo=null,Fo=!1;function Uo(e,t){var n=Fu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function qo(e){if(Fo){var t=jo;if(t){var n=t;if(!zo(e,t)){if(!(t=Wr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Fo=!1,void(Ro=e);Uo(Ro,n)}Ro=e,jo=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Fo=!1,Ro=e}}function Vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ro=e}function Bo(e){if(e!==Ro)return!1;if(!Fo)return Vo(e),Fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=jo;t;)Uo(e,t),t=Wr(t.nextSibling);if(Vo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jo=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jo=null}}else jo=Ro?Wr(e.stateNode.nextSibling):null;return!0}function Wo(){jo=Ro=null,Fo=!1}var Go=[];function Ho(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Ko=_.ReactCurrentDispatcher,Qo=_.ReactCurrentBatchConfig,Yo=0,$o=null,Jo=null,Zo=null,Xo=!1,ea=!1;function ta(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){if(Yo=o,$o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=null===e||null===e.memoizedState?Na:Aa,e=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Zo=Jo=null,t.updateQueue=null,Ko.current=Da,e=n(r,i)}while(ea)}if(Ko.current=xa,t=null!==Jo&&null!==Jo.next,Yo=0,Zo=Jo=$o=null,Xo=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?$o.memoizedState=Zo=e:Zo=Zo.next=e,Zo}function oa(){if(null===Jo){var e=$o.alternate;e=null!==e?e.memoizedState:null}else e=Jo.next;var t=null===Zo?$o.memoizedState:Zo.next;if(null!==t)Zo=t,Jo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Jo=e).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===Zo?$o.memoizedState=Zo=e:Zo=Zo.next=e}return Zo}function aa(e,t){return"function"==typeof t?t(e):t}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Yo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,$o.lanes|=l,Ls|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,ar(r,t.memoizedState)||(Oa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(Oa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Yo&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(a(350))}function la(e,t,n,r){var i=ks;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Ko.current,c=u.useState((function(){return ca(i,t,n)})),l=c[1],h=c[0];c=Zo;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,m=f.source;f=f.subscribe;var g=$o;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!ar(s,e)){e=n(t._source),ar(h,e)||(l(e),e=su(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Bt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=su(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(p,n)&&ar(m,t)&&ar(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:h}).dispatch=l=ka.bind(null,$o,e),c.queue=e,c.baseQueue=null,h=ca(i,t,n),c.memoizedState=c.baseState=h),h}function ha(e,t,n){return la(oa(),e,t,n)}function fa(e){var t=ia();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e}).dispatch=ka.bind(null,$o,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$o.updateQueue)?(t={lastEffect:null},$o.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function ma(){return oa().memoizedState}function ga(e,t,n,r){var i=ia();$o.flags|=e,i.memoizedState=da(1|t,n,void 0,void 0===r?null:r)}function va(e,t,n,r){var i=oa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&na(r,a.deps))return void da(t,n,o,r)}$o.flags|=e,i.memoizedState=da(1|t,n,o,r)}function ya(e,t){return ga(516,4,e,t)}function ba(e,t){return va(516,4,e,t)}function wa(e,t){return va(4,2,e,t)}function _a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(e,t,n){return n=null!=n?n.concat([e]):null,va(4,2,_a.bind(null,t,e),n)}function Ia(){}function Sa(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ca(e,t){var n=zi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function ka(e,t,n){var r=au(),i=su(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===$o||null!==a&&a===$o)ea=Xo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,ar(u,s))return}catch(e){}uu(e,i,r)}}var xa={readContext:no,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Na={readContext:no,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ga(4,2,_a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ka.bind(null,$o,e),[r.memoizedState,e]},useRef:pa,useState:fa,useDebugValue:Ia,useDeferredValue:function(e){var t=fa(e),n=t[0],r=t[1];return ya((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=fa(!1),t=e[0];return pa(e=Ca.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},la(r,e,t,n)},useOpaqueIdentifier:function(){if(Fo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(a(355))})),n=fa(t)[1];return 0==(2&$o.mode)&&($o.flags|=516,da(5,(function(){n("r:"+(Hr++).toString(36))}),void 0,null)),t}return fa(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},Aa={readContext:no,useCallback:Sa,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:Ta,useReducer:sa,useRef:ma,useState:function(){return sa(aa)},useDebugValue:Ia,useDeferredValue:function(e){var t=sa(aa),n=t[0],r=t[1];return ba((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=sa(aa)[0];return[ma().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return sa(aa)[0]},unstable_isNewReconciler:!1},Da={readContext:no,useCallback:Sa,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:Ta,useReducer:ua,useRef:ma,useState:function(){return ua(aa)},useDebugValue:Ia,useDeferredValue:function(e){var t=ua(aa),n=t[0],r=t[1];return ba((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ua(aa)[0];return[ma().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(aa)[0]},unstable_isNewReconciler:!1},Pa=_.ReactCurrentOwner,Oa=!1;function Ma(e,t,n,r){t.child=null===e?So(t,null,n,r):Io(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=ra(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,Ma(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Xa(e,t,i))}function Ra(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Uu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?Xa(e,t,o):(t.flags|=1,(e=zu(a,r)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Oa=!1,0==(o&i))return t.lanes=e.lanes,Xa(e,t,o);0!=(16384&e.flags)&&(Oa=!0)}return za(e,t,n,r,o)}function Fa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},gu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gu(0,e),null;t.memoizedState={baseLanes:0},gu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,gu(0,r);return Ma(e,t,i,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=di(n)?hi:ci.current;return o=fi(t,o),to(t,i),n=ra(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,Ma(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Xa(e,t,i))}function qa(e,t,n,r,i){if(di(n)){var o=!0;vi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):fi(t,c=di(n)?hi:ci.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&vo(t,a,r,c),ro=!1;var f=t.memoizedState;a.state=f,co(t,r,a,i),u=t.memoizedState,s!==r||f!==u||li.current||ro?("function"==typeof l&&(fo(t,n,l,r),u=t.memoizedState),(s=ro||mo(t,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ki(t.type,s),a.props=c,h=t.pendingProps,f=a.context,u="object"==typeof(u=n.contextType)&&null!==u?no(u):fi(t,u=di(n)?hi:ci.current);var d=n.getDerivedStateFromProps;(l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==u)&&vo(t,a,r,u),ro=!1,f=t.memoizedState,a.state=f,co(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||li.current||ro?("function"==typeof d&&(fo(t,n,d,r),p=t.memoizedState),(c=ro||mo(t,n,c,r,f,p,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Va(e,t,n,r,o,i)}function Va(e,t,n,r,i,o){Ua(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&yi(t,n,!1),Xa(e,t,o);r=t.stateNode,Pa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,s,o)):Ma(e,t,s,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Ao(e,t.containerInfo)}var Wa,Ga,Ha,Ka={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Mo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),si(Mo,1&o),null===e?(void 0!==i.fallback&&qo(t),e=i.children,o=i.fallback,a?(e=Ya(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ka,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ya(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ka,t.lanes=33554432,e):((n=Bu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zu(a,s),null!==e?r=zu(e,r):(r=Vu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ka,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=zu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Ya(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Bu(t,i,0,null),n=Vu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function $a(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Ja(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Za(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ma(e,t,r.children,n),0!=(2&(r=Mo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n);else if(19===e.tag)$a(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Mo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ja(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ja(t,!0,n,null,o,t.lastEffect);break;case"together":Ja(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!Fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(t.type)&&pi(),null;case 3:return Do(),ai(li),ai(ci),Ho(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Oo(t);var o=No(xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ga(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(Co.current),Bo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[Yr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Cr(Er[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":ue(r,s),Cr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Rr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Qr]=t,e[Yr]=r,Wa(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),o=r;break;case"iframe":case"object":case"embed":Cr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Cr(Er[o],e);o=r;break;case"source":Cr("error",e),o=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),o=r;break;case"details":Cr("toggle",e),o=r;break;case"input":ee(e,r),o=X(e,r),Cr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Cr("invalid",e);break;default:o=r}Ie(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?_e(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"==typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Cr("scroll",e):null!=h&&w(e,s,h,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Rr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=No(xo.current),No(Co.current),Bo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ai(Mo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Bo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Mo.current)?0===Ps&&(Ps=3):(0!==Ps&&3!==Ps||(Ps=4),null===ks||0==(134217727&Ls)&&0==(134217727&Rs)||fu(ks,Ns))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&xr(t.stateNode.containerInfo),null;case 10:return Xi(t),null;case 17:return di(t.type)&&pi(),null;case 19:if(ai(Mo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)es(r,!1);else{if(0!==Ps||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Lo(e))){for(t.flags|=64,es(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Mo,1&Mo.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>zs&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Fo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>zs&&1073741824!==n&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Mo.current,si(Mo,s?1&t|2:1&t),n):null;case 23:case 24:return vu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ns(e){switch(e.tag){case 1:di(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ai(li),ai(ci),Ho(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Oo(e),null;case 13:return ai(Mo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Mo),null;case 4:return Do(),null;case 10:return Xi(e),null;case 23:case 24:return vu(),null;default:return null}}function rs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function is(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Co.current);var a,s=null;switch(n){case"input":o=X(e,o),r=X(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Rr)}for(h in Ie(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Cr("scroll",e),s||c===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ha=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function as(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Gs=r),is(0,t)},n}function ss(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return is(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var us="function"==typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Mu(e,t)}else t.current=null}function ls(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Br(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Du(n,e),Au(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&lo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}lo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function fs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ds(e,t){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Du(t,n);else{r=t;try{i()}catch(e){Mu(r,e)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Mu(t,e)}break;case 5:cs(t);break;case 4:bs(e,t)}}function ps(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function gs(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?vs(e,n,t):ys(e,n,t)}function vs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rr));else if(4!==r&&null!==(e=e.child))for(vs(e,t,n),e=e.sibling;null!==e;)vs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ds(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ds(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Yr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ve(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Us=Ui(),fs(t.child,!0)),void _s(t);case 19:return void _s(t);case 17:return;case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(a(163))}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Ru.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Es(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Is=Math.ceil,Ss=_.ReactCurrentDispatcher,Ts=_.ReactCurrentOwner,Cs=0,ks=null,xs=null,Ns=0,As=0,Ds=oi(0),Ps=0,Os=null,Ms=0,Ls=0,Rs=0,js=0,Fs=null,Us=0,zs=1/0;function qs(){zs=Ui()+500}var Vs,Bs=null,Ws=!1,Gs=null,Hs=null,Ks=!1,Qs=null,Ys=90,$s=[],Js=[],Zs=null,Xs=0,eu=null,tu=-1,nu=0,ru=0,iu=null,ou=!1;function au(){return 0!=(48&Cs)?Ui():-1!==tu?tu:tu=Ui()}function su(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===zi()?1:2;if(0===nu&&(nu=Ms),0!==Hi.transition){0!==ru&&(ru=null!==Fs?Fs.pendingLanes:0),e=nu;var t=4186112&~ru;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),e=Ut(0!=(4&Cs)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nu)}function uu(e,t,n){if(50<Xs)throw Xs=0,eu=null,Error(a(185));if(null===(e=cu(e,t)))return null;Vt(e,t,n),e===ks&&(Rs|=t,4===Ps&&fu(e,Ns));var r=zi();1===t?0!=(8&Cs)&&0==(48&Cs)?du(e):(lu(e,n),0===Cs&&(qs(),Wi())):(0==(4&Cs)||98!==r&&99!==r||(null===Zs?Zs=new Set([e]):Zs.add(e)),lu(e,n)),Fs=e}function cu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function lu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Bt(s),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Rt(c);var h=Lt;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===ks?Ns:0),t=Lt,0===r)null!==n&&(n!==Oi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Oi&&Ii(n)}15===t?(n=du.bind(null,e),null===Li?(Li=[n],Ri=Ei(xi,Gi)):Li.push(n),n=Oi):n=14===t?Bi(99,du.bind(null,e)):Bi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),hu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(tu=-1,ru=nu=0,0!=(48&Cs))throw Error(a(327));var t=e.callbackNode;if(Nu()&&e.callbackNode!==t)return null;var n=jt(e,e===ks?Ns:0);if(0===n)return null;var r=n,i=Cs;Cs|=16;var o=wu();for(ks===e&&Ns===r||(qs(),yu(e,r));;)try{Iu();break}catch(t){bu(e,t)}if(Zi(),Ss.current=o,Cs=i,null!==xs?r=0:(ks=null,Ns=0,r=Ps),0!=(Ms&Rs))yu(e,0);else if(0!==r){if(2===r&&(Cs|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(n=Ft(e))&&(r=_u(e,n))),1===r)throw t=Os,yu(e,0),fu(e,n),lu(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Cu(e);break;case 3:if(fu(e,n),(62914560&n)===n&&10<(r=Us+500-Ui())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){au(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qr(Cu.bind(null,e),r);break}Cu(e);break;case 4:if(fu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Bt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){e.timeoutHandle=qr(Cu.bind(null,e),n);break}Cu(e);break;case 5:Cu(e);break;default:throw Error(a(329))}}return lu(e,Ui()),e.callbackNode===t?hu.bind(null,e):null}function fu(e,t){for(t&=~js,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!=(48&Cs))throw Error(a(327));if(Nu(),e===ks&&0!=(e.expiredLanes&Ns)){var t=Ns,n=_u(e,t);0!=(Ms&Rs)&&(n=_u(e,t=jt(e,t)))}else n=_u(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Cs|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(t=Ft(e))&&(n=_u(e,t))),1===n)throw n=Os,yu(e,0),fu(e,t),lu(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cu(e),lu(e,Ui()),null}function pu(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(qs(),Wi())}}function mu(e,t){var n=Cs;Cs&=-2,Cs|=8;try{return e(t)}finally{0===(Cs=n)&&(qs(),Wi())}}function gu(e,t){si(Ds,As),As|=t,Ms|=t}function vu(){As=Ds.current,ai(Ds)}function yu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==xs)for(n=xs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Do(),ai(li),ai(ci),Ho();break;case 5:Oo(r);break;case 4:Do();break;case 13:case 19:ai(Mo);break;case 10:Xi(r);break;case 23:case 24:vu()}n=n.return}ks=e,xs=zu(e.current,null),Ns=As=Ms=t,Ps=0,Os=null,js=Rs=Ls=0}function bu(e,t){for(;;){var n=xs;try{if(Zi(),Ko.current=xa,Xo){for(var r=$o.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Xo=!1}if(Yo=0,Zo=Jo=$o=null,ea=!1,Ts.current=null,null===n||null===n.return){Ps=1,Os=t,xs=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ns,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Mo.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var v=new Set;v.add(c),f.updateQueue=v}else g.add(c);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(-1,1);y.tag=2,so(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new os,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Lu.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ps&&(Ps=2),u=rs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,uo(f,as(0,o,t));break e;case 1:o=u;var _=f.type,E=f.stateNode;if(0==(64&f.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Hs||!Hs.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,uo(f,ss(f,o,t));break e}}f=f.return}while(null!==f)}Tu(n)}catch(e){t=e,xs===n&&null!==n&&(xs=n=n.return);continue}break}}function wu(){var e=Ss.current;return Ss.current=xa,null===e?xa:e}function _u(e,t){var n=Cs;Cs|=16;var r=wu();for(ks===e&&Ns===t||yu(e,t);;)try{Eu();break}catch(t){bu(e,t)}if(Zi(),Cs=n,Ss.current=r,null!==xs)throw Error(a(261));return ks=null,Ns=0,Ps}function Eu(){for(;null!==xs;)Su(xs)}function Iu(){for(;null!==xs&&!Si();)Su(xs)}function Su(e){var t=Vs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?Tu(e):xs=t,Ts.current=null}function Tu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ts(n,t,As)))return void(xs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&As)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(xs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(xs=t);xs=t=e}while(null!==t);0===Ps&&(Ps=5)}function Cu(e){var t=zi();return Vi(99,ku.bind(null,e,t)),null}function ku(e,t){do{Nu()}while(null!==Qs);if(0!=(48&Cs))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Bt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==Zs&&0==(24&r)&&Zs.has(e)&&Zs.delete(e),e===ks&&(xs=ks=null,Ns=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Cs,Cs|=32,Ts.current=null,jr=Qt,dr(s=fr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var h=0,f=-1,d=-1,p=0,m=0,g=s,v=null;t:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(f=h+o),g!==c||0!==l&&3!==g.nodeType||(d=h+l),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break t;if(v===u&&++p===o&&(f=h),v===c&&++m===l&&(d=h),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Fr={focusedElem:s,selectionRange:u},Qt=!1,iu=null,ou=!1,Bs=r;do{try{xu()}catch(e){if(null===Bs)throw Error(a(330));Mu(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);iu=null,Bs=r;do{try{for(s=e;null!==Bs;){var b=Bs.flags;if(16&b&&ve(Bs.stateNode,""),128&b){var w=Bs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:gs(Bs),Bs.flags&=-3;break;case 6:gs(Bs),Bs.flags&=-3,ws(Bs.alternate,Bs);break;case 1024:Bs.flags&=-1025;break;case 1028:Bs.flags&=-1025,ws(Bs.alternate,Bs);break;case 4:ws(Bs.alternate,Bs);break;case 8:bs(s,u=Bs);var E=u.alternate;ps(u),null!==E&&ps(E)}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(a(330));Mu(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);if(_=Fr,w=fr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=lr(b,E),o=lr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Qt=!!jr,Fr=jr=null,e.current=n,Bs=r;do{try{for(b=e;null!==Bs;){var I=Bs.flags;if(36&I&&hs(b,Bs.alternate,Bs),128&I){w=void 0;var S=Bs.ref;if(null!==S){var T=Bs.stateNode;switch(Bs.tag){case 5:w=T;break;default:w=T}"function"==typeof S?S(w):S.current=w}}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(a(330));Mu(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);Bs=null,Mi(),Cs=i}else e.current=n;if(Ks)Ks=!1,Qs=e,Ys=t;else for(Bs=r;null!==Bs;)t=Bs.nextEffect,Bs.nextEffect=null,8&Bs.flags&&((I=Bs).sibling=null,I.stateNode=null),Bs=t;if(0===(r=e.pendingLanes)&&(Hs=null),1===r?e===eu?Xs++:(Xs=0,eu=e):Xs=0,n=n.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64==(64&n.current.flags))}catch(e){}if(lu(e,Ui()),Ws)throw Ws=!1,e=Gs,Gs=null,e;return 0!=(8&Cs)||Wi(),null}function xu(){for(;null!==Bs;){var e=Bs.alternate;ou||null===iu||(0!=(8&Bs.flags)?Xe(Bs,iu)&&(ou=!0):13===Bs.tag&&Es(e,Bs)&&Xe(Bs,iu)&&(ou=!0));var t=Bs.flags;0!=(256&t)&&ls(e,Bs),0==(512&t)||Ks||(Ks=!0,Bi(97,(function(){return Nu(),null}))),Bs=Bs.nextEffect}}function Nu(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,Vi(e,Pu)}return!1}function Au(e,t){$s.push(t,e),Ks||(Ks=!0,Bi(97,(function(){return Nu(),null})))}function Du(e,t){Js.push(t,e),Ks||(Ks=!0,Bi(97,(function(){return Nu(),null})))}function Pu(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!=(48&Cs))throw Error(a(331));var t=Cs;Cs|=32;var n=Js;Js=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Mu(o,e)}}for(n=$s,$s=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(a(330));Mu(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Cs=t,Wi(),!0}function Ou(e,t,n){so(e,t=as(0,t=rs(n,t),1)),t=au(),null!==(e=cu(e,1))&&(Vt(e,1,t),lu(e,t))}function Mu(e,t){if(3===e.tag)Ou(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ou(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){var i=ss(n,e=rs(t,e),1);if(so(n,i),i=au(),null!==(n=cu(n,1)))Vt(n,1,i),lu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Lu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=au(),e.pingedLanes|=e.suspendedLanes&n,ks===e&&(Ns&n)===n&&(4===Ps||3===Ps&&(62914560&Ns)===Ns&&500>Ui()-Us?yu(e,0):js|=n),lu(e,t)}function Ru(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===zi()?1:2:(0===nu&&(nu=Ms),0===(t=zt(62914560&~nu))&&(t=4194304))),n=au(),null!==(e=cu(e,t))&&(Vt(e,t,n),lu(e,n))}function ju(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Fu(e,t,n,r){return new ju(e,t,n,r)}function Uu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zu(e,t){var n=e.alternate;return null===n?((n=Fu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Uu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Vu(n.children,i,o,t);case R:s=8,i|=16;break;case T:s=8,i|=1;break;case C:return(e=Fu(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=o,e;case A:return(e=Fu(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case D:return(e=Fu(19,n,t,i)).elementType=D,e.lanes=o,e;case j:return Bu(n,i,o,t);case F:return(e=Fu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case x:s=9;break e;case N:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e;case M:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Fu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Vu(e,t,n,r){return(e=Fu(7,e,r,t)).lanes=n,e}function Bu(e,t,n,r){return(e=Fu(23,e,r,t)).elementType=j,e.lanes=n,e}function Wu(e,t,n){return(e=Fu(6,e,null,t)).lanes=n,e}function Gu(e,t,n){return(t=Fu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Ku(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Qu(e,t,n,r){var i=t.current,o=au(),s=su(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(di(c)){n=gi(n,c,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),uu(i,s,o),s}function Yu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ju(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function Zu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Hu(e,t,null!=n&&!0===n.hydrate),t=Fu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[$r]=n.current,xr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Yu(a);s.call(e)}}Qu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Zu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Yu(a);u.call(e)}}mu((function(){Qu(t,a,e,i)}))}return Yu(a)}function tc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(a(200));return Ku(e,t,null,n)}Vs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||li.current)Oa=!0;else{if(0==(n&r)){switch(Oa=!1,t.tag){case 3:Ba(t),Wo();break;case 5:Po(t);break;case 1:di(t.type)&&vi(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Qa(e,t,n):(si(Mo,1&Mo.current),null!==(t=Xa(e,t,n))?t.sibling:null);si(Mo,1&Mo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Za(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Mo,Mo.current),r)break;return null;case 23:case 24:return t.lanes=0,Fa(e,t,n)}return Xa(e,t,n)}Oa=0!=(16384&e.flags)}else Oa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,ci.current),to(t,n),i=ra(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(r)){var o=!0;vi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&fo(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Va(null,t,r,!0,o,n)}else t.tag=0,Ma(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Uu(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Ki(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=qa(null,t,i,e,n);break e;case 11:t=La(null,t,i,e,n);break e;case 14:t=Ra(null,t,i,Ki(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Wo(),t=Xa(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(jo=Wr(t.stateNode.containerInfo.firstChild),Ro=t,o=Fo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ma(e,t,r,n),Wo();t=t.child}return t;case 5:return Po(t),null===e&&qo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ua(e,t),Ma(e,t,s,n),t.child;case 6:return null===e&&qo(t),null;case 13:return Qa(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):Ma(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return Ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(si(Qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0==(o=ar(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!li.current){t=Xa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=ao(-1,n&-n)).tag=2,so(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ma(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Ma(e,t,r,n),t.child;case 14:return o=Ki(i=t.type,t.pendingProps),Ra(e,t,i,o=Ki(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,di(r)?(e=!0,vi(t)):e=!1,to(t,n),go(t,r,i),yo(t,r,i,n),Va(null,t,r,!0,e,n);case 19:return Za(e,t,n);case 23:case 24:return Fa(e,t,n)}throw Error(a(156,t.tag))},Zu.prototype.render=function(e){Qu(e,this._internalRoot,null,null)},Zu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qu(null,e,null,(function(){t[$r]=null}))},et=function(e){13===e.tag&&(uu(e,4,au()),Ju(e,4))},tt=function(e){13===e.tag&&(uu(e,67108864,au()),Ju(e,67108864))},nt=function(e){if(13===e.tag){var t=au(),n=su(e);uu(e,n,t),Ju(e,n)}},rt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=pu,Oe=function(e,t,n,r,i){var o=Cs;Cs|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Cs=o)&&(qs(),Wi())}},Me=function(){0==(49&Cs)&&(function(){if(null!==Zs){var e=Zs;Zs=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,lu(e,Ui())}))}Wi()}(),Nu())},Le=function(e,t){var n=Cs;Cs|=2;try{return e(t)}finally{0===(Cs=n)&&(qs(),Wi())}};var nc={Events:[Xr,ei,ti,Ae,De,Nu,{current:!1}]},rc={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{bi=oc.inject(ic),wi=oc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=tc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Cs;if(0!=(48&n))return e(t);Cs|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Cs=n,Wi()}},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(a(40));return!!e._reactRootContainer&&(mu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[$r]=null}))})),!0)},t.unstable_batchedUpdates=pu,t.unstable_createPortal=function(e,t){return tc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="17.0.2"},116:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(748)},5:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case m:case u:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||_(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},972:function(e,t,n){"use strict";e.exports=n(5)},988:function(e,t,n){"use strict";Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"yB",{enumerable:!0,get:function(){return i.default}});var r=o(n(346)),i=o(n(823));function o(e){return e&&e.__esModule?e:{default:e}}},823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(466)),i=n(481),o=n(346);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d,p,m,g=function(e){function t(){return u(this,t),l(this,h(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.color,n=e.highlightColor,r=e.children,o=(0,i.css)(".react-loading-skeleton{background-color:",t,";background-image:linear-gradient( 90deg,",t,",",n,",",t," );};label:SkeletonTheme;");return(0,i.jsx)("div",{css:o},r)}}])&&c(n.prototype,r),t}(r.Component);t.default=g,d=g,p="defaultProps",m={color:o.defaultBaseColor,highlightColor:o.defaultHighlightColor},p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m},346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d,t.skeletonStyles=t.skeletonKeyframes=t.defaultHighlightColor=t.defaultBaseColor=void 0,(r=n(466))&&r.__esModule;var r,i=n(481);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e,t,n=(e=["\n  0% {\n    background-position: -200px 0;\n  }\n  ","\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return u=function(){return n},n}var c="#eee";t.defaultBaseColor=c;var l="#f5f5f5";t.defaultHighlightColor=l;var h=function(e,t){return(0,i.keyframes)(u(),t>0?"".concat(Math.floor(1/(e+t)*e*100),"% {\n    background-position: calc(200px + 100%) 0;\n  }"):void 0)};t.skeletonKeyframes=h;var f=(0,i.css)("background-color:",c,";background-image:linear-gradient( 90deg,",c,",",l,",",c," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");function d(e){for(var t=e.count,n=e.duration,r=e.width,o=e.wrapper,s=e.height,u=e.circle,c=e.delay,l=e.style,d=e.className,p=[],m=0;m<t;m++){var g={};null!==r&&(g.width=r),null!==s&&(g.height=s),null!==r&&null!==s&&u&&(g.borderRadius="50%");var v="react-loading-skeleton";d&&(v+=" "+d),p.push((0,i.jsx)("span",{key:m,className:v,css:(0,i.css)(f," animation:",h(n,c)," ",n+c,"s ease-in-out infinite;label:Skeleton;"),style:a({},l,{},g)},""))}return(0,i.jsx)("span",null,o?p.map((function(e,t){return(0,i.jsx)(o,{key:t},e,"")})):p)}t.skeletonStyles=f,d.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}},751:function(e,t,n){"use strict";var r=n(347),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+C(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),k(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+C(s=e[c],c);u+=k(s,t,n,l,a)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=k(s=s.value,t,n,l=r+C(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function x(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function D(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},466:function(e,t,n){"use strict";e.exports=n(751)},794:function(e,t){"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){v=f((function(){e(t.unstable_now())}),n)},i=function(){d(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],k=[],x=1,N=null,A=3,D=!1,P=!1,O=!1;function M(e){for(var t=I(k);null!==t;){if(null===t.callback)S(k);else{if(!(t.startTime<=e))break;S(k),t.sortIndex=t.expirationTime,E(C,t)}t=I(k)}}function L(e){if(O=!1,M(e),!P)if(null!==I(C))P=!0,n(R);else{var t=I(k);null!==t&&r(L,t.startTime-e)}}function R(e,n){P=!1,O&&(O=!1,i()),D=!0;var o=A;try{for(M(n),N=I(C);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"==typeof a){N.callback=null,A=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?N.callback=s:N===I(C)&&S(C),M(n)}else S(C);N=I(C)}if(null!==N)var u=!0;else{var c=I(k);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=o,D=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||D||(P=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return I(C)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:x++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(k,e),null===I(C)&&e===I(k)&&(O?i():O=!0,r(L,a-s))):(e.sortIndex=u,E(C,e),P||D||(P=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},767:function(e,t,n){"use strict";e.exports=n(794)},807:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},622:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return a},Jh:function(){return s},XA:function(){return u},CR:function(){return c},ev:function(){return l}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create,Object.create}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(466),t=n(116),r=n(856);r.Z.registerVersion("firebase","8.4.1","app");var i=n(574),o=n(861),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var u,c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},l=l||{},h=c||self;function f(){}function d(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(){return Date.now()}function E(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function I(){this.j=this.j,this.i=this.i}I.prototype.j=!1,I.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++g)}(this)},I.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function C(e){return Array.prototype.concat.apply([],arguments)}function k(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function x(e){return/^[\s\xa0]*$/.test(e)}var N,A=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var O=h.navigator;if(O){var M=O.userAgent;if(M){N=M;break e}}N=""}function L(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function R(e){var t={};for(var n in e)t[n]=e[n];return t}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function U(e){return U[" "](e),e}U[" "]=f;var z,q,V=D(N,"Opera"),B=D(N,"Trident")||D(N,"MSIE"),W=D(N,"Edge"),G=W||B,H=D(N,"Gecko")&&!(D(N.toLowerCase(),"webkit")&&!D(N,"Edge"))&&!(D(N,"Trident")||D(N,"MSIE"))&&!D(N,"Edge"),K=D(N.toLowerCase(),"webkit")&&!D(N,"Edge");function Q(){var e=h.document;return e?e.documentMode:void 0}e:{var Y="",$=(q=N,H?/rv:([^\);]+)(\)|;)/.exec(q):W?/Edge\/([\d\.]+)/.exec(q):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):K?/WebKit\/(\S+)/.exec(q):V?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if($&&(Y=$?$[1]:""),B){var J=Q();if(null!=J&&J>parseFloat(Y)){z=String(J);break e}}z=Y}var Z,X={};function ee(e){return function(e,t){var n=X;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=A(String(z)).split("."),r=A(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=P(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==a[2].length,0==s[2].length)||P(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}h.document&&B?Z=Q()||parseInt(z,10)||void 0:Z=void 0;var te=Z,ne=!B||9<=Number(te),re=B&&!ee("9"),ie=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",f,t),h.removeEventListener("test",f,t)}catch(e){}return e}();function oe(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function ae(e,t){if(oe.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(H){e:{try{U(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:se[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}oe.prototype.b=function(){this.defaultPrevented=!0},E(ae,oe);var se={2:"touch",3:"pen",4:"mouse"};ae.prototype.b=function(){ae.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,re)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var ue="closure_listenable_"+(1e6*Math.random()|0),ce=0;function le(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++ce,this.Y=this.Z=!1}function he(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function fe(e){this.src=e,this.a={},this.b=0}function de(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=S(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(he(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function pe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}fe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=pe(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new le(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function ve(e,t,n,r,i){if(r&&r.once)return be(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ve(e,t[o],n,r,i);return null}return n=ke(n),e&&e[ue]?e.va(t,n,p(r)?!!r.capture:!!r,i):ye(e,t,n,!1,r,i)}function ye(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i;if(a&&!ne)return null;var s=Te(e);if(s||(e[me]=s=new fe(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Se,t=ne?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ie||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ee(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function be(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)be(e,t[o],n,r,i);return null}return n=ke(n),e&&e[ue]?e.wa(t,n,p(r)?!!r.capture:!!r,i):ye(e,t,n,!0,r,i)}function we(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)we(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=ke(n),e&&e[ue]?(e=e.c,(t=String(t).toString())in e.a&&-1<(n=pe(o=e.a[t],n,r,i))&&(he(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=Te(e))&&(t=e.a[t.toString()],e=-1,t&&(e=pe(t,n,r,i)),(n=-1<e?t[e]:null)&&_e(n))}function _e(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[ue])de(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ee(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Te(t))?(de(n,e),0==n.b&&(n.src=null,t[me]=null)):he(e)}}}function Ee(e){return e in ge?ge[e]:ge[e]="on"+e}function Ie(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&_e(e),n.call(r,t)}function Se(e,t){if(e.Y)return!0;if(!ne){if(!t)e:{t=["window","event"];for(var n=h,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Ie(e,t=new ae(t,this))}return Ie(e,new ae(t,this))}function Te(e){return(e=e[me])instanceof fe?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke(e){return"function"==typeof e?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function xe(){I.call(this),this.c=new fe(this),this.J=this,this.C=null}function Ne(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new oe(t,e);else if(t instanceof oe)t.target=t.target||e;else{var i=t;F(t=new oe(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=Ae(a,r,!0,t)&&i}if(i=Ae(a=t.a=e,r,!0,t)&&i,i=Ae(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ae(a=t.a=n[o],r,!1,t)&&i}function Ae(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&de(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}E(xe,I),xe.prototype[ue]=!0,(u=xe.prototype).addEventListener=function(e,t,n,r){ve(this,e,t,n,r)},u.removeEventListener=function(e,t,n,r){we(this,e,t,n,r)},u.G=function(){if(xe.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)he(n[r]);delete t.a[e],t.b--}}this.C=null},u.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},u.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var De=h.JSON.stringify;function Pe(){this.b=this.a=null}var Oe,Me=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Re}),(function(e){e.reset()}));function Le(){var e=ze,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Re(){this.next=this.b=this.a=null}function je(e){h.setTimeout((function(){throw e}),0)}function Fe(e,t){Oe||function(){var e=h.Promise.resolve(void 0);Oe=function(){e.then(qe)}}(),Ue||(Oe(),Ue=!0),ze.add(e,t)}Pe.prototype.add=function(e,t){var n=Me.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Re.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Re.prototype.reset=function(){this.next=this.b=this.a=null};var Ue=!1,ze=new Pe;function qe(){for(var e;e=Le();){try{e.a.call(e.b)}catch(e){je(e)}var t=Me;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Ue=!1}function Ve(e,t){xe.call(this),this.b=e||1,this.a=t||h,this.f=b(this.Za,this),this.g=_()}function Be(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function We(e,t,n){if("function"==typeof e)n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function Ge(e){e.a=We((function(){e.a=null,e.c&&(e.c=!1,Ge(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}E(Ve,xe),(u=Ve.prototype).aa=!1,u.M=null,u.Za=function(){if(this.aa){var e=_()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ne(this,"tick"),this.aa&&(Be(this),this.start()))}},u.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_())},u.G=function(){Ve.X.G.call(this),Be(this),delete this.a};var He=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Ge(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(h.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(I);function Ke(e){I.call(this),this.b=e,this.a={}}E(Ke,I);var Qe=[];function Ye(e,t,n,r){Array.isArray(n)||(n&&(Qe[0]=n.toString()),n=Qe);for(var i=0;i<n.length;i++){var o=ve(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function $e(e){L(e.a,(function(e,t){this.a.hasOwnProperty(t)&&_e(e)}),e),e.a={}}function Je(){this.a=!0}function Ze(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return De(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Ke.prototype.G=function(){Ke.X.G.call(this),$e(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Je.prototype.info=function(){};var Xe={},et=null;function tt(){return et=et||new xe}function nt(e){oe.call(this,Xe.Fa,e)}function rt(e){var t=tt();Ne(t,new nt(t,e))}function it(e,t){oe.call(this,Xe.STAT_EVENT,e),this.stat=t}function ot(e){var t=tt();Ne(t,new it(t,e))}function at(e){oe.call(this,Xe.Ga,e)}function st(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}Xe.Fa="serverreachability",E(nt,oe),Xe.STAT_EVENT="statevent",E(it,oe),Xe.Ga="timingevent",E(at,oe);var ut={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ct={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function lt(){}function ht(e){var t;return(t=e.a)||(t=e.a={}),t}function ft(){}lt.prototype.a=null;var dt,pt={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function mt(){oe.call(this,"d")}function gt(){oe.call(this,"c")}function vt(){}function yt(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Ke(this),this.P=bt,e=G?125:void 0,this.R=new Ve(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}E(mt,oe),E(gt,oe),E(vt,lt),dt=new vt;var bt=45e3,wt={},_t={};function Et(e,t,n){e.H=1,e.i=Wt(Ft(t)),e.j=n,e.I=!0,It(e,null)}function It(e,t){e.u=_(),Ct(e),e.l=Ft(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),rn(n.b,"t",r),e.D=0,e.a=Zn(e.g,e.g.C?t:null),0<e.O&&(e.F=new He(b(e.Ca,e,e.a),e.O)),Ye(e.J,e.a,"readystatechange",e.Xa),t=e.B?R(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),rt(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function St(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Tt(e,n);if(i==_t){4==t&&(e.h=4,ot(14),r=!1),Ze(e.c,e.f,null,"[Incomplete Response]");break}if(i==wt){e.h=4,ot(15),Ze(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Ze(e.c,e.f,i,null),Dt(e,i)}4==t&&0==n.length&&(e.h=1,ot(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wn(t),t.F=!0,ot(11))):(Ze(e.c,e.f,n,"[Invalid Chunked Response]"),At(e),Nt(e))}function Tt(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?_t:(n=Number(t.substring(n,r)),isNaN(n)?wt:(r+=1)+n>t.length?_t:(t=t.substr(r,n),e.D=r+n,t))}function Ct(e){e.T=_()+e.P,kt(e,e.P)}function kt(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=st(b(e.Va,e),t)}function xt(e){e.o&&(h.clearTimeout(e.o),e.o=null)}function Nt(e){0==e.g.v||e.A||Kn(e.g,e)}function At(e){xt(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Be(e.R),$e(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Dt(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||hn(n.b,e)))if(n.I=e.N,!e.C&&hn(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Hn(n),Ln(n)}Bn(n),ot(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=st(b(n.Sa,n),6e3));if(1>=ln(n.b)&&n.ea){try{n.ea()}catch(e){}n.ea=void 0}}else Yn(n,11)}else if((e.C||n.a==e)&&Hn(n),!x(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(fn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Bt(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=_()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Jn(u,u.C?u.ga:null,u.fa),d.C){dn(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(xt(p),Ct(p)),u.a=d}else Vn(u);0<n.g.length&&Fn(n)}else"stop"!=i[0]&&"close"!=i[0]||Yn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Yn(n,7):Mn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);rt(4)}catch(e){}}function Pt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"==typeof e)T(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(d(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Ot(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ot)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Mt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Lt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Lt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(u=yt.prototype).setTimeout=function(e){this.P=e},u.Xa=function(e){e=e.target;var t=this.F;t&&3==An(e)?t.f():this.Ca(e)},u.Ca=function(e){try{if(e==this.a)e:{var t=An(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!G&&!this.a.$())){this.A||4!=t||7==n||rt(8==n||0>=r?3:2),xt(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,ot(12),At(this),Nt(this);break e}Ze(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Dt(this,u)}this.I?(St(this,t,o),G&&this.b&&3==t&&(Ye(this.J,this.R,"tick",this.Wa),this.R.start())):(Ze(this.c,this.f,o,null),Dt(this,o)),4==t&&At(this),this.b&&!this.A&&(4==t?Kn(this.g,this):(this.b=!1,Ct(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ot(12)):(this.h=0,ot(13)),At(this),Nt(this)}}}catch(e){}},u.Wa=function(){if(this.a){var e=An(this.a),t=this.a.$();this.D<t.length&&(xt(this),St(this,e,t),this.b&&4!=e&&Ct(this))}},u.cancel=function(){this.A=!0,At(this)},u.Va=function(){this.o=null;var e=_();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(rt(3),ot(17)),At(this),this.h=2,Nt(this)):kt(this,this.T-e)},(u=Ot.prototype).K=function(){Mt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},u.L=function(){return Mt(this),this.a.concat()},u.get=function(e,t){return Lt(this.b,e)?this.b[e]:t},u.set=function(e,t){Lt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},u.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof jt){this.a=void 0!==t?t:e.a,Ut(this,e.f),this.j=e.j,zt(this,e.c),qt(this,e.h),this.g=e.g,t=e.b;var n=new Xt;n.c=t.c,t.a&&(n.a=new Ot(t.a),n.b=t.b),Vt(this,n),this.i=e.i}else e&&(n=String(e).match(Rt))?(this.a=!!t,Ut(this,n[1]||"",!0),this.j=Gt(n[2]||""),zt(this,n[3]||"",!0),qt(this,n[4]),this.g=Gt(n[5]||"",!0),Vt(this,n[6]||"",!0),this.i=Gt(n[7]||"")):(this.a=!!t,this.b=new Xt(null,this.a))}function Ft(e){return new jt(e)}function Ut(e,t,n){e.f=n?Gt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function zt(e,t,n){e.c=n?Gt(t,!0):t}function qt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Vt(e,t,n){t instanceof Xt?(e.b=t,function(e,t){t&&!e.f&&(en(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tn(this,t),rn(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Ht(t,Jt)),e.b=new Xt(t,e.a))}function Bt(e,t,n){e.b.set(t,n)}function Wt(e){return Bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),e}function Gt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ht(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Kt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Ht(t,Qt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Ht(t,Qt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ht(n,"/"==n.charAt(0)?$t:Yt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Ht(n,Zt)),e.join("")};var Qt=/[#\/\?@]/g,Yt=/[#\?:]/g,$t=/[#\?]/g,Jt=/[#\?@]/g,Zt=/#/g;function Xt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function en(e){e.a||(e.a=new Ot,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tn(e,t){en(e),t=on(e,t),Lt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Lt((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Mt(e)))}function nn(e,t){return en(e),t=on(e,t),Lt(e.a.b,t)}function rn(e,t,n){tn(e,t),0<n.length&&(e.c=null,e.a.set(on(e,t),k(n)),e.b+=n.length)}function on(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(u=Xt.prototype).add=function(e,t){en(this),this.c=null,e=on(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},u.forEach=function(e,t){en(this),this.a.forEach((function(n,r){T(n,(function(n){e.call(t,n,r,this)}),this)}),this)},u.L=function(){en(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},u.K=function(e){en(this);var t=[];if("string"==typeof e)nn(this,e)&&(t=C(t,this.a.get(on(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=C(t,e[n])}return t},u.set=function(e,t){return en(this),this.c=null,nn(this,e=on(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},u.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},u.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var an=function(e,t){this.b=e,this.a=t};function sn(e){this.g=e||un,e=h.PerformanceNavigationTiming?0<(e=h.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(h.ia&&h.ia.ya&&h.ia.ya()&&h.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var un=10;function cn(e){return!!e.b||!!e.a&&e.a.size>=e.f}function ln(e){return e.b?1:e.a?e.a.size:0}function hn(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function fn(e,t){e.a?e.a.add(t):e.b=t}function dn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function pn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=s(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return k(e.c)}function mn(){}function gn(){this.a=new mn}function vn(e,t,n){var r=n||"";try{Pt(e,(function(e,n){var i=e;p(e)&&(i=De(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function yn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}sn.prototype.cancel=function(){var e,t;if(this.c=pn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=s(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},mn.prototype.stringify=function(e){return h.JSON.stringify(e,void 0)},mn.prototype.parse=function(e){return h.JSON.parse(e,void 0)};var bn=h.JSON.parse;function wn(e){xe.call(this),this.headers=new Ot,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=_n,this.D=this.F=!1}E(wn,xe);var _n="",En=/^https?$/i,In=["POST","PUT"];function Sn(e){return"content-type"==e.toLowerCase()}function Tn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Cn(e),xn(e)}function Cn(e){e.u||(e.u=!0,Ne(e,"complete"),Ne(e,"error"))}function kn(e){if(e.b&&void 0!==l&&(!e.s[1]||4!=An(e)||2!=e.W()))if(e.l&&4==An(e))We(e.za,0,e);else if(Ne(e,"readystatechange"),4==An(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Rt)[1]||null;if(!o&&h.self&&h.self.location){var a=h.self.location.protocol;o=a.substr(0,a.length-1)}i=!En.test(o?o.toLowerCase():"")}t=i}if(t)Ne(e,"complete"),Ne(e,"success");else{e.h=6;try{var s=2<An(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",Cn(e)}}finally{xn(e)}}}function xn(e,t){if(e.a){Nn(e);var n=e.a,r=e.s[0]?f:null;e.a=null,e.s=null,t||Ne(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Nn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(h.clearTimeout(e.m),e.m=null)}function An(e){return e.a?e.a.readyState:0}function Dn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return L(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Bt(e,t,n))}function Pn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function On(e){this.pa=0,this.g=[],this.c=new Je,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Pn("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Pn("baseRetryDelayMs",5e3,e),this.Ra=Pn("retryDelaySeedMs",1e4,e),this.Ma=Pn("forwardChannelMaxRetries",2,e),this.ma=Pn("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new sn(e&&e.concurrentRequestLimit),this.ka=new gn,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Mn(e){if(Rn(e),3==e.v){var t=e.R++,n=Ft(e.B);Bt(n,"SID",e.J),Bt(n,"RID",t),Bt(n,"TYPE","terminate"),zn(e,n),(t=new yt(e,e.c,t,void 0)).H=2,t.i=Wt(Ft(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(t.i.toString(),"")),!n&&h.Image&&((new Image).src=t.i,n=!0),n||(t.a=Zn(t.g,null),t.a.ba(t.i)),t.u=_(),Ct(t)}$n(e)}function Ln(e){e.a&&(Wn(e),e.a.cancel(),e.a=null)}function Rn(e){Ln(e),e.j&&(h.clearTimeout(e.j),e.j=null),Hn(e),e.b.cancel(),e.h&&("number"==typeof e.h&&h.clearTimeout(e.h),e.h=null)}function jn(e,t){e.g.push(new an(e.Oa++,t)),3==e.v&&Fn(e)}function Fn(e){cn(e.b)||e.h||(e.h=!0,Fe(e.Ba,e),e.u=0)}function Un(e,t){var n;n=t?t.f:e.R++;var r=Ft(e.B);Bt(r,"SID",e.J),Bt(r,"RID",n),Bt(r,"AID",e.P),zn(e,r),e.i&&e.l&&Dn(r,e.i,e.l),n=new yt(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=qn(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),fn(e.b,n),Et(n,r,t)}function zn(e,t){e.f&&Pt({},(function(e,n){Bt(t,n,e)}))}function qn(e,t,n){n=Math.min(e.g.length,n);var r=e.f?b(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{vn(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Vn(e){e.a||e.j||(e.T=1,Fe(e.Aa,e),e.o=0)}function Bn(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=st(b(e.Aa,e),Qn(e,e.o)),e.o++,0))}function Wn(e){null!=e.s&&(h.clearTimeout(e.s),e.s=null)}function Gn(e){e.a=new yt(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Ft(e.la);Bt(t,"RID","rpc"),Bt(t,"SID",e.J),Bt(t,"CI",e.H?"0":"1"),Bt(t,"AID",e.P),zn(e,t),Bt(t,"TYPE","xmlhttp"),e.i&&e.l&&Dn(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Wt(Ft(t)),n.j=null,n.I=!0,It(n,e)}function Hn(e){null!=e.m&&(h.clearTimeout(e.m),e.m=null)}function Kn(e,t){var n=null;if(e.a==t){Hn(e),Wn(e),e.a=null;var r=2}else{if(!hn(e.b,t))return;n=t.s,dn(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=_()-t.u;var i=e.u;Ne(r=tt(),new at(r,n,t,i)),Fn(e)}else Vn(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ln(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=st(b(e.Ba,e,t),Qn(e,e.u)),e.u++,0)))}(e,t)||2==r&&Bn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Yn(e,5);break;case 4:Yn(e,10);break;case 3:Yn(e,6);break;default:Yn(e,2)}}function Qn(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Yn(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=b(e.Ya,e);n||(n=new jt("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Ut(n,"https"),Wt(n)),function(e,t){var n=new Je;if(h.Image){var r=new Image;r.onload=w(yn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(yn,n,r,"TestLoadImage: error",!1,t),r.onabort=w(yn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(yn,n,r,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ot(2);e.v=0,e.f&&e.f.ra(t),$n(e),Rn(e)}function $n(e){e.v=0,e.I=-1,e.f&&(0==pn(e.b).length&&0==e.g.length||(e.b.c.length=0,k(e.g),e.g.length=0),e.f.qa())}function Jn(e,t,n){var r=function(e){return e instanceof jt?Ft(e):new jt(e,void 0)}(n);if(""!=r.c)t&&zt(r,t+"."+r.c),qt(r,r.h);else{var i=h.location;r=function(e,t,n,r){var i=new jt(null,void 0);return e&&Ut(i,e),t&&zt(i,t),n&&qt(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&L(e.V,(function(e,t){Bt(r,t,e)})),t=e.A,n=e.na,t&&n&&Bt(r,t,n),Bt(r,"VER",e.ha),zn(e,r),r}function Zn(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new wn(e.Na)).F=e.C,t}function Xn(){}function er(){if(B&&!(10<=Number(te)))throw Error("Environmental error: no available transport.")}function tr(e,t){xe.call(this),this.a=new On(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!x(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!x(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new ir(this)}function nr(e){mt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function rr(){gt.call(this),this.status=1}function ir(e){this.a=e}(u=wn.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ht(this.H):ht(dt),this.a.onreadystatechange=b(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(e){return void Tn(this,e)}e=n||"";var i=new Ot(this.headers);r&&Pt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Sn,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=h.FormData&&e instanceof h.FormData,!(0<=S(In,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Nn(this),0<this.o&&((this.D=function(e){return B&&ee(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.xa,this)):this.m=We(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Tn(this,e)}},u.xa=function(){void 0!==l&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ne(this,"timeout"),this.abort(8))},u.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Ne(this,"complete"),Ne(this,"abort"),xn(this))},u.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),xn(this,!0)),wn.X.G.call(this)},u.za=function(){this.j||(this.A||this.l||this.g?kn(this):this.Ua())},u.Ua=function(){kn(this)},u.W=function(){try{return 2<An(this)?this.a.status:-1}catch(e){return-1}},u.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},u.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),bn(t)}},u.ua=function(){return this.h},u.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(u=On.prototype).ha=8,u.v=1,u.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new yt(this,this.c,e,void 0),r=this.l;if(this.O&&(r?F(r=R(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=qn(this,n,t),Bt(i=Ft(this.B),"RID",e),Bt(i,"CVER",22),this.A&&Bt(i,"X-HTTP-Session-Id",this.A),zn(this,i),this.i&&r&&Dn(i,this.i,r),fn(this.b,n),this.Ia&&Bt(i,"TYPE","init"),this.da?(Bt(i,"$req",t),Bt(i,"SID","null"),n.U=!0,Et(n,i,null)):Et(n,i,t),this.v=2}}else 3==this.v&&(e?Un(this,e):0==this.g.length||cn(this.b)||Un(this))},u.Aa=function(){if(this.j=null,Gn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=st(b(this.Ta,this),e)}},u.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ot(10),Ln(this),Gn(this))},u.Sa=function(){null!=this.m&&(this.m=null,Ln(this),Bn(this),ot(19))},u.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),ot(2)):(this.c.info("Failed to ping google.com"),ot(1))},(u=Xn.prototype).ta=function(){},u.sa=function(){},u.ra=function(){},u.qa=function(){},u.Ja=function(){},er.prototype.a=function(e,t){return new tr(e,t)},E(tr,xe),tr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;ot(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Jn(e,null,e.fa),Fn(e)},tr.prototype.close=function(){Mn(this.a)},tr.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,jn(this.a,t)}else this.l?((t={}).__data__=De(e),jn(this.a,t)):jn(this.a,e)},tr.prototype.G=function(){this.a.f=null,delete this.f,Mn(this.a),delete this.a,tr.X.G.call(this)},E(nr,mt),E(rr,gt),E(ir,Xn),ir.prototype.ta=function(){Ne(this.a,"a")},ir.prototype.sa=function(e){Ne(this.a,new nr(e))},ir.prototype.ra=function(e){Ne(this.a,new rr(e))},ir.prototype.qa=function(){Ne(this.a,"b")},er.prototype.createWebChannel=er.prototype.a,tr.prototype.send=tr.prototype.h,tr.prototype.open=tr.prototype.g,tr.prototype.close=tr.prototype.close,ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,ct.COMPLETE="complete",ft.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",xe.prototype.listen=xe.prototype.va,wn.prototype.listenOnce=wn.prototype.wa,wn.prototype.getLastError=wn.prototype.Qa,wn.prototype.getLastErrorCode=wn.prototype.ua,wn.prototype.getStatus=wn.prototype.W,wn.prototype.getResponseJson=wn.prototype.Pa,wn.prototype.getResponseText=wn.prototype.$,wn.prototype.send=wn.prototype.ba;var or=ut,ar=ct,sr=Xe,ur=10,cr=11,lr=ft,hr=wn,fr=n(622),dr=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();dr.o=-1;var pr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},mr=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,fr.ZT)(t,e),t}(Error),gr=new o.Yd("@firebase/firestore");function vr(){return gr.logLevel}function yr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(gr.logLevel<=o.in.DEBUG){var r=t.map(_r);gr.debug.apply(gr,(0,fr.ev)(["Firestore (8.4.0): "+e],r))}}function br(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(gr.logLevel<=o.in.ERROR){var r=t.map(_r);gr.error.apply(gr,(0,fr.ev)(["Firestore (8.4.0): "+e],r))}}function wr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(gr.logLevel<=o.in.WARN){var r=t.map(_r);gr.warn.apply(gr,(0,fr.ev)(["Firestore (8.4.0): "+e],r))}}function _r(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Er(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+e;throw br(t),new Error(t)}function Ir(e,t){e||Er()}function Sr(e,t){return e}function Tr(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Cr=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Tr(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function kr(e,t){return e<t?-1:e>t?1:0}function xr(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Nr(e){return e+"\0"}var Ar=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mr(pr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mr(pr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new mr(pr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mr(pr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?kr(this.nanoseconds,e.nanoseconds):kr(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Dr=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Ar(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Pr(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Or(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Mr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Lr=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Er(),void 0===n?n=e.length-t:n>e.length-t&&Er(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Rr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new mr(pr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Lr),jr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return jr.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new mr(pr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new mr(pr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new mr(pr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new mr(pr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Lr),Ur=function(){function e(e){this.fields=e,e.sort(Fr.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return xr(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),zr=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return kr(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();zr.EMPTY_BYTE_STRING=new zr("");var qr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(e){if(Ir(!!e),"string"==typeof e){var t=0,n=qr.exec(e);if(Ir(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Br(e.seconds),nanos:Br(e.nanos)}}function Br(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Wr(e){return"string"==typeof e?zr.fromBase64String(e):zr.fromUint8Array(e)}function Gr(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hr(e){var t=e.mapValue.fields.__previous_value__;return Gr(t)?Hr(t):t}function Kr(e){var t=Vr(e.mapValue.fields.__local_write_time__.timestampValue);return new Ar(t.seconds,t.nanos)}function Qr(e){return null==e}function Yr(e){return 0===e&&1/e==-1/0}function $r(e){return"number"==typeof e&&Number.isInteger(e)&&!Yr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Jr=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Rr.fromString(t))},e.fromName=function(t){return new e(Rr.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Rr.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Rr.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Rr(t.slice()))},e}();function Zr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gr(e)?4:10:Er()}function Xr(e,t){var n=Zr(e);if(n!==Zr(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Kr(e).isEqual(Kr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Vr(e.timestampValue),r=Vr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Wr(e.bytesValue).isEqual(Wr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Br(e.geoPointValue.latitude)===Br(t.geoPointValue.latitude)&&Br(e.geoPointValue.longitude)===Br(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Br(e.integerValue)===Br(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Br(e.doubleValue),r=Br(t.doubleValue);return n===r?Yr(n)===Yr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xr(e.arrayValue.values||[],t.arrayValue.values||[],Xr);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pr(n)!==Pr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xr(n[i],r[i])))return!1;return!0}(e,t);default:return Er()}}function ei(e,t){return void 0!==(e.values||[]).find((function(e){return Xr(e,t)}))}function ti(e,t){var n=Zr(e),r=Zr(t);if(n!==r)return kr(n,r);switch(n){case 0:return 0;case 1:return kr(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Br(e.integerValue||e.doubleValue),r=Br(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ni(e.timestampValue,t.timestampValue);case 4:return ni(Kr(e),Kr(t));case 5:return kr(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Wr(e),r=Wr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=kr(n[i],r[i]);if(0!==o)return o}return kr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=kr(Br(e.latitude),Br(t.latitude));return 0!==n?n:kr(Br(e.longitude),Br(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=ti(n[i],r[i]);if(o)return o}return kr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=kr(r[a],o[a]);if(0!==s)return s;var u=ti(n[r[a]],i[o[a]]);if(0!==u)return u}return kr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Er()}}function ni(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return kr(e,t);var n=Vr(e),r=Vr(t),i=kr(n.seconds,r.seconds);return 0!==i?i:kr(n.nanos,r.nanos)}function ri(e){return ii(e)}function ii(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Vr(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Wr(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Jr.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=ii(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+ii(e.fields[o])}return t+"}"}(e.mapValue):Er();var t,n}function oi(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ai(e){return!!e&&"integerValue"in e}function si(e){return!!e&&"arrayValue"in e}function ui(e){return!!e&&"nullValue"in e}function ci(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function li(e){return!!e&&"mapValue"in e}var hi=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(Fr.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return Xr(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Zr(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=li(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(Fr.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!li(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function fi(e){var t=[];return Or(e.fields||{},(function(e,n){var r=new Fr([e]);if(li(n)){var i=fi(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Ur(t)}var di=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Dr.min(),hi.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,hi.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,hi.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),pi=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function mi(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new pi(e,t,n,r,i,o,a)}function gi(e){var t=Sr(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ri(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Qr(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ni(t.startAt)),t.endAt&&(n+="|ub:",n+=Ni(t.endAt)),t.h=n}return t.h}function vi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Di(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Xr(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Oi(e.startAt,t.startAt)&&Oi(e.endAt,t.endAt)}function yi(e){return Jr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var bi=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,fr.ZT)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new wi(e,n,r):"array-contains"===n?new Si(e,r):"in"===n?new Ti(e,r):"not-in"===n?new Ci(e,r):"array-contains-any"===n?new ki(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new _i(e,n):new Ei(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(ti(t,this.value)):null!==t&&Zr(this.value)===Zr(t)&&this.m(ti(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Er()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),wi=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Jr.fromName(r.referenceValue),i}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){var t=Jr.comparator(e.key,this.key);return this.m(t)},t}(bi),_i=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Ii(0,n),r}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(bi),Ei=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Ii(0,n),r}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(bi);function Ii(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Jr.fromName(e.referenceValue)}))}var Si=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return si(t)&&ei(t.arrayValue,this.value)},t}(bi),Ti=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&ei(this.value.arrayValue,t)},t}(bi),Ci=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){if(ei(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ei(this.value.arrayValue,t)},t}(bi),ki=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!si(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ei(t.value.arrayValue,e)}))},t}(bi),xi=function(e,t){this.position=e,this.before=t};function Ni(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ri(e)})).join(",")}var Ai=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Di(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Pi(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Jr.comparator(Jr.fromName(a.referenceValue),n.key):ti(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Oi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xr(e.position[n],t.position[n]))return!1;return!0}var Mi=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Li(e,t,n,r,i,o,a,s){return new Mi(e,t,n,r,i,o,a,s)}function Ri(e){return new Mi(e)}function ji(e){return!Qr(e.limit)&&"F"===e.limitType}function Fi(e){return!Qr(e.limit)&&"L"===e.limitType}function Ui(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function zi(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function qi(e){return null!==e.collectionGroup}function Vi(e){var t=Sr(e);if(null===t.p){t.p=[];var n=zi(t),r=Ui(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Ai(n)),t.p.push(new Ai(Fr.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ai(Fr.keyField(),u))}}}return t.p}function Bi(e){var t=Sr(e);if(!t.T)if("F"===t.limitType)t.T=mi(t.path,t.collectionGroup,Vi(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Vi(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ai(o.field,a))}var s=t.endAt?new xi(t.endAt.position,!t.endAt.before):null,u=t.startAt?new xi(t.startAt.position,!t.startAt.before):null;t.T=mi(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Wi(e,t,n){return new Mi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gi(e,t){return vi(Bi(e),Bi(t))&&e.limitType===t.limitType}function Hi(e){return gi(Bi(e))+"|lt:"+e.limitType}function Ki(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ri(t.value);var t})).join(", ")+"]"),Qr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ni(e.startAt)),e.endAt&&(t+=", endAt: "+Ni(e.endAt)),"Target("+t+")"}(Bi(e))+"; limitType="+e.limitType+")"}function Qi(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Jr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Pi(e.startAt,Vi(e),t)||e.endAt&&Pi(e.endAt,Vi(e),t))}(e,t)}function Yi(e){return function(t,n){for(var r=!1,i=0,o=Vi(e);i<o.length;i++){var a=o[i],s=$i(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function $i(e,t,n){var r=e.field.isKeyField()?Jr.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ti(r,i):Er()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Er()}}function Ji(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yr(t)?"-0":t}}function Zi(e){return{integerValue:""+e}}function Xi(e,t){return $r(t)?Zi(t):Ji(e,t)}var eo=function(){this._=void 0};function to(e,t,n){return e instanceof io?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof oo?ao(e,t):e instanceof so?uo(e,t):function(e,t){var n=ro(e,t),r=lo(n)+lo(e.A);return ai(n)&&ai(e.A)?Zi(r):Ji(e.R,r)}(e,t)}function no(e,t,n){return e instanceof oo?ao(e,t):e instanceof so?uo(e,t):n}function ro(e,t){return e instanceof co?ai(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t}(eo),oo=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,fr.ZT)(t,e),t}(eo);function ao(e,t){for(var n=ho(t),r=function(e){n.some((function(t){return Xr(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var so=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,fr.ZT)(t,e),t}(eo);function uo(e,t){for(var n=ho(t),r=function(e){n=n.filter((function(t){return!Xr(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var co=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,fr.ZT)(t,e),t}(eo);function lo(e){return Br(e.integerValue||e.doubleValue)}function ho(e){return si(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var fo=function(e,t){this.field=e,this.transform=t},po=function(e,t){this.version=e,this.transformResults=t},mo=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function go(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var vo=function(){};function yo(e,t,n){e instanceof Io?function(e,t,n){var r=e.value.clone(),i=Co(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof So?function(e,t,n){if(go(e.precondition,t)){var r=Co(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(To(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function bo(e,t,n){e instanceof Io?function(e,t,n){if(go(e.precondition,t)){var r=e.value.clone(),i=ko(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Eo(t),r).setHasLocalMutations()}}(e,t,n):e instanceof So?function(e,t,n){if(go(e.precondition,t)){var r=ko(e.fieldTransforms,n,t),i=t.data;i.setAll(To(e)),i.setAll(r),t.convertToFoundDocument(Eo(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){go(e.precondition,t)&&t.convertToNoDocument(Dr.min())}(e,t)}function wo(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=ro(o.transform,a||null);null!=s&&(null==n&&(n=hi.empty()),n.set(o.field,s))}return n||null}function _o(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xr(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof oo&&t instanceof oo||e instanceof so&&t instanceof so?xr(e.elements,t.elements,Xr):e instanceof co&&t instanceof co?Xr(e.A,t.A):e instanceof io&&t instanceof io}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Eo(e){return e.isFoundDocument()?e.version:Dr.min()}var Io=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,fr.ZT)(t,e),t}(vo),So=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,fr.ZT)(t,e),t}(vo);function To(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Co(e,t,n){var r=new Map;Ir(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,no(a,s,n[i]))}return r}function ko(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,to(s,u,t))}return r}var xo,No,Ao=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,fr.ZT)(t,e),t}(vo),Do=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,fr.ZT)(t,e),t}(vo),Po=function(e){this.count=e};function Oo(e){switch(e){case pr.OK:return Er();case pr.CANCELLED:case pr.UNKNOWN:case pr.DEADLINE_EXCEEDED:case pr.RESOURCE_EXHAUSTED:case pr.INTERNAL:case pr.UNAVAILABLE:case pr.UNAUTHENTICATED:return!1;case pr.INVALID_ARGUMENT:case pr.NOT_FOUND:case pr.ALREADY_EXISTS:case pr.PERMISSION_DENIED:case pr.FAILED_PRECONDITION:case pr.ABORTED:case pr.OUT_OF_RANGE:case pr.UNIMPLEMENTED:case pr.DATA_LOSS:return!0;default:return Er()}}function Mo(e){if(void 0===e)return br("GRPC error has no .code"),pr.UNKNOWN;switch(e){case xo.OK:return pr.OK;case xo.CANCELLED:return pr.CANCELLED;case xo.UNKNOWN:return pr.UNKNOWN;case xo.DEADLINE_EXCEEDED:return pr.DEADLINE_EXCEEDED;case xo.RESOURCE_EXHAUSTED:return pr.RESOURCE_EXHAUSTED;case xo.INTERNAL:return pr.INTERNAL;case xo.UNAVAILABLE:return pr.UNAVAILABLE;case xo.UNAUTHENTICATED:return pr.UNAUTHENTICATED;case xo.INVALID_ARGUMENT:return pr.INVALID_ARGUMENT;case xo.NOT_FOUND:return pr.NOT_FOUND;case xo.ALREADY_EXISTS:return pr.ALREADY_EXISTS;case xo.PERMISSION_DENIED:return pr.PERMISSION_DENIED;case xo.FAILED_PRECONDITION:return pr.FAILED_PRECONDITION;case xo.ABORTED:return pr.ABORTED;case xo.OUT_OF_RANGE:return pr.OUT_OF_RANGE;case xo.UNIMPLEMENTED:return pr.UNIMPLEMENTED;case xo.DATA_LOSS:return pr.DATA_LOSS;default:return Er()}}(No=xo||(xo={}))[No.OK=0]="OK",No[No.CANCELLED=1]="CANCELLED",No[No.UNKNOWN=2]="UNKNOWN",No[No.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",No[No.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",No[No.NOT_FOUND=5]="NOT_FOUND",No[No.ALREADY_EXISTS=6]="ALREADY_EXISTS",No[No.PERMISSION_DENIED=7]="PERMISSION_DENIED",No[No.UNAUTHENTICATED=16]="UNAUTHENTICATED",No[No.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",No[No.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",No[No.ABORTED=10]="ABORTED",No[No.OUT_OF_RANGE=11]="OUT_OF_RANGE",No[No.UNIMPLEMENTED=12]="UNIMPLEMENTED",No[No.INTERNAL=13]="INTERNAL",No[No.UNAVAILABLE=14]="UNAVAILABLE",No[No.DATA_LOSS=15]="DATA_LOSS";var Lo=function(){function e(e,t){this.comparator=e,this.root=t||jo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,jo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jo.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ro(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ro(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ro(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ro(this.root,e,this.comparator,!0)},e}(),Ro=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),jo=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Er();if(this.right.isRed())throw Er();var e=this.left.check();if(e!==this.right.check())throw Er();return e+(this.isRed()?0:1)},e}();jo.EMPTY=null,jo.RED=!0,jo.BLACK=!1,jo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Er()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Er()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Er()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Er()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Er()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new jo(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Fo=function(){function e(e){this.comparator=e,this.data=new Lo(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Uo(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Uo(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Uo=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),zo=new Lo(Jr.comparator);function qo(){return zo}var Vo=new Lo(Jr.comparator);function Bo(){return Vo}var Wo=new Lo(Jr.comparator);function Go(){return Wo}var Ho=new Fo(Jr.comparator);function Ko(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ho,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Qo=new Fo(kr);function Yo(){return Qo}var $o=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Jo.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Dr.min(),r,Yo(),qo(),Ko())},e}(),Jo=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(zr.EMPTY_BYTE_STRING,n,Ko(),Ko(),Ko())},e}(),Zo=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Xo=function(e,t){this.targetId=e,this.V=t},ea=function(e,t,n,r){void 0===n&&(n=zr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ta=function(){function e(){this.S=0,this.D=ia(),this.C=zr.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Ko(),t=Ko(),n=Ko();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Er()}})),new Jo(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=ia()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),na=function(){function e(e){this.W=e,this.G=new Map,this.H=qo(),this.J=ra(),this.Y=new Fo(kr)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:Er()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(yi(i))if(0===n){var o=new Jr(i.path);this.tt(t,o,di.newNoDocument(o,Dr.min()))}else Ir(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&yi(o.target)){var a=new Jr(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,di.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Ko();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new $o(e,n,this.Y,this.H,r);return this.H=qo(),this.J=ra(),this.Y=new Fo(kr),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new ta,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Fo(kr),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||yr("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new ta),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function ra(){return new Lo(Jr.comparator)}function ia(){return new Lo(Jr.comparator)}var oa={asc:"ASCENDING",desc:"DESCENDING"},aa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sa=function(e,t){this.databaseId=e,this.I=t};function ua(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ca(e,t){return e.I?t.toBase64():t.toUint8Array()}function la(e,t){return ua(e,t.toTimestamp())}function ha(e){return Ir(!!e),Dr.fromTimestamp(function(e){var t=Vr(e);return new Ar(t.seconds,t.nanos)}(e))}function fa(e,t){return function(e){return new Rr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function da(e){var t=Rr.fromString(e);return Ir(ja(t)),t}function pa(e,t){return fa(e.databaseId,t.path)}function ma(e,t){var n=da(t);if(n.get(1)!==e.databaseId.projectId)throw new mr(pr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mr(pr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Jr(ba(n))}function ga(e,t){return fa(e.databaseId,t)}function va(e){var t=da(e);return 4===t.length?Rr.emptyPath():ba(t)}function ya(e){return new Rr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ba(e){return Ir(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function wa(e,t,n){return{name:pa(e,t),fields:n.toProto().mapValue.fields}}function _a(e,t,n){var r=ma(e,t.name),i=ha(t.updateTime),o=new hi({mapValue:{fields:t.fields}}),a=di.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ea(e,t){var n;if(t instanceof Io)n={update:wa(e,t.key,t.value)};else if(t instanceof Ao)n={delete:pa(e,t.key)};else if(t instanceof So)n={update:wa(e,t.key,t.data),updateMask:Ra(t.fieldMask)};else{if(!(t instanceof Do))return Er();n={verify:pa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof io)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof oo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof so)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof co)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Er()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:la(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Er()}(e,t.precondition)),n}function Ia(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?mo.updateTime(ha(e.updateTime)):void 0!==e.exists?mo.exists(e.exists):mo.none()}(t.currentDocument):mo.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ir("REQUEST_TIME"===t.setToServerValue),n=new io;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new oo(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new so(i)}else"increment"in t?n=new co(e,t.increment):Er();var o=Fr.fromServerFormat(t.fieldPath);return new fo(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=ma(e,t.update.name),o=new hi({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Ur(t.map((function(e){return Fr.fromServerFormat(e)})))}(t.updateMask);return new So(i,o,a,n,r)}return new Io(i,o,n,r)}if(t.delete){var s=ma(e,t.delete);return new Ao(s,n)}if(t.verify){var u=ma(e,t.verify);return new Do(u,n)}return Er()}function Sa(e,t){return{documents:[ga(e,t.path)]}}function Ta(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ga(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ga(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ci(e.value))return{unaryFilter:{field:Pa(e.field),op:"IS_NAN"}};if(ui(e.value))return{unaryFilter:{field:Pa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ci(e.value))return{unaryFilter:{field:Pa(e.field),op:"IS_NOT_NAN"}};if(ui(e.value))return{unaryFilter:{field:Pa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(e.field),op:Da(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Pa(e.field),direction:Aa(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Qr(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=xa(t.startAt)),t.endAt&&(n.structuredQuery.endAt=xa(t.endAt)),n}function Ca(e){var t=va(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ir(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=ka(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ai(Oa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Qr(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Na(n.startAt));var l=null;return n.endAt&&(l=Na(n.endAt)),Li(t,i,s,a,u,"F",c,l)}function ka(e){return e?void 0!==e.unaryFilter?[La(e)]:void 0!==e.fieldFilter?[Ma(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return ka(e)})).reduce((function(e,t){return e.concat(t)})):Er():[]}function xa(e){return{before:e.before,values:e.position}}function Na(e){var t=!!e.before,n=e.values||[];return new xi(n,t)}function Aa(e){return oa[e]}function Da(e){return aa[e]}function Pa(e){return{fieldPath:e.canonicalString()}}function Oa(e){return Fr.fromServerFormat(e.fieldPath)}function Ma(e){return bi.create(Oa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Er()}}(e.fieldFilter.op),e.fieldFilter.value)}function La(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Oa(e.unaryFilter.field);return bi.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Oa(e.unaryFilter.field);return bi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Oa(e.unaryFilter.field);return bi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Oa(e.unaryFilter.field);return bi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Er()}}function Ra(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ja(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Fa(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=za(t)),t=Ua(e.get(n),t);return za(t)}function Ua(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function za(e){return e+""}function qa(e){var t=e.length;if(Ir(t>=2),2===t)return Ir(""===e.charAt(0)&&""===e.charAt(1)),Rr.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&Er(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:Er()}o=a+2}return new Rr(r)}var Va=function(e,t){this.seconds=e,this.nanoseconds=t},Ba=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ba.store="owner",Ba.key="owner";var Wa=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Wa.store="mutationQueues",Wa.keyPath="userId";var Ga=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ga.store="mutations",Ga.keyPath="batchId",Ga.userMutationsIndex="userMutationsIndex",Ga.userMutationsKeyPath=["userId","batchId"];var Ha=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Fa(t)]},e.key=function(e,t,n){return[e,Fa(t),n]},e}();Ha.store="documentMutations",Ha.PLACEHOLDER=new Ha;var Ka=function(e,t){this.path=e,this.readTime=t},Qa=function(e,t){this.path=e,this.version=t},Ya=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ya.store="remoteDocuments",Ya.readTimeIndex="readTimeIndex",Ya.readTimeIndexPath="readTime",Ya.collectionReadTimeIndex="collectionReadTimeIndex",Ya.collectionReadTimeIndexPath=["parentPath","readTime"];var $a=function(e){this.byteSize=e};$a.store="remoteDocumentGlobal",$a.key="remoteDocumentGlobalKey";var Ja=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Ja.store="targets",Ja.keyPath="targetId",Ja.queryTargetsIndexName="queryTargetsIndex",Ja.queryTargetsKeyPath=["canonicalId","targetId"];var Za=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Za.store="targetDocuments",Za.keyPath=["targetId","path"],Za.documentTargetsIndex="documentTargetsIndex",Za.documentTargetsKeyPath=["path","targetId"];var Xa=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Xa.key="targetGlobalKey",Xa.store="targetGlobal";var es=function(e,t){this.collectionId=e,this.parent=t};es.store="collectionParents",es.keyPath=["collectionId","parent"];var ts=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ts.store="clientMetadata",ts.keyPath="clientId";var ns=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ns.store="bundles",ns.keyPath="bundleId";var rs=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};rs.store="namedQueries",rs.keyPath="name";var is=(0,fr.ev)((0,fr.ev)([],(0,fr.ev)((0,fr.ev)([],(0,fr.ev)((0,fr.ev)([],(0,fr.ev)((0,fr.ev)([],[Wa.store,Ga.store,Ha.store,Ya.store,Ja.store,Ba.store,Xa.store,Za.store]),[ts.store])),[$a.store])),[es.store])),[ns.store,rs.store]),os="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",as=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),ss=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},us=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Er(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),cs=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new ss,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new fs(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=vs(t.target.error);n.ft.reject(new fs(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new fs(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(yr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ps(t)},e}(),ls=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,i.z$)())&&br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return yr("SimpleDb","Removing database:",e),ms(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,i.z$)(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),a=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(yr("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new fs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new mr(pr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new fs(e,n))},i.onupgradeneeded=function(e){yr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){yr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,fr.Jh)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,fr.Jh)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=cs.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),us.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,yr("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),hs=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return ms(this.Pt.delete())},e}(),fs=function(e){function t(t,n){var r=this;return(r=e.call(this,pr.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,fr.ZT)(t,e),t}(mr);function ds(e){return"IndexedDbTransactionError"===e.name}var ps=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(yr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(yr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ms(n)},e.prototype.add=function(e){return yr("SimpleDb","ADD",this.store.name,e,e),ms(this.store.add(e))},e.prototype.get=function(e){var t=this;return ms(this.store.get(e)).next((function(n){return void 0===n&&(n=null),yr("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return yr("SimpleDb","DELETE",this.store.name,e),ms(this.store.delete(e))},e.prototype.count=function(){return yr("SimpleDb","COUNT",this.store.name),ms(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){yr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new us((function(n,r){t.onerror=function(e){var t=vs(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new us((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new hs(i),a=t(i.primaryKey,i.value,o);if(a instanceof us){var s=a.catch((function(e){return o.done(),us.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return us.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function ms(e){return new us((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=vs(e.target.error);n(t)}}))}var gs=!1;function vs(e){var t=ls._t((0,i.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new mr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return gs||(gs=!0,setTimeout((function(){throw r}),0)),r}}return e}var ys=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,fr.ZT)(t,e),t}(as);function bs(e,t){var n=Sr(e);return ls.It(n.Mt,t)}var ws=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&yo(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&bo(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&bo(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Dr.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ko())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&xr(this.mutations,e.mutations,(function(e,t){return _o(e,t)}))&&xr(this.baseMutations,e.baseMutations,(function(e,t){return _o(e,t)}))},e}(),_s=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Ir(t.mutations.length===r.length);for(var i=Go(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Es=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Dr.min()),void 0===o&&(o=Dr.min()),void 0===a&&(a=zr.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Is=function(e){this.Lt=e};function Ss(e,t){if(t.document)return _a(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Jr.fromSegments(t.noDocument.path),r=Ns(t.noDocument.readTime),i=di.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Jr.fromSegments(t.unknownDocument.path);return r=Ns(t.unknownDocument.version),di.newUnknownDocument(o,r)}return Er()}function Ts(e,t,n){var r=Cs(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:pa(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:ua(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Ya(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=xs(t.version);return a=t.hasCommittedMutations,new Ya(null,new Ka(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=xs(t.version);return new Ya(new Qa(c,l),null,null,!0,r,i)}return Er()}function Cs(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ks(e){var t=new Ar(e[0],e[1]);return Dr.fromTimestamp(t)}function xs(e){var t=e.toTimestamp();return new Va(t.seconds,t.nanoseconds)}function Ns(e){var t=new Ar(e.seconds,e.nanoseconds);return Dr.fromTimestamp(t)}function As(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ia(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Ia(e.Lt,t)})),s=Ar.fromMillis(t.localWriteTimeMs);return new ws(t.batchId,s,n,a)}function Ds(e){var t,n,r=Ns(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ns(e.lastLimboFreeSnapshotVersion):Dr.min();return void 0!==e.query.documents?(Ir(1===(n=e.query).documents.length),t=Bi(Ri(va(n.documents[0])))):t=function(e){return Bi(Ca(e))}(e.query),new Es(t,e.targetId,0,e.lastListenSequenceNumber,r,i,zr.fromBase64String(e.resumeToken))}function Ps(e,t){var n,r=xs(t.snapshotVersion),i=xs(t.lastLimboFreeSnapshotVersion);n=yi(t.target)?Sa(e.Lt,t.target):Ta(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Ja(t.targetId,gi(t.target),r,o,t.sequenceNumber,i,n)}function Os(e){var t=Ca({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wi(t,t.limit,"L"):t}var Ms=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Ls(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ns(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Ls(e).put({bundleId:(n=t).id,createTime:xs(ha(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Rs(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Os(t.bundledQuery),readTime:Ns(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Rs(e).put(function(e){return{name:e.name,readTime:xs(ha(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Ls(e){return bs(e,ns.store)}function Rs(e){return bs(e,rs.store)}var js=function(){function e(){this.Bt=new Fs}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),us.resolve()},e.prototype.getCollectionParents=function(e,t){return us.resolve(this.Bt.getEntries(t))},e}(),Fs=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Fo(Rr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Fo(Rr.comparator)).toArray()},e}(),Us=function(){function e(){this.qt=new Fs}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Fa(i)};return zs(e).put(o)}return us.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Nr(t),""],!1,!0);return zs(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(qa(o.parent))}return n}))},e}();function zs(e){return bs(e,es.store)}var qs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vs=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Bs(e,t,n){var r=e.store(Ga.store),i=e.store(Ha.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Ir(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ha.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return us.waitFor(o).next((function(){return c}))}function Ws(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Er();t=e.noDocument}return JSON.stringify(t).length}Vs.DEFAULT_COLLECTION_PERCENTILE=10,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vs.DEFAULT=new Vs(41943040,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vs.DISABLED=new Vs(-1,0,0);var Gs=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return Ir(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ks(e).Ot({index:Ga.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Qs(e),a=Ks(e);return a.add({}).next((function(s){Ir("number"==typeof s);for(var u=new ws(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Ea(e.Lt,t)})),i=n.mutations.map((function(t){return Ea(e.Lt,t)}));return new Ga(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Fo((function(e,t){return kr(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=Ha.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,Ha.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),us.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Ks(e).get(t).next((function(e){return e?(Ir(e.userId===n.userId),As(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?us.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ks(e).Ot({index:Ga.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Ir(t.batchId>=r),o=As(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ks(e).Ot({index:Ga.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ks(e).Nt(Ga.userMutationsIndex,n).next((function(e){return e.map((function(e){return As(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Ha.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Qs(e).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=qa(u);if(s===n.userId&&t.path.isEqual(l))return Ks(e).get(c).next((function(e){if(!e)throw Er();Ir(e.userId===n.userId),o.push(As(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Fo(kr),i=[];return t.forEach((function(t){var o=Ha.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Qs(e).Ot({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=qa(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),us.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Ha.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Fo(kr);return Qs(e).Ot({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=qa(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ks(e).get(t).next((function(e){if(null===e)throw Er();Ir(e.userId===n.userId),r.push(As(n.R,e))})))})),us.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Bs(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),us.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return us.resolve();var r=IDBKeyRange.lowerBound(Ha.prefixForUser(t.userId)),i=[];return Qs(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=qa(e[1]);i.push(o)}else r.done()})).next((function(){Ir(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Hs(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Ys(e).get(this.userId).next((function(e){return e||new Wa(t.userId,-1,"")}))},e}();function Hs(e,t,n){var r=Ha.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Qs(e).Ot({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Ks(e){return bs(e,Ga.store)}function Qs(e){return bs(e,Ha.store)}function Ys(e){return bs(e,Wa.store)}var $s=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Js=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new $s(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Dr.fromTimestamp(new Ar(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Zs(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Ir(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Zs(e).Ot((function(a,s){var u=Ds(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return us.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Zs(e).Ot((function(e,n){var r=Ds(n);t(r)}))},e.prototype.Xt=function(e){return Xs(e).get(Xa.key).next((function(e){return Ir(null!==e),e}))},e.prototype.Zt=function(e,t){return Xs(e).put(Xa.key,t)},e.prototype.te=function(e,t){return Zs(e).put(Ps(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=gi(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Zs(e).Ot({range:r,index:Ja.queryTargetsIndexName},(function(e,n,r){var o=Ds(n);vi(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=eu(e);return t.forEach((function(t){var a=Fa(t.path);i.push(o.put(new Za(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),us.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=eu(e);return us.forEach(t,(function(t){var o=Fa(t.path);return us.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=eu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=eu(e),i=Ko();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=qa(e[1]),o=new Jr(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Fa(t.path),r=IDBKeyRange.bound([n],[Nr(n)],!1,!0),i=0;return eu(e).Ot({index:Za.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Zs(e).get(t).next((function(e){return e?Ds(e):null}))},e}();function Zs(e){return bs(e,Ja.store)}function Xs(e){return bs(e,Xa.store)}function eu(e){return bs(e,Za.store)}function tu(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){if(e.code!==pr.FAILED_PRECONDITION||e.message!==os)throw e;return yr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function nu(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=kr(n,i);return 0===a?kr(r,o):a}var ru=function(){function e(e){this.ne=e,this.buffer=new Fo(nu),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();nu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),iu=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;yr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ds(t=n.sent())?(yr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,tu(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),ou=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return us.resolve(dr.o);var r=new ru(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(yr("LruGarbageCollector","Garbage collection skipped; disabled"),us.resolve(qs)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(yr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),qs):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,a,s,u,c,l=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(yr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),vr()<=o.in.DEBUG&&yr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),us.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),au=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new ou(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return su(e,n)},e.prototype.removeReference=function(e,t,n){return su(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return su(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Ys(e).$t((function(r){return Hs(e,r,t).next((function(e){return e&&(n=!0),us.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),eu(e).delete([0,Fa(a.path)])}))}));i.push(u)}})).next((function(){return us.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return su(e,t)},e.prototype.we=function(e,t){var n,r=eu(e),i=dr.o;return r.Ot({index:Za.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==dr.o&&t(new Jr(qa(n)),i),i=s,n=a):i=dr.o})).next((function(){i!==dr.o&&t(new Jr(qa(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function su(e,t){return eu(e).put(function(e,t){return new Za(0,Fa(e.path),t)}(t,e.currentSequenceNumber))}var uu=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Or(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Mr(this.inner)},e}(),cu=function(){function e(){this.changes=new uu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Dr.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:di.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?us.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),lu=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return du(e).put(pu(t),n)},e.prototype.removeEntry=function(e,t){var n=du(e),r=pu(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return du(e).get(pu(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return du(e).get(pu(t)).next((function(e){return{document:n.ye(t,e),size:Ws(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=qo();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=qo(),i=new Lo(Jr.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Ws(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return us.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return du(e).Ot({range:r},(function(e,t,r){for(var a=Jr.fromSegments(e);o&&Jr.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=qo(),o=t.path.length+1,a={};if(n.isEqual(Dr.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Cs(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Ya.collectionReadTimeIndex}return du(e).Ot(a,(function(e,n,a){if(e.length===o){var s=Ss(r.R,n);t.path.isPrefixOf(s.key.path)?Qi(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new hu(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return fu(e).get($a.key).next((function(e){return Ir(!!e),e}))},e.prototype.me=function(e,t){return fu(e).put($a.key,t)},e.prototype.ye=function(e,t){if(t){var n=Ss(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Dr.min()))return n}return di.newInvalidDocument(e)},e}(),hu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new uu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,fr.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Fo((function(e,t){return kr(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Ts(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Ws(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Ts(t.Ie.R,di.newNoDocument(o,Dr.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),us.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(cu);function fu(e){return bs(e,$a.store)}function du(e){return bs(e,Ya.store)}function pu(e){return e.path.toArray()}var mu=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Ir(n<r&&n>=0&&r<=11);var o=new cs("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ba.store)}(e),function(e){e.createObjectStore(Wa.store,{keyPath:Wa.keyPath}),e.createObjectStore(Ga.store,{keyPath:Ga.keyPath,autoIncrement:!0}).createIndex(Ga.userMutationsIndex,Ga.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ha.store)}(e),gu(e),function(e){e.createObjectStore(Ya.store)}(e));var a=us.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Za.store),e.deleteObjectStore(Ja.store),e.deleteObjectStore(Xa.store)}(e),gu(e)),a=a.next((function(){return function(e){var t=e.store(Xa.store),n=new Xa(0,0,Dr.min().toTimestamp(),0);return t.put(Xa.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Ga.store).Nt().next((function(n){e.deleteObjectStore(Ga.store),e.createObjectStore(Ga.store,{keyPath:Ga.keyPath,autoIncrement:!0}).createIndex(Ga.userMutationsIndex,Ga.userMutationsKeyPath,{unique:!0});var r=t.store(Ga.store),i=n.map((function(e){return r.put(e)}));return us.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(ts.store,{keyPath:ts.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore($a.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Ya.store);t.createIndex(Ya.readTimeIndex,Ya.readTimeIndexPath,{unique:!1}),t.createIndex(Ya.collectionReadTimeIndex,Ya.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(ns.store,{keyPath:ns.keyPath})}(e),function(e){e.createObjectStore(rs.store,{keyPath:rs.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Ya.store).Ot((function(e,n){t+=Ws(n)})).next((function(){var n=new $a(t);return e.store($a.store).put($a.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Wa.store),r=e.store(Ga.store);return n.Nt().next((function(n){return us.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ga.userMutationsIndex,i).next((function(r){return us.forEach(r,(function(r){Ir(r.userId===n.userId);var i=As(t.R,r);return Bs(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Za.store),n=e.store(Ya.store);return e.store(Xa.store).get(Xa.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new Rr(n),a=function(e){return[0,Fa(e)]}(o);r.push(t.get(a).next((function(n){return n?us.resolve():function(n){return t.put(new Za(0,Fa(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return us.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(es.store,{keyPath:es.keyPath});var n=t.store(es.store),r=new Fs,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Fa(i)})}};return t.store(Ya.store).Ot({kt:!0},(function(e,t){var n=new Rr(e);return i(n.popLast())})).next((function(){return t.store(Ha.store).Ot({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],qa(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Ja.store);return n.Ot((function(e,r){var i=Ds(r),o=Ps(t.R,i);return n.put(o)}))},e}();function gu(e){e.createObjectStore(Za.store,{keyPath:Za.keyPath}).createIndex(Za.documentTargetsIndex,Za.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ja.store,{keyPath:Ja.keyPath}).createIndex(Ja.queryTargetsIndexName,Ja.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Xa.store)}var vu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yu=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new mr(pr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new au(this,i),this.Le=n+"main",this.R=new Is(u),this.Be=new ls(this.Le,11,new mu(this.R)),this.qe=new Js(this.referenceDelegate,this.R),this.Ut=new Us,this.Ue=function(e,t){return new lu(e,t)}(this.R,this.Ut),this.Qe=new Ms,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new mr(pr.FAILED_PRECONDITION,vu);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new dr(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return wu(t).put(new ts(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(ds(t))return yr("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return yr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return bu(e).get(Ba.key).next((function(e){return us.resolve(t.tn(e))}))},e.prototype.en=function(e){return wu(e).delete(this.clientId)},e.prototype.nn=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=bs(e,ts.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return us.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?us.resolve(!0):bu(e).get(Ba.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new mr(pr.FAILED_PRECONDITION,vu);return!1}}return!(!t.networkEnabled||!t.inForeground)||wu(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&yr("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e=this;return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ba.store,ts.store],(function(t){var n=new ys(t,dr.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return wu(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Gs.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;yr("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,is,(function(o){return i=new ys(o,r.Ne?r.Ne.next():dr.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw br("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new mr(pr.FAILED_PRECONDITION,os);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return bu(e).get(Ba.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new mr(pr.FAILED_PRECONDITION,vu)}))},e.prototype.Ze=function(e){var t=new Ba(this.clientId,this.allowTabSynchronization,Date.now());return bu(e).put(Ba.key,t)},e.yt=function(){return ls.yt()},e.prototype.Xe=function(e){var t=this,n=bu(e);return n.get(Ba.key).next((function(e){return t.tn(e)?(yr("IndexedDbPersistence","Releasing primary lease."),n.delete(Ba.key)):us.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(br("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return yr("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return br("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){br("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function bu(e){return bs(e,Ba.store)}function wu(e){return bs(e,ts.store)}function _u(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Eu=function(e,t){this.progress=e,this.wn=t},Iu=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Jr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):qi(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Jr(t)).next((function(e){var t=Bo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Bo();return this.Ut.getCollectionParents(e,i).next((function(a){return us.forEach(a,(function(a){var s=function(e,t){return new Mi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=di.newInvalidDocument(c),r=r.insert(c,l)),bo(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Qi(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Ko(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof So&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Su=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ko(),i=Ko(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Tu=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Dr.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(a){var s=i.Cn(t,a);return(ji(t)||Fi(t))&&i.Nn(t.limitType,s,r,n)?i.Dn(e,t):(vr()<=o.in.DEBUG&&yr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ki(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Fo(Yi(e));return t.forEach((function(t,r){Qi(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return vr()<=o.in.DEBUG&&yr("QueryEngine","Using full collection scan to execute query:",Ki(t)),this.Sn.getDocumentsMatchingQuery(e,t,Dr.min())},e}(),Cu=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Lo(kr),this.kn=new uu((function(e){return gi(e)}),vi),this.On=Dr.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Iu(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function ku(e,t,n,r){return new Cu(e,t,n,r)}function xu(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:return n=Sr(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Iu(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Ko(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var g=0,v=m.mutations;g<v.length;g++){var y=v[g];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Nu(e,t){var n=Sr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=us.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Ir(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Au(e){var t=Sr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Du(e,t){var n=Sr(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Ir(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=qo();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Pu(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Dr.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return us.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function Pu(e,t,n,r,i){var o=Ko();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=qo();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Dr.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):yr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Ou(e,t){var n=Sr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Mu(e,t){var n=Sr(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,us.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Es(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Lu(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:r=Sr(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!ds(a=s.sent()))throw a;return yr("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Ru(e,t,n){var r=Sr(e),i=Dr.min(),o=Ko();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Sr(e),i=r.kn.get(n);return void 0!==i?us.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Bi(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Dr.min(),n?o:Ko())})).next((function(e){return{documents:e,Bn:o}}))}))}function ju(e,t){var n=Sr(e),r=Sr(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Fu(e){var t=Sr(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Sr(e),i=qo(),o=Cs(n),a=du(t),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Ya.readTimeIndex,range:s},(function(e,t){var n=Ss(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:ks(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn,r=e.readTime;return t.On=r,n}))}function Uu(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){return[2,(t=Sr(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=du(e),n=Dr.min();return t.Ot({index:Ya.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=ks(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function zu(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return(0,fr.Jh)(this,(function(p){switch(p.label){case 0:for(i=Sr(e),o=Ko(),a=qo(),s=Go(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Mu(i,function(e){return Bi(Ri(Rr.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Pu(e,f,a,Dr.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function qu(e,t,n){return void 0===n&&(n=Ko()),(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return[4,Mu(e,Bi(Os(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Sr(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=ha(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(zr.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var Vu=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return us.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:ha(n.createTime)}),us.resolve()},e.prototype.getNamedQuery=function(e,t){return us.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Os(e.bundledQuery),readTime:ha(e.readTime)}}(t)),us.resolve()},e}(),Bu=function(){function e(){this.Wn=new Fo(Wu.Gn),this.zn=new Fo(Wu.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Wu(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Wu(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Jr(new Rr([])),r=new Wu(n,e),i=new Wu(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Jr(new Rr([])),n=new Wu(t,e),r=new Wu(t,e+1),i=Ko();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Wu(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Wu=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Jr.comparator(e.key,t.key)||kr(e.ns,t.ns)},e.Hn=function(e,t){return kr(e.ns,t.ns)||Jr.comparator(e.key,t.key)},e}(),Gu=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Fo(Wu.Gn)}return e.prototype.checkEmpty=function(e){return us.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new ws(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Wu(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return us.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return us.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return us.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return us.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return us.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Wu(t,0),i=new Wu(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),us.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Fo(kr);return t.forEach((function(e){var t=new Wu(e,0),i=new Wu(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),us.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Jr.isDocumentKey(i)||(i=i.child(""));var o=new Wu(new Jr(i),0),a=new Fo(kr);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),us.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Ir(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return us.forEach(t.mutations,(function(i){var o=new Wu(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Wu(t,0),r=this.rs.firstAfterOrEqual(n);return us.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,us.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Hu=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Lo(Jr.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return us.resolve(n?n.document.clone():di.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=qo();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():di.newInvalidDocument(e))})),us.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=qo(),i=new Jr(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Qi(t,c)&&(r=r.insert(c.key,c.clone()))}return us.resolve(r)},e.prototype.fs=function(e,t){return us.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Ku(this)},e.prototype.getSize=function(e){return us.resolve(this.size)},e}(),Ku=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,fr.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),us.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(cu),Qu=function(){function e(e){this.persistence=e,this.ds=new uu((function(e){return gi(e)}),vi),this.lastRemoteSnapshotVersion=Dr.min(),this.highestTargetId=0,this.ws=0,this._s=new Bu,this.targetCount=0,this.ys=$s.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),us.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return us.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return us.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),us.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),us.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new $s(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,us.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),us.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,us.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),us.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return us.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return us.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),us.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),us.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),us.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return us.resolve(n)},e.prototype.containsKey=function(e,t){return us.resolve(this._s.containsKey(t))},e}(),Yu=function(){function e(e,t){var n=this;this.gs={},this.Ne=new dr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Qu(this),this.Ut=new js,this.Ue=function(e,t){return new Hu(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Is(t),this.Qe=new Vu(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Gu(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;yr("MemoryPersistence","Starting transaction:",e);var i=new $u(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return us.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),$u=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,fr.ZT)(t,e),t}(as),Ju=function(){function e(e){this.persistence=e,this.As=new Bu,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Er()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),us.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),us.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),us.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return us.forEach(this.vs,(function(r){var i=Jr.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return us.or([function(){return us.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Zu=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Xu(e,t){return"firestore_clients_"+e+"_"+t}function ec(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function tc(e,t){return"firestore_targets_"+e+"_"+t}Zu.UNAUTHENTICATED=new Zu(null),Zu.GOOGLE_CREDENTIALS=new Zu("google-credentials-uid"),Zu.FIRST_PARTY=new Zu("first-party-uid");var nc=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new mr(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(br("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),rc=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new mr(i.error.code,i.error.message)),o?new e(t,i.state,r):(br("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ic=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Yo(),a=0;i&&a<r.activeTargetIds.length;++a)i=$r(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(br("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),oc=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(br("SharedClientState","Failed to parse online state: "+t),null)},e}(),ac=function(){function e(){this.activeTargetIds=Yo()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),sc=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Lo(kr),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Xu(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ac),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return(0,fr.Jh)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Xu(this.persistenceKey,r)))&&(o=ic.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(tc(this.persistenceKey,e));if(n){var r=rc.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(tc(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return yr("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){yr("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){yr("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(yr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,fr.Jh)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=dr.o;if(null!=e)try{var n=JSON.parse(e);Ir("number"==typeof n),t=n}catch(e){br("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==dr.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new nc(this.currentUser,e,t,n),i=ec(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=ec(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=tc(this.persistenceKey,e),i=new rc(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return ic.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return nc.Vs(new Zu(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return rc.Vs(r,t)},e.prototype.js=function(e){return oc.Vs(e)},e.prototype.ii=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(yr("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Yo();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),uc=function(){function e(){this.li=new ac,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new ac,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),cc=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),lc=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){yr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){yr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),hc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},fc=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),dc=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return(0,fr.ZT)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new hr;a.listenOnce(ar.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case or.NO_ERROR:var t=a.getResponseJson();yr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case or.TIMEOUT:yr("Connection",'RPC "'+e+'" timed out'),o(new mr(pr.DEADLINE_EXCEEDED,"Request time out"));break;case or.HTTP_ERROR:var n=a.getStatus();if(yr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(pr).indexOf(t)>=0?t:pr.UNKNOWN}(r.status);o(new mr(s,r.message))}else o(new mr(pr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new mr(pr.UNAVAILABLE,"Connection failed."));break;default:Er()}}finally{yr("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new er,o=tt(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(a.initMessageHeaders,t),(0,i.uI)()||(0,i.b$)()||(0,i.d)()||(0,i.w1)()||(0,i.Mn)()||(0,i.ru)()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");yr("Connection","Creating WebChannel: "+s,a);var u=r.createWebChannel(s,a),c=!1,l=!1,h=new fc({Ei:function(e){l?yr("Connection","Not sending because WebChannel is closed:",e):(c||(yr("Connection","Opening WebChannel transport."),u.open(),c=!0),yr("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,lr.EventType.OPEN,(function(){l||yr("Connection","WebChannel transport opened.")})),f(u,lr.EventType.CLOSE,(function(){l||(l=!0,yr("Connection","WebChannel transport closed"),h.Vi())})),f(u,lr.EventType.ERROR,(function(e){l||(l=!0,wr("Connection","WebChannel transport errored:",e),h.Vi(new mr(pr.UNAVAILABLE,"The operation could not be completed")))})),f(u,lr.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ir(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){yr("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=xo[e];if(void 0!==t)return Mo(t)}(o),s=i.message;void 0===a&&(a=pr.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new mr(a,s)),u.close()}else yr("Connection","WebChannel received:",n),h.Si(n)}})),f(o,sr.STAT_EVENT,(function(e){e.stat===ur?yr("Connection","Detected buffering proxy"):e.stat===cr&&yr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);yr("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return yr("RestConnection","Received: ",e),e}),(function(t){throw wr("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",e["X-Firebase-GMPID"]=this.databaseInfo.appId,e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=hc[e];return this.Di+"/v1/"+t+":"+n},e}());function pc(){return"undefined"!=typeof window?window:null}function mc(){return"undefined"!=typeof document?document:null}function gc(e){return new sa(e,!0)}var vc=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&yr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),yc=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new vc(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===pr.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===pr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new mr(pr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,fr.mG)(e,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return yr("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(yr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),bc=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,fr.ZT)(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Er()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Ir(void 0===t||"string"==typeof t),zr.fromBase64String(t||"")):(Ir(void 0===t||t instanceof Uint8Array),zr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?pr.UNKNOWN:Mo(e.code);return new mr(t,e.message||"")}(s);n=new ea(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=ma(e,r.document.name),o=ha(r.document.updateTime);var s=new hi({mapValue:{fields:r.document.fields}}),u=(a=di.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new Zo(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=ma(e,r.document),o=r.readTime?ha(r.readTime):Dr.min(),s=di.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Zo([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=ma(e,r.document),o=r.removedTargetIds||[],n=new Zo([],o,i,null);else{if(!("filter"in t))return Er();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Po(r),o=l.targetId,n=new Xo(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Dr.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Dr.min():t.readTime?ha(t.readTime):Dr.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=ya(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=yi(r)?{documents:Sa(e,r)}:{query:Ta(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ca(e,t.resumeToken):t.snapshotVersion.compareTo(Dr.min())>0&&(n.readTime=ua(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Er()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=ya(this.R),t.removeTarget=e,this.cr(t)},t}(yc),wc=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(Ir(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Ir(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ha(e.updateTime):ha(t);return n.isEqual(Dr.min())&&(n=ha(t)),new po(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ha(e.commitTime);return this.listener.Tr(n,t)}return Ir(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=ya(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ea(t.R,e)}))};this.cr(n)},t}(yc),_c=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,fr.ZT)(t,e),t.prototype.br=function(){if(this.Rr)throw new mr(pr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw e.code===pr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw e.code===pr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.terminate=function(){this.Rr=!1},t}((function(){})),Ec=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(br(t),this.Vr=!1):yr("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Ic=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,fr.mG)(o,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return Pc(this)?(yr("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return(t=Sr(e)).$r.add(4),[4,Tc(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,Sc(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Ec(n,r)};function Sc(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:if(!Pc(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Tc(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Cc(e,t){var n=Sr(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Dc(n)?Ac(n):Kc(n).er()&&xc(n,t))}function kc(e,t){var n=Sr(e),r=Kc(n);n.Or.delete(t),r.er()&&Nc(n,t),0===n.Or.size&&(r.er()?r.ir():Pc(n)&&n.Br.set("Unknown"))}function xc(e,t){e.qr.U(t.targetId),Kc(e).mr(t)}function Nc(e,t){e.qr.U(t),Kc(e).yr(t)}function Ac(e){e.qr=new na({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Kc(e).start(),e.Br.Sr()}function Dc(e){return Pc(e)&&!Kc(e).tr()&&e.Or.size>0}function Pc(e){return 0===Sr(e).$r.size}function Oc(e){e.qr=void 0}function Mc(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){return e.Or.forEach((function(t,n){xc(e,t)})),[2]}))}))}function Lc(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(n){return Oc(e),Dc(e)?(e.Br.Nr(t),Ac(e)):e.Br.set("Unknown"),[2]}))}))}function Rc(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof ea&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),yr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,jc(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Zo?e.qr.X(t):t instanceof Xo?e.qr.rt(t):e.qr.et(t),n.isEqual(Dr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Au(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(zr.EMPTY_BYTE_STRING,n.snapshotVersion)),Nc(e,t);var r=new Es(n.target,t,1,n.sequenceNumber);xc(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return yr("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,jc(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function jc(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r=this;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:if(!ds(t))throw t;return e.$r.add(1),[4,Tc(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Au(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,fr.mG)(r,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return yr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,Sc(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Fc(e,t){return t().catch((function(n){return jc(e,n,t)}))}function Uc(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:t=Sr(e),n=Qc(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Pc(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Ou(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Qc(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,jc(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return zc(t)&&qc(t),[2]}}))}))}function zc(e){return Pc(e)&&!Qc(e).tr()&&e.kr.length>0}function qc(e){Qc(e).start()}function Vc(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){return Qc(e).Ar(),[2]}))}))}function Bc(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,fr.Jh)(this,(function(o){for(t=Qc(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Wc(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=_s.from(r,t,n),[4,Fc(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Uc(e)];case 2:return o.sent(),[2]}}))}))}function Gc(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t&&Qc(e).pr?[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return Oo(r=t.code)&&r!==pr.ABORTED?(n=e.kr.shift(),Qc(e).sr(),[4,Fc(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Uc(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return zc(e)&&qc(e),[2]}}))}))}function Hc(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return n=Sr(e),t?(n.$r.delete(2),[4,Sc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,Tc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Kc(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Sr(e);return r.br(),new bc(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Mc.bind(null,e),Ri:Lc.bind(null,e),_r:Rc.bind(null,e)}),e.Mr.push((function(n){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Dc(e)?Ac(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Oc(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Qc(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=Sr(e);return r.br(),new wc(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Vc.bind(null,e),Ri:Gc.bind(null,e),Ir:Bc.bind(null,e),Tr:Wc.bind(null,e)}),e.Mr.push((function(n){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,Uc(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(yr("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var Yc=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mr(pr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function $c(e,t){if(br("AsyncQueue",t+": "+e),ds(e))return new mr(pr.UNAVAILABLE,t+": "+e);throw e}var Jc=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Jr.comparator(t.key,n.key)}:function(e,t){return Jr.comparator(e.key,t.key)},this.keyedMap=Bo(),this.sortedSet=new Lo(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Zc=function(){function e(){this.Kr=new Lo(Jr.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):Er():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Xc=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Jc.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),el=function(){this.Wr=void 0,this.listeners=[]},tl=function(){this.queries=new uu((function(e){return Hi(e)}),Gi),this.onlineState="Unknown",this.Gr=new Set};function nl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,fr.Jh)(this,(function(c){switch(c.label){case 0:if(n=Sr(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new el),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=$c(s,"Initialization of query '"+Ki(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&al(n),[2]}}))}))}function rl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,fr.Jh)(this,(function(s){return n=Sr(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function il(e,t){for(var n=Sr(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&al(n)}function ol(e,t,n){var r=Sr(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function al(e){e.Gr.forEach((function(e){e.next()}))}var sl=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Xc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),ul=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),cl=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ma(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?_a(this.R,e.document,!1):di.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return ha(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new cl(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Ko()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return[4,zu(this.localStore,new cl(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,qu(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Eu(Object.assign({},this.progress),e))]}}))}))}}();var ll=function(e){this.key=e},hl=function(e){this.key=e},fl=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ko(),this.mutatedKeys=Ko(),this.lo=Yi(e),this.fo=new Jc(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Zc,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=ji(this.query)&&i.size===this.query.limit?i.last():null,c=Fi(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=Qi(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),ji(this.query)||Fi(this.query))for(;a.size>this.query.limit;){var l=ji(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Er()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Xc(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Zc,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ko(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new hl(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new ll(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ko();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Xc.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),dl=function(e,t,n){this.query=e,this.targetId=t,this.view=n},pl=function(e){this.key=e,this.bo=!1},ml=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new uu((function(e){return Hi(e)}),Gi),this.Vo=new Map,this.So=new Set,this.Do=new Lo(Jr.comparator),this.Co=new Map,this.No=new Bu,this.xo={},this.Fo=new Map,this.ko=$s.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function gl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,fr.Jh)(this,(function(u){switch(u.label){case 0:return n=Gl(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Mu(n.localStore,Bi(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,vl(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Cc(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function vl(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,fr.Jh)(this,(function(l){switch(l.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Ru(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Al(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Ru(e.localStore,t,!0)];case 1:return i=l.sent(),o=new fl(t,i.Bn),a=o._o(i.documents),s=Jo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Al(e,n,u.To),c=new dl(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function yl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return n=Sr(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Gi(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Lu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),kc(n.remoteStore,r.targetId),xl(n,r.targetId)})).catch(tu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return xl(n,r.targetId),[4,Lu(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function bl(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:r=Hl(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Sr(e),i=Ar.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ko());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=wo(c,n.get(c.key));null!=l&&a.push(new So(c.key,l,fi(l.toProto().mapValue),mo.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Lo(kr)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ol(r,i.changes)];case 3:return s.sent(),[4,Uc(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=$c(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function wl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:n=Sr(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Du(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Ir(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Ir(r.bo):e.removedDocuments.size>0&&(Ir(r.bo),r.bo=!1))})),[4,Ol(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,tu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function _l(e,t,n){var r=Sr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Sr(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&al(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function El(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,fr.Jh)(this,(function(c){switch(c.label){case 0:return(r=Sr(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Lo(Jr.comparator)).insert(o,di.newNoDocument(o,Dr.min())),s=Ko().add(o),u=new $o(Dr.min(),new Map,new Fo(kr),a,s),[4,wl(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Pl(r),[3,4];case 2:return[4,Lu(r.localStore,t,!1).then((function(){return xl(r,t,n)})).catch(tu)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Il(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:n=Sr(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Nu(n.localStore,t)];case 2:return i=o.sent(),kl(n,r,null),Cl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ol(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,tu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Sl(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:r=Sr(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Sr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Ir(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),kl(r,t,n),Cl(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Ol(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,tu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Tl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:Pc((n=Sr(e)).remoteStore)||yr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Sr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=$c(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Cl(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function kl(e,t,n){var r=Sr(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function xl(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Nl(e,t)}))}function Nl(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(kc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Pl(e))}function Al(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ll?(e.No.addReference(o.key,t),Dl(e,o)):o instanceof hl?(yr("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Nl(e,o.key)):Er()}}function Dl(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(yr("SyncEngine","New document in limbo: "+n),e.So.add(r),Pl(e))}function Pl(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Jr(Rr.fromString(t)),r=e.ko.next();e.Co.set(r,new pl(n)),e.Do=e.Do.insert(n,r),Cc(e.remoteStore,new Es(Bi(Ri(n.path)),r,2,dr.o))}}function Ol(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:return r=Sr(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.$o(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Su.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,fr.Jh)(this,(function(h){switch(h.label){case 0:n=Sr(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return us.forEach(t,(function(t){return us.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return us.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!ds(r=h.sent()))throw r;return yr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Ml(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return(n=Sr(e)).currentUser.isEqual(t)?[3,3]:(yr("SyncEngine","User change. New user:",t.toKey()),[4,xu(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new mr(pr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Ol(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ll(e,t){var n=Sr(e),r=n.Co.get(t);if(r&&r.bo)return Ko().add(r.key);var i=Ko(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Rl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return[4,Ru((n=Sr(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Al(n,t.targetId,i.To),i)]}}))}))}function jl(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){return[2,Fu((t=Sr(e)).localStore).then((function(e){return Ol(t,e)}))]}))}))}function Fl(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Sr(e),r=Sr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):us.resolve(null)}))}))}((i=Sr(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Uc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(kl(i,t,r||null),Cl(i,t),function(e,t){Sr(Sr(e)._n).Gt(t)}(i.localStore,t)):Er(),a.label=4;case 4:return[4,Ol(i,o)];case 5:return a.sent(),[3,7];case 6:yr("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Ul(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,fr.Jh)(this,(function(l){switch(l.label){case 0:return Gl(n=Sr(e)),Hl(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,zl(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Hc(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Cc(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return xl(n,t),Lu(n.localStore,t,!0)})),kc(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,zl(n,u)];case 5:return l.sent(),function(e){var t=Sr(e);t.Co.forEach((function(e,n){kc(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Lo(Jr.comparator)}(n),n.Oo=!1,[4,Hc(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function zl(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,m;return(0,fr.Jh)(this,(function(g){switch(g.label){case 0:n=Sr(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Mu(n.localStore,Bi(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,Rl(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ju(n.localStore,s)];case 8:return m=g.sent(),[4,Mu(n.localStore,m)];case 9:return u=g.sent(),[4,vl(n,ql(m),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function ql(e){return Li(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Vl(e){var t=Sr(e);return Sr(Sr(t.localStore).persistence).fn()}function Bl(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:return(i=Sr(e)).Oo?(yr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Fu(i.localStore)];case 3:return o=s.sent(),a=$o.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Ol(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Lu(i.localStore,t,!0)];case 6:return s.sent(),xl(i,t,r),[3,8];case 7:Er(),s.label=8;case 8:return[2]}}))}))}function Wl(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,fr.Jh)(this,(function(d){switch(d.label){case 0:if(!(r=Gl(e)).Oo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(yr("SyncEngine","Adding an already active target "+a),[3,5]):[4,ju(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Mu(r.localStore,s)];case 3:return u=d.sent(),[4,vl(r,ql(s),u.targetId,!1)];case 4:d.sent(),Cc(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Lu(r.localStore,e,!1).then((function(){kc(r.remoteStore,e),xl(r,e)})).catch(tu)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Gl(e){var t=Sr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ll.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=El.bind(null,t),t.vo._r=il.bind(null,t.eventManager),t.vo.Mo=ol.bind(null,t.eventManager),t}function Hl(e){var t=Sr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Il.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sl.bind(null,t),t}var Kl=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return this.R=gc(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return ku(this.persistence,new Tu,e.initialUser,this.R)},e.prototype.qo=function(e){return new Yu(Ju.bs,this.R)},e.prototype.Bo=function(e){return new uc},e.prototype.terminate=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Ql=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,fr.ZT)(t,e),t.prototype.initialize=function(t){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Uu(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,Hl(this.Ko.syncEngine)];case 4:return n.sent(),[4,Uc(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return ku(this.persistence,new Tu,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new iu(t,e.asyncQueue)},t.prototype.qo=function(e){var t=_u(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Vs.withCacheSize(this.cacheSizeBytes):Vs.DEFAULT;return new yu(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,pc(),mc(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new uc},t}(Kl),Yl=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,fr.ZT)(t,e),t.prototype.initialize=function(t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof sc?(this.sharedClientState.syncEngine={ui:Fl.bind(null,n),ai:Bl.bind(null,n),hi:Wl.bind(null,n),fn:Vl.bind(null,n),ci:jl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,fr.mG)(r,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return[4,Ul(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=pc();if(!sc.yt(t))throw new mr(pr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=_u(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sc(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Ql),$l=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n=this;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return _l(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ml.bind(null,this.syncEngine),[4,Hc(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new tl},e.prototype.createDatastore=function(e){var t,n=gc(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new dc(t));return function(e,t,n){return new _c(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return _l(a.syncEngine,e,0)},o=lc.yt()?new lc:new cc,new Ic(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new ml(e,t,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=Sr(e),yr("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,Tc(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),Jl=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Zl=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new ss,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t,n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new ul(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new mr(pr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,fr.Jh)(this,(function(u){switch(u.label){case 0:return n=Sr(e),r=ya(n.R)+"/documents",i={documents:t.map((function(e){return pa(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Ir(!!t.found),t.found.name,t.found.updateTime;var n=ma(e,t.found.name),r=ha(t.found.updateTime),i=new hi({mapValue:{fields:t.found.fields}});return di.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ir(!!t.missing),Ir(!!t.readTime);var n=ma(e,t.missing),r=ha(t.readTime);return di.newNoDocument(n,r)}(e,t):Er()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Ir(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Ao(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Jr.fromPath(n);t.mutations.push(new Do(r,t.precondition(r)))})),[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return n=Sr(e),r=ya(n.R)+"/documents",i={writes:t.map((function(e){return Ea(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Er();t=Dr.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new mr(pr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?mo.updateTime(t):mo.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dr.min()))throw new mr(pr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mo.updateTime(t)}return mo.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Xl=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new vc(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,fr.mG)(e,void 0,void 0,(function(){var e,t,n=this;return(0,fr.Jh)(this,(function(r){return e=new Zl(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Qr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Oo(t)}return!1},e}(),eh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Zu.UNAUTHENTICATED,this.clientId=Cr.u(),this.credentialListener=function(){},this.receivedInitialUser=new ss,this.credentials.setChangeListener((function(e){yr("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new mr(pr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,fr.mG)(e,void 0,void 0,(function(){var e,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=$c(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function th(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),yr("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return(0,fr.mG)(i,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return[4,xu(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function nh(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,rh(e)];case 1:return n=i.sent(),yr("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return(n=Sr(e)).asyncQueue.verifyOperationInProgress(),yr("RemoteStore","RemoteStore received new credentials"),r=Pc(n),n.$r.add(3),[4,Tc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,Sc(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function rh(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(yr("FirestoreClient","Using default OfflineComponentProvider"),[4,th(e,new Kl)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function ih(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(yr("FirestoreClient","Using default OnlineComponentProvider"),[4,nh(e,new $l)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function oh(e){return rh(e).then((function(e){return e.persistence}))}function ah(e){return rh(e).then((function(e){return e.localStore}))}function sh(e){return ih(e).then((function(e){return e.remoteStore}))}function uh(e){return ih(e).then((function(e){return e.syncEngine}))}function ch(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return[4,ih(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=gl.bind(null,t.syncEngine),n.onUnlisten=yl.bind(null,t.syncEngine),n)]}}))}))}function lh(e,t,n){var r=this;void 0===n&&(n={});var i=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(r,void 0,void 0,(function(){var r;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Jl({next:function(o){t.enqueueAndForget((function(){return rl(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new mr(pr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new mr(pr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new sl(Ri(n.path),o,{includeMetadataChanges:!0,so:!0});return nl(e,a)},[4,ch(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function hh(e,t,n){var r=this;void 0===n&&(n={});var i=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(r,void 0,void 0,(function(){var r;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Jl({next:function(n){t.enqueueAndForget((function(){return rl(e,a)})),n.fromCache&&"server"===r.source?i.reject(new mr(pr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new sl(n,o,{includeMetadataChanges:!0,so:!0});return nl(e,a)},[4,ch(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var fh=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},dh=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ph=new Map,mh=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},gh=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(Zu.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),vh=function(){function e(e){var t=this;this.oc=null,this.currentUser=Zu.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(yr("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ir("string"==typeof n.accessToken),new mh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return Ir(null===e||"string"==typeof e),new Zu(e)},e}(),yh=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=Zu.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),e}(),bh=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n}return e.prototype.getToken=function(){return Promise.resolve(new yh(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(e){e(Zu.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function wh(e,t,n){if(!n)throw new mr(pr.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function _h(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new mr(pr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Eh(e,t,n,r){if(!0===t&&!0===r)throw new mr(pr.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Ih(e){if(!Jr.isDocumentKey(e))throw new mr(pr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Sh(e){if(Jr.isDocumentKey(e))throw new mr(pr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Th(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Er()}function Ch(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mr(pr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Th(e);throw new mr(pr.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function kh(e,t){if(t<=0)throw new mr(pr.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var xh=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new mr(pr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mr(pr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,Eh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Nh=function(){function e(e,t){this._persistenceKey="(lite)",this._settings=new xh({}),this._settingsFrozen=!1,e instanceof dh?(this._databaseId=e,this._credentials=new gh):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mr(pr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dh(e.options.projectId)}(e),this._credentials=new vh(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new mr(pr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new mr(pr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xh(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new gh;switch(e.type){case"gapi":var t=e.client;return Ir(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new bh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new mr(pr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=ph.get(this))&&(yr("ComponentProvider","Removing Datastore"),ph.delete(this),e.terminate()),Promise.resolve();var e},e}(),Ah=function(){function e(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ph(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Dh=function(){function e(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ph=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ri(r))||this)._path=r,i.type="collection",i}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ah(this.firestore,null,new Jr(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Dh);function Oh(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=(0,i.m9)(e),wh("collection","path",t),e instanceof Nh)return Sh(n=Rr.fromString.apply(Rr,(0,fr.ev)([t],r))),new Ph(e,null,n);if(!(e instanceof Ah||e instanceof Ph))throw new mr(pr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sh(n=Rr.fromString.apply(Rr,(0,fr.ev)([e.path],r)).child(Rr.fromString(t))),new Ph(e.firestore,null,n)}function Mh(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=(0,i.m9)(e),1===arguments.length&&(t=Cr.u()),wh("doc","path",t),e instanceof Nh)return Ih(n=Rr.fromString.apply(Rr,(0,fr.ev)([t],r))),new Ah(e,null,new Jr(n));if(!(e instanceof Ah||e instanceof Ph))throw new mr(pr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ih(n=e._path.child(Rr.fromString.apply(Rr,(0,fr.ev)([t],r)))),new Ah(e.firestore,e instanceof Ph?e._converter:null,new Jr(n))}function Lh(e,t){return e=(0,i.m9)(e),t=(0,i.m9)(t),(e instanceof Ah||e instanceof Ph)&&(t instanceof Ah||t instanceof Ph)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function Rh(e,t){return e=(0,i.m9)(e),t=(0,i.m9)(t),e instanceof Dh&&t instanceof Dh&&e.firestore===t.firestore&&Gi(e._query,t._query)&&e._converter===t._converter}var jh=function(){function e(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new vc(this,"async_queue_retry"),this.Ec=function(){var t=mc();t&&yr("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=mc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var e=mc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},e.prototype.Ac=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!ds(e=n.sent()))throw e;return yr("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,br("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.yc=!1,e}))}));return this.fc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Tc(),this.gc.indexOf(e)>-1&&(t=0);var i=Yc.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)}));return this._c.push(i),i},e.prototype.Tc=function(){this.mc&&Er()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e;return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},e.prototype.Vc=function(e){this.gc.push(e)},e.prototype.Rc=function(e){var t=this._c.indexOf(e);this._c.splice(t,1)},e}();function Fh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new ss,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Uh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._queue=new jh,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,fr.ZT)(t,e),t.prototype._terminate=function(){return this._firestoreClient||qh(this),this._firestoreClient.terminate()},t}(Nh);function zh(e){return e._firestoreClient||qh(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qh(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new fh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new eh(e._credentials,e._queue,r)}function Vh(e,t,n){var r=this,i=new ss;return e.asyncQueue.enqueue((function(){return(0,fr.mG)(r,void 0,void 0,(function(){var r;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,th(e,n)];case 1:return o.sent(),[4,nh(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===pr.FAILED_PRECONDITION||e.code===pr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Bh(e){if(e._initialized||e._terminated)throw new mr(pr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wh=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new mr(pr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Gh=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(zr.fromBase64String(t))}catch(t){throw new mr(pr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(zr.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Hh=function(e){this._methodName=e},Kh=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new mr(pr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mr(pr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return kr(this._lat,e._lat)||kr(this._long,e._long)},e}(),Qh=/^__.*__$/,Yh=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new So(e,this.data,this.fieldMask,t,this.fieldTransforms):new Io(e,this.data,t,this.fieldTransforms)},e}(),$h=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new So(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Jh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Er()}}var Zh=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Fc(e),r},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Sc(),r},e.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(e){return bf(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},e.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if(Jh(this.Dc)&&Qh.test(e))throw this.$c('Document fields cannot begin and end with "__"')},e}(),Xh=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||gc(e)}return e.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new Zh({Dc:e,methodName:t,Lc:n,path:Fr.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ef(e){var t=e._freezeSettings(),n=gc(e._databaseId);return new Xh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tf(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);mf("Data must be an object, but it was:",a,r);var s,u,c=df(r,a);if(o.merge)s=new Ur(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=gf(t,f[h],n);if(!a.contains(d))throw new mr(pr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");wf(l,d)||l.push(d)}s=new Ur(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new Yh(new hi(c),s,u)}var nf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw 1===e.Dc?e.$c(this._methodName+"() can only appear at the top level of your update data"):e.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Hh);function rf(e,t,n){return new Zh({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var of=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){return new fo(e.path,new io)},t.prototype.isEqual=function(e){return e instanceof t},t}(Hh),af=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=rf(this,e,!0),n=this.qc.map((function(e){return ff(e,t)})),r=new oo(n);return new fo(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Hh),sf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=rf(this,e,!0),n=this.qc.map((function(e){return ff(e,t)})),r=new so(n);return new fo(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Hh),uf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=new co(e.R,Xi(e.R,this.Uc));return new fo(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Hh);function cf(e,t,n,r){var o=e.Bc(1,t,n);mf("Data must be an object, but it was:",o,r);var a=[],s=hi.empty();Or(r,(function(e,r){var u=yf(t,e,n);r=(0,i.m9)(r);var c=o.kc(u);if(r instanceof nf)a.push(u);else{var l=ff(r,c);null!=l&&(a.push(u),s.set(u,l))}}));var u=new Ur(a);return new $h(s,u,o.fieldTransforms)}function lf(e,t,n,r,o,a){var s=e.Bc(1,t,n),u=[gf(t,r,n)],c=[o];if(a.length%2!=0)throw new mr(pr.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<a.length;l+=2)u.push(gf(t,a[l])),c.push(a[l+1]);for(var h=[],f=hi.empty(),d=u.length-1;d>=0;--d)if(!wf(h,u[d])){var p=u[d],m=c[d];m=(0,i.m9)(m);var g=s.kc(p);if(m instanceof nf)h.push(p);else{var v=ff(m,g);null!=v&&(h.push(p),f.set(p,v))}}var y=new Ur(h);return new $h(f,y,s.fieldTransforms)}function hf(e,t,n,r){return void 0===r&&(r=!1),ff(n,e.Bc(r?4:3,t))}function ff(e,t){if(pf(e=(0,i.m9)(e)))return mf("Unsupported field value:",t,e),df(e,t);if(e instanceof Hh)return function(e,t){if(!Jh(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=ff(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,i.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xi(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ar.fromDate(e);return{timestampValue:ua(t.R,n)}}if(e instanceof Ar)return n=new Ar(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:ua(t.R,n)};if(e instanceof Kh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gh)return{bytesValue:ca(t.R,e._byteString)};if(e instanceof Ah){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:fa(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+Th(e))}(e,t)}function df(e,t){var n={};return Mr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Or(e,(function(e,r){var i=ff(r,t.Nc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function pf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ar||e instanceof Kh||e instanceof Gh||e instanceof Ah||e instanceof Hh)}function mf(e,t,n){if(!pf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Th(n);throw"an object"===r?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function gf(e,t,n){if((t=(0,i.m9)(t))instanceof Wh)return t._internalPath;if("string"==typeof t)return yf(e,t);throw bf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var vf=new RegExp("[~\\*/\\[\\]]");function yf(e,t,n){if(t.search(vf)>=0)throw bf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Wh.bind.apply(Wh,(0,fr.ev)([void 0],t.split(".")))))._internalPath}catch(r){throw bf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function bf(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new mr(pr.INVALID_ARGUMENT,(s+=". ")+e+u)}function wf(e,t){return e.some((function(e){return e.isEqual(t)}))}var _f=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ah(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Ef(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(If("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Ef=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(_f);function If(e,t){return"string"==typeof t?yf(e,t):t instanceof Wh?t._internalPath:t._delegate._internalPath}var Sf=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Tf=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,fr.ZT)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(If("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(_f),Cf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Tf),kf=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Sf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Cf(n._firestore,n._userDataWriter,r.key,r,new Sf(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new mr(pr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Cf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Cf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:xf(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function xf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Er()}}function Nf(e,t){return e instanceof Tf&&t instanceof Tf?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof kf&&t instanceof kf&&e._firestore===t._firestore&&Rh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Af(e){if(Fi(e)&&0===e.explicitOrderBy.length)throw new mr(pr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Df=function(){};function Pf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Of=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.Kc=n,i.jc=r,i.type="where",i}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){var t=ef(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new mr(pr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){zf(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Uf(r,e,h))}s={arrayValue:{values:u}}}else s=Uf(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||zf(a,o),s=hf(n,"where",a,"in"===o||"not-in"===o);var f=bi.create(i,o,s);return function(e,t){if(t.g()){var n=zi(e);if(null!==n&&!n.isEqual(t.field))throw new mr(pr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Ui(e);null!==r&&qf(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new mr(pr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new mr(pr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Dh(e.firestore,e._converter,function(e,t){var n=e.filters.concat([t]);return new Mi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Df),Mf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Wc=n,r.type="orderBy",r}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new mr(pr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mr(pr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ai(t,n);return function(e,t){if(null===Ui(e)){var n=zi(e);null!==n&&qf(0,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Wc);return new Dh(e.firestore,e._converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Mi(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Df),Lf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Gc=n,i.zc=r,i}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){return new Dh(e.firestore,e._converter,Wi(e._query,this.Gc,this.zc))},t}(Df),Rf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){var t=Ff(e,this.type,this.Hc,this.Jc);return new Dh(e.firestore,e._converter,function(e,t){return new Mi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Df),jf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){var t=Ff(e,this.type,this.Hc,this.Jc);return new Dh(e.firestore,e._converter,function(e,t){return new Mi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Df);function Ff(e,t,n,r){if(n[0]=(0,i.m9)(n[0]),n[0]instanceof _f)return function(e,t,n,r,i){if(!r)throw new mr(pr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Vi(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(oi(t,r.key));else{var c=r.data.field(u.field);if(Gr(c))throw new mr(pr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new mr(pr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new xi(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=ef(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new mr(pr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new mr(pr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!qi(e)&&-1!==c.indexOf("/"))throw new mr(pr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Rr.fromString(c));if(!Jr.isDocumentKey(l))throw new mr(pr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Jr(l);s.push(oi(t,h))}else{var f=hf(n,r,c);s.push(f)}}return new xi(s,o)}(e._query,e.firestore._databaseId,o,t,n,r)}function Uf(e,t,n){if("string"==typeof(n=(0,i.m9)(n))){if(""===n)throw new mr(pr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qi(t)&&-1!==n.indexOf("/"))throw new mr(pr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Rr.fromString(n));if(!Jr.isDocumentKey(r))throw new mr(pr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return oi(e,new Jr(r))}if(n instanceof Ah)return oi(e,n._key);throw new mr(pr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Th(n)+".")}function zf(e,t){if(!Array.isArray(e)||0===e.length)throw new mr(pr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new mr(pr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function qf(e,t,n){if(!n.isEqual(t))throw new mr(pr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Vf=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Er()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Or(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Kh(Br(e.latitude),Br(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Hr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Kr(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Vr(e);return new Ar(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Rr.fromString(e);Ir(ja(n));var r=new dh(n.get(1),n.get(3)),i=new Jr(n.popFirst(5));return r.isEqual(t)||br("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Bf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Wf=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,fr.ZT)(t,e),t.prototype.convertBytes=function(e){return new Gh(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ah(this.firestore,null,t)},t}(Vf),Gf=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ef(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Hf(e,this._firestore),i=Bf(r._converter,t,n),o=tf(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,mo.none())),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var a,s=Hf(e,this._firestore);return a="string"==typeof(t=(0,i.m9)(t))||t instanceof Wh?lf(this._dataReader,"WriteBatch.update",s._key,t,n,r):cf(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,mo.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Hf(e,this._firestore);return this._mutations=this._mutations.concat(new Ao(t._key,mo.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new mr(pr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Hf(e,t){if((e=(0,i.m9)(e)).firestore!==t)throw new mr(pr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Kf=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,fr.ZT)(t,e),t.prototype.convertBytes=function(e){return new Gh(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ah(this.firestore,null,t)},t}(Vf);function Qf(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=Ch(e,Ah);var a=Ch(e.firestore,Uh),s=ef(a);return $f(a,[("string"==typeof(t=(0,i.m9)(t))||t instanceof Wh?lf(s,"updateDoc",e._key,t,n,r):cf(s,"updateDoc",e._key,t)).toMutation(e._key,mo.exists(!0))])}function Yf(e){for(var t,n,r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];e=(0,i.m9)(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof o[u]||Fh(o[u])||(s=o[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(Fh(o[u])){var d=o[u];o[u]=null===(t=d.next)||void 0===t?void 0:t.bind(d),o[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),o[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(e instanceof Ah)l=Ch(e.firestore,Uh),h=Ri(e._key.path),c={next:function(t){o[u]&&o[u](Jf(l,e,t))},error:o[u+1],complete:o[u+2]};else{var p=Ch(e,Dh);l=Ch(p.firestore,Uh),h=p._query;var m=new Kf(l);c={next:function(e){o[u]&&o[u](new kf(l,m,p,e))},error:o[u+1],complete:o[u+2]},Af(e._query)}return function(e,t,n,r){var i=this,o=new Jl(r),a=new sl(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(i,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=nl,[4,ch(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(i,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=rl,[4,ch(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(zh(l),h,f,c)}function $f(e,t){return function(e,t){var n=this,r=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return n=bl,[4,uh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(zh(e),t)}function Jf(e,t,n){var r=n.docs.get(t._key),i=new Kf(e);return new Tf(e,i,t._key,r,new Sf(n.hasPendingWrites,n.fromCache),t._converter)}var Zf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,fr.ZT)(t,e),t.prototype.get=function(t){var n=this,r=Hf(t,this._firestore),i=new Kf(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Tf(n._firestore,i,r._key,e._document,new Sf(!1,!1),r._converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=ef(e)}return e.prototype.get=function(e){var t=this,n=Hf(e,this._firestore),r=new Wf(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Er();var i=e[0];if(i.isFoundDocument())return new _f(t._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new _f(t._firestore,r,n._key,null,n._converter);throw Er()}))},e.prototype.set=function(e,t,n){var r=Hf(e,this._firestore),i=Bf(r._converter,t,n),o=tf(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a,s=Hf(e,this._firestore);return a="string"==typeof(t=(0,i.m9)(t))||t instanceof Wh?lf(this._dataReader,"Transaction.update",s._key,t,n,r):cf(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this},e.prototype.delete=function(e){var t=Hf(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Xf(){if("undefined"==typeof Uint8Array)throw new mr(pr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ed(){if("undefined"==typeof atob)throw new mr(pr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var td=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return ed(),new e(Gh.fromBase64String(t))},e.fromUint8Array=function(t){return Xf(),new e(Gh.fromUint8Array(t))},e.prototype.toBase64=function(){return ed(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Xf(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),nd=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Bh(e=Ch(e,Uh));var n=zh(e),r=e._freezeSettings(),i=new $l;return Vh(n,i,new Ql(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Bh(e=Ch(e,Uh));var t=zh(e),n=e._freezeSettings(),r=new $l;return Vh(t,r,new Yl(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new mr(pr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ss;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return ls.yt()?(t=e+"main",[4,ls.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(_u(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),rd=function(){function e(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof dh||(this.Xc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t){!function(e,t,n){var r=(e=Ch(e,Nh))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==t&&wr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:t+":"+n,ssl:!1}))}(this._delegate,e,t)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return[4,oh(e)];case 1:return t=r.sent(),[4,sh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Sr(e);return t.$r.delete(0),Sc(t)}(n))]}}))}))}))}(zh(Ch(this._delegate,Uh)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return[4,oh(e)];case 1:return t=r.sent(),[4,sh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return(t=Sr(e)).$r.add(0),[4,Tc(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(zh(Ch(this._delegate,Uh)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Eh("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return t=Tl,[4,uh(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(zh(Ch(this._delegate,Uh)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Jl(t);return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Sr(e).Gr.add(t),t.next()},[4,ch(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Sr(e).Gr.delete(t)},[4,ch(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(zh(e=Ch(e,Uh)),Fh(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new mr(pr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new vd(this,Oh(this._delegate,e))}catch(e){throw cd(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new ud(this,Mh(this._delegate,e))}catch(e){throw cd(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new pd(this,function(e,t){if(e=Ch(e,Nh),wh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new mr(pr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Dh(e,null,function(e){return new Mi(Rr.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw cd(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(e){return ih(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Xl(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(zh(e),(function(n){return t(new Zf(e,n))}))}(this._delegate,(function(n){return e(new od(t,n))}))},e.prototype.batch=function(){var e=this;return zh(this._delegate),new ad(new Gf(this._delegate,(function(t){return $f(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new mr(pr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new mr(pr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),id=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,fr.ZT)(t,e),t.prototype.convertBytes=function(e){return new td(new Gh(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ud.Zc(t,this.firestore,null)},t}(Vf),od=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new id(e)}return e.prototype.get=function(e){var t=this,n=yd(e);return this._delegate.get(n).then((function(e){return new fd(t._firestore,new Tf(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},e.prototype.set=function(e,t,n){var r=yd(e);return n?(_h("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=yd(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,fr.ev)([a,t,n],i)),this},e.prototype.delete=function(e){var t=yd(e);return this._delegate.delete(t),this},e}(),ad=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=yd(e);return n?(_h("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=yd(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,fr.ev)([a,t,n],i)),this},e.prototype.delete=function(e){var t=yd(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),sd=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Cf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dd(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new id(t),n),i.set(n,o)),o},e}();sd.eu=new WeakMap;var ud=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new id(e)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new mr(pr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Ah(n._delegate,r,new Jr(t)))},e.Zc=function(t,n,r){return new e(n,new Ah(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new vd(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new vd(this.firestore,Oh(this._delegate,e))}catch(e){throw cd(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,i.m9)(e))instanceof Ah&&Lh(this._delegate,e)},e.prototype.set=function(e,t){t=_h("DocumentReference.set",t);try{return function(e,t,n){e=Ch(e,Ah);var r=Ch(e.firestore,Uh),i=Bf(e._converter,t,n);return $f(r,[tf(ef(r),"setDoc",e._key,i,null!==e._converter,n).toMutation(e._key,mo.none())])}(this._delegate,e,t)}catch(e){throw cd(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Qf(this._delegate,e):Qf.apply(void 0,(0,fr.ev)([this._delegate,e,t],n))}catch(e){throw cd(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return $f(Ch((e=this._delegate).firestore,Uh),[new Ao(e._key,mo.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ld(t),i=hd(t,(function(t){return new fd(e.firestore,new Tf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return Yf(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Ch(e,Ah);var t=Ch(e.firestore,Uh),n=zh(t),r=new Kf(t);return function(e,t){var n=this,r=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Sr(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new mr(pr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=$c(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,ah(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Tf(t,r,e._key,n,new Sf(null!==n&&n.hasLocalMutations,!0),e._converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Ch(e,Ah);var t=Ch(e.firestore,Uh);return lh(zh(t),e._key,{source:"server"}).then((function(n){return Jf(t,e,n)}))}(this._delegate):function(e){e=Ch(e,Ah);var t=Ch(e.firestore,Uh);return lh(zh(t),e._key).then((function(n){return Jf(t,e,n)}))}(this._delegate)).then((function(e){return new fd(t.firestore,new Tf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(sd.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function cd(e,t,n){return e.message=e.message.replace(t,n),e}function ld(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Fh(r))return r}return{}}function hd(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Fh(e[0])?e[0]:Fh(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ud(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Nf(this._delegate,e._delegate)},e}(),dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(fd),pd=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new id(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Pf(this._delegate,function(e,t,n){var r=t,i=If("where",e);return new Of(i,r,n)}(t,n,r)))}catch(t){throw cd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Pf(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=If("orderBy",e);return new Mf(r,n)}(t,n)))}catch(t){throw cd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Pf(this._delegate,function(e){return kh("limit",e),new Lf("limit",e,"F")}(t)))}catch(t){throw cd(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Pf(this._delegate,function(e){return kh("limitToLast",e),new Lf("limitToLast",e,"L")}(t)))}catch(t){throw cd(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Rf("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw cd(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Rf("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw cd(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new jf("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw cd(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new jf("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw cd(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Rh(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Ch(e,Dh);var t=Ch(e.firestore,Uh),n=zh(t),r=new Kf(t);return function(e,t){var n=this,r=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,fr.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ru(e,t,!0)];case 1:return s=u.sent(),r=new fl(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=$c(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,ah(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new kf(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Ch(e,Dh);var t=Ch(e.firestore,Uh),n=zh(t),r=new Kf(t);return hh(n,e._query,{source:"server"}).then((function(n){return new kf(t,r,e,n)}))}(this._delegate):function(e){e=Ch(e,Dh);var t=Ch(e.firestore,Uh),n=zh(t),r=new Kf(t);return Af(e._query),hh(n,e._query).then((function(n){return new kf(t,r,e,n)}))}(this._delegate)).then((function(e){return new gd(t.firestore,new kf(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ld(t),i=hd(t,(function(t){return new gd(e.firestore,new kf(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Yf(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(sd.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),md=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new dd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),gd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new pd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new dd(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new md(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new dd(n._firestore,r))}))},e.prototype.isEqual=function(e){return Nf(this._delegate,e._delegate)},e}(),vd=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new ud(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new ud(this.firestore,void 0===e?Mh(this._delegate):Mh(this._delegate,e))}catch(e){throw cd(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Ch(e.firestore,Uh),r=Mh(e),i=Bf(e._converter,t);return $f(n,[tf(ef(e.firestore),"addDoc",r._key,i,null!==e._converter,{}).toMutation(r._key,mo.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ud(t.firestore,e)}))},t.prototype.isEqual=function(e){return Lh(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(sd.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(pd);function yd(e){return Ch(e,Ah)}var bd,wd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Wh.bind.apply(Wh,(0,fr.ev)([void 0],e)))}return e.documentId=function(){return new e(Fr.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,i.m9)(e))instanceof Wh&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),_d=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new of("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new nf("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new af("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new sf("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new uf("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),Ed=n(924),Id={Firestore:rd,GeoPoint:Kh,Timestamp:Ar,Blob:td,Transaction:od,WriteBatch:ad,DocumentReference:ud,DocumentSnapshot:fd,Query:pd,QueryDocumentSnapshot:dd,QuerySnapshot:gd,CollectionReference:vd,FieldPath:wd,FieldValue:_d,setLogLevel:function(e){var t;t=e,gr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Ed.wA("firestore",(function(e){return function(e,t){return new rd(e,new Uh(e,t),new nd)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Id)))})(bd=r.Z),bd.registerVersion("@firebase/firestore","2.2.4"),n(991),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,n){if(n){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(n=n(o=r[e=e[e.length-1]]))!=o&&null!=n&&t(r,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Qa(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""}function f(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function m(e){return"function"==d(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function I(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now;function T(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function C(e){return e}function k(e,t,n){this.code=A+e,this.message=t||D[e]||"",this.a=n||null}function x(e){var t=e&&e.code;return t?new k(t.substring(A.length),e.message,e.serverResponse):null}T(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var N,A="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function M(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function L(e){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function R(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");L.call(this,n+e[r])}function j(e,t){throw new R("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function U(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function z(){this.b=this.a=null}N=O("__EID__")?"__EID__":void 0,T(L,Error),L.prototype.name="CustomError",T(R,L),R.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var q=new F((function(){return new B}),(function(e){e.reset()}));function V(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}z.prototype.add=function(e,t){var n=q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},G=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},H=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},K=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},Q=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Y(e,t){return 0<=W(e,t)}function $(e,t){var n;return(n=0<=(t=W(e,t)))&&Array.prototype.splice.call(e,t,1),n}function J(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function Z(e){return Array.prototype.concat.apply([],arguments)}function X(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,oe=/"/g,ae=/'/g,se=/\x00/g,ue=/[\x00&<>"']/;function ce(e,t){return-1!=e.indexOf(t)}function le(e,t){return e<t?-1:e>t?1:0}e:{var he=u.navigator;if(he){var fe=he.userAgent;if(fe){ee=fe;break e}}ee=""}function de(e){return ce(ee,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function me(e){for(var t in e)return!1;return!0}function ge(e){var t,n={};for(t in e)n[t]=e[t];return n}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ve.length;o++)n=ve[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function we(e,t){this.a=e===Se&&t||"",this.b=Ie}function _e(e){return e instanceof we&&e.constructor===we&&e.b===Ie?e.a:(j("expected object of type Const, got '"+e+"'"),"type_error:Const")}we.prototype.sa=!0,we.prototype.ra=function(){return this.a},we.prototype.toString=function(){return"Const{"+this.a+"}"};var Ee,Ie={},Se={};function Te(){if(void 0===Ee){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(e){u.console&&u.console.error(e.message)}Ee=e}else Ee=e}return Ee}function Ce(e,t){this.a=t===De?e:""}function ke(e){return e instanceof Ce&&e.constructor===Ce?e.a:(j("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function xe(e,t){var n=_e(e);if(!Ae.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Te();return new Ce(e=t?t.createScriptURL(e):e,De)}(e=n.replace(Ne,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof we?_e(e):encodeURIComponent(String(e))})))}Ce.prototype.sa=!0,Ce.prototype.ra=function(){return this.a.toString()},Ce.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ne=/%{(\w+)}/g,Ae=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,De={};function Pe(e,t){this.a=t===Ue?e:""}function Oe(e){return e instanceof Pe&&e.constructor===Pe?e.a:(j("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Pe.prototype.sa=!0,Pe.prototype.ra=function(){return this.a.toString()},Pe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Me=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Le=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Re=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function je(e){if(e instanceof Pe)return e;if(e="object"==typeof e&&e.sa?e.ra():String(e),Re.test(e))e=new Pe(e,Ue);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Le);e=t&&Me.test(t[1])?new Pe(e,Ue):null}return e}function Fe(e){return e instanceof Pe?e:(e="object"==typeof e&&e.sa?e.ra():String(e),Re.test(e)||(e="about:invalid#zClosurez"),new Pe(e,Ue))}var Ue={},ze=new Pe("about:invalid#zClosurez",Ue);function qe(e,t,n){this.a=n===Ve?e:""}qe.prototype.sa=!0,qe.prototype.ra=function(){return this.a.toString()},qe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ve={};function Be(e,t,n,r){return e=e instanceof Pe?e:Fe(e),t=t||u,n=n instanceof we?_e(n):n||"",t.open(Oe(e),n,r,void 0)}function We(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ge(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(oe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function He(e){return He[" "](e),e}He[" "]=f;var Ke,Qe=de("Opera"),Ye=de("Trident")||de("MSIE"),$e=de("Edge"),Je=$e||Ye,Ze=de("Gecko")&&!(ce(ee.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Xe=ce(ee.toLowerCase(),"webkit")&&!de("Edge");function et(){var e=u.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=ee;return Ze?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xe?/WebKit\/(\S+)/.exec(e):Qe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),Ye){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Ke=String(rt);break e}}Ke=tt}var it,ot={};function at(e){return function(e,t){var n=ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=te(String(Ke)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=le(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||le(0==a[2].length,0==s[2].length)||le(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}u.document&&Ye?it=et()||parseInt(Ke,10)||void 0:it=void 0;var st=it;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var ut=!Ye||9<=Number(st);function ct(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function lt(e,t){pe(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,ft,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(m(o)){a="function"==typeof o.item;break e}}a=!1}G(a?X(o):o,r)}}}function mt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){u.setTimeout((function(){throw e}),0)}function vt(e,t){ft||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);ft=function(){e.then(wt)}}else ft=function(){var e=wt;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!de("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ht||(ht=function(){var e=u.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=mt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Gb;n.Gb=null,e()}},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ht(e)):u.setImmediate(e)}}(),yt||(ft(),yt=!0),bt.add(e,t)}var yt=!1,bt=new z;function wt(){for(var e;e=V();){try{e.a.call(e.b)}catch(e){gt(e)}U(q,e)}yt=!1}function _t(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Lt(n,It,e)}),(function(e){if(!(e instanceof Vt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Lt(n,St,e)}))}catch(e){Lt(this,St,e)}}var Et=0,It=2,St=3;function Tt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Tt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ct=new F((function(){return new Tt}),(function(e){e.reset()}));function kt(e,t,n){var r=Ct.get();return r.g=e,r.b=t,r.f=n,r}function xt(e){if(e instanceof _t)return e;var t=new _t(f);return Lt(t,It,e),t}function Nt(e){return new _t((function(t,n){n(e)}))}function At(e,t,n){Rt(e,t,n,null)||vt(I(t,e))}function Dt(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)At(e[o],I(i,o,!0),I(i,o,!1));else t(r)}))}function Pt(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Et&&1==r?Pt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ft(n),Ut(n,i,St,t)))}e.c=null}else Lt(e,St,t)}function Ot(e,t){e.b||e.a!=It&&e.a!=St||jt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Mt(e,t,n,r){var i=kt(null,null,null);return i.a=new _t((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Vt?o(t):e(i)}catch(e){o(e)}}:o})),i.a.c=e,Ot(e,i),i.a}function Lt(e,t,n){e.a==Et&&(e===n&&(t=St,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Rt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,jt(e),t!=St||n instanceof Vt||function(e,t){e.g=!0,vt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Rt(e,t,n,r){if(e instanceof _t)return Ot(e,kt(t||f,n||null,r)),!0;if(M(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(m(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function jt(e){e.h||(e.h=!0,vt(e.gc,e))}function Ft(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==St&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,zt(t,n,r);else try{t.c?t.g.call(t.f):zt(t,n,r)}catch(e){qt.call(null,e)}U(Ct,t)}function zt(e,t,n){t==It?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return Mt(this,m(e)?e:null,m(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(e=_t.prototype).oa=function(e,t){return(e=kt(e,e,t)).c=!0,Ot(this,e),this},e.o=function(e,t){return Mt(this,null,e,t)},e.cancel=function(e){if(this.a==Et){var t=new Vt(e);vt((function(){Pt(this,t)}),this)}},e.$c=function(e){this.a=Et,Lt(this,It,e)},e.ad=function(e){this.a=Et,Lt(this,St,e)},e.gc=function(){for(var e;e=Ft(this);)Ut(this,e,this.a,this.i);this.h=!1};var qt=gt;function Vt(e){L.call(this,e)}function Bt(){0!=Wt&&(Gt[v(this)]=this),this.xa=this.xa,this.pa=this.pa}T(Vt,L),Vt.prototype.name="cancel";var Wt=0,Gt={};function Ht(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=Wt)){var t=v(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gt[t]}}Bt.prototype.xa=!1,Bt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Kt=Object.freeze||function(e){return e},Qt=!Ye||9<=Number(st),Yt=Ye&&!at("9"),$t=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",f,t),u.removeEventListener("test",f,t)}catch(e){}return e}();function Jt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Zt(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ze){e:{try{He(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Xt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jt.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Zt,Jt);var Xt=Kt({2:"touch",3:"pen",4:"mouse"});Zt.prototype.preventDefault=function(){Zt.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Yt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Zt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++tn,this.va=this.Pa=!1}function rn(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new nn(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(e,t,n,r,i){if(r&&r.once)fn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=_n(n),e&&e[en]?In(e,t,n,g(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=yn,t=Qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$t||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function fn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=_n(n),e&&e[en]?Sn(e,t,n,g(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=_n(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!=typeof e&&e&&!e.va){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function mn(e){return e in cn?cn[e]:cn[e]="on"+e}function gn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&pn(e),n.call(r,t)}function yn(e,t){if(e.va)return!0;if(!Qt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Zt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=gn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=gn(r[i],e,!1,t),n=n&&o}return n}return vn(e,new Zt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(e){return m(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function En(){Bt.call(this),this.v=new on(this),this.ac=this,this.gb=null}function In(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Sn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Tn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(e,t,n){if(m(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function kn(e){var t=null;return new _t((function(n,r){-1==(t=Cn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function xn(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"==typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Nn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(p(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function An(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof An)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Pn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(En,Bt),En.prototype[en]=!0,En.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.gb;if(n)for(t=[];n;n=n.gb)t.push(n);n=this.ac;var r=e.type||e;if("string"==typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var i=e;ye(e=new Jt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Tn(a,r,!0,e)&&i}if(i=Tn(a=e.b=n,r,!0,e)&&i,i=Tn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Tn(a=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=An.prototype).W=function(){Dn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Dn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Pn(this.b,e)?this.b[e]:t},e.set=function(e,t){Pn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Mn?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,Rn(this,e.g),this.f=e.f,jn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(On))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Rn(this,n[4]),this.f=Vn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!t,this.b=new $n(null,this.i))}function Ln(e,t,n){e.c=n?Vn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Rn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function jn(e,t,n){t instanceof $n?(e.b=t,function(e,t){t&&!e.f&&(Jn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xn(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Bn(t,Qn)),e.b=new $n(t,e.i))}function Fn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function zn(e){return e instanceof Mn?new Mn(e):new Mn(e,void 0)}function qn(e,t,n,r){var i=new Mn(null,void 0);return e&&Ln(i,e),t&&(i.a=t),n&&Rn(i,n),r&&(i.f=r),i}function Vn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Bn(t,Gn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Bn(t,Gn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bn(n,"/"==n.charAt(0)?Kn:Hn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Bn(n,Yn)),e.join("")},Mn.prototype.resolve=function(e){var t=new Mn(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Rn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ce(i,"./")||ce(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?jn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Gn=/[#\/\?@]/g,Hn=/[#\?:]/g,Kn=/[#\?]/g,Qn=/[#\?@]/g,Yn=/#/g;function $n(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jn(e){e.a||(e.a=new An,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zn(e){var t=Nn(e);if(void 0===t)throw Error("Keys are undefined");var n=new $n(null,void 0);e=xn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Xn(e,t){Jn(e),t=rr(e,t),Pn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Pn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Dn(e)))}function er(e,t){return Jn(e),t=rr(e,t),Pn(e.a.b,t)}function tr(e,t,n){Xn(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),X(n)),e.b+=n.length)}function nr(e){var t=new $n;return t.c=e.c,e.a&&(t.a=new An(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return ar(new or,e,t),t.join("")}function or(){}function ar(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ar(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),cr(r,n),n.push(":"),ar(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":cr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=$n.prototype).add=function(e,t){Jn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Jn(this),this.a.forEach((function(n,r){G(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Jn(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){Jn(this);var t=[];if("string"==typeof e)er(this,e)&&(t=Z(t,this.a.get(rr(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=Z(t,e[n])}return t},e.set=function(e,t){return Jn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(e,t){t.push('"',e.replace(ur,(function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t})),'"')}function lr(){var e=Ar();return Ye&&!!st&&11==st||/Edge\/\d+/.test(e)}function hr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function fr(e,t){t=t||u.window;var n="about:blank";e&&(n=Oe(je(e)||ze)),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function pr(e){return!!((e=(e||Ar()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function mr(e){e=e||u.window;try{e.close()}catch(e){}}function gr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(t.target=r,ce(n,"crios/")&&(t.target="_blank")),kr(Ar())==Tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Pe?n:je(void 0!==n.href?n.href:String(n))||ze,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=mt(document,"A"),"HTMLAnchorElement"),t=t instanceof Pe?t:Fe(t),a.href=Oe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Be("",r,n,a),e=Oe(t),a&&(Je&&ce(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ge(e)+'">',e=new qe(e=(r=Te())?r.createHTML(e):e,null,Ve),r=a.document)&&(r.write(function(e){return e instanceof qe&&e.constructor===qe?e.a:(j("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Be(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function br(){var e=null;return new _t((function(t){"complete"==u.document.readyState?t():(e=function(){t()},fn(window,"load",e))})).o((function(t){throw dn(window,"load",e),t}))}function wr(e){return e=e||Ar(),!("file:"!==Lr()&&"ionic:"!==Lr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var e=u.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Er(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function Ir(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Sr(){var e=Ir();return"ReactNative"===e||"Node"===e}var Tr="Firefox",Cr="Chrome";function kr(e){var t=e.toLowerCase();return ce(t,"opera/")||ce(t,"opr/")||ce(t,"opios/")?"Opera":ce(t,"iemobile")?"IEMobile":ce(t,"msie")||ce(t,"trident/")?"IE":ce(t,"edge/")?"Edge":ce(t,"firefox/")?Tr:ce(t,"silk/")?"Silk":ce(t,"blackberry")?"Blackberry":ce(t,"webos")?"Webos":!ce(t,"safari/")||ce(t,"chrome/")||ce(t,"crios/")||ce(t,"android")?!ce(t,"chrome/")&&!ce(t,"crios/")||ce(t,"edge/")?ce(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Cr:"Safari"}var xr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Nr(e,t){t=t||[];var n,r=[],i={};for(n in xr)i[xr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=kr(i=Ar()):"Worker"===r&&(r=kr(i=Ar())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ar(){return u.navigator&&u.navigator.userAgent||""}function Dr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Pr(){try{var e=u.localStorage,t=zr();if(e)return e.setItem(t,"1"),e.removeItem(t),!lr()||!!u.indexedDB}catch(e){return Er()&&!!u.indexedDB}return!1}function Or(){return(Mr()||"chrome-extension:"===Lr()||wr())&&!Sr()&&Pr()&&!Er()}function Mr(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return u.location&&u.location.protocol||null}function Rr(e){return!pr(e=e||Ar())&&kr(e)!=Tr}function jr(e){return void 0===e?null:ir(e)}function Fr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ur(e){if(null!==e)return JSON.parse(e)}function zr(e){return e||Math.floor(1e9*Math.random()).toString()}function qr(e){return"Safari"!=kr(e=e||Ar())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Br(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ar(),t=Ir(),this.b=pr(e)||"ReactNative"===t}function Wr(){var e=u.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Gr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Hr(){return!(!Dr("fireauth.oauthhelper",u)&&!Dr("fireauth.iframe",u))}Br.prototype.get=function(){var e=u.navigator;return!e||"boolean"!=typeof e.onLine||!Mr()&&"chrome-extension:"!==Lr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Qr={};function Yr(e){Qr[e]||(Qr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==$r.abcd}catch(e){Kr=!1}function Jr(e,t,n){Kr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Zr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Jr(e,n,t[n])}function Xr(e){var t={};return Zr(t,e),t}function ei(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Jr(t,n,ei(e[n]));return t}function ti(e){var t=e&&(e[ai]?"phone":null);if(!(t&&e&&e[oi]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",e[oi]),Jr(this,"displayName",e[ri]||null);var n=null;e[ii]&&(n=new Date(e[ii]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",t)}function ni(e){try{var t=new si(e)}catch(e){t=null}return t}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ri="displayName",ii="enrolledAt",oi="mfaEnrollmentId",ai="phoneInfo";function si(e){ti.call(this,e),Jr(this,"phoneNumber",e[ai])}function ui(e){var t={},n=e[fi],r=e[pi],i=e[mi];if(e=ni(e[di]),!i||i!=li&&i!=hi&&!n||i==hi&&!r||i==ci&&!e)throw Error("Invalid checkActionCode response!");i==hi?(t[vi]=n||null,t[bi]=n||null,t[gi]=r):(t[vi]=r||null,t[bi]=r||null,t[gi]=n||null),t[yi]=e||null,Jr(this,_i,i),Jr(this,wi,ei(t))}T(si,ti),si.prototype.w=function(){var e=si.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ci="REVERT_SECOND_FACTOR_ADDITION",li="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",fi="email",di="mfaInfo",pi="newEmail",mi="requestType",gi="email",vi="fromEmail",yi="multiFactorInfo",bi="previousEmail",wi="data",_i="operation";function Ei(e){var t=Un(e=zn(e),Ii)||null,n=Un(e,Si)||null,r=Un(e,ki)||null;if(r=r&&Ni[r]||null,!t||!n||!r)throw new k("argument-error",Ii+", "+Si+"and "+ki+" are required in a valid action code URL.");Zr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Ti)||null,languageCode:Un(e,Ci)||null,tenantId:Un(e,xi)||null})}var Ii="apiKey",Si="oobCode",Ti="continueUrl",Ci="languageCode",ki="mode",xi="tenantId",Ni={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ci,signIn:li,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function Ai(e){try{return new Ei(e)}catch(e){return null}}function Di(e){var t=e[Ri];if(void 0===t)throw new k("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Pi];if(n&&"object"==typeof n){t=n[Ui];var r=n[ji];if(n=n[Fi],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new k("argument-error",Ui+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",Pi+" property must be a non null object when specified.");if(this.f=null,(t=e[Li])&&"object"==typeof t){if("string"==typeof(t=t[zi])&&t.length)this.f=t;else if(void 0!==t)throw new k("argument-error",zi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new k("argument-error",Li+" property must be a non null object when specified.");if(void 0!==(t=e[Mi])&&"boolean"!=typeof t)throw new k("argument-error",Mi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Oi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new k("argument-error",Oi+" property must be a non empty string when specified.");this.i=e||null}var Pi="android",Oi="dynamicLinkDomain",Mi="handleCodeInApp",Li="iOS",Ri="url",ji="installApp",Fi="minimumVersion",Ui="packageName",zi="bundleId";function qi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Vi=null;function Bi(e){var t=Gi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Wi(e){try{return new Bi(e)}catch(e){return null}}function Gi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Vi){Vi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(e){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],Qi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ki},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ki},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ki},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Hi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Yi(e){for(var t in Qi)if(Qi[t].fa==e)return Qi[t];return null}function $i(e){var t={};t["facebook.com"]=to,t["google.com"]=ro,t["github.com"]=no,t["twitter.com"]=io;var n=e&&e[Zi];try{if(n)return t[n]?new t[n](e):new eo(e);if(void 0!==e[Ji])return new Xi(e)}catch(e){}return null}var Ji="idToken",Zi="providerId";function Xi(e){var t=e[Zi];if(!t&&e[Ji]){var n=Wi(e[Ji]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Jr(this,"providerId",t),Jr(this,"isNewUser",n)}function eo(e){Xi.call(this,e),Jr(this,"profile",ei((e=Ur(e.rawUserInfo||"{}"))||{}))}function to(e){if(eo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(e){if(eo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function ro(e){if(eo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(e){if(eo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",e.screenName||null)}function oo(e){var t=zn(e),n=Un(t,"link"),r=Un(zn(n),"link");return t=Un(t,"deep_link_id"),Un(zn(t),"link")||t||r||n||e}function ao(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?so:uo}T(eo,Xi),T(to,eo),T(no,eo),T(ro,eo),T(io,eo);var so="enroll",uo="signin";function co(){}function lo(e,t){return e.then((function(e){if(e[Za]){var n=Wi(e[Za]);if(!n||t!=n.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==A+"user-not-found"?new k("user-mismatch"):e}))}function ho(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,Jr(this,"providerId",e),Jr(this,"signInMethod",e)}function fo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function po(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new ho(e.providerId,e.pendingToken)}catch(e){}return null}function mo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Jr(this,"idToken",t.idToken),t.accessToken&&Jr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Jr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Jr(this,"accessToken",t.oauthToken),Jr(this,"secret",t.oauthTokenSecret)}Jr(this,"providerId",e),Jr(this,"signInMethod",n)}function go(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Zn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function vo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new mo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function yo(e,t){this.Qc=t||[],Zr(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(Yi(e)||{}).Ja||null,this.ob=null}function bo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,e,[])}function wo(e){yo.call(this,e,Ki),this.a=[]}function _o(){wo.call(this,"facebook.com")}function Eo(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new _o).credential({accessToken:t})}function Io(){wo.call(this,"github.com")}function So(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new Io).credential({accessToken:t})}function To(){wo.call(this,"google.com"),this.Ca("profile")}function Co(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new To).credential({idToken:n,accessToken:t})}function ko(){yo.call(this,"twitter.com",Hi)}function xo(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",n,"twitter.com")}function No(e,t,n){this.a=e,this.f=t,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(e){return e&&e.email&&e.password?new No(e.email,e.password,e.signInMethod):null}function Do(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Po(e,t){if(!(t=Oo(t)))throw new k("argument-error","Invalid email link!");return new No(e,t.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(e){return(e=Ai(e=oo(e)))&&e.operation===li?e:null}function Mo(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new k("internal-error");this.a=e,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function Lo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Mo(t)}return null}function Ro(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function jo(e){try{this.a=e||r.Z.auth()}catch(e){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new Mo({eb:e,cb:t})}function Uo(e){if(e.temporaryProof&&e.phoneNumber)return new Mo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Co(o,n);case"facebook.com":return Eo(n);case"github.com":return So(n);case"twitter.com":return xo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new ho(t,a):new mo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new wo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function zo(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function qo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Vo(e){return(e=e||{}).type?new qo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&x(e.error),e.postBody,e.tenantId):null}function Bo(){this.b=null,this.a=[]}ao.prototype.Ha=function(){return this.a?xt(this.a):xt(this.b)},ao.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},co.prototype.ka=function(){},co.prototype.b=function(){},co.prototype.c=function(){},co.prototype.w=function(){},ho.prototype.ka=function(e){return bs(e,fo(this))},ho.prototype.b=function(e,t){var n=fo(this);return n.idToken=t,ws(e,n)},ho.prototype.c=function(e,t){return lo(_s(e,fo(this)),t)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mo.prototype.ka=function(e){return bs(e,go(this))},mo.prototype.b=function(e,t){var n=go(this);return n.idToken=t,ws(e,n)},mo.prototype.c=function(e,t){return lo(_s(e,go(this)),t)},mo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},yo.prototype.Ka=function(e){return this.Ib=ge(e),this},T(bo,yo),T(wo,yo),wo.prototype.Ca=function(e){return Y(this.a,e)||this.a.push(e),this},wo.prototype.Qb=function(){return X(this.a)},wo.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,n,this.providerId)},T(_o,wo),Jr(_o,"PROVIDER_ID","facebook.com"),Jr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(Io,wo),Jr(Io,"PROVIDER_ID","github.com"),Jr(Io,"GITHUB_SIGN_IN_METHOD","github.com"),T(To,wo),Jr(To,"PROVIDER_ID","google.com"),Jr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),T(ko,yo),Jr(ko,"PROVIDER_ID","twitter.com"),Jr(ko,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(e,Ns,{email:this.a,oobCode:this.f}):nu(e,Js,{email:this.a,password:this.f})},No.prototype.b=function(e,t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(e,As,{idToken:t,email:this.a,oobCode:this.f}):nu(e,Bs,{idToken:t,email:this.a,password:this.f})},No.prototype.c=function(e,t){return lo(this.ka(e),t)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Do,{PROVIDER_ID:"password"}),Zr(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Mo.prototype.ka=function(e){return e.fb(Ro(this))},Mo.prototype.b=function(e,t){var n=Ro(this);return n.idToken=t,nu(e,Xs,n)},Mo.prototype.c=function(e,t){var n=Ro(this);return n.operation="REAUTH",lo(e=nu(e,eu,n),t)},Mo.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},jo.prototype.fb=function(e,t){var n=this.a.a;return xt(t.verify()).then((function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=g(e)?e.session:null,o=g(e)?e.phoneNumber:e;return(i&&i.type==so?i.Ha().then((function(e){return function(e,t){return nu(e,Gs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==uo?i.Ha().then((function(t){return function(e,t){return nu(e,Hs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return nu(e,qs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(jo,{PROVIDER_ID:"phone"}),Zr(jo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},qo.prototype.T=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Wo,Go=null;function Ho(e){var t="unauthorized-domain",n=void 0,r=zn(e);e=r.a,"chrome-extension"==(r=r.c)?n=We("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=We("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function Ko(e,t,n){k.call(this,e,n),(e=t||{}).Jb&&Jr(this,"email",e.Jb),e.ea&&Jr(this,"phoneNumber",e.ea),e.credential&&Jr(this,"credential",e.credential),e.Zb&&Jr(this,"tenantId",e.Zb)}function Qo(e){if(e.code){var t=e.code||"";0==t.indexOf(A)&&(t=t.substring(A.length));var n={credential:Uo(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new Ko(t,n,e.message)}return null}function Yo(){}function $o(e){return e.c||(e.c=e.b())}function Jo(){}function Zo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Xo(){}function ea(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Sb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ta(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function na(e,t,n){this.reset(e,t,n,void 0,void 0)}function ra(e){this.f=e,this.b=this.c=this.a=null}function ia(e,t){this.name=e,this.value=t}T(Ho,k),T(Ko,k),Ko.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},Ko.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,T(Jo,Yo),Jo.prototype.a=function(){var e=Zo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Jo.prototype.b=function(){var e={};return Zo(this)&&(e[0]=!0,e[1]=!0),e},Wo=new Jo,T(Xo,Yo),Xo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ea;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(e=ea.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ta(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",ta(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,ta(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},na.prototype.a=null,na.prototype.reset=function(e,t,n,r,i){r||S(),delete this.a},ia.prototype.toString=function(){return this.name};var oa=new ia("SEVERE",1e3),aa=new ia("WARNING",900),sa=new ia("CONFIG",700),ua=new ia("FINE",500);function ca(e){return e.c?e.c:e.a?ca(e.a):(j("Root logger has no level set."),null)}ra.prototype.log=function(e,t,n){if(e.value>=ca(this).value)for(m(t)&&(t=t()),e=new na(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var la={},ha=null;function fa(e){var t;if(ha||(ha=new ra(""),la[""]=ha,ha.c=sa),!(t=la[e])){t=new ra(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=fa(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,la[e]=t}return t}function da(e,t){e&&e.log(ua,t,void 0)}function pa(e){this.f=e}function ma(e){En.call(this),this.u=e,this.h=void 0,this.readyState=ga,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=fa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(pa,Yo),pa.prototype.a=function(){return new ma(this.f)},pa.prototype.b=function(e){return function(){return e}}({}),T(ma,En);var ga=0;function va(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function ya(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ba(e)}function ba(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function wa(e){En.call(this),this.headers=new An,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=_a,this.u=this.S=!1}(e=ma.prototype).open=function(e,t){if(this.readyState!=ga)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ba(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ya(this)),this.readyState=ga},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ba(this)),this.a&&(this.readyState=3,ba(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,va(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ya(this):ba(this),3==this.readyState&&va(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ya(this))},e.sc=function(e){this.a&&(this.response=e,ya(this))},e.Ua=function(e){var t=this.i;t&&t.log(aa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ya(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(aa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(aa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),T(wa,En);var _a="";wa.prototype.b=fa("goog.net.XhrIo");var Ea=/^https?$/i,Ia=["POST","PUT"];function Sa(e){return"content-type"==e.toLowerCase()}function Ta(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ca(e),xa(e)}function Ca(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ka(e){if(e.c&&void 0!==s)if(e.C[1]&&4==Aa(e)&&2==Da(e))da(e.b,Pa(e,"Local request error detected and ignored"));else if(e.i&&4==Aa(e))Cn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==Aa(e)){da(e.b,Pa(e,"Request complete")),e.c=!1;try{var t,n=Da(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(On)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ea.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Aa(e)?e.a.statusText:""}catch(t){da(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Da(e)+"]",Ca(e)}}finally{xa(e)}}}function xa(e,t){if(e.a){Na(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(oa,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Na(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function Aa(e){return e.a?e.a.readyState:0}function Da(e){try{return 2<Aa(e)?e.a.status:-1}catch(e){return-1}}function Pa(e,t){return t+" ["+e.R+" "+e.l+" "+Da(e)+"]"}function Oa(e){var t=Wa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ma(e,t,n){e.a=!0,e.c=n,e.f=!t,Fa(e)}function La(e){if(e.a){if(!e.v)throw new Ua(e);e.v=!1}}function Ra(e,t,n,r){e.g.push([t,n,r]),e.a&&Fa(e)}function ja(e){return Q(e.g,(function(e){return m(e[1])}))}function Fa(e){if(e.h&&e.a&&ja(e)){var t=e.h,n=Va[t];n&&(u.clearTimeout(n.a),delete Va[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(M(t)||"function"==typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,ja(e)||(n=!0)}}e.c=t,r&&(s=E(e.m,e,!0),r=E(e.m,e,!1),t instanceof Oa?(Ra(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new qa(t),Va[t.a]=t,e.h=t.a)}function Ua(){L.call(this)}function za(){L.call(this)}function qa(e){this.a=u.setTimeout(E(this.c,this),0),this.b=e}(e=wa.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",da(this.b,Pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(da(this.b,Pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),xa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),xa(this,!0)),wa.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?ka(this):this.Jc())},e.Jc=function(){ka(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _a:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(oa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return da(this.b,"Can not get response: "+e.message),null}},Oa.prototype.cancel=function(e){if(this.a)this.c instanceof Oa&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new za(this),La(this),Ma(this,!1,e))}},Oa.prototype.m=function(e,t){this.i=!1,Ma(this,e,t)},Oa.prototype.then=function(e,t,n){var r,i,o=new _t((function(e,t){r=e,i=t}));return Ra(this,r,(function(e){e instanceof za?o.cancel():i(e)})),o.then(e,t,n)},Oa.prototype.$goog_Thenable=!0,T(Ua,L),Ua.prototype.message="Deferred has already fired",Ua.prototype.name="AlreadyCalledError",T(za,L),za.prototype.message="Deferred was canceled",za.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function Ba(e){var t={},n=t.document||document,r=ke(e).toString(),i=mt(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Oa(o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Ga(i,!0);var e=new Qa(Ka,"Timeout reached for loading script "+r);La(a),Ma(a,!1,e)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ga(i,t.xd||!1,s),La(a),Ma(a,!0,null))},i.onerror=function(){Ga(i,!0,s);var e=new Qa(Ha,"Error while loading script "+r);La(a),Ma(a,!1,e)},ye(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=ke(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=h(t.document):(null===l&&(l=h(u.document)),t=l),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Wa(){if(this&&this.Wb){var e=this.Wb;e&&"SCRIPT"==e.tagName&&Ga(e,!0,this.Ma)}}function Ga(e,t,n){null!=n&&u.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ha=0,Ka=1;function Qa(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),L.call(this,n),this.code=e}function Ya(e){this.f=e}function $a(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Xa,this.g=ge(e.secureTokenHeaders||es),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ts,this.a=ge(e.firebaseHeaders||ns),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=u.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest)&&!Er())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new pa(self):Sr()?this.f=new Ya(n):this.f=new Xo,this.b=null}T(Qa,L),T(Ya,Yo),Ya.prototype.a=function(){return new this.f},Ya.prototype.b=function(){return{}};var Ja,Za="idToken",Xa=new Br(3e4,6e4),es={"Content-Type":"application/x-www-form-urlencoded"},ts=new Br(3e4,6e4),ns={"Content-Type":"application/json"};function rs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function is(e,t){t&&(e.l=os("https://securetoken.googleapis.com/v1/token",t),e.h=os("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=os("https://identitytoolkit.googleapis.com/v2/",t))}function os(e,t){return e=zn(e),t=zn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,Rn(e,t.g),e.toString()}function as(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ss(e,t,n,r,i,o,a){(function(){var e=Ar();return!((e=kr(e)!=Cr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Ye&&st&&!(9<st))})()||Er()?e=E(e.u,e):(Ja||(Ja=new _t((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(u[cs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ra(e,null,t,void 0)}(Ba(xe(us,{onload:cs})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=E(e.s,e)),e(t,n,r,i,o,a)}$a.prototype.T=function(){return this.b},$a.prototype.u=function(e,t,n,r,i,o){if(Er()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new wa(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return da(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),Sn(a,"ready",(function(){s&&clearTimeout(s),Ht(this)})),Sn(a,"timeout",(function(){s&&clearTimeout(s),Ht(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Wo.a(),e.C=e.D?$o(e.D):$o(Wo),e.a.onreadystatechange=E(e.Vb,e);try{da(e.b,Pa(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return da(e.b,Pa(e,"Error opening Xhr: "+t.message)),void Ta(e,t)}t=r||"";var o=new An(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"==typeof e)G(e,t,void 0);else for(var n=Nn(e),r=xn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Sa,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=u.FormData&&t instanceof u.FormData,!Y(Ia,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Na(e),0<e.g&&(e.u=function(e){return Ye&&at(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),da(e.b,Pa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ma,e)):e.s=Cn(e.Ma,e.g,e)),da(e.b,Pa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){da(e.b,Pa(e,"Send error: "+t.message)),Ta(e,t)}}(a,e,n,r,i)};var us=new we(Se,"https://apis.google.com/js/client.js?onload=%{onload}"),cs="__fcb"+Math.floor(1e6*Math.random()).toString();function ls(e){if("string"!=typeof(e=e.email)||!yr.test(e))throw new k("invalid-email")}function hs(e){"email"in e&&ls(e)}function fs(e){if(!e[Za]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,ge(e));throw new k("internal-error")}}function ds(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}$a.prototype.s=function(e,t,n,r,i){var o=this;Ja.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},$a.prototype.zb=function(){return nu(this,Ws,{})},$a.prototype.Bb=function(e,t){return nu(this,Vs,{idToken:e,email:t})},$a.prototype.Cb=function(e,t){return nu(this,Bs,{idToken:e,password:t})};var ps={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ms(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function gs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function vs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&er(e=new $n(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function ys(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Qo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Qo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Qo(e)):e.errorMessage&&(t=ru(e.errorMessage)),t)throw t;fs(e)}function bs(e,t){return t.returnIdpCredential=!0,nu(e,Ks,t)}function ws(e,t){return t.returnIdpCredential=!0,nu(e,Ys,t)}function _s(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,nu(e,Qs,t)}function Es(e){if(!e.oobCode)throw new k("invalid-action-code")}(e=$a.prototype).Db=function(e,t){var n={idToken:e},r=[];return pe(ps,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Vs,n)},e.vb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),nu(this,js,e)},e.wb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),nu(this,Ms,e)},e.ub=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),nu(this,Ls,e)},e.Eb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),nu(this,Rs,e)},e.fb=function(e){return nu(this,Zs,e)},e.nb=function(e,t){return nu(this,zs,{oobCode:e,newPassword:t})},e.Ra=function(e){return nu(this,Ss,{oobCode:e})},e.jb=function(e){return nu(this,Is,{oobCode:e})};var Is={endpoint:"setAccountInfo",A:Es,Z:"email",B:!0},Ss={endpoint:"resetPassword",A:Es,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},B:!0},Ts={endpoint:"signupNewUser",A:function(e){if(ls(e),!e.password)throw new k("weak-password")},G:fs,V:!0,B:!0},Cs={endpoint:"createAuthUri",B:!0},ks={endpoint:"deleteAccount",N:["idToken"]},xs={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},Ns={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ls,G:fs,V:!0,B:!0},As={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ls,G:fs,V:!0},Ds={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ms,G:fs,B:!0,Na:!0},Ps={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ms,G:fs,B:!0,Na:!0},Os={endpoint:"getAccountInfo"},Ms={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");ls(e)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Rs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");ls(e)},Z:"email",B:!0},Fs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Us={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},zs={endpoint:"resetPassword",A:Es,Z:"email",B:!0},qs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Vs={endpoint:"setAccountInfo",N:["idToken"],A:hs,V:!0},Bs={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(hs(e),!e.password)throw new k("weak-password")},G:fs,V:!0},Ws={endpoint:"signupNewUser",G:fs,V:!0,B:!0},Gs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Ks={endpoint:"verifyAssertion",A:gs,Ya:vs,G:ys,V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:gs,Ya:vs,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw ru(e.errorMessage);fs(e)},V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:function(e){if(gs(e),!e.idToken)throw new k("internal-error")},Ya:vs,G:ys,V:!0},$s={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:fs,V:!0,B:!0},Js={endpoint:"verifyPassword",A:function(e){if(ls(e),!e.password)throw new k("wrong-password")},G:fs,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},Xs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");ds(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Qo(e);fs(e)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Za]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function nu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.N))return Nt(new k("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return xt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=zn(t+n);Fn(s,"key",e.c),a&&Fn(s,"cb",S().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(s,c,i[c]);return new _t((function(t,n){ss(e,s.toString(),(function(e){e?e.error?n(iu(e,o||{})):t(e):n(new k("network-request-failed"))}),r,u?void 0:ir(Fr(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]}))}function ru(e){return iu({error:{errors:[{message:e}],code:400,message:e}})}function iu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],t);return!t&&e&&(t=jr(e)),new k("internal-error",t)}function ou(e){this.b=e,this.a=null,this.rb=function(e){return(cu||(cu=new _t((function(e,t){function n(){Vr(),Dr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Vr(),t(Error("Network Error"))},timeout:su.get()})}if(Dr("gapi.iframes.Iframe"))e();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Dr("gapi.load")?n():t(Error("Network Error"))},xt(Ba(r=xe(au,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw cu=null,e})))).then((function(){return new _t((function(t,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new we(Se,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new Br(3e4,6e4),uu=new Br(5e3,15e3),cu=null;function lu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?qn((e=zn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):qn("https",this.l,null,"/__/auth/iframe"),this.a=e,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fu(e){try{return r.Z.app(e).auth().Ga()}catch(e){return[]}}function du(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pu(e){var t=hr();return function(e){return nu(e,Fs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=zn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=zn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ho(hr())}))}function mu(e){return e.m||(e.m=br().then((function(){if(!e.u){var t=e.c,n=e.i,r=fu(e.b),i=new lu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=X(r||[]),e.u=i.toString()}e.v=new ou(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Vo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",xt(n)}return n.status="ERROR",xt(n)}))}(e)}))),e.m}function gu(e){return e.l||(e.C=e.c?Nr(e.c,fu(e.b)):null,e.l=new $a(e.g,O(e.i),e.C),e.f&&is(e.l,e.f)),e.l}function vu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new hu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ge(u||null),e.f=c,e.yb(l).toString()}function yu(e){if(this.a=e||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(e){this.b=e,this.a={},this.f=E(this.c,this)}lu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},hu.prototype.yb=function(e){return this.h=e,this},hu.prototype.toString=function(){if(this.v){var e=zn(this.v.url);e=qn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=qn("https",this.u,null,"/__/auth/handler");if(Fn(e,"apiKey",this.s),Fn(e,"appName",this.c),Fn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(e){n=null}for(var i in t.ob=n,Fn(e,"providerId",this.a.providerId),t=Fr((n=this.a).Ib))t[i]=t[i].toString();i=n.Qc,t=ge(t);for(var o=0;o<i.length;o++){var a=i[o];a in t&&delete t[a]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),me(t)||Fn(e,"customParameters",jr(t))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Fn(e,"scopes",n.join(",")),this.l?Fn(e,"redirectUrl",this.l):Xn(e.b,"redirectUrl"),this.g?Fn(e,"eventId",this.g):Xn(e.b,"eventId"),this.i?Fn(e,"v",this.i):Xn(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(e,s)&&Fn(e,s,this.b[s]);return this.h?Fn(e,"tid",this.h):Xn(e.b,"tid"),this.f?Fn(e,"eid",this.f):Xn(e.b,"eid"),(s=fu(this.c)).length&&Fn(e,"fw",s.join(",")),e.toString()},(e=du.prototype).Ob=function(e,t,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return mu(e).then((function(){return function(e,t){return e.rb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&mr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new _t((function(t){return function n(){kn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return kn(n).then((function(){t(r)}))}))},e.Xb=function(){var e=Ar();return!Rr(e)&&!qr(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,a,s){if(!e)return Nt(new k("popup-blocked"));if(a&&!Rr())return this.ma().o((function(t){mr(e),i(t)})),r(),xt();this.a||(this.a=pu(gu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw mr(e),i(t),t}));return r(),t})).then((function(){zo(n),a||fr(vu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=pu(gu(this)));var i=this;return this.a.then((function(){zo(t),fr(vu(i.s,i.g,i.b,e,t,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return mu(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new k("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){J(this.h,(function(t){return t==e}))},(e=yu.prototype).get=function(e){return xt(this.a.getItem(e)).then((function(e){return e&&Ur(e)}))},e.set=function(e,t){return xt(this.a.setItem(e,jr(t)))},e.U=function(e){return xt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var wu,_u=[];function Eu(e,t,n){me(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Iu(e){this.a=e}function Su(e){this.c=e,this.b=!1,this.a=[]}function Tu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Nt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Cu(e,c),t})).o((function(t){throw Cu(e,c),t}))}function Cu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),J(e.a,(function(e){return e==t}))}}function ku(){if(!Du())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Er()&&self?(this.v=function(){var e=Er()?self:null;if(G(_u,(function(n){n.b==e&&(t=n)})),!t){var t=new bu(e);_u.push(t)}return t}(),Eu(this.v,"keyChanged",(function(t,n){return Ru(e).then((function(t){return 0<t.length&&G(e.a,(function(e){e(t)})),{keyProcessed:Y(t,n.key)}}))})),Eu(this.v,"ping",(function(){return xt(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?xt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):xt(null)}().then((function(t){(e.h=t)&&(e.g=new Su(new Iu(t)),Tu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Y(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function xu(e){return new _t((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new _t((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return xu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Nu(e){return e.i||(e.i=xu(e)),e.i}function Au(e,t){var n=0;return new _t((function r(i,o){Nu(e).then(t).then(i).o((function(t){if(!(3<++n))return Nu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Du(){try{return!!u.indexedDB}catch(e){return!1}}function Pu(e){return e.objectStore("firebaseLocalStorage")}function Ou(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Mu(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Lu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Tu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):xt()}function Ru(e){return Nu(e).then((function(e){var t=Pu(Ou(e,!1));return t.getAll?Mu(t.getAll()):new _t((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r}))}function ju(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Fu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=xt().then((function(){if(Du()){var e=zr(),r="__sak"+e;return wu||(wu=new ku),(n=wu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){G(t.a,(function(t){t(e)}))})),e}))}function Uu(){this.a={},this.type="inMemory"}function zu(){if(!function(){var e="Node"==Ir();if(!(e=qu()||e&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=qu()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var e=u.localStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Vu(){this.type="nullStorage"}function Bu(){if(!function(){var e="Node"==Ir();if(!(e=Wu()||e&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Wu()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wu(){try{var e=u.sessionStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Gu(){var e={};e.Browser=Qu,e.Node=Yu,e.ReactNative=$u,e.Worker=Ju,this.a=e[Ir()]}bu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];G(r,(function(t){i.push(xt().then((function(){return t(e.origin,e.data.data)})))})),Dt(i).then((function(r){var i=[];G(r,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),G(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Iu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Su.prototype.close=function(){for(;0<this.a.length;)Cu(this,this.a[0]);this.b=!0},(e=ku.prototype).set=function(e,t){var n=this,r=!1;return Au(this,(function(t){return Mu((t=Pu(Ou(t,!0))).get(e))})).then((function(i){return Au(n,(function(o){if(o=Pu(Ou(o,!0)),i)return i.value=t,Mu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Mu(o.add(a))}))})).then((function(){return n.c[e]=t,Lu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Au(this,(function(t){return Mu(Pu(Ou(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Au(this,(function(r){return n=!0,t.b++,Mu(Pu(Ou(r,!0)).delete(e))})).then((function(){return delete t.c[e],Lu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){ju(e),function t(){e.f=setTimeout((function(){e.l=Ru(e).then((function(t){0<t.length&&G(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ia=function(e){J(this.a,(function(t){return t==e})),0==this.a.length&&ju(this)},(e=Fu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){J(this.a,(function(t){return t==e}))},(e=Uu.prototype).get=function(e){return xt(this.a[e])},e.set=function(e,t){return this.a[e]=t,xt()},e.U=function(e){return delete this.a[e],xt()},e.ca=function(){},e.ia=function(){},(e=zu.prototype).get=function(e){var t=this;return xt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return xt().then((function(){var r=jr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return xt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){u.window&&ln(u.window,"storage",e)},e.ia=function(e){u.window&&dn(u.window,"storage",e)},(e=Vu.prototype).get=function(){return xt(null)},e.set=function(){return xt()},e.U=function(){return xt()},e.ca=function(){},e.ia=function(){},(e=Bu.prototype).get=function(e){var t=this;return xt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return xt().then((function(){var r=jr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return xt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Hu,Ku,Qu={F:zu,bb:Bu},Yu={F:zu,bb:Bu},$u={F:yu,bb:Vu},Ju={F:zu,bb:Vu},Zu={rd:"local",NONE:"none",td:"session"};function Xu(){var e=!(qr(Ar())||!_r()),t=Rr(),n=Pr();this.m=e,this.h=t,this.l=n,this.a={},Hu||(Hu=new Gu),e=Hu;try{this.g=!lr()&&Hr()||!u.indexedDB?new e.a.F:new Fu(Er()?new Uu:new e.a.F)}catch(e){this.g=new Uu,this.h=!0}try{this.i=new e.a.bb}catch(e){this.i=new Uu}this.v=new Uu,this.f=E(this.Yb,this),this.b={}}function ec(){return Ku||(Ku=new Xu),Ku}function tc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function nc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function rc(e,t,n){return n=nc(t,n),"local"==t.F&&(e.b[n]=null),tc(e,t.F).U(n)}function ic(e){e.c&&(clearInterval(e.c),e.c=null)}function oc(e){this.a=e,this.b=ec()}(e=Xu.prototype).get=function(e,t){return tc(this,e.F).get(nc(e,t))},e.set=function(e,t,n){var r=nc(e,n),i=this,o=tc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=nc(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),me(this.a)&&(tc(this,"local").ca(this.f),this.h||(lr()||!Hr())&&u.indexedDB||!this.l||function(e){ic(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Zt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Yb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=nc(e,t),this.a[e]&&(J(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),me(this.a)&&(tc(this,"local").ia(this.f),ic(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?tc(this,"local").ia(this.f):ic(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.mb(t))},Ye&&st&&10==st&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else G(e,E(this.mb,this))},e.mb=function(e){this.a[e]&&G(this.a[e],(function(e){e()}))};var ac,sc={name:"authEvent",F:"local"};function uc(){this.a=ec()}function cc(e,t){this.b=lc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=u.Int32Array?new Int32Array(vc):vc),this.reset()}T(cc,(function(){this.b=-1}));for(var lc=64,hc=lc-1,fc=[],dc=0;dc<hc;dc++)fc[dc]=0;var pc=Z(128,fc);function mc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ac[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function gc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(mc(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(mc(e),i=0)}}e.c=i,e.g+=n}cc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):X(this.h)};var vc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yc(){cc.call(this,8,bc)}T(yc,cc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new uc,this.g=new oc(this.h),this.f=null,this.b=[],this.a=this.c=null}function _c(e){return new k("invalid-cordova-configuration",e)}function Ec(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Ic(e){return e.f||(e.f=e.ma().then((function(){return new _t((function(t){e.Ea((function n(r){return t(r),e.Sa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Sc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=oo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ur(Un(o=zn(i),"firebaseError")||null))?x(o):null)?new qo(r.c,r.b,null,null,o,null,r.T()):new qo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(e,i)}))}var n=new qo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=kn(500).then((function(){return Sc(e).then((function(){r||Ec(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Dr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Go||(Go=new Bo),function(e){var t=Go;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Dr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Sc(e){var t=null;return function(e){return e.b.get(sc,e.a).then((function(e){return Vo(e)}))}(e.g).then((function(n){return t=n,rc((n=e.g).b,sc,n.a)})).then((function(){return t}))}function Tc(e){this.a=e,this.b=ec()}(e=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?br().then((function(){return new _t((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Nt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Dr("universalLinks.subscribe",u))throw _c("cordova-universal-links-plugin-fix is not installed");if(void 0===Dr("BuildInfo.packageName",u))throw _c("cordova-plugin-buildinfo is not installed");if("function"!=typeof Dr("cordova.plugins.browsertab.openUrl",u))throw _c("cordova-plugin-browsertab is not installed");if("function"!=typeof Dr("cordova.InAppBrowser.open",u))throw _c("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},e.Ob=function(e,t){return t(new k("operation-not-supported-in-this-environment")),xt()},e.Mb=function(){return Nt(new k("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return Nt(new k("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=xt().then((function(){return zo(t),Ic(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new qo(t,r,null,o,new k("no-auth-event"),null,i),s=Dr("BuildInfo.packageName",u);if("string"!=typeof s)throw new k("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",u),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Ar().toLowerCase().match(/android/))return Nt(new k("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=function(e){var t=new yc;gc(t,e),e=[];var n=8*t.g;56>t.c?gc(t,pc,56-t.c):gc(t,pc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(mc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return K(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),l.sessionId=o;var h=vu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(sc,a.w(),t)})).then((function(){var t=Dr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof t)throw new k("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Dr("cordova.plugins.browsertab.openUrl",u)))throw new k("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Dr("cordova.InAppBrowser.open",u)))throw new k("invalid-cordova-configuration");t=Ar(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new _t((function(e,t){s=function(){var t=Dr("cordova.plugins.browsertab.close",u);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=kn(2e3).then((function(){t(new k("redirect-cancelled-by-user"))})))},l=function(){Wr()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Sc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null}))},e.Ea=function(e){this.b.push(e),Ic(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new qo("unknown",null,null,null,new k("no-auth-event")),e(t))}))},e.Sa=function(e){J(this.b,(function(t){return t==e}))};var Cc={name:"pendingRedirect",F:"session"};function kc(e){return rc(e.b,Cc,e.a)}function xc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Bc,this.C=new Qc,this.g=new Tc(qc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Nc(this.D,this.v,this.m,N,this.J)}function Nc(e,t,n,i,o){var a=r.Z.SDK_VERSION||null;return wr()?new wc(e,t,n,a,i,o):new du(e,t,n,a,i,o)}function Ac(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Dc(e){e.a.Xb()&&Ac(e).o((function(t){var n=new qo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));jc(t)&&e.s(n)})),e.a.Tb()||Wc(e.b)}function Pc(e,t){Y(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Cc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?kc(e.g).then((function(){Ac(e).o((function(t){var n=new qo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));jc(t)&&e.s(n)}))})):Dc(e)})).o((function(){Dc(e)}))}function Oc(e,t){J(e.h,(function(e){return e==t}))}xc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Nc(this.D,this.v,this.m,null,this.J),this.i={}},xc.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=S()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=S())),t=!0;break}}return Wc(this.b),t};var Mc=new Br(2e3,1e4),Lc=new Br(3e4,6e4);function Rc(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function jc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Fc(e,t,n,r,i){var o;return function(e){return e.b.set(Cc,"pending",e.a)}(e.g).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(jc(t))throw new k("operation-not-supported-in-this-environment");return o=t,kc(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new _t((function(){})):kc(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Uc(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),Mc.get())}xc.prototype.qa=function(){return this.b.qa()};var zc={};function qc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Vc(e,t,n,r){var i=qc(t,n,r);return zc[i]||(zc[i]=new xc(e,t,n,r)),zc[i]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(e){e.g||(e.g=!0,Kc(e,!1,null,null))}function Gc(e){e.g&&!e.i&&Kc(e,!1,null,null)}function Hc(e,t){if(e.b=function(){return xt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Kc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Nt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Hc(e,n):Hc(e,{user:null}),e.f=[],e.c=[]}function Qc(){}function Yc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function $c(e,t){this.a=t,Jr(this,"verificationId",e)}function Jc(e,t,n,r){return new jo(e).fb(t,n).then((function(e){return new $c(e,r)}))}function Zc(e){var t=Gi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:e,expirationTime:Gr(1e3*t.exp),authTime:Gr(1e3*t.auth_time),issuedAtTime:Gr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Xc(e,t,n){var r=t&&t[tl];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ge(t),this.g=n,this.c=new ao(null,r),this.b=[];var i=this;G(t[el]||[],(function(e){(e=ni(e))&&i.b.push(e)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Kc(this,!0,null,e.a),xt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Kc(e,s,t,null)})).o((function(t){Kc(e,s,null,t)}))}(this,e,t):Nt(new k("invalid-auth-event")):(Kc(this,!1,null,null),xt())}else Nt(new k("invalid-auth-event"))},Bc.prototype.qa=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=kn(Lc.get()).then((function(){e.b||(e.g=!0,Kc(e,!0,null,t))}))}(e))}))},Qc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),xt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Nt(new k("invalid-auth-event"))}else Nt(new k("invalid-auth-event"))},$c.prototype.confirm=function(e){return e=Fo(this.verificationId,e),this.a(e)};var el="mfaInfo",tl="mfaPendingCredential";function nl(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new Xc(e,t,n),Jr(this,"resolver",this.b)}function rl(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new nl(t,e.serverResponse,n,e.message)}catch(e){}return null}function il(){}function ol(e){Jr(this,"factorId",e.fa),this.a=e}function al(e){if(ol.call(this,e),this.a.fa!=jo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function sl(e,t){for(var n in Jt.call(this,e),t)this[n]=t[n]}function ul(e,t){this.a=e,this.b=[],this.c=E(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&G(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[oi]=e.uid),e.displayName&&(r[ri]=e.displayName),e.enrollmentTime&&(r[ii]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ai]=e.phoneNumber);try{t=new si(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),cl(this,n)}function cl(e,t){e.b=t,Jr(e,"enrolledFactors",t)}function ll(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function hl(e,t){e.stop(),e.b=kn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return Wr()||!e?xt():new _t((function(n){t=function(){Wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){hl(e,!0)})).o((function(t){e.i(t)&&hl(e,!1)}))}function fl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function dl(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function pl(e,t){e.b=Wi(t[Za]||""),e.a=t.refreshToken,dl(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function ml(e,t){this.a=e||null,this.b=t||null,Zr(this,{lastSignInTime:Gr(t||null),creationTime:Gr(e||null)})}function gl(e,t,n,r,i,o){Zr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function vl(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION):null;this.a=new $a(this.l,O(N),i),e.emulatorConfig&&is(this.a,e.emulatorConfig),this.b=new fl(this.a),Tl(this,t[Za]),pl(this.b,t),Jr(this,"refreshToken",this.b.a),xl(this,n||{}),En.call(this),this.R=!1,this.s&&Or()&&(this.i=Vc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(e){return new ll((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.aa=E(this.hb,this);var o=this;this.ya=null,this.Oa=function(e){o.wa(e.h)},this.ja=null,this.Aa=function(e){is(o.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){wl(o,e.f)},this.ba=null,this.O=new ul(this,n),Jr(this,"multiFactor",this.O)}function yl(e,t){e.ja&&dn(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&ln(t,"languageCodeChanged",e.Oa)}function bl(e,t){e.X&&dn(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&ln(t,"emulatorConfigChanged",e.Aa)}function wl(e,t){e.$=t,as(e.a,r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION,e.$):null)}function _l(e,t){e.ba&&dn(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&ln(t,"frameworkChanged",e.Ba)}function El(e){try{return r.Z.app(e.m).auth()}catch(t){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Il(e){e.D||e.u.b||(e.u.start(),dn(e,"tokenChanged",e.aa),ln(e,"tokenChanged",e.aa))}function Sl(e){dn(e,"tokenChanged",e.aa),e.u.stop()}function Tl(e,t){e.za=t,Jr(e,"_lat",t)}function Cl(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Dt(t).then((function(){return e}))}function kl(e){e.i&&!e.R&&(e.R=!0,Pc(e.i,e))}function xl(e,t){Zr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new ml(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Nl(){}function Al(e){return xt().then((function(){if(e.D)throw new k("app-deleted")}))}function Dl(e){return K(e.providerData,(function(e){return e.providerId}))}function Pl(e,t){t&&(Ol(e,t.providerId),e.providerData.push(t))}function Ol(e,t){J(e.providerData,(function(e){return e.providerId==t}))}function Ml(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Jr(e,t,n)}function Ll(e,t){e!=t&&(Zr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Jr(e,"metadata",function(e){return new ml(e.a,e.b)}(t.metadata)):Jr(e,"metadata",new ml),G(t.providerData,(function(t){Pl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Jr(e,"refreshToken",e.b.a),cl(e.O,t.O.b))}function Rl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return nu(e.a,Os,{idToken:t}).then(E(e.Kc,e))}(e,t).then((function(){return n||Ml(e,"isAnonymous",!1),t}))}))}function jl(e,t){t[Za]&&e.za!=t[Za]&&(pl(e.b,t),e.dispatchEvent(new sl("tokenChanged")),Tl(e,t[Za]),Ml(e,"refreshToken",e.b.a))}function Fl(e,t){return Rl(e).then((function(){if(Y(Dl(e),t))return Cl(e).then((function(){throw new k("provider-already-linked")}))}))}function Ul(e,t,n){return Xr({user:e,credential:Uo(t),additionalUserInfo:t=$i(t),operationType:n})}function zl(e,t){return jl(e,t),e.reload().then((function(){return e}))}function ql(e,t,n,i,o){if(!Or())return Nt(new k("operation-not-supported-in-this-environment"));if(e.h&&!o)return Nt(e.h);var a=Yi(n.providerId),s=zr(e.uid+":::"),u=null;(!Rr()||_r())&&e.s&&n.isOAuthProvider&&(u=vu(e.s,e.l,e.m,t,n,null,s,r.Z.SDK_VERSION||null,null,null,e.tenantId));var c=gr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Bl(e),!o)return e.I().then((function(){}))})).then((function(){return Rc(e.i,c,t,n,s,!!u,e.tenantId)})).then((function(){return new _t((function(n,r){e.na(t,null,new k("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=s,e.c=Uc(e.i,e,t,c,s)}))})).then((function(e){return c&&mr(c),e?Xr(e):null})).o((function(e){throw c&&mr(c),e})),Wl(e,i,o)}function Vl(e,t,n,r,i){if(!Or())return Nt(new k("operation-not-supported-in-this-environment"));if(e.h&&!i)return Nt(e.h);var o=null,a=zr(e.uid+":::");return r=r().then((function(){if(Bl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Cl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Kl,e.w(),t.a)),t})).then((function(){return Fc(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Ql(e.ha);throw o})).then((function(){if(o)throw o})),Wl(e,r,i)}function Bl(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Wl(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),Nt(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new sl("userInvalidated")),e.h=t),t}))}(e,t,n);return e.J.push(r),r.oa((function(){$(e.J,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=rl(t.w(),El(e),E(e.jc,e))),n||t}))}function Gl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Za]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new vl(t,n,e);return e.providerData&&G(e.providerData,(function(e){e&&Pl(i,Xr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Hl(e){this.a=e,this.b=ec()}Xc.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=ge(t.f);return delete n[el],delete n[tl],ye(n,e),t.g(n)}))},T(nl,k),il.prototype.sb=function(e,t,n){return t.type==so?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ye(n,{phoneVerificationInfo:Ro(e.a)}),nu(t,Ds,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(e.a)}),nu(t,Ps,n)}))}(this,e,t)},T(ol,il),T(al,ol),T(sl,Jt),(e=ul.prototype).yc=function(e){cl(this,function(e){var t=[];return G(e.mfaInfo||[],(function(e){(e=ni(e))&&t.push(e)})),t}(e.hd))},e.Rb=function(){return this.a.I().then((function(e){return new ao(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return jl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return nu(r,tu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=H(t.b,(function(e){return e.uid!=n}));return cl(t,r),jl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(e){return e.w()}))}}},ll.prototype.start=function(){this.a=this.c,hl(this,!0)},ll.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},fl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},fl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Nt(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ss(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(iu(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Zn(t).toString(),e.g,e.m.get()):r(new k("internal-error"))}))}(e.f,t).then((function(t){return e.b=Wi(t.access_token),e.a=t.refresh_token,dl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):xt(null):xt({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(vl,En),vl.prototype.wa=function(e){this.ya=e,rs(this.a,e)},vl.prototype.la=function(){return this.ya},vl.prototype.Ga=function(){return X(this.$)},vl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Jr(vl.prototype,"providerId","firebase"),(e=vl.prototype).reload=function(){var e=this;return Wl(this,Al(this).then((function(){return Rl(e).then((function(){return Cl(e)})).then(Nl)})))},e.oc=function(e){return this.I(e).then((function(e){return new Zc(e)}))},e.I=function(e){var t=this;return Wl(this,Al(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.za&&(Tl(t,e.accessToken),t.dispatchEvent(new sl("tokenChanged"))),Ml(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");xl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?K(e,(function(e){return new gl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Pl(this,t[n]);Ml(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new sl("userReloaded",{hd:e}))},e.Lc=function(e){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return Wl(this,e.c(this.a,this.uid).then((function(e){return jl(t,e),n=Ul(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return Wl(this,Fl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Ul(t,e,"link"),zl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Wl(this,Fl(this,"phone").then((function(){return Jc(El(n),e,t,E(n.qb,n))})))},e.Mc=function(e,t){var n=this;return Wl(this,xt().then((function(){return Jc(El(n),e,t,E(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return Wl(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return jl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Wl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return jl(t,e),t.reload()})))},e.Cb=function(e){var t=this;return Wl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return jl(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Al(this);var t=this;return Wl(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return jl(t,e),Ml(t,"displayName",e.displayName||null),Ml(t,"photoURL",e.photoUrl||null),G(t.providerData,(function(e){"password"===e.providerId&&(Jr(e,"displayName",t.displayName),Jr(e,"photoURL",t.photoURL))})),Cl(t)})).then(Nl))},e.cd=function(e){var t=this;return Wl(this,Rl(this).then((function(n){return Y(Dl(t),e)?function(e,t,n){return nu(e,xs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return G(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),G(Dl(t),(function(e){n[e]||Ol(t,e)})),n[jo.PROVIDER_ID]||Jr(t,"phoneNumber",null),Cl(t)})):Cl(t).then((function(){throw new k("no-such-provider")}))})))},e.delete=function(){var e=this;return Wl(this,this.I().then((function(t){return nu(e.a,ks,{idToken:t})})).then((function(){e.dispatchEvent(new sl("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");yl(e,null),bl(e,null),_l(e,null),e.J=[],e.D=!0,Sl(e),Jr(e,"refreshToken",null),e.i&&Oc(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?E(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?E(this.Lb,this):null},e.Ec=function(e){var t=this;return ql(this,"linkViaPopup",e,(function(){return Fl(t,e.providerId).then((function(){return Cl(t)}))}),!1)},e.Nc=function(e){return ql(this,"reauthViaPopup",e,(function(){return xt()}),!0)},e.Fc=function(e){var t=this;return Vl(this,"linkViaRedirect",e,(function(){return Fl(t,e.providerId)}),!1)},e.Oc=function(e){return Vl(this,"reauthViaRedirect",e,(function(){return xt()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,this.I().then((function(n){return ws(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Ul(i,e,"link"),zl(i,e)})).then((function(){return o})))},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,xt().then((function(){return lo(_s(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Ul(i,e,"reauthenticate"),jl(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.ub=function(e){var t=this,n=null;return Wl(this,this.I().then((function(t){return n=t,void 0===e||me(e)?{}:qi(new Di(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return Wl(this,this.I().then((function(e){return r=e,void 0===t||me(t)?{}:qi(new Di(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Wl(this,e=lo(xt(e),n.uid).then((function(e){return t=Ul(n,e,"reauthenticate"),jl(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),G(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ye(e,this.O.w()),e};var Kl={name:"redirectUser",F:"session"};function Ql(e){return rc(e.b,Kl,e.a)}function Yl(e){this.a=e,this.b=ec(),this.c=null,this.f=function(e){var t=Zl("local"),n=Zl("session"),r=Zl("none");return function(e,t,n){var r=nc(t,n),i=tc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Ur(u.localStorage.getItem(r))}catch(e){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(Jl,e.a).then((function(e){return e?Zl(e):t}))}))}))})).then((function(t){return e.c=t,$l(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(Zl("local"),this.a,E(this.g,this))}function $l(e,t){var n,r=[];for(n in Zu)Zu[n]!==t&&r.push(rc(e.b,Zl(Zu[n]),e.a));return r.push(rc(e.b,Jl,e.a)),function(e){return new _t((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)At(e[s],I(o,s),a);else t(i)}))}(r)}Yl.prototype.g=function(){var e=this,t=Zl("local");nh(this,(function(){return xt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return $l(e,"local").then((function(){e.c=t}))}))}))};var Jl={name:"persistence",F:"session"};function Zl(e){return{name:"authUser",F:e}}function Xl(e,t){return nh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function eh(e){return nh(e,(function(){return rc(e.b,e.c,e.a)}))}function th(e,t,n){return nh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Gl(e||{})}))}))}function nh(e,t){return e.f=e.f.then(t,t),e.f}function rh(e){if(this.l=!1,Jr(this,"settings",new Yc),Jr(this,"app",e),!hh(this).options||!hh(this).options.apiKey)throw new k("invalid-api-key");e=r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION):null,this.a=new $a(hh(this).options&&hh(this).options.apiKey,O(N),e),this.R=[],this.s=[],this.O=[],this.hb=r.Z.INTERNAL.createSubscribe(E(this.zc,this)),this.X=void 0,this.bc=r.Z.INTERNAL.createSubscribe(E(this.Ac,this)),ch(this,null),this.i=new Yl(hh(this).options.apiKey+":"+hh(this).name),this.D=new Hl(hh(this).options.apiKey+":"+hh(this).name),this.$=mh(this,function(e){var t=hh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Kl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Gl(e||{})}))}(e.D,hh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Ql(e.D)}));return mh(e,t)}(e).then((function(){return th(e.i,t,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Xl(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:eh(e.i)}))):null})).then((function(t){ch(e,t||null)}));return mh(e,n)}(this)),this.h=mh(this,function(e){return e.$.then((function(){return uh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(Zl("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.ya=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(e){var t=hh(e).options.authDomain,n=hh(e).options.apiKey;t&&Or()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Vc(t,n,hh(e).name,e.P),Pc(e.b,e),fh(e)&&kl(fh(e)),e.m){kl(e.m);var r=e.m;r.wa(e.la()),yl(r,e),wl(r=e.m,e.J),_l(r,e),is((r=e.m).a,e.P),bl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.P){var e=zn(this.P.url);e=Xr({protocol:e.c,host:e.a,port:e.g,options:Xr({disableWarnings:this.P.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.P=null}function ih(e){Jt.call(this,"languageCodeChanged"),this.h=e}function oh(e){Jt.call(this,"emulatorConfigChanged"),this.c=e}function ah(e){Jt.call(this,"frameworkChanged"),this.f=e}function sh(e){return e.Oa||Nt(new k("auth-domain-config-required"))}function uh(e){if(!Or())return Nt(new k("operation-not-supported-in-this-environment"));var t=sh(e).then((function(){return e.b.qa()})).then((function(e){return e?Xr(e):null}));return mh(e,t)}function ch(e,t){fh(e)&&(function(e,t){J(e.S,(function(e){return e==t}))}(fh(e),e.Ba),dn(fh(e),"tokenChanged",e.ya),dn(fh(e),"userDeleted",e.za),dn(fh(e),"userInvalidated",e.Aa),Sl(fh(e))),t&&(t.S.push(e.Ba),ln(t,"tokenChanged",e.ya),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&Il(t)),Jr(e,"currentUser",t),t&&(t.wa(e.la()),yl(t,e),wl(t,e.J),_l(t,e),is(t.a,e.P),bl(t,e))}function lh(e,t){var n=null,r=null;return mh(e,t.then((function(t){return n=Uo(t),r=$i(t),function(e,t){var n={};return n.apiKey=hh(e).options.apiKey,n.authDomain=hh(e).options.authDomain,n.appName=hh(e).name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return function(e,t,n,r){var i=new vl(e,t);return n&&(i.ha=n),r&&wl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return fh(e)&&t.uid==fh(e).uid?(Ll(fh(e),t),e.da(t)):(ch(e,t),kl(t),e.da(t))})).then((function(){ph(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=rl(t.w(),e,E(e.kc,e))),n||t})).then((function(){return Xr({user:fh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function hh(e){return e.app}function fh(e){return e.currentUser}function dh(e){return fh(e)&&fh(e)._lat||null}function ph(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](dh(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](dh(e))}}function mh(e,t){return e.R.push(t),t.oa((function(){$(e.R,t)})),t}function gh(){}function vh(){this.a={},this.b=1e12}Yl.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in Zu)if(Zu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(Ir()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Du()&&"none"!==e)throw n;break;default:if(!Pr()&&"none"!==e)throw n}}(e),nh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,$l(n,e)})).then((function(){if(n.c=Zl(e),t)return n.b.set(n.c,t,n.a)})):xt()}))},T(rh,En),T(ih,Jt),T(oh,Jt),T(ah,Jt),(e=rh.prototype).xb=function(e){return mh(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,rs(this.a,this.aa),this.dispatchEvent(new ih(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=u.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&br().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.P={url:e,ec:t},this.settings.ib=!0,is(this.a,this.P),this.dispatchEvent(new oh(this.P))}},e.Gc=function(e){this.J.push(e),as(this.a,r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new ah(this.J))},e.Ga=function(){return X(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:hh(this).options.apiKey,authDomain:hh(this).options.authDomain,appName:hh(this).name,currentUser:fh(this)&&fh(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return lh(i,bs(i.a,o))}))},e.Xc=function(e){if(!Or())return Nt(new k("operation-not-supported-in-this-environment"));var t=this,n=Yi(e.providerId),i=zr(),o=null;(!Rr()||_r())&&hh(this).options.authDomain&&e.isOAuthProvider&&(o=vu(hh(this).options.authDomain,hh(this).options.apiKey,hh(this).name,"signInViaPopup",e,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.P));var a=gr(o,n&&n.ua,n&&n.ta);return mh(this,n=sh(this).then((function(n){return Rc(n,a,"signInViaPopup",e,i,!!o,t.T())})).then((function(){return new _t((function(e,n){t.na("signInViaPopup",null,new k("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=i,t.c=Uc(t.b,t,"signInViaPopup",a,i)}))})).then((function(e){return a&&mr(a),e?Xr(e):null})).o((function(e){throw a&&mr(a),e})))},e.Yc=function(e){if(!Or())return Nt(new k("operation-not-supported-in-this-environment"));var t=this;return mh(this,sh(this).then((function(){return function(e){return nh(e,(function(){return e.b.set(Jl,e.c.F,e.a)}))}(t.i)})).then((function(){return Fc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.qa=function(){var e=this;return uh(this).then((function(t){return e.b&&Gc(e.b.b),t})).o((function(t){throw e.b&&Gc(e.b.b),t}))},e.dd=function(e){if(!e)return Nt(new k("null-user"));if(this.S!=e.tenantId)return Nt(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=hh(this).options.apiKey,n.authDomain=hh(this).options.authDomain,n.appName=hh(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[Za]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new vl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&wl(t,r),Ll(t,e),t}(e,n,t.D,t.Ga());return mh(this,this.h.then((function(){if(hh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return fh(t)&&e.uid==fh(t).uid?(Ll(fh(t),e),t.da(e)):(ch(t,r),kl(r),t.da(r))})).then((function(){ph(t)})))},e.Ab=function(){var e=this;return mh(this,this.h.then((function(){return e.b&&Gc(e.b.b),fh(e)?(ch(e,null),eh(e.i).then((function(){ph(e)}))):xt()})))},e.Zc=function(){var e=this;return th(this.i,hh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=fh(e)&&t){n=fh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ll(fh(e),t),fh(e).I();(fh(e)||t)&&(ch(e,t),t&&(kl(t),t.ha=e.D),e.b&&Pc(e.b,e),ph(e))}}))},e.da=function(e){return Xl(this.i,e)},e.mc=function(){ph(this),this.da(fh(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return lh(t,xt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(fh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.O.push(t),mh(e,e.h.then((function(){!e.l&&Y(e.O,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(dh(e)))})))}(this,(function(){e.next(fh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(fh(r)):"function"==typeof e.next&&e.next(fh(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof e?e(fh(r)):"function"==typeof e.next&&e.next(fh(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this;return mh(this,this.h.then((function(){return fh(t)?fh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return lh(t,nu(t.a,$s,{token:e}))})).then((function(e){var n=e.user;return Ml(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return lh(n,nu(n.a,Js,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return lh(n,nu(n.a,Ts,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return lh(t,e.ka(t.a))}))},e.Sc=function(e){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=fh(e);if(t&&t.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return lh(e,e.a.zb()).then((function(t){var n=t.user;return Ml(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return fh(this)&&fh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&fh(this)&&Il(fh(this))},e.Pc=function(e){var t=this;G(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&fh(this)&&Sl(fh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),mh(this,this.h.then((function(){t.l||Y(t.s,e)&&e(dh(t))})))},e.removeAuthTokenListener=function(e){J(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener(Zl("local"),e.a,this.ja),this.b&&(Oc(this.b,this),Gc(this.b.b)),Promise.resolve()},e.hc=function(e){return mh(this,function(e,t){return nu(e,Cs,{identifier:t,continueUri:Mr()?hr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Oo(e)},e.wb=function(e,t){var n=this;return mh(this,xt().then((function(){var e=new Di(t);if(!e.c)throw new k("argument-error",Mi+" must be true when sending sign in link to email");return qi(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return mh(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return mh(this,this.a.Ra(e).then((function(e){return new ui(e)})))},e.jb=function(e){return mh(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return mh(this,xt().then((function(){return void 0===t||me(t)?{}:qi(new Di(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return mh(this,Jc(this,e,t,E(this.$a,this)))},e.Vc=function(e,t){var n=this;return mh(this,xt().then((function(){var r=t||hr(),i=Po(e,r);if(!(r=Oo(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.$a(i)})))},gh.prototype.render=function(){},gh.prototype.reset=function(){},gh.prototype.getResponse=function(){},gh.prototype.execute=function(){};var yh=null;function bh(e,t){return(t=wh(t))&&e.a[t]||null}function wh(e){return(e=void 0===e?1e12:e)?e.toString():null}function _h(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Eh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Ih(){}function Sh(){}vh.prototype.render=function(e,t){return this.a[this.b.toString()]=new _h(e,t),this.b++},vh.prototype.reset=function(e){var t=bh(this,e);e=wh(e),t&&e&&(t.delete(),delete this.a[e])},vh.prototype.getResponse=function(e){return(e=bh(this,e))?e.getResponse():null},vh.prototype.execute=function(e){(e=bh(this,e))&&e.execute()},_h.prototype.getResponse=function(){return Eh(this),this.b},_h.prototype.execute=function(){Eh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},_h.prototype.delete=function(){Eh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Jr(Ih,"FACTOR_ID","phone"),Sh.prototype.g=function(){return yh||(yh=new vh),xt(yh)},Sh.prototype.c=function(){};var Th=null;function Ch(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var kh=new we(Se,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xh=new Br(3e4,6e4);Ch.prototype.g=function(e){var t=this;return new _t((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),xh.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete u[t.a]},xt(Ba(xe(kh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Ch.prototype.c=function(){this.b--};var Nh=null;function Ah(e,t,n,r,i,o,a){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,a?(Th||(Th=new Sh),a=Th):(Nh||(Nh=new Ch),a=Nh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Oh])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Mh],!u.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $a(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Dh];this.a[Dh]=function(e){if(Lh(s,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Dr(c,u);"function"==typeof t&&t(e)}};var l=this.a[Ph];this.a[Ph]=function(){if(Lh(s,null),"function"==typeof l)l();else if("string"==typeof l){var e=Dr(l,u);"function"==typeof e&&e()}}}var Dh="callback",Ph="expired-callback",Oh="sitekey",Mh="size";function Lh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Rh(e,t){return e.h.push(t),t.oa((function(){$(e.h,t)})),t}function jh(e){if(e.D)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Fh(e,t,n){var i=!1;try{this.b=n||r.Z.app()}catch(e){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION,a):null,Ah.call(this,n,e,t,(function(){try{var e=o.b.auth().la()}catch(t){e=null}return e}),a,O(N),i)}function Uh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=zh.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=zh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(e=Ah.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Rh(this,xt().then((function(){if(Mr()&&!Er())return br();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,nu(e.s,Us,{})})).then((function(t){e.a[Oh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){jh(this);var e=this;return Rh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ge(a.name),'"'),a.type){o.push(' type="',Ge(a.type),'"');var s={};ye(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=mt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):lt(o,a)),2<r.length&&pt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){jh(this);var e=this;return Rh(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){J(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){jh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){jh(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Fh,Ah);var zh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Vh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Bh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function Wh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Gh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Hh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Kh(e,t){return g(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Qh(e){return g(e)&&"string"==typeof e.uid}function Yh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function $h(e,t){for(var n in t){var r=t[n].name;e[r]=Xh(r,e[n],t[n].j)}}function Jh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:I((function(e){return this[e]}),n),set:I((function(e,t,n,r){Uh(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function Zh(e,t,n,r){e[t]=Xh(t,n,r)}function Xh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Uh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}$h(rh.prototype,{jb:{name:"applyActionCode",j:[qh("code")]},Ra:{name:"checkActionCode",j:[qh("code")]},nb:{name:"confirmPasswordReset",j:[qh("code"),qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[qh("email"),qh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[qh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[qh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Yh(Bh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Yh(Bh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[qh("email"),Yh(Bh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[qh("email"),Bh("actionCodeSettings")]},xb:{name:"setPersistence",j:[qh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Hh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Hh()]},Tc:{name:"signInWithCustomToken",j:[qh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[qh("email"),qh("password")]},Vc:{name:"signInWithEmailLink",j:[qh("email"),qh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Yh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof vl)}},Gh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[qh("url"),Bh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[qh("code")]}}),Jh(rh.prototype,{lc:{name:"languageCode",kb:Yh(qh(),Gh(),"languageCode")},ti:{name:"tenantId",kb:Yh(qh(),Gh(),"tenantId")}}),rh.Persistence=Zu,rh.Persistence.LOCAL="local",rh.Persistence.SESSION="session",rh.Persistence.NONE="none",$h(vl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Vh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Vh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Hh()]},qb:{name:"linkWithCredential",j:[Hh()]},Dc:{name:"linkWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hh()]},tb:{name:"reauthenticateWithCredential",j:[Hh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Yh(Bh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qh(null,!0)]},cd:{name:"unlink",j:[qh("provider")]},Bb:{name:"updateEmail",j:[qh("email")]},Cb:{name:"updatePassword",j:[qh("password")]},ed:{name:"updatePhoneNumber",j:[Hh("phone")]},Db:{name:"updateProfile",j:[Bh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[qh("email"),Yh(Bh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]}}),$h(vh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(_t.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Jh(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Vh("appVerificationDisabledForTesting")}}),$h($c.prototype,{confirm:{name:"confirm",j:[qh("verificationCode")]}}),Zh(co,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[vo,Ao,Lo,po],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Yh(qh(),Bh(),"json")]),Zh(Do,"credential",(function(e,t){return new No(e,t)}),[qh("email"),qh("password")]),$h(No.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),$h(_o.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Zh(_o,"credential",Eo,[Yh(qh(),Bh(),"token")]),Zh(Do,"credentialWithLink",Po,[qh("email"),qh("emailLink")]),$h(Io.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Zh(Io,"credential",So,[Yh(qh(),Bh(),"token")]),$h(To.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Zh(To,"credential",Co,[Yh(qh(),Yh(Bh(),Gh()),"idToken"),Yh(qh(),Gh(),"accessToken",!0)]),$h(ko.prototype,{Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Zh(ko,"credential",xo,[Yh(qh(),Bh(),"token"),qh("secret",!0)]),$h(wo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},credential:{name:"credential",j:[Yh(qh(),Yh(Bh(),Gh()),"optionsOrIdToken"),Yh(qh(),Gh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),$h(mo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),$h(ho.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Zh(jo,"credential",Fo,[qh("verificationId"),qh("verificationCode")]),$h(jo.prototype,{fb:{name:"verifyPhoneNumber",j:[Yh(qh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Kh(e.session,so)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Kh(e.session,uo)&&Qh(e.multiFactorHint):e.session&&e.multiFactorUid?Kh(e.session,uo)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),$h(Mo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),$h(k.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),$h(Ko.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),$h(Ho.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),$h(nl.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),$h(Xc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),$h(ul.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},qh("displayName",!0)]},bd:{name:"unenroll",j:[Yh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Qh},qh(),"multiFactorInfoIdentifier")]}}),$h(Fh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Zh(Ei,"parseLink",Ai,[qh("link")]),Zh(Ih,"assertion",(function(e){return new al(e)}),[Hh("phone")]),function(){if(void 0===r.Z||!r.Z.INTERNAL||!r.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:li,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ci,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:rh,AuthCredential:co,Error:k};Zh(e,"EmailAuthProvider",Do,[]),Zh(e,"FacebookAuthProvider",_o,[]),Zh(e,"GithubAuthProvider",Io,[]),Zh(e,"GoogleAuthProvider",To,[]),Zh(e,"TwitterAuthProvider",ko,[]),Zh(e,"OAuthProvider",wo,[qh("providerId")]),Zh(e,"SAMLAuthProvider",bo,[qh("providerId")]),Zh(e,"PhoneAuthProvider",jo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof rh)}}]),Zh(e,"RecaptchaVerifier",Fh,[Yh(qh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Bh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.Z.app.App)}}]),Zh(e,"ActionCodeURL",Ei,[]),Zh(e,"PhoneMultiFactorGenerator",Ih,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new rh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:E((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:E(e.nc,e),addAuthTokenListener:E(e.cc,e),removeAuthTokenListener:E(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.4"),r.Z.INTERNAL.extendNamespace({User:vl})}()}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Sd="firebasestorage.googleapis.com",Td=function(e){function t(n,r){var i=e.call(this,Cd(n),"Firebase Storage: "+r+" ("+Cd(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return(0,fr.ZT)(t,e),t.prototype._codeEquals=function(e){return Cd(e)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e},enumerable:!1,configurable:!0}),t}(i.ZR);function Cd(e){return"storage/"+e}function kd(){return new Td("unknown","An unknown error occurred, please check the error payload for server response.")}function xd(){return new Td("canceled","User canceled the upload/download.")}function Nd(){return new Td("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ad(e){return new Td("invalid-argument",e)}function Dd(){return new Td("app-deleted","The Firebase app was deleted.")}function Pd(e){return new Td("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Od(e,t){return new Td("invalid-format","String does not match format '"+e+"': "+t)}function Md(e){throw new Td("internal-error","Internal error: "+e)}var Ld={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Rd=function(e,t){this.data=e,this.contentType=t||null};function jd(e,t){switch(e){case Ld.RAW:return new Rd(Fd(t));case Ld.BASE64:case Ld.BASE64URL:return new Rd(Ud(e,t));case Ld.DATA_URL:return new Rd((n=new qd(t)).base64?Ud(Ld.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw Od(Ld.DATA_URL,"Malformed data URL.")}return Fd(t)}(n.rest),new qd(t).contentType)}var n;throw kd()}function Fd(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ud(e,t){switch(e){case Ld.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Od(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ld.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Od(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw Od(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var zd,qd=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Od(Ld.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=t[1]||null;null!=i&&(this.base64=(r=";base64",(n=i).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=e.substring(e.indexOf(",")+1)},Vd={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Bd(e){switch(e){case"running":case"pausing":case"canceling":return Vd.RUNNING;case"paused":return Vd.PAUSED;case"success":return Vd.SUCCESS;case"canceled":return Vd.CANCELED;case"error":default:return Vd.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(zd||(zd={}));var Wd=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=zd.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=zd.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=zd.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Md("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Md("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Md("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Md("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Gd=function(){function e(){}return e.prototype.createXhrIo=function(){return new Wd},e}(),Hd=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(n){return new e(t,"")}if(""===r.path)return r;throw new Td("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Sd?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new Td("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Kd=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function Qd(e){return"string"==typeof e||e instanceof String}function Yd(e){return $d()&&e instanceof Blob}function $d(){return"undefined"!=typeof Blob}function Jd(e,t,n,r){if(r<t)throw Ad("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Ad("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Zd(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Xd(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var ep=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(e){o(e)}else null!==a?((r=kd()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Dd():xd()):o(r=new Td("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new tp(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c||(c=!0,n.apply(null,e))}function h(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new tp(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===zd.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new tp(a,n))}else{var s=n.getErrorCode()===zd.ABORT;t(!1,new tp(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}(f,u())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,(0,fr.ev)([null,e],t));else{var r;u()||a?l.call.apply(l,(0,fr.ev)([null,e],t)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(e){d||(d=!0,c||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),tp=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function np(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function rp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=np();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if($d())return new Blob(e);throw new Td("unsupported-environment","This browser doesn't seem to support creating Blobs")}var ip=function(){function e(e,t){var n=0,r="";Yd(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Yd(this.data_)){var r=(i=this.data_,o=t,a=n,i.webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if($d()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(rp.apply(null,r))}var i=t.map((function(e){return Qd(e)?jd(Ld.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function op(e){var t;try{t=JSON.parse(e)}catch(e){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function ap(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function sp(e,t){return t}var up=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||sp},cp=null;function lp(){if(cp)return cp;var e=[];e.push(new up("bucket")),e.push(new up("generation")),e.push(new up("metageneration")),e.push(new up("name","fullPath",!0));var t=new up("name");t.xform=function(e,t){return function(e){return!Qd(e)||e.length<2?e:ap(e)}(t)},e.push(t);var n=new up("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new up("timeCreated")),e.push(new up("updated")),e.push(new up("md5Hash",null,!0)),e.push(new up("cacheControl",null,!0)),e.push(new up("contentDisposition",null,!0)),e.push(new up("contentEncoding",null,!0)),e.push(new up("contentLanguage",null,!0)),e.push(new up("contentType",null,!0)),e.push(new up("metadata","customMetadata",!0)),cp=e}function hp(e,t,n){var r=op(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Hd(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}function fp(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var dp=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function pp(e){if(!e)throw kd()}function mp(e,t){return function(n,r){var i=hp(e,r,t);return pp(null!==i),i}}function gp(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=new Td("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Td("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Td("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function vp(e){var t=gp(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Td("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function yp(e,t,n){var r=Zd(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new dp(r,"GET",mp(e,n),i);return o.errorHandler=vp(t),o}function bp(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Zd(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new dp(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=op(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Hd(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Hd(t,l.name)),r.items.push(s)}return r}(e,t,r)}(e,t,r);return pp(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=gp(t),u}function wp(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var _p=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Ep(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){pp(!1)}return pp(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Ip=262144;var Sp=function(e,t,n){if(function(e){return"function"==typeof e}(e)||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function Tp(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Cp=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=lp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(n){switch(t._state){case"running":e(n);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=wp(t,r,i),s={name:a.fullPath},u=Zd(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=fp(a,n),h=e.maxUploadRetryTime,f=new dp(u,"POST",(function(e){var t;Ep(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){pp(!1)}return pp(Qd(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=gp(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new dp(n,"POST",(function(e){var t=Ep(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){pp(!1)}n||pp(!1);var i=Number(n);return pp(!isNaN(i)),new _p(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=gp(t),o}(e._ref.storage,e._ref._location,t,e._blob),i=e._ref.storage._makeRequest(r,n);e._request=i,i.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Ip*this._chunkMultiplier,n=new _p(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(e,t,n,r,i,o,a,s){var u=new _p(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Td("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,f);if(null===p)throw Nd();var m=t.maxUploadRetryTime,g=new dp(n,"POST",(function(e,n){var i,a=Ep(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?mp(t,o)(e,n):null,new _p(s,c,"final"===a,i)}),m);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=gp(e),g}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){return e._error=t,void e._transition("error")}var a=e._ref.storage._makeRequest(o,i);e._request=a,a.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Ip*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=yp(e._ref.storage,e._ref._location,e._mappings),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=wp(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+fp(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=ip.getBlob(c,r,l);if(null===h)throw Nd();var f={name:u.fullPath},d=Zd(o,e.host),p=e.maxUploadRetryTime,m=new dp(d,"POST",mp(e,n),p);return m.urlParams=f,m.headers=a,m.body=h.uploadData(),m.errorHandler=gp(t),m}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=xd(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Bd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Sp(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Bd(this._state)){case Vd.SUCCESS:Tp(this._resolve.bind(null,this.snapshot))();break;case Vd.CANCELED:case Vd.ERROR:Tp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Bd(this._state)){case Vd.RUNNING:case Vd.PAUSED:e.next&&Tp(e.next.bind(e,this.snapshot))();break;case Vd.SUCCESS:e.complete&&Tp(e.complete.bind(e))();break;case Vd.CANCELED:case Vd.ERROR:e.error&&Tp(e.error.bind(e,this._error))();break;default:e.error&&Tp(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),kp=function(){function e(e,t){this._service=e,this._location=t instanceof Hd?t:Hd.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Hd(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return ap(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Hd(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Pd(e)},e}();function xp(e){var t={prefixes:[],items:[]};return Np(e,t).then((function(){return t}))}function Np(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:return[4,Ap(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Np(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Ap(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return null!=t&&"number"==typeof t.maxResults&&Jd("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=o.sent(),r=t||{},i=bp(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage._makeRequest(i,n).getPromise()]}}))}))}function Dp(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t,n){var r=Zd(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new dp(r,"GET",function(e,t){return function(n,r){var i=hp(e,r,t);return pp(null!==i),function(e,t,n){var r=op(t);if(null===r)return null;if(!Qd(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Zd("/b/"+o(r)+"/o/"+o(i),n)+Xd({alt:"media",token:t})}))[0]}(i,r,e.host)}}(e,n),i);return o.errorHandler=vp(t),o}(e.storage,e._location,lp()),[2,e.storage._makeRequest(n,t).getPromise().then((function(e){if(null===e)throw new Td("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Pp(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Hd(e._location.bucket,n);return new kp(e.storage,r)}function Op(e){return/^[A-Za-z]+:\/\//.test(e)}function Mp(e,t){if(e instanceof jp){var n=e;if(null==n._bucket)throw new Td("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new kp(n,n._bucket);return null!=t?Mp(r,t):r}if(void 0!==t){if(t.includes(".."))throw Ad('`path` param cannot contain ".."');return Pp(e,t)}return e}function Lp(e,t){if(t&&Op(t)){if(e instanceof jp)return new kp(e,t);throw Ad("To use ref(service, url), the first argument must be a Storage instance.")}return Mp(e,t)}function Rp(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:Hd.makeFromBucketSpec(n,e)}var jp=function(){function e(e,t,n,r,i){this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Sd,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Hd.makeFromBucketSpec(r,this._host):Rp(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Hd.makeFromBucketSpec(this._url,e):this._bucket=Rp(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Jd("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Jd("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new kp(this,e)},e.prototype._makeRequest=function(e,t){var n=this;if(this._deleted)return new Kd(Dd());var r=function(e,t,n,r,i){var o=Xd(e.urlParams),a=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(s,i),new ep(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}(e,this._appId,t,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},e}();function Fp(e,t){return Lp(e=(0,i.m9)(e),t)}var Up,zp,qp=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Vp=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new qp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new qp(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new qp(e,i,i._ref))}:{next:t.next?function(e){return t.next(new qp(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Bp=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Wp(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Wp(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Wp=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return Pp(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Vp(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Cp(e,new ip(t),n)}(e=(0,i.m9)(e),t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Ld.RAW),this._throwIfRoot("putString");var r=jd(t,e),i=(0,fr.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Vp(new Cp(this._delegate,new ip(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return xp(e=(0,i.m9)(e))}(this._delegate).then((function(t){return new Bp(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return Ap(e=(0,i.m9)(e),t)}(this._delegate,e||void 0).then((function(e){return new Bp(e,t.storage)}))},e.prototype.getMetadata=function(){return function(e){return function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=yp(e.storage,e._location,lp()),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e=(0,i.m9)(e))}(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=function(e,t,n,r){var i=Zd(t.fullServerUrl(),e.host),o=fp(n,r),a=e.maxOperationRetryTime,s=new dp(i,"PATCH",mp(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=vp(t),s}(e.storage,e._location,t,lp()),[2,e.storage._makeRequest(r,n).getPromise()]}}))}))}(e=(0,i.m9)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return Dp(e=(0,i.m9)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t){var n=Zd(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new dp(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=vp(t),i}(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e=(0,i.m9)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Pd(e)},e}(),Gp=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Op(e))throw Ad("ref() expected a child path but got a URL, use refFromURL instead.");return new Wp(Fp(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Op(e))throw Ad("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Hd.makeFromUrl(e,this._delegate.host)}catch(e){throw Ad("refFromUrl() expected a valid full URL but got an invalid one.")}return new Wp(Fp(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();Up=r.Z,zp={TaskState:Vd,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Ld,Storage:jp,Reference:Wp},Up.INTERNAL.registerComponent(new Ed.wA("storage",(function(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal");return new Gp(i,new jp(i,o,new Gd,n,r.Z.SDK_VERSION))}),"PUBLIC").setServiceProps(zp).setMultipleInstances(!0)),Up.registerVersion("@firebase/storage","0.5.0");var Hp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Kp=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,fr.ZT)(t,e),t}(Error),Qp=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e;return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function Yp(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var $p=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return Yp(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?Yp(e,(function(e){return t.decode(e)})):e},e}(),Jp=function(){function e(e,t,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=e,this.fetchImpl=i,this.serializer=new $p,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new Qp(t,n),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return e()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=r}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},e.prototype.call=function(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return(0,fr.Jh)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new Kp("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Zp(c,this.postJSON(r,i,o)),l,Zp(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new Kp("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!Hp[s])return new Kp("internal","internal");r=Hp[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(e){}return"ok"===r?null:new Kp(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new Kp("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new Kp("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function Zp(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:Jp};e.INTERNAL.registerComponent(new Ed.wA("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("messaging");return new Jp(i,o,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(r.Z,fetch.bind(self)),r.Z.registerVersion("@firebase/functions","0.6.7"),r.Z.initializeApp({apiKey:"AIzaSyDlEzwnpFBuxWb8rxjVYTydeXws90aZHF8",authDomain:"criscosta-store.firebaseapp.com",databaseURL:"https://criscosta-store-default-rtdb.firebaseio.com",projectId:"criscosta-store",storageBucket:"criscosta-store.appspot.com",messagingSenderId:"422267973501",appId:"1:422267973501:web:b74d0e5fc2d6ec095e2614"}),r.Z.firestore,r.Z.database;const Xp=r.Z.storage,em=r.Z.auth,tm=r.Z.functions;var nm=n(713),rm=n(74),im=n.n(rm);function om(){return(om=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function am(e){return"/"===e.charAt(0)}function sm(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var um=function(e,t){if(!e)throw new Error("Invariant failed")};function cm(e){return"/"===e.charAt(0)?e:"/"+e}function lm(e){return"/"===e.charAt(0)?e.substr(1):e}function hm(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function fm(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function dm(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function pm(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=om({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&am(e),a=t&&am(t),s=o||a;if(e&&am(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var h=i[l];"."===h?sm(i,l):".."===h?(sm(i,l),c++):c&&(sm(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&am(i[0])||i.unshift("");var f=i.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function mm(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var gm=!("undefined"==typeof window||!window.document||!window.document.createElement);function vm(e,t){t(window.confirm(e))}var ym="hashchange",bm={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+lm(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:lm,decodePath:cm},slash:{encodePath:cm,decodePath:cm}};function wm(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function _m(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Em(e){window.location.replace(wm(window.location.href)+"#"+e)}function Im(e){void 0===e&&(e={}),gm||um(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?vm:r,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?fm(cm(e.basename)):"",u=bm[a],c=u.encodePath,l=u.decodePath;function h(){var e=l(_m());return s&&(e=hm(e,s)),pm(e)}var f=mm();function d(e){om(T,e),T.length=t.length,f.notifyListeners(T.location,T.action)}var p=!1,m=null;function g(){var e=_m(),t=c(e);if(e!==t)Em(t);else{var n=h(),r=T.location;if(!p&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===dm(n))return;m=null,function(e){if(p)p=!1,d();else{f.confirmTransitionTo(e,"POP",i,(function(t){t?d({action:"POP",location:e}):function(e){var t=T.location,n=w.lastIndexOf(dm(t));-1===n&&(n=0);var r=w.lastIndexOf(dm(e));-1===r&&(r=0);var i=n-r;i&&(p=!0,_(i))}(e)}))}}(n)}}var v=_m(),y=c(v);v!==y&&Em(y);var b=h(),w=[dm(b)];function _(e){t.go(e)}var E=0;function I(e){1===(E+=e)&&1===e?window.addEventListener(ym,g):0===E&&window.removeEventListener(ym,g)}var S=!1,T={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=wm(window.location.href)),n+"#"+c(s+dm(e))},push:function(e,t){var n="PUSH",r=pm(e,void 0,void 0,T.location);f.confirmTransitionTo(r,n,i,(function(e){if(e){var t=dm(r),i=c(s+t);if(_m()!==i){m=t,function(e){window.location.hash=e}(i);var o=w.lastIndexOf(dm(T.location)),a=w.slice(0,o+1);a.push(t),w=a,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=pm(e,void 0,void 0,T.location);f.confirmTransitionTo(r,n,i,(function(e){if(e){var t=dm(r),i=c(s+t);_m()!==i&&(m=t,Em(i));var o=w.indexOf(dm(T.location));-1!==o&&(w[o]=t),d({action:n,location:r})}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return S||(I(1),S=!0),function(){return S&&(S=!1,I(-1)),t()}},listen:function(e){var t=f.appendListener(e);return I(1),function(){I(-1),t()}}};return T}var Sm=1073741823,Tm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};function Cm(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var km=e.createContext||function(t,n){var r,i,o,a="__create-react-context-"+((Tm[o="__global_unique_id__"]=(Tm[o]||0)+1)+"__"),s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=Cm(t.props.value),t}(0,nm.Z)(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(t="function"==typeof n?n(r,i):Sm,0!=(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);s.childContextTypes=((r={})[a]=im().object.isRequired,r);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}(0,nm.Z)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?Sm:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?Sm:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return u.contextTypes=((i={})[a]=im().object,i),{Provider:s,Consumer:u}},xm=n(508),Nm=n.n(xm),Am=n(972);function Dm(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Pm=n(773),Om=n.n(Pm),Mm=function(e){var t=km();return t.displayName="Router-History",t}(),Lm=function(e){var t=km();return t.displayName="Router",t}(),Rm=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}(0,nm.Z)(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return e.createElement(Lm.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(Mm.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component,e.Component;var jm={},Fm=0;function Um(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=jm[n]||(jm[n]={});if(r[e])return r[e];var i=[],o={regexp:Nm()(e,i,t),keys:i};return Fm<1e4&&(r[e]=o,Fm++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var zm=function(t){function n(){return t.apply(this,arguments)||this}return(0,nm.Z)(n,t),n.prototype.render=function(){var t=this;return e.createElement(Lm.Consumer,null,(function(n){n||um(!1);var r=t.props.location||n.location,i=om({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?Um(r.pathname,t.props):n.match}),o=t.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&0===a.length&&(a=null),e.createElement(Lm.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:s?e.createElement(s,i):u?u(i):null:"function"==typeof a?a(i):null)}))},n}(e.Component);e.Component;var qm=function(t){function n(){return t.apply(this,arguments)||this}return(0,nm.Z)(n,t),n.prototype.render=function(){var t=this;return e.createElement(Lm.Consumer,null,(function(n){n||um(!1);var r,i,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var a=t.props.path||t.props.from;i=a?Um(o.pathname,om({},t.props,{path:a})):n.match}})),i?e.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(e.Component),Vm=e.useContext;function Bm(){return Vm(Mm)}function Wm(){return Vm(Lm).location}e.Component;var Gm=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Im(e.props),e}return(0,nm.Z)(n,t),n.prototype.render=function(){return e.createElement(Rm,{history:this.history,children:this.props.children})},n}(e.Component),Hm=function(e,t){return"function"==typeof e?e(t):e},Km=function(e,t){return"string"==typeof e?pm(e,null,null,t):e},Qm=function(e){return e},Ym=e.forwardRef;void 0===Ym&&(Ym=Qm);var $m=Ym((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,a=Dm(t,["innerRef","navigate","onClick"]),s=a.target,u=om({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=Qm!==Ym&&n||r,e.createElement("a",u)})),Jm=Ym((function(t,n){var r=t.component,i=void 0===r?$m:r,o=t.replace,a=t.to,s=t.innerRef,u=Dm(t,["component","replace","to","innerRef"]);return e.createElement(Lm.Consumer,null,(function(t){t||um(!1);var r=t.history,c=Km(Hm(a,t.location),t.location),l=c?r.createHref(c):"",h=om({},u,{href:l,navigate:function(){var e=Hm(a,t.location);(o?r.replace:r.push)(e)}});return Qm!==Ym?h.ref=n||s:h.innerRef=s,e.createElement(i,h)}))})),Zm=function(e){return e},Xm=e.forwardRef;void 0===Xm&&(Xm=Zm),Xm((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.activeClassName,a=void 0===o?"active":o,s=t.activeStyle,u=t.className,c=t.exact,l=t.isActive,h=t.location,f=t.sensitive,d=t.strict,p=t.style,m=t.to,g=t.innerRef,v=Dm(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(Lm.Consumer,null,(function(t){t||um(!1);var r=h||t.location,o=Km(Hm(m,r),r),y=o.pathname,b=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?Um(r.pathname,{path:b,exact:c,sensitive:f,strict:d}):null,_=!!(l?l(w,r):w),E=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(u,a):u,I=_?om({},p,{},s):p,S=om({"aria-current":_&&i||null,className:E,style:I,to:o},v);return Zm!==Xm?S.ref=n||g:S.innerRef=g,e.createElement(Jm,S)}))}));const eg=(0,e.createContext)();function tg({children:t,useConn:n,setConn:r,useOverlay:i,setOverlay:o,useSwipe:a,setSwipe:s}){return e.createElement(eg.Provider,{value:{useConn:n,setConn:r,useOverlay:i,setOverlay:o,useSwipe:a,setSwipe:s}},t)}function ng(){const t=(0,e.useContext)(eg),{useConn:n,setConn:r}=t;return{useConn:n,setConn:r}}function rg(){const t=(0,e.useContext)(eg),{useOverlay:n,setOverlay:r}=t;return{useOverlay:n,setOverlay:r}}function ig(){const t=(0,e.useContext)(eg),{useSwipe:n,setSwipe:r}=t;return{useSwipe:n,setSwipe:r}}var og=n(807),ag=n.n(og),sg=n(414),ug=n(319),cg=n(916),lg=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hg=(0,cg.Z)((function(e){return lg.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function fg(){return(fg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var dg=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},pg=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Am.typeOf)(e)},mg=Object.freeze([]),gg=Object.freeze({});function vg(e){return"function"==typeof e}function yg(e){return e.displayName||e.name||"Component"}function bg(e){return e&&"string"==typeof e.styledComponentId}var wg="undefined"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",_g="undefined"!=typeof window&&"HTMLElement"in window,Eg=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY);function Ig(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Sg=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Ig(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),Tg=new Map,Cg=new Map,kg=1,xg=function(e){if(Tg.has(e))return Tg.get(e);for(;Cg.has(kg);)kg++;var t=kg++;return Tg.set(e,t),Cg.set(t,e),t},Ng=function(e){return Cg.get(e)},Ag=function(e,t){Tg.set(e,t),Cg.set(t,e)},Dg="style["+wg+'][data-styled-version="5.2.3"]',Pg=new RegExp("^"+wg+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Og=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},Mg=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(Pg);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(Ag(c,u),Og(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},Lg=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Rg=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(wg))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(wg,"active"),r.setAttribute("data-styled-version","5.2.3");var a=Lg();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},jg=function(){function e(e){var t=this.element=Rg(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Ig(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Fg=function(){function e(e){var t=this.element=Rg(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ug=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),zg=_g,qg={isServer:!_g,useCSSOMInjection:!Eg},Vg=function(){function e(e,t,n){void 0===e&&(e=gg),void 0===t&&(t={}),this.options=fg({},qg,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&_g&&zg&&(zg=!1,function(e){for(var t=document.querySelectorAll(Dg),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(wg)&&(Mg(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return xg(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(fg({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Ug(i):r?new jg(i):new Fg(i),new Sg(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(xg(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(xg(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(xg(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=Ng(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var u=wg+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Bg=/(a)(d)/gi,Wg=function(e){return String.fromCharCode(e+(e>25?39:97))};function Gg(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Wg(t%52)+n;return(Wg(t%52)+n).replace(Bg,"$1-$2")}var Hg=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Kg=function(e){return Hg(5381,e)};function Qg(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(vg(n)&&!bg(n))return!1}return!0}var Yg=Kg("5.2.3"),$g=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Qg(e),this.componentId=t,this.baseHash=Hg(Yg,t),this.baseStyle=n,Vg.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=dv(this.rules,e,t,n).join(""),a=Gg(Hg(this.baseHash,o.length)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Hg(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=dv(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Hg(c,p+h),l+=p}}if(l){var m=Gg(c>>>0);if(!t.hasNameForId(r,m)){var g=n(l,"."+m,void 0,r);t.insertRules(r,m,g)}i.push(m)}}return i.join(" ")},e}(),Jg=/^\s*\/\/.*$/gm,Zg=[":","[",".","#"];function Xg(e){var t,n,r,i,o=void 0===e?gg:e,a=o.options,s=void 0===a?gg:a,u=o.plugins,c=void 0===u?mg:u,l=new sg.Z(s),h=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),d=function(e,r,o){return 0===r&&-1!==Zg.indexOf(o[n.length])||o.match(i)?e:"."+t};function p(e,o,a,s){void 0===s&&(s="&");var u=e.replace(Jg,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(a||!o?"":o,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},f,function(e){if(-2===e){var t=h;return h=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Ig(15),Hg(e,t.name)}),5381).toString():"",p}var ev=e.createContext(),tv=(ev.Consumer,e.createContext()),nv=(tv.Consumer,new Vg),rv=Xg();function iv(){return(0,e.useContext)(ev)||nv}function ov(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],o=iv(),a=(0,e.useMemo)((function(){var e=o;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),s=(0,e.useMemo)((function(){return Xg({options:{prefix:!t.disableVendorPrefixes},plugins:r})}),[t.disableVendorPrefixes,r]);return(0,e.useEffect)((function(){ag()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(ev.Provider,{value:a},e.createElement(tv.Provider,{value:s},t.children))}var av=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=rv);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Ig(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=rv),this.name+e.hash},e}(),sv=/([A-Z])/,uv=/([A-Z])/g,cv=/^ms-/,lv=function(e){return"-"+e.toLowerCase()};function hv(e){return sv.test(e)?e.replace(uv,lv).replace(cv,"-ms-"):e}var fv=function(e){return null==e||!1===e||""===e};function dv(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=dv(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return fv(e)?"":bg(e)?"."+e.styledComponentId:vg(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:dv(e(t),t,n,r):e instanceof av?n?(e.inject(n,r),e.getName(r)):e:pg(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!fv(t[a])&&(pg(t[a])?o.push.apply(o,e(t[a],a)):vg(t[a])?o.push(hv(a)+":",t[a],";"):o.push(hv(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in ug.Z?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}function pv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vg(e)||pg(e)?dv(dg(mg,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:dv(dg(e,n))}new Set;var mv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,gv=/(^-|-$)/g;function vv(e){return e.replace(mv,"-").replace(gv,"")}function yv(e){return"string"==typeof e&&!0}var bv=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},wv=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function _v(e,t,n){var r=e[n];bv(t)&&bv(r)?Ev(r,t):e[n]=t}function Ev(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(bv(a))for(var s in a)wv(s)&&_v(e,a[s],s)}return e}var Iv=e.createContext();Iv.Consumer;var Sv={};function Tv(t,n,r){var i=bg(t),o=!yv(t),a=n.attrs,s=void 0===a?mg:a,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":vv(e);Sv[n]=(Sv[n]||0)+1;var r=n+"-"+function(e){return Gg(Kg(e)>>>0)}("5.2.3"+n+Sv[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,h=void 0===l?function(e){return yv(e)?"styled."+e:"Styled("+yg(e)+")"}(t):l,f=n.displayName&&n.componentId?vv(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&t.shouldForwardProp&&(p=n.shouldForwardProp?function(e,r){return t.shouldForwardProp(e,r)&&n.shouldForwardProp(e,r)}:t.shouldForwardProp);var m,g=new $g(r,f,i?t.componentStyle:void 0),v=g.isStatic&&0===s.length,y=function(t,n){return function(t,n,r,i){var o=t.attrs,a=t.componentStyle,s=t.defaultProps,u=t.foldedComponentIds,c=t.shouldForwardProp,l=t.styledComponentId,h=t.target,f=function(e,t,n){void 0===e&&(e=gg);var r=fg({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in vg(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(function(e,t,n){return void 0===n&&(n=gg),e.theme!==n.theme&&e.theme||t||n.theme}(n,(0,e.useContext)(Iv),s)||gg,n,o),d=f[0],p=f[1],m=function(t,n,r,i){var o=iv(),a=(0,e.useContext)(tv)||rv;return n?t.generateAndInjectStyles(gg,o,a):t.generateAndInjectStyles(r,o,a)}(a,i,d),g=r,v=p.$as||n.$as||p.as||n.as||h,y=yv(v),b=p!==n?fg({},n,{},p):n,w={};for(var _ in b)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?w.as=b[_]:(c?c(_,hg):!y||hg(_))&&(w[_]=b[_]));return n.style&&p.style!==n.style&&(w.style=fg({},n.style,{},p.style)),w.className=Array.prototype.concat(u,l,m!==l?m:null,n.className,p.className).filter(Boolean).join(" "),w.ref=g,(0,e.createElement)(v,w)}(m,t,n,v)};return y.displayName=h,(m=e.forwardRef(y)).attrs=d,m.componentStyle=g,m.displayName=h,m.shouldForwardProp=p,m.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):mg,m.styledComponentId=f,m.target=i?t.target:t,m.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),o=t&&t+"-"+(yv(e)?e:vv(yg(e)));return Tv(e,fg({},i,{attrs:d,componentId:o}),r)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?Ev({},t.defaultProps,e):e}}),m.toString=function(){return"."+m.styledComponentId},o&&Om()(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var Cv=function(e){return function e(t,n,r){if(void 0===r&&(r=gg),!(0,Am.isValidElementType)(n))return Ig(1,String(n));var i=function(){return t(n,r,pv.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,fg({},r,{},i))},i.attrs=function(i){return e(t,n,fg({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Tv,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Cv[e]=Cv(e)})),function(){var e=function(e,t){this.rules=e,this.componentId=t,this.isStatic=Qg(e),Vg.registerId(this.componentId+1)}.prototype;e.createStyles=function(e,t,n,r){var i=r(dv(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},e.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.renderStyles=function(e,t,n,r){e>2&&Vg.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}(),function(){var t=function(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=Lg();return"<style "+[n&&'nonce="'+n+'"',wg+'="true"','data-styled-version="5.2.3"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?Ig(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return Ig(2);var r=((n={})[wg]="",n["data-styled-version"]="5.2.3",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=Lg();return i&&(r.nonce=i),[e.createElement("style",fg({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new Vg({isServer:!0}),this.sealed=!1}.prototype;t.collectStyles=function(t){return this.sealed?Ig(2):e.createElement(ov,{sheet:this.instance},t)},t.interleaveWithNodeStream=function(e){return Ig(3)}}();var kv=Cv;const xv=e=>`\n  -webkit-border-radius: ${"number"==typeof e?e+"px":e};\n  -moz-border-radius: ${"number"==typeof e?e+"px":e};\n  -ms-border-radius: ${"number"==typeof e?e+"px":e};\n  -o-border-radius: ${"number"==typeof e?e+"px":e};\n  border-radius: ${"number"==typeof e?e+"px":e};\n`,Nv="\n  &:focus:hover {\n    background-color: rgba(60,64,67,0.1);\n  }\n\n  &:hover {\n    background-color: rgba(60,64,67,0.08);\n  }\n\n  &:active {\n    background-color: rgba(60,64,67,0.12);\n  }\n",Av='\n  position: relative;\n  display: flex;\n\n  & input {\n    &:checked ~ label::before {\n      color: #fff;\n      border-color: rgba(25, 145, 107, 0.3);\n      background-color: rgba(25, 145, 107, 0.6);\n    }\n\n    &:checked ~ label::after {\n      background-color: #fff;\n      -webkit-transform: translateX(2.2rem);\n      transform: translateX(2.2rem);\n    }\n\n    & ~ label::after {\n      background-color: #aebcca;\n      border-radius: 1.5rem;\n      -webkit-transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,-webkit-transform 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n      transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,-webkit-transform 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n      transition: transform 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out;\n      transition: transform 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out,-webkit-transform 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n    }\n\n    &:not(:disabled):active ~ label::before {\n      color: #fff;\n      border-color: #75e7c3;\n      background-color: #75e7c3;\n    }\n\n    &:focus:not(:checked) ~ label::before {\n      border-color: #4ae0b0;\n    }\n\n    &:focus ~ label::before {\n      -webkit-box-shadow: 0 0 0 0.2rem rgba(25,145,107,0.25);\n      box-shadow: 0 0 0 0.2rem rgba(25,145,107,0.25);\n    }\n  }\n\n  & label {\n    font-family: var(--font-lato);\n    display: inline-flex;\n    align-items: center;\n    cursor: pointer;\n\n    @media (max-width: 720px)  {\n      color: rgba(0, 0, 0, 0.65);\n      font-weight: 700;\n    }\n\n    & {\n      display: inline-flex;\n      align-items: center;\n      cursor: pointer;\n    }\n\n    &::before {\n      pointer-events: all;\n      border-radius: 1.8rem;\n      margin-right: 1.2rem;\n      float: left;\n    }\n\n    &::before {\n      -webkit-transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n      transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n      transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out;\n      transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n    }\n\n    &::before {\n      display: block;\n      width: 5rem;\n      height: 2.4rem;\n      pointer-events: none;\n      content: "";\n      background-color: #fff;\n      border: #aebcca solid 1px;\n    }\n\n    &::after {\n      position: absolute;\n      top: 0.4rem;\n      left: .4rem;\n      display: block;\n      width: 2rem;\n      height: 1.6rem;\n      content: "";\n      background: no-repeat 50% / 50% 50%;\n    }\n  }\n',Dv=kv.main`
  width: 100%;
  display: flex;
  flex-direction: column;
  height: 100%;

  & > * {
    height: 100%;
  }
`,Pv=kv.article`
  font-weight: 500;
  display: flex;
  flex-direction: column;
  max-height: calc(100% - 48px);
  min-height: calc(100% - 48px);

  /* @media (min-width: 721px) {
    ${"\n  overflow-x: hidden;\n  overflow-y: overlay;\n"}
  }

  @media (max-width: 720px) {
    overflow-x: initial;
    overflow-y: initial;
  } */
`,Ov=kv.div`
  height: 92px;
  width: 92px;
  background-color: rgba(255,255,255,0.25);
  justify-content: center;
  align-items: center;
  display: flex;

  & svg {
    width: 60%;
    height: 60%;
    animation: IGCoreSpinnerSpin12 1.2s steps(12) infinite;
  }
`,Mv=kv.aside`
  width: 100vw;
  max-width: 256px;
  color: var(--color-clean-solid);
  background: var(--color-aside-bg);
  -webkit-transition: all .3s ease-in-out;
  -o-transition: all .3s ease-in-out;
  transition: all .3s ease-in-out;
  height: 100%;
  z-index: 1100;

  @media(max-width: 800px) {
    transform: ${({useSwipe:e})=>e?"translate3d(0,0,0) ":"translate3d(-100%, 0, 0)"};
    max-width: 240px;
    position: fixed;
    left: 0;
  }

`,Lv=kv.div`
  width: 32px;
  right: calc(-32px + -1.6rem);
  display: none;
  z-index: 3;
  position: absolute;
  border-radius: 50%;
  height: 32px;
  top: 0;

  @media(max-width: 720px) {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 7.5px auto;
  }

  &, & * {
    transition: .25s linear;
  }

  & i, & i::before, & i::after {
    position: absolute;
    width: 18px;
    height: 2px;
    -webkit-transition: transform .3s linear, top .3s linear, background .25s linear;
    -o-transition: transform .3s linear, top .3s linear, background .25s linear;
    transition: transform .3s linear, top .3s linear, background .25s linear;
    background: #777777;
  }

  & button {
    width: 18px;
    height: 18px;
    display: block;
    -webkit-box-sizing: initial;
    box-sizing: initial;
    position: relative;
    border-radius: 50%;
    padding: 7px;
  }

  & i {
    top: 15px;
    left: 7px;

    &::before, &::after {
      content: '';
      left: 0;
    }
    &::before {
      top: 5px;
    }
    &::after {
      top: -5px;
    }
  }

  ${({useSwipe:e})=>e?"\n    margin: initial !IMPORTANT;\n    right: -48px;\n    width: 48px;\n    height: 48px;\n\n    background: var(--color-aside-bg);\n    -webkit-border-radius: 0 0 3px 0;\n    -moz-border-radius: 0 0 3px 0;\n    -ms-border-radius: 0 0 3px 0;\n    -o-border-radius: 0 0 3px 0;\n    border-radius: 0 0 3px 0;\n\n    & button {\n      padding: 15px;\n\n      & i, & i::before, & i::after {\n        background: #ffffff;\n      }\n\n      & i {\n        top: 23px;\n        background: none;\n        left: 12px;\n\n        &::before, &::after {\n          top: 0;\n          width: 24px;\n        }\n\n        &::before {\n          -webkit-transform: rotate(-45deg);\n          -ms-transform: rotate(-45deg);\n          transform: rotate(-45deg);\n        }\n\n        &::after {\n          -webkit-transform: rotate(45deg);\n          -ms-transform: rotate(45deg);\n          transform: rotate(45deg);\n        }\n      }\n    }\n  ":`\n    & button{\n      ${Nv}\n    }\n  `}
`,Rv=kv.div`

  & ul {
    overflow-x: hidden;
    overflow-y: overlay;
    height: calc(100vh - 48px);
    box-shadow: 0 1px 0 var(--color-aside-border) inset;

    & ol {
      font-weight: 500;
      padding: 12px 0;
      box-shadow: 0 -1px 0 var(--color-aside-border) inset;
    }
  }
`,jv=kv.section`
  background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0ibWFyY2EiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2NC4xODgiIGhlaWdodD0iNDAuODc1IiB2aWV3Qm94PSIwIDAgMTY0LjE4OCA0MC44NzUiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICNjMDA7CiAgICAgIH0KCiAgICAgIC5jbHMtMSwgLmNscy0yIHsKICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogI2ZmZjsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggaWQ9IkZvcm1hXzFfY29waWFyIiBkYXRhLW5hbWU9IkZvcm1hIDEgY29waWFyIiBjbGFzcz0iY2xzLTEiIGQ9Ik00Ny43MTYsMjYuNTIyYTUuOTc4LDUuOTc4LDAsMCwwLC41MjctMi45YzAtLjA5NCwwLTAuNDM3LDAtMC41MjcsMC0yLjYzOS0yLjYzMy00Ljc0LTQuMjItNC43NDctMC41MzIsMC02LjMyOSwwLTYuMzI5LDBMMjcuNDA5LDguMDYxSDQxLjM4NmMzLjEsMCw4LjEuNTYzLDEwLjI4NSw0Ljc0NywwLjkxMiwxLjQ4MiwxLjIwNyw1Ljc2MSwxLjIxMiw3Ljk4NywwLjAyMSwwLjcyNiwwLDUuMzY3LDAsNS43NDdDNTIuMzQsMjYuNTQxLDQ4LjEsMjYuNTIsNDcuNzE2LDI2LjUyMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNi40MDYgLTguMDYzKSIvPgogIDxwYXRoIGlkPSJGb3JtYV8xIiBkYXRhLW5hbWU9IkZvcm1hIDEiIGNsYXNzPSJjbHMtMSIgZD0iTTM2LjY5NCw0OC45MzlMMjYuNjczLDM4LjY1M3MxNi4wNjgsMCwxNi4zNTEsMGMxLjU4MiwwLDQuMjI1LTIuNjM5LDQuMjItNS4yNzQsMC0uMDk0LDAtMC40MzcsMC0wLjUyNywwLTIuNjM5LTIuNjMzLTQuNzQtNC4yMi00Ljc0Ny0wLjUzMiwwLTYuMzI5LDAtNi4zMjksMEwyNi40MDksMTcuODE5SDQzLjAyM2ExMy43NzEsMTMuNzcxLDAsMCwxLDEwLjAyMiw0Ljc0N2M0LjI4NSw0LjU0Nyw0LjQ4Myw4Ljk2Nyw0LjQ4Myw4Ljk2NywwLjAwNSwwLjc2MSwwLDMuNDI4LDAsMy40MjhhMTMuNDUsMTMuNDUsMCwwLDEtMy45NTYsOC45NjdjLTQuNjQ3LDQuNzUzLTguOTcxLDUuMDEtMTAuNTQ5LDUuMDExQzQyLjc1Niw0OC45NCwzNi42OTQsNDguOTM5LDM2LjY5NCw0OC45MzlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYuNDA2IC04LjA2MykiLz4KICA8cGF0aCBpZD0iQnJhY2FlbCIgY2xhc3M9ImNscy0yIiBkPSJNOTEuMzMsMzIuNzExYzAsMi4wMS0xLjQxLDMuMTgtMy43MiwzLjE4SDgyLjk5di02LjUxaDQuNUM4OS43NywyOS4zODEsOTEuMzMsMzAuNjQxLDkxLjMzLDMyLjcxMVptLTAuNTQtOS4wOWMwLDEuOTItMS4zNSwyLjk3LTMuNTcsMi45N0g4Mi45OXYtNS45N2g0LjIzQzg5LjQ0LDIwLjYyMiw5MC43OSwyMS43MzIsOTAuNzksMjMuNjIyWm0zLjk2LDkuNDVhNS4xODUsNS4xODUsMCwwLDAtNC4wMi01LjEsNC44NzgsNC44NzgsMCwwLDAsMy41NC00Ljc3YzAtMi45NC0yLjM0LTUuMzctNi43NS01LjM3SDc5LjU3VjM4LjY4MWg4LjM0QzkyLjE2OSwzOC42ODEsOTQuNzQ5LDM2LjI1MSw5NC43NDksMzMuMDcxWm03LjE0MS0zLjA5YzAtMy41MSwxLjU1OS00LjU2LDQuMDc5LTQuNTZoMC44N3YtMy41NGE1LjM4Miw1LjM4MiwwLDAsMC00Ljk0OSwyLjY3di0yLjRIOTguNDdWMzguNjgxaDMuNDJ2LTguN1ptNi45NTksMC4zNmMwLDUuMSwzLjQ1LDguNjEsNy43NCw4LjYxYTcuMTE1LDcuMTE1LDAsMCwwLDUuNzktMi43M3YyLjQ2aDMuNDVWMjIuMTUyaC0zLjQ1djIuNGE3LjAzNiw3LjAzNiwwLDAsMC01LjczLTIuNjdDMTEyLjMsMjEuODgyLDEwOC44NDksMjUuMjQxLDEwOC44NDksMzAuMzQxWm0xMy41MywwLjA2YzAsMy41Ny0yLjQzLDUuNTgtNS4wMSw1LjU4LTIuNTUsMC01LjAxLTIuMDctNS4wMS01LjY0czIuNDYtNS40OSw1LjAxLTUuNDlDMTE5Ljk0OSwyNC44NTEsMTIyLjM3OSwyNi44NjEsMTIyLjM3OSwzMC40Wm02LjgxLDBjMCw1LjE5LDMuMzYsOC41NSw4LjEsOC41NWE3LjQyMyw3LjQyMywwLDAsMCw3LjYxOS01LjQ5aC0zLjY4OWEzLjc3NSwzLjc3NSwwLDAsMS0zLjkzLDIuNjFjLTIuNzYsMC00LjU5LTIuMDQtNC41OS01LjY3LDAtMy42LDEuODMtNS42NCw0LjU5LTUuNjRhMy44NjMsMy44NjMsMCwwLDEsMy45MywyLjYxaDMuNjg5Yy0wLjkyOS0zLjQ4LTMuNTY5LTUuNDktNy42MTktNS40OUMxMzIuNTQ5LDIxLjg4MiwxMjkuMTg5LDI1LjI0MSwxMjkuMTg5LDMwLjRabTE4LS4wNmMwLDUuMSwzLjQ1LDguNjEsNy43NCw4LjYxYTcuMTE0LDcuMTE0LDAsMCwwLDUuNzg5LTIuNzN2Mi40NmgzLjQ1VjIyLjE1MmgtMy40NXYyLjRhNy4wMzYsNy4wMzYsMCwwLDAtNS43MjktMi42N0MxNTAuNjM5LDIxLjg4MiwxNDcuMTg5LDI1LjI0MSwxNDcuMTg5LDMwLjM0MVptMTMuNTI5LDAuMDZjMCwzLjU3LTIuNDMsNS41OC01LjAwOSw1LjU4LTIuNTUsMC01LjAxLTIuMDctNS4wMS01LjY0czIuNDYtNS40OSw1LjAxLTUuNDlDMTU4LjI4OCwyNC44NTEsMTYwLjcxOCwyNi44NjEsMTYwLjcxOCwzMC40Wm0xNC45MS01LjY0YTQuMjkyLDQuMjkyLDAsMCwxLDQuNjIsNC4xN0gxNzEuMUE0LjUsNC41LDAsMCwxLDE3NS42MjgsMjQuNzYxWm03Ljc0LDloLTMuNjlhNCw0LDAsMCwxLTMuOSwyLjMxLDQuNTQ2LDQuNTQ2LDAsMCwxLTQuNzA5LTQuMzhIMTgzLjdhMTAuNTQ4LDEwLjU0OCwwLDAsMCwuMTItMS42OCw3LjcwOSw3LjcwOSwwLDAsMC04LjA0LTguMTNjLTQuODg5LDAtOC4yNDksMy4zMy04LjI0OSw4LjUyczMuNTEsOC41NSw4LjI0OSw4LjU1QTcuNTUzLDcuNTUzLDAsMCwwLDE4My4zNjgsMzMuNzYxWm0zLjgxLDQuOTJoMy40MnYtMjIuMmgtMy40MnYyMi4yWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjQwNiAtOC4wNjMpIi8+Cjwvc3ZnPgo=");
  align-items: center;
  display: flex;
  background-size: 112px;
  background-repeat: no-repeat;
  background-position: 26px center;
  height: 48px;
`,Fv=kv.div`

  & button {
    width: 100%;
    color: var(--color-clean);
    text-decoration: none;
    display: flex;
    padding: 7px 10px 7px 26px;
    line-height: 26px;
    font-size: 1.8rem;
    align-items: center;
    font-weight: 400;

    &:hover {
      background: var(--color-white-op008);
    }

    & svg {
      margin-right: 2rem;
    }
  }
`,Uv=kv.div`
  font-family: var(--font-open);
  padding: 2.2rem 1.6rem;
  font-size: 1.4rem;

  & * {
    display: block;
  }

  & *:not(:last-child){
    padding-bottom: 0.7rem;
  }

  & span {
    color: var(--color-white-op07);
    letter-spacing: 0.5px;
  }
`;var zv=function(){const t=Bm(),{pathname:n}=Wm(),{useSwipe:r,setSwipe:i}=ig(),o=e=>{n!==e&&t.push(e),i(!1)};return e.createElement(Mv,{useSwipe:r},e.createElement(Lv,{useSwipe:r},e.createElement("button",{type:"button",onClick:()=>i((e=>!e))},e.createElement("i",null))),e.createElement(Rv,null,e.createElement(jv,null),e.createElement("ul",null,e.createElement("ol",null,e.createElement(Fv,null,e.createElement("button",{type:"button",onClick:()=>o("/")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"18",height:"18",fill:"#ffffff"},e.createElement("path",{d:"M16 0 L32 16 L28 16 L28 30 L20 30 L20 20 L12 20 L12 30 L4 30 L4 16 L0 16 Z"})),e.createElement("span",null,"rea de servio")))),e.createElement("ol",null,e.createElement(Fv,null,e.createElement("button",{type:"button",onClick:()=>o("/products")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 484.373 484.373",width:"18",height:"18",fill:"#ffffff"},e.createElement("path",{d:"M473.61,119.808c0-0.512,0-0.512,0-1.024c-0.512-1.024-0.512-2.048-1.024-3.072V115.2 c-0.512-1.024-1.536-2.048-2.048-2.56l-0.512-0.512c-0.512-0.512-1.536-1.024-2.048-1.536l-0.512-0.512h-0.512l-0.512-0.512 L248.842,1.536c-4.096-2.048-9.216-2.048-13.824,0l-73.216,36.352l218.624,112.128l0.512,0.512c0.512,0,0.512,0.512,1.024,0.512 c0.512,0.512,0.512,1.024,1.024,1.536c0,0.512,0,0.512,0,1.024v0.512v118.784c0,2.048-1.024,3.584-2.56,4.608l-44.032,23.04 c-2.56,1.536-5.632,0.512-7.168-2.048c-0.512-0.512-0.512-1.536-0.512-2.56V179.712L107.53,65.536l-0.512-0.512l-88.576,44.032 l-0.512,0.512h-0.512l-0.512,0.512c-0.512,0.512-1.536,1.024-2.048,1.536l-0.512,0.512c-1.024,1.024-1.536,2.048-2.56,3.072v0.512 c-0.512,1.024-1.024,2.048-1.024,3.072c0,0.512,0,0.512,0,1.024c0,1.024-0.512,1.536-0.512,2.56v0.512v238.592 c0,5.632,3.072,11.264,8.704,13.824l215.552,107.52c3.072,1.536,6.656,2.048,10.24,1.024l1.024-0.512 c1.024,0,1.536-0.512,2.56-1.024l217.088-107.52c5.12-2.56,8.704-7.68,8.704-13.824V122.88v-0.512 C473.61,121.344,473.61,120.832,473.61,119.808z"})),e.createElement("span",null,"Meus produtos"))),e.createElement(Fv,null,e.createElement("button",{type:"button",onClick:()=>alert("Bracael.COM\\nVerso Alpha, 16.09.2020\\nO Contedo para est pgina estar disponivel em breve.")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 478 478",width:"18",height:"18",fill:"#ffffff"},e.createElement("path",{d:"M119.5,187.75H17.1c-9.4,0-17,7.6-17.1,17.1v256c0,9.5,7.7,17.1,17.1,17.1h102.4c9.5,0,17.1-7.7,17.1-17.1v-256 C136.6,195.35,128.9,187.75,119.5,187.75z"}),e.createElement("path",{d:"M290.2,0.05H187.8c-9.4,0-17.1,7.6-17.1,17v443.8c0,9.5,7.7,17.1,17.1,17.1h102.4c9.5,0,17.1-7.7,17.1-17.1V17.15 C307.3,7.65,299.6,0.05,290.2,0.05z"}),e.createElement("path",{d:"M460.9,136.55H358.5c-9.5,0-17.1,7.6-17.1,17.1v307.2c0,9.5,7.7,17.1,17.1,17.1h102.4c9.5,0,17.1-7.7,17.1-17.1v-307.2 C478,144.15,470.3,136.55,460.9,136.55z"})),e.createElement("span",null,"Estatsticas"))),e.createElement(Fv,null,e.createElement("button",{type:"button",onClick:()=>alert("Bracael.COM\\nVerso Alpha, 16.09.2020\\nO Contedo para est pgina estar disponivel em breve.")},e.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18",height:"18",fill:"#ffffff"},e.createElement("defs",null,e.createElement("path",{id:"path-1",d:"m2.25592.488155c.488155.488155.488155 1.27961 0 1.76777-.488155.488155-1.27961.488155-1.76777 0-.488155-.488155-.488155-1.27961 0-1.76777.488155-.488155 1.27961-.488155 1.76777 0"})),e.createElement("use",{transform:"translate(3.878 4.878)",xlinkHref:"#path-1"}),e.createElement("use",{transform:"translate(9.378 4.878)",xlinkHref:"#path-1"}),e.createElement("path",{d:"m8 0c-4.41113 0-8 3.58887-8 8s3.58887 8 8 8 8-3.58887 8-8-3.58887-8-8-8zm0 14c-3.30859 0-6-2.69141-6-6s2.69141-6 6-6 6 2.69141 6 6-2.69141 6-6 6z"}),e.createElement("path",{d:"m3.5 3c1.93298 0 3.5-1.34314 3.5-3h-7c0 1.65686 1.56702 3 3.5 3z",transform:"translate(4.5 9)"})),e.createElement("span",null,"Avaliaes"))),e.createElement(Fv,null,e.createElement("button",{type:"button",onClick:()=>o("/settings")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426.667 426.667",width:"18",height:"18",fill:"#ffffff"},e.createElement("path",{d:"M416.8,269.44l-45.013-35.307c0.853-6.827,1.493-13.76,1.493-20.8s-0.64-13.973-1.493-20.8l45.12-35.307 c4.053-3.2,5.227-8.96,2.56-13.653L376.8,69.653c-2.667-4.587-8.213-6.507-13.013-4.587l-53.12,21.44 c-10.987-8.427-23.04-15.573-36.053-21.013l-8-56.533C265.653,3.947,261.28,0,255.947,0h-85.333c-5.333,0-9.707,3.947-10.56,8.96 l-8,56.533c-13.013,5.44-25.067,12.48-36.053,21.013l-53.12-21.44c-4.8-1.813-10.347,0-13.013,4.587L7.2,143.573 c-2.667,4.587-1.493,10.347,2.56,13.653l45.013,35.307c-0.853,6.827-1.493,13.76-1.493,20.8s0.64,13.973,1.493,20.8L9.76,269.44 c-4.053,3.2-5.227,8.96-2.56,13.653l42.667,73.92c2.667,4.587,8.213,6.507,13.013,4.587L116,340.16 c10.987,8.427,23.04,15.573,36.053,21.013l8,56.533c0.853,5.013,5.227,8.96,10.56,8.96h85.333c5.333,0,9.707-3.947,10.56-8.96 l8-56.533c13.013-5.44,25.067-12.48,36.053-21.013l53.12,21.44c4.8,1.813,10.347,0,13.013-4.587l42.667-73.92 C422.027,278.507,420.853,272.747,416.8,269.44z M213.28,288c-41.28,0-74.667-33.387-74.667-74.667S172,138.667,213.28,138.667 s74.667,33.387,74.667,74.667S254.56,288,213.28,288z"})),e.createElement("span",null,"Configuraes")))),e.createElement("ol",null,e.createElement(Fv,null,e.createElement("button",{type:"button",onClick:()=>alert("Bracael.COM\\nVerso Alpha, 16.09.2020\\nO Contedo para est pgina estar disponivel em breve.")},e.createElement("svg",{viewBox:"0 0 515.556 515.556",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"#ffffff"},e.createElement("path",{d:"m257.778 0c-142.137 0-257.778 115.641-257.778 257.778s115.641 257.778 257.778 257.778 257.778-115.641 257.778-257.778-115.642-257.778-257.778-257.778zm32.222 418.889h-64.444v-64.444h64.444zm32.222-147.769-32.222 32.222v18.88h-64.444v-32.222c0-8.543 3.398-16.74 9.44-22.782l41.662-41.662c8.48-8.48 13.342-20.233 13.342-32.222 0-17.763-14.459-32.222-32.222-32.222s-32.222 14.459-32.222 32.222v32.222h-64.444v-32.222c0-53.305 43.361-96.667 96.667-96.667s96.667 43.361 96.667 96.667c-.001 29.39-11.44 57.018-32.224 77.786z"})),e.createElement("span",null,"Suporte"))),e.createElement(Fv,null,e.createElement("button",{type:"button",onClick:()=>alert("Bracael.COM\\nVerso Alpha, 16.09.2020\\nO Contedo para est pgina estar disponivel em breve.")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 50",width:"18",height:"18",fill:"#ffffff"},e.createElement("path",{d:"M0,54V8S0.02,4.006,4,4H51s5-.02,5,5c-0.032.858-.01,28.359,0,31,0.008,3.932-4,4-4,4-0.928-.027-45,0-45,0ZM26,14V29h5V11H23Zm0,22h5V32H26v4Z"})),e.createElement("span",null,"Enviar feedback")))),e.createElement(Uv,null,e.createElement("span",null,"BRACAEL 2020 ",e.createElement("br",null),"Todos os direitos reservados."),e.createElement("span",null,"Painel administrativo para parceiros."),e.createElement("span",null,"Last time updated November 5, 2020")))))};const qv=kv.header`
  width: 100%;
  background: #fff;
  border-bottom: 1px solid rgb(236,239,241);
  padding: 0 2.2rem;
  max-height: 48px;
  min-height: 48px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 5;

  @media (max-width: 720px) {
    padding: 0 1.6rem;
  }

  & > span {

    @media (max-width: 720px) {
      visibility: hidden;
    }

    font-size: 2rem;
    font-weight: 900;
  }

  & > div {
    align-items: center;
    display: flex;

    & button {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;

      ${Nv}
      ${.25,"\n  transition: 0.25s linear;\n"}
    }
  }
`;kv.span`
  transition: box-shadow 0.3s, color 0.3s;
  font-style: italic;
  font-family: var(--font-lato);
  padding: 0 1rem;
  font-weight: 400;
  line-height: 22px;
  margin-right: 0.8rem;
  font-size: 1.4rem;
  height: 22px;

  ${xv(3)}

  ${({status:e})=>e?"\n    box-shadow: inset 0 0 0 1px #23d45a;\n    color: #23d45a;\n  ":"\n    box-shadow: inset 0 0 0 1px #ff4e45;\n    color: #ff4e45;\n  "}
`;var Vv=function(){const{pathname:t}=Wm(),[n,r]=(0,e.useState)(t),[i,o]=(0,e.useState)("Carregando...");t!==n&&r(t),"/"===n?"Area de servio"!==i&&o("Area de servio"):"/settings"===n?"Configuraes"!==i&&o("Configuraes"):"/products"===n?"Meus produtos"!==i&&o("Meus produtos"):"/edit"===n?"Novo produto"!==i&&o("Novo produto"):n.split("/").includes("edit")?"Editar novo produto"!==i&&o("Editar novo produto"):n.split("/").includes("products")&&"Editar produto"!==i&&o("Editar produto");const{useOverlay:a,setOverlay:s}=rg();return e.createElement(qv,null,e.createElement("span",null,i),e.createElement("div",null,e.createElement("button",{type:"button",onClick:()=>s((e=>!e))},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 515.556 515.556",fill:"#777777"},e.createElement("path",{d:"m257.778 0c-142.137 0-257.778 115.641-257.778 257.778s115.641 257.778 257.778 257.778 257.778-115.641 257.778-257.778-115.642-257.778-257.778-257.778zm140.412 390.282c-88.007-44.093-194.425-45.965-284.592-4.146-30.464-34.181-49.153-79.073-49.153-128.358 0-106.61 86.723-193.333 193.333-193.333s193.333 86.723 193.333 193.333c0 51.296-20.213 97.861-52.921 132.504z"}),e.createElement("path",{d:"m326.132 157.202c37.751 37.751 37.751 98.957 0 136.707s-98.957 37.751-136.707 0-37.751-98.957 0-136.707 98.956-37.751 136.707 0"})))))};const Bv="object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g||"object"==typeof n.g&&n.g.GLOBAL===n.g?n.g:{};Bv.__REACT_ASYNC__=Bv.__REACT_ASYNC__||{};const Wv=()=>{};class Gv{constructor(){this.abort=Wv,this.signal={}}}let Hv;try{Hv=n(74)}catch(bd){}const Kv=Hv&&Hv.oneOfType([Hv.node,Hv.func]),Qv=Hv&&Hv.shape({initialValue:Hv.any,data:Hv.any,error:Hv.instanceOf(Error),value:Hv.any,startedAt:Hv.instanceOf(Date),finishedAt:Hv.instanceOf(Date),status:Hv.oneOf(["initial","pending","fulfilled","rejected"]),isInitial:Hv.bool,isPending:Hv.bool,isLoading:Hv.bool,isFulfilled:Hv.bool,isResolved:Hv.bool,isRejected:Hv.bool,isSettled:Hv.bool,counter:Hv.number,promise:Hv.instanceOf(Promise),run:Hv.func,reload:Hv.func,cancel:Hv.func,setData:Hv.func,setError:Hv.func});var Yv=Hv&&{Async:{children:Kv,promise:Hv.instanceOf(Promise),promiseFn:Hv.func,deferFn:Hv.func,watch:Hv.any,watchFn:Hv.func,initialValue:Hv.any,onResolve:Hv.func,onReject:Hv.func,reducer:Hv.func,dispatcher:Hv.func,debugLabel:Hv.string,suspense:Hv.bool},Initial:{children:Kv,state:Qv.isRequired,persist:Hv.bool},Pending:{children:Kv,state:Qv.isRequired,initial:Hv.bool},Fulfilled:{children:Kv,state:Qv.isRequired,persist:Hv.bool},Rejected:{children:Kv,state:Qv.isRequired,persist:Hv.bool},Settled:{children:Kv,state:Qv.isRequired,persist:Hv.bool}};const $v=(e,...t)=>"function"==typeof e?e(...t):e,Jv=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isInitial||n&&!r.data?$v(t,r):null),Zv=({children:t,initial:n,state:r={}})=>e.createElement(e.Fragment,null,!r.isPending||n&&r.value?null:$v(t,r)),Xv=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isFulfilled||n&&r.data?$v(t,r.data,r):null),ey=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isRejected||n&&r.error?$v(t,r.error,r):null),ty=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isSettled||n&&r.value?$v(t,r):null);var ny;Yv&&(Jv.propTypes=Yv.Initial,Zv.propTypes=Yv.Pending,Xv.propTypes=Yv.Fulfilled,ey.propTypes=Yv.Rejected,ty.propTypes=Yv.Settled),function(e){e.initial="initial",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"}(ny||(ny={}));const ry=(e,t)=>e instanceof Error?ny.rejected:void 0!==e?ny.fulfilled:t?ny.pending:ny.initial,iy=e=>({status:e,isInitial:e===ny.initial,isPending:e===ny.pending,isLoading:e===ny.pending,isFulfilled:e===ny.fulfilled,isResolved:e===ny.fulfilled,isRejected:e===ny.rejected,isSettled:e===ny.fulfilled||e===ny.rejected}),oy=function(){};Object.setPrototypeOf?Object.setPrototypeOf(oy,Promise):oy.__proto__=Promise,oy.prototype=Object.assign(Object.create(Promise.prototype),{finally(){return this},catch(){return this},then(){return this}});const ay=new oy;var sy;!function(e){e.start="start",e.cancel="cancel",e.fulfill="fulfill",e.reject="reject"}(sy||(sy={}));const uy=({initialValue:e,promise:t,promiseFn:n})=>({initialValue:e,data:e instanceof Error?void 0:e,error:e instanceof Error?e:void 0,value:e,startedAt:t||n?new Date:void 0,finishedAt:e?new Date:void 0,...iy(ry(e,t||n)),counter:0,promise:ay}),cy=(e,t)=>{switch(t.type){case sy.start:return{...e,startedAt:new Date,finishedAt:void 0,...iy(ny.pending),counter:t.meta.counter,promise:t.meta.promise};case sy.cancel:return{...e,startedAt:void 0,finishedAt:void 0,...iy((n=e.error||e.data,n instanceof Error?ny.rejected:void 0!==n?ny.fulfilled:ny.initial)),counter:t.meta.counter,promise:t.meta.promise};case sy.fulfill:return{...e,data:t.payload,value:t.payload,error:void 0,finishedAt:new Date,...iy(ny.fulfilled),promise:t.meta.promise};case sy.reject:return{...e,error:t.payload,value:t.payload,finishedAt:new Date,...iy(ny.rejected),promise:t.meta.promise};default:return e}var n},ly=e=>(t,...n)=>{e(t,...n),t.type===sy.start&&"function"==typeof t.payload&&t.payload()};e.Component,function(t={},n="Async"){const{Consumer:r,Provider:i}=e.createContext(void 0);function o({children:t}){return e.createElement(r,null,(e=>{if(!e)throw new Error("this component should only be used within an associated <Async> component!");return t(e)}))}class a extends e.Component{constructor(e){super(e),this.mounted=!1,this.counter=0,this.args=[],this.promise=ay,this.abortController=new Gv,this.start=this.start.bind(this),this.load=this.load.bind(this),this.run=this.run.bind(this),this.cancel=this.cancel.bind(this),this.onResolve=this.onResolve.bind(this),this.onReject=this.onReject.bind(this),this.setData=this.setData.bind(this),this.setError=this.setError.bind(this);const n=e.promise,r=e.promiseFn||t.promiseFn,i=e.initialValue||t.initialValue;this.state={...uy({initialValue:i,promise:n,promiseFn:r}),cancel:this.cancel,run:this.run,reload:()=>{this.load(),this.run(...this.args)},setData:this.setData,setError:this.setError},this.debugLabel=e.debugLabel||t.debugLabel;const{devToolsDispatcher:o}=Bv.__REACT_ASYNC__,a=e.reducer||t.reducer,s=e.dispatcher||t.dispatcher||o,u=a?(e,t)=>a(e,t,cy):cy,c=ly(((e,t)=>{this.setState((t=>u(t,e)),t)}));this.dispatch=s?t=>s(t,c,e):c}componentDidMount(){this.mounted=!0,!this.props.promise&&this.state.initialValue||this.load()}componentDidUpdate(e){const{watch:n,watchFn:r=t.watchFn,promise:i,promiseFn:o}=this.props;return n!==e.watch||r&&r({...t,...this.props},{...t,...e})?(this.counter&&this.cancel(),this.load()):i!==e.promise&&(this.counter&&this.cancel(),i)||o!==e.promiseFn&&(this.counter&&this.cancel(),o)?this.load():void 0}componentWillUnmount(){this.cancel(),this.mounted=!1}getMeta(e){return{counter:this.counter,promise:this.promise,debugLabel:this.debugLabel,...e}}start(e){return"AbortController"in Bv&&(this.abortController.abort(),this.abortController=new Bv.AbortController),this.counter++,this.promise=new Promise(((t,n)=>{this.mounted&&this.dispatch({type:sy.start,payload:()=>e().then(t,n),meta:this.getMeta()})}))}load(){const e=this.props.promise,n=this.props.promiseFn||t.promiseFn;if(e)this.start((()=>e)).then(this.onResolve(this.counter)).catch(this.onReject(this.counter));else if(n){const e={...t,...this.props};this.start((()=>n(e,this.abortController))).then(this.onResolve(this.counter)).catch(this.onReject(this.counter))}}run(...e){const n=this.props.deferFn||t.deferFn;if(n){this.args=e;const r={...t,...this.props};return this.start((()=>n(e,r,this.abortController))).then(this.onResolve(this.counter),this.onReject(this.counter))}}cancel(){const e=this.props.onCancel||t.onCancel;e&&e(),this.counter++,this.abortController.abort(),this.mounted&&this.dispatch({type:sy.cancel,meta:this.getMeta()})}onResolve(e){return n=>{if(this.counter===e){const e=this.props.onResolve||t.onResolve;this.setData(n,(()=>e&&e(n)))}return n}}onReject(e){return n=>{if(this.counter===e){const e=this.props.onReject||t.onReject;this.setError(n,(()=>e&&e(n)))}return n}}setData(e,t){return this.mounted&&this.dispatch({type:sy.fulfill,payload:e,meta:this.getMeta()},t),e}setError(e,t){return this.mounted&&this.dispatch({type:sy.reject,payload:e,error:!0,meta:this.getMeta()},t),e}render(){const{children:t,suspense:n}=this.props;if(n&&this.state.isPending&&this.promise!==ay)throw this.promise;if("function"==typeof t){const n=t;return e.createElement(i,{value:this.state},n(this.state))}return null!=t?e.createElement(i,{value:this.state},t):null}}Yv&&(a.propTypes=Yv.Async);const s=t=>e.createElement(o,null,(n=>e.createElement(Jv,Object.assign({},t,{state:n})))),u=t=>e.createElement(o,null,(n=>e.createElement(Zv,Object.assign({},t,{state:n})))),c=t=>e.createElement(o,null,(n=>e.createElement(Xv,Object.assign({},t,{state:n})))),l=t=>e.createElement(o,null,(n=>e.createElement(ey,Object.assign({},t,{state:n})))),h=t=>e.createElement(o,null,(n=>e.createElement(ty,Object.assign({},t,{state:n}))));s.displayName=`${n}.Initial`,u.displayName=`${n}.Pending`,c.displayName=`${n}.Fulfilled`,l.displayName=`${n}.Rejected`,h.displayName=`${n}.Settled`,Object.assign(a,{displayName:n,Initial:s,Pending:u,Loading:u,Fulfilled:c,Resolved:c,Rejected:l,Settled:h})}(),Error;var hy=e.useEffect?function(t,n){const r="function"==typeof t?{...n,promiseFn:t}:t,i=(0,e.useRef)(0),o=(0,e.useRef)(!0),a=(0,e.useRef)(void 0),s=(0,e.useRef)(r),u=(0,e.useRef)(ay),c=(0,e.useRef)(new Gv),{devToolsDispatcher:l}=Bv.__REACT_ASYNC__,{reducer:h,dispatcher:f=l}=r,[d,p]=(0,e.useReducer)(h?(e,t)=>h(e,t,cy):cy,r,uy),m=(0,e.useCallback)(f?e=>f(e,ly(p),s.current):ly(p),[f]),{debugLabel:g}=r,v=(0,e.useCallback)((e=>({counter:i.current,promise:u.current,debugLabel:g,...e})),[g]),y=(0,e.useCallback)(((e,t=Wv)=>(o.current&&(m({type:sy.fulfill,payload:e,meta:v()}),t()),e)),[m,v]),b=(0,e.useCallback)(((e,t=Wv)=>(o.current&&(m({type:sy.reject,payload:e,error:!0,meta:v()}),t()),e)),[m,v]),{onResolve:w,onReject:_}=r,E=(0,e.useCallback)((e=>t=>e===i.current&&y(t,(()=>w&&w(t)))),[y,w]),I=(0,e.useCallback)((e=>t=>e===i.current&&b(t,(()=>_&&_(t)))),[b,_]),S=(0,e.useCallback)((e=>("AbortController"in Bv&&(c.current.abort(),c.current=new Bv.AbortController),i.current++,u.current=new Promise(((t,n)=>{o.current&&m({type:sy.start,payload:()=>e().then(t,n),meta:v()})})))),[m,v]),{promise:T,promiseFn:C,initialValue:k}=r,x=(0,e.useCallback)((()=>{const e=k&&0===i.current;T?S((()=>T)).then(E(i.current)).catch(I(i.current)):C&&!e&&S((()=>C(s.current,c.current))).then(E(i.current)).catch(I(i.current))}),[S,T,C,k,E,I]),{deferFn:N}=r,A=(0,e.useCallback)(((...e)=>{N&&(a.current=e,S((()=>N(e,s.current,c.current))).then(E(i.current)).catch(I(i.current)))}),[S,N,E,I]),D=(0,e.useCallback)((()=>{a.current?A(...a.current):x()}),[A,x]),{onCancel:P}=r,O=(0,e.useCallback)((()=>{P&&P(),i.current++,c.current.abort(),o.current&&m({type:sy.cancel,meta:v()})}),[P,m,v]),{watch:M,watchFn:L}=r;if((0,e.useEffect)((()=>{L&&s.current&&L(r,s.current)&&(s.current=r,x())})),(0,e.useEffect)((()=>{s.current=r}),[r]),(0,e.useEffect)((()=>{i.current&&O(),(T||C)&&x()}),[T,C,M]),(0,e.useEffect)((()=>()=>{o.current=!1}),[]),(0,e.useEffect)((()=>()=>O()),[]),(0,e.useDebugValue)(d,(({status:e})=>`[${i.current}] ${e}`)),r.suspense&&d.isPending&&u.current!==ay)throw u.current;return(0,e.useMemo)((()=>({...d,run:A,reload:D,cancel:O,setData:y,setError:b})),[d,A,D,O,y,b])}:()=>{throw new Error("useAsync requires React v16.8 or up. Upgrade your React version or use the <Async> component instead.")};function fy(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function dy(e){fy(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function py(e,t){fy(2,arguments);var n=dy(e),r=dy(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function my(e,t){fy(2,arguments);var n=dy(e),r=dy(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return 12*i+o}function gy(e){fy(1,arguments);var t=dy(e);return t.setHours(23,59,59,999),t}function vy(e){fy(1,arguments);var t=dy(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function yy(e){fy(1,arguments);var t=dy(e);return gy(t).getTime()===vy(t).getTime()}function by(e,t){fy(2,arguments);var n,r=dy(e),i=dy(t),o=py(r,i),a=Math.abs(my(r,i));if(a<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*a);var s=py(r,i)===-o;yy(dy(e))&&1===a&&1===py(e,i)&&(s=!1),n=o*(a-s)}return 0===n?0:n}function wy(e,t){fy(2,arguments);var n=dy(e),r=dy(t);return n.getTime()-r.getTime()}function _y(e,t){fy(2,arguments);var n=wy(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var Ey={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Iy(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var Sy={date:Iy({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Iy({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Iy({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ty={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Cy(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=i.width?String(i.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function ky(e){return function(t,n){var r=String(t),i=n||{},o=r.match(e.matchPattern);if(!o)return null;var a=o[0],s=r.match(e.parsePattern);if(!s)return null;var u=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(a.length)}}}function xy(e){return function(t,n){var r=String(t),i=n||{},o=i.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=r.match(a);if(!s)return null;var u,c=s[0],l=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return u="[object Array]"===Object.prototype.toString.call(l)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].test(c))return n}(l):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n].test(c))return n}(l),u=e.valueCallback?e.valueCallback(u):u,{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(c.length)}}}var Ny={code:"en-US",formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof Ey[e]?Ey[e]:1===t?Ey[e].one:Ey[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:Sy,formatRelative:function(e,t,n,r){return Ty[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Cy({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Cy({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Cy({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Cy({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Cy({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:ky({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:xy({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:xy({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:xy({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:xy({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:xy({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ay(e){return function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},e)}function Dy(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Py=1440,Oy=43200;function My(e,t,n){fy(2,arguments);var r=n||{},i=r.locale||Ny;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=py(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var a,s,u=Ay(r);u.addSuffix=Boolean(r.addSuffix),u.comparison=o,o>0?(a=dy(t),s=dy(e)):(a=dy(e),s=dy(t));var c,l=_y(s,a),h=(Dy(s)-Dy(a))/1e3,f=Math.round((l-h)/60);if(f<2)return r.includeSeconds?l<5?i.formatDistance("lessThanXSeconds",5,u):l<10?i.formatDistance("lessThanXSeconds",10,u):l<20?i.formatDistance("lessThanXSeconds",20,u):l<40?i.formatDistance("halfAMinute",null,u):l<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):0===f?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",f,u);if(f<45)return i.formatDistance("xMinutes",f,u);if(f<90)return i.formatDistance("aboutXHours",1,u);if(f<Py){var d=Math.round(f/60);return i.formatDistance("aboutXHours",d,u)}if(f<2520)return i.formatDistance("xDays",1,u);if(f<Oy){var p=Math.round(f/Py);return i.formatDistance("xDays",p,u)}if(f<86400)return c=Math.round(f/Oy),i.formatDistance("aboutXMonths",c,u);if((c=by(s,a))<12){var m=Math.round(f/Oy);return i.formatDistance("xMonths",m,u)}var g=c%12,v=Math.floor(c/12);return g<3?i.formatDistance("aboutXYears",v,u):g<9?i.formatDistance("overXYears",v,u):i.formatDistance("almostXYears",v+1,u)}function Ly(e,t){return fy(1,arguments),My(e,Date.now(),t)}var Ry={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},jy={date:Iy({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:Iy({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Iy({formats:{full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Fy={lastWeek:function(e,t,n){var r=e.getUTCDay();return"'"+(0===r||6===r?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Uy={code:"pt-BR",formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof Ry[e]?Ry[e]:1===t?Ry[e].one:Ry[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"em "+r:"h "+r:r},formatLong:jy,formatRelative:function(e,t,n,r){var i=Fy[e];return"function"==typeof i?i(t,n,r):i},localize:{ordinalNumber:function(e,t){var n=Number(e),r=String((t||{}).unit);return"week"===r||"isoWeek"===r?n+"":n+""},era:Cy({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:Cy({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Cy({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:Cy({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},defaultWidth:"wide"}),dayPeriod:Cy({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:ky({matchPattern:/^(\d+)[o]?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:xy({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:xy({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:xy({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:xy({matchPatterns:{narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},defaultParseWidth:"any"}),dayPeriod:xy({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};const zy=kv.div`
  color: rgb(153, 153, 153);
  font-size: 12px;
  box-shadow: rgb(204 204 204) 0px 0px 16px;
  background-color: rgb(255, 255, 255);
  overflow: hidden;

  ${xv(3)}
`,qy=kv.div`
  padding: 1.2rem 1.6rem;
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1.2rem;
  }
`,Vy=kv.div`
  background: #FAFAFC;
  border-top: 1px solid #EFEEF9;
  justify-content: space-between;

  @media (max-width: 1039px) {
    padding: 0.6rem 1.6rem 1rem !IMPORTANT;
    flex-direction: column !IMPORTANT;
    align-items: center !IMPORTANT;
    justify-content: initial !IMPORTANT;
  }
`,By=kv.div`
  display: flex;
  align-items: center;
  justify-content: center;

  @media (max-width: 1039px) {
    font-size: 1.3rem;
  }
`,Wy=kv.div`
  justify-content: center;
  display: flex;

  @media (max-width: 1039px) {
    margin-bottom: 0.5rem;
  }

  & button {
    display: flex;
    justify-content: space-evenly;
    align-items: center;
    height: 26px;
    padding: 0 1rem 2px;
    padding-right: 1.3rem;
    line-height: 27px;
    transition: .1s;
    background: #d8d8d8;
    box-shadow: inset 0px -2px 0px 0px rgba(0, 0, 0, 0.15);
    color: rgba(0, 0, 0, 0.5);
    font-weight: 500;

    @media (max-width: 1039px) {
      padding: 0 1rem;
      -webkit-box-sizing: initial;
      box-sizing: border-box;
      background: border-box;
      box-shadow: initial;
      border-radius: 50%;
      color: initial;
      height: 30px;
      width: 30px;

      & span {
        display: none;
      }

      &:hover {
        background: #888888 !IMPORTANT;

        & svg {
          fill: #ffffff;
        }
      }
    }

    @media (min-width: 721px) {
      ${xv(3)}
    }

    & span {
      margin-left: 1.2rem;
    }

    & svg {
      fill: #888888;
    }

    &:not(:last-child) {
      margin-right: 1rem;
    }
  }
`,Gy=kv.div`
  display: flex;

  & > div {
    width: 100%;
  }
`,Hy=kv.div`
  width: 100%;
  margin-right: 1.6rem;
  justify-content: space-between;
  flex-direction: column;
  display: flex;
`,Ky=kv.span`
  font-size: 2.2rem;
  color: #323232;
  display: block;
`,Qy=kv.button`
  width: 100%;
  color: #fff;
  background-color: #279acc;
  border-bottom: 2px solid #1682b5;
  height: 30px;
  padding: 2px 1.3rem 0 1.3rem;
  margin: 0 1rem;
  font-weight: 500;
  white-space: nowrap;

  ${xv(3)}

  @media (max-width: 1039px) {
    margin: initial;
    height: 26px;
    font-size: 1.4rem;
  }
`,Yy=kv.div`
  max-width: 33%;

  @media (min-width: 1040px) {
    & > div:not(:last-child) {
      margin-bottom: 1.6rem;
    }
  }
`,$y=kv.div`
  display: flex;
`,Jy=kv.div`
  color: #000;
  width: 100%;
  flex-direction: column;
  display: flex;
`,Zy=kv.span`
  font-weight: 300;
  font-size: 1.4rem;
`,Xy=kv.span`
  font-size: 1.8rem;
  color: #000;
`;var eb=function({date_approved:t}){const[n,r]=(0,e.useState)(Ly(new Date(t),{addSuffix:!0,locale:Uy,timeZone:"America/Sao_Paulo"}));return(0,e.useEffect)((()=>{setInterval((()=>{r(Ly(new Date(t),{addSuffix:!0,locale:Uy}))}),1e3)}),[n]),e.createElement(By,null,n)},tb=function({data:t,i:n}){console.log(t[1]);const{receiver:r="Cael",date_approved:i=(new Date).toISOString(),shipping_value:o=0,subtotal:a=0}=t[1];return e.createElement(zy,null,e.createElement(qy,null,e.createElement(Gy,null,e.createElement(Hy,null,e.createElement(Ky,null,r)),e.createElement(Yy,null,e.createElement(Qy,{type:"button"},"Add. cdigo"))),e.createElement($y,null,e.createElement(Jy,null,e.createElement(Zy,null,"Subtotal"),e.createElement(Xy,null,Number(a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),e.createElement(Jy,null,e.createElement(Zy,null,"Frete"),e.createElement(Xy,null,Number(o).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),e.createElement(Jy,null,e.createElement(Zy,null,"Total"),e.createElement(Xy,null,Number(o+a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))))),e.createElement(Vy,null,e.createElement(Wy,null,e.createElement("button",{type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 465.882 465.882"},e.createElement("path",{d:"m465.882 0-465.882 262.059 148.887 55.143 229.643-215.29-174.674 235.65.142.053-.174-.053v128.321l83.495-97.41 105.77 39.175z"})),e.createElement("span",null,"Enviar")),e.createElement("button",{type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 16 16"},e.createElement("path",{d:"m5.41421 1.17157c1.17157 1.17157 1.17157 3.07107 0 4.24264s-3.07107 1.17157-4.24264 0c-1.17157-1.17157-1.17157-3.07107 0-4.24264 1.17157-1.17157 3.07107-1.17157 4.24264 0",transform:"translate(4.707 4.707)"}),e.createElement("path",{d:"m16 7h-1.07983c-.440613-3.05908-2.86108-5.47955-5.92017-5.92017v-1.07983h-2v1.07983c-3.05908.440613-5.47955 2.86108-5.92017 5.92017h-1.07983v2h1.07983c.440613 3.05908 2.86108 5.47955 5.92017 5.92017v1.07983h2v-1.07983c3.05908-.440613 5.47955-2.86108 5.92017-5.92017h1.07983zm-8 6c-2.75684 0-5-2.24316-5-5s2.24316-5 5-5 5 2.24316 5 5-2.24316 5-5 5z"})),e.createElement("span",null,"Rota")),e.createElement("button",{type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 54.757 54.757"},e.createElement("path",{d:"M40.94,5.617C37.318,1.995,32.502,0,27.38,0c-5.123,0-9.938,1.995-13.56,5.617c-6.703,6.702-7.536,19.312-1.804,26.952 L27.38,54.757L42.721,32.6C48.476,24.929,47.643,12.319,40.94,5.617z M27.557,26c-3.859,0-7-3.141-7-7s3.141-7,7-7s7,3.141,7,7 S31.416,26,27.557,26z"})),e.createElement("span",null,"Local")),e.createElement("button",{type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 512 512"},e.createElement("path",{d:"m414 80h-316c-5.523 0-10-4.477-10-10v-26c0-24.301 19.699-44 44-44h248c24.301 0 44 19.699 44 44v26c0 5.523-4.477 10-10 10z"}),e.createElement("path",{d:"m458 112h-404c-29.776 0-54 24.224-54 54v188c0 29.776 24.224 54 54 54h34v-80c0-39.701 32.299-72 72-72h192c39.701 0 72 32.299 72 72v80h34c29.776 0 54-24.224 54-54v-188c0-29.776-24.224-54-54-54zm-361.98 120c-13.255 0-24.005-10.745-24.005-24s10.74-24 23.995-24h.01c13.255 0 24 10.745 24 24s-10.745 24-24 24z"}),e.createElement("path",{d:"m352 304h-192c-13.255 0-24 10.745-24 24v80 32c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24v-32-80c0-13.255-10.745-24-24-24z"})),e.createElement("span",null,"Imprimir")),e.createElement("button",{type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14"},e.createElement("path",{fillRule:"evenodd",d:"M7,9A2,2,0,1,1,9,7,2,2,0,0,1,7,9ZM7,4A2,2,0,1,1,9,2,2,2,0,0,1,7,4Zm0,6a2,2,0,1,1-2,2A2,2,0,0,1,7,10Z"})),e.createElement("span",null,"Opes"))),e.createElement(eb,{date_approved:i})))};const nb=kv.div`
  display: flex;
  flex-direction: column;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,rb=kv.span`
  width: max-content;
  background: #fff;
  font-size: 1.5rem;
  padding: 0.6rem 1rem;
  box-shadow: 0px -1px rgb(0,0,0,0.05);

  ${xv(3)}
`;var ib=function({data:t,i:n}){const r=t[0];return console.log(r),e.createElement(nb,null,e.createElement(rb,null,t[0]),Object.entries(t[1]).map(((t,n)=>e.createElement(tb,{data:t,i:n,uid:r,key:t[0]}))))};const ob=kv.div`
  padding: 1.6rem;
  overflow-x: hidden;
  overflow-y: overlay;

  & > *:not(:last-child) {
    margin-bottom: 2rem;
  }
`;var ab=function({data:t}){return e.createElement(ob,null,Object.entries(t).map(((t,n)=>e.createElement(ib,{data:t,i:n,key:t[0]}))))};const sb=async({signal:e})=>await tm().httpsCallable("getItemConnection")("order").then((e=>e.data));var ub=function(){const{data:t,error:n}=hy({promiseFn:sb});return n?n.message:t?e.createElement(ab,{data:t}):e.createElement("div",null,"Carregando...")},cb=n(988);const lb=kv.div`
  width: 100%;
  overflow-x: hidden;
  overflow-y: overlay;
  flex-direction: column;
  display: flex;
  height: 100%;

  @media (min-width: 1040px) {
    padding: 3rem;
  }
`,hb=kv.div`
  padding: 0 0 2.2rem;

  @media (max-width: 720px) {
    bottom: 20px;
    right: 20px;
    display: flex;
    position: fixed;
    z-index: 118;
    padding: initial;
  }

  & button {
    color: #fff;
    background: -webkit-gradient(linear,left top,left bottom,from(#0db722),to(#0e9c20));
    border: 1px solid var(--color-master-border);
    font-size: 1.4rem;
    font-weight: 500;
    padding: 4.5px 1.6rem;
    ${xv(3)}
    text-align: center;

    @media (max-width: 720px) {
      width: 40px;
      height: 40px;
      ${xv("50%")}
      border: initial !IMPORTANT;
      padding: initial !IMPORTANT;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 6px 10px 0 rgba(0,0,0,0.14), 0 1px 18px 0 rgba(0,0,0,0.12), 0 3px 5px -1px rgba(0,0,0,0.2);
      background: var(--color-single-text) !IMPORTANT;

      &:hover {
          background: #4c5e67 !IMPORTANT;
      }

      &:focus {
          background: #36454d !IMPORTANT;
      }
    }

    @media screen and (min-width: 721px) {
      & svg {
          display: none;
      }
    }

    @media (max-width: 720px) {
      & span {
        display: none;
      }
    }
  }
`,fb=kv.div`

  @media (max-width: 1039px) {
    padding: 1.6rem;
  }

  & > small {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
`,db=kv.div`
  display: flex;
  font-family: var(--font-lato);
  background: var(--color-clean);
  border-bottom: 1px solid var(--color-silver);
  transition: border-bottom 0.3s, box-shadow 0.3s;
  position: relative;

  ${xv(3)}

  &:hover {
    border-bottom: 1px solid transparent;
    box-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.30), 0 2px 6px 2px rgba(60, 64, 67, 0.15);
  }

  @media (max-width: 720px)  {
    flex-direction: column;
    padding: 1.4rem;
  }

  &:not(:last-child) {
    margin-bottom: 1.6rem;
  }

  & > button {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
    width: 100%;
    height: 100%;
    position: absolute;
  }
`,pb=kv.div`
  width: 100%;
  display: flex;
  padding: 10px;

  @media (max-width: 720px) {
    padding: initial;
  }
`,mb=kv.div`
  min-width: 72px;
  max-width: 72px;
  height: 72px;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  background-size: cover;
  background-position: center;
  background-color: #e8e8e8;

  ${xv(3)}
`,gb=kv.div`
  width: 100%;
  margin-left: 1.6rem;
  position: relative;

  & > div:not(:first-child):not(:last-child) {
    margin-bottom: 1.2rem;
  }
`,vb=kv.div`
  position: absolute;
  background: linear-gradient(90deg,rgba(198,223,178,0) 0,rgba(255 255 255) 50%);
  padding-left: 22px;
  box-sizing: initial;
  right: 0;

  & button {
    padding: 7px;
    position: relative;
    border-radius: 50%;
    height: 32px;
    width: 32px;
    z-index: 2;

    ${Nv}
  }
`,yb=kv.div`
  display: inline-grid;

  & span {
    font-size: 2rem;
    font-weight: 700;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    display: block;
    color: var(--color-single-text);
    letter-spacing: .4px;
  }
`,bb=kv.span`
  letter-spacing: 0.4px;
  font-family: var(--font-oswald);
  font-size: 1.8rem;
  font-weight: 500;
  color: #a00;
`,wb=kv.span`
  font-style: italic;
  box-shadow: 0 0 0 1px #00000078;
  font-size: 1.4rem;
  padding: 0.2rem 0.4rem;
  line-height: 11px;
  height: 16px;
  display: inline-flex;
  top: -2px;
  position: relative;
  border-radius: 3px;
  margin-left: 1rem;

  color: var(--color-single-text);
  font-weight: 400;
`,_b=kv.div`
  flex-direction: column;
  justify-content: center;
  align-items: center;
  display: flex;
  height: 100%;

  @media (max-width: 1039px) {
    padding: 1.6rem;
  }

  & > small {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
`;var Eb=function({data:t}){return e.createElement(mb,{style:{backgroundImage:`url("${t}?alt=media")`}},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"72",width:"72",alt:""}))};const Ib=kv.div`
  height: ${({height:e})=>"number"==typeof e?`${e}px`:e};
  margin-bottom: ${({marginBottom:e})=>"number"==typeof e?`${e}px`:e};
  margin-left: ${({marginLeft:e})=>"number"==typeof e?`${e}px`:e};
  margin-right: ${({marginRight:e})=>"number"==typeof e?`${e}px`:e};

  width: ${({width:e})=>"number"==typeof e?`${e}px`:e};
  max-width: ${({maxWidth:e})=>"number"==typeof e?`${e}px`:e};
  min-width: ${({minWidth:e})=>"number"==typeof e?`${e}px`:e};

  display: ${({displayFlex:e})=>e&&"flex"};

  justify-content: ${({justifyContent:e})=>e&&e};

  & > *:not(:last-child) {
    margin-top: ${({spaceTopChild:e})=>e&&e};
    margin-right: ${({spaceRightChild:e})=>e&&e};
    margin-left: ${({spaceLeftChild:e})=>e&&e};
    margin-bottom: ${({spaceBottomChild:e})=>e&&e};
  }

  & > * {
    display: flex;
  }

  & * {
    float: ${({floatChild:e})=>e&&e};
  }
`,Sb=(kv.div`
  display: flex;
`,"data:image/svg+xml;base64,PHN2ZyBpZD0iQWdydXBhcl8xIiBkYXRhLW5hbWU9IkFncnVwYXIgMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjUwIiBoZWlnaHQ9IjI1MCIgdmlld0JveD0iMCAwIDI1MCAyNTAiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICNjNWM1YzU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiwgLmNscy0zIHsKICAgICAgICBmaWxsOiAjZmZmOwogICAgICB9CgogICAgICAuY2xzLTMgewogICAgICAgIGZpbGwtcnVsZTogZXZlbm9kZDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHJlY3QgaWQ9IlJldMOibmd1bG9fMSIgZGF0YS1uYW1lPSJSZXTDom5ndWxvIDEiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjI1MCIgaGVpZ2h0PSIyNTAiLz4KICA8Y2lyY2xlIGlkPSJFbGlwc2VfMSIgZGF0YS1uYW1lPSJFbGlwc2UgMSIgY2xhc3M9ImNscy0yIiBjeD0iMTI1IiBjeT0iMTAzIiByPSI1NyIvPgogIDxwYXRoIGlkPSJGb3JtYV8xIiBkYXRhLW5hbWU9IkZvcm1hIDEiIGNsYXNzPSJjbHMtMyIgZD0iTTMxLDI1MHM0LjE1Mi03Ny4yMzIsNjktOTljMS42NjQtLjA0NCw0Ny40MDYtMC4wMDcsNTAsMCwzNy41MTEsOC4yODUsNzAuMTUxLDYxLjM3NSw2OSw5OUMyMTUuNzY5LDI0OS45MDUsMzEsMjUwLDMxLDI1MFoiLz4KPC9zdmc+Cg=="),Tb=async({thumb:e},{signal:t})=>{const[n]=e;return await(async e=>{const{image_format:t,image_height:n,image_name:r,image_size:i,image_width:o}=e;return await Xp().ref("/products/images/thumbs").child(r+"_160x160.jpeg").getDownloadURL().then((function(e){return e}),(function(e){return Sb})).catch((e=>Sb))})(n)};var Cb=function({thumb:t}){const{data:n,error:r}=hy({promiseFn:Tb,thumb:t});return r?r.message:n?e.createElement(Eb,{data:n}):e.createElement(Ib,{floatChild:"left"},e.createElement(cb.ZP,{width:72,height:72}))},kb=function({data:t,i:n}){const{title:r,category:i,price:o,thumb:a}=t[1],s=Bm();return e.createElement(db,null,e.createElement(pb,null,"string"!=typeof a?e.createElement(Cb,{thumb:a}):null,e.createElement(gb,null,e.createElement(vb,null,e.createElement("button",{type:"button",onClick:()=>alert("Estou trabalhando nesse recurso!")},e.createElement("svg",{viewBox:"0 0 515.555 515.555",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"#777777"},e.createElement("path",{d:"m303.347 18.875c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"}),e.createElement("path",{d:"m303.347 212.209c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"}),e.createElement("path",{d:"m303.347 405.541c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"})))),e.createElement(yb,null,e.createElement("span",null,r)),e.createElement("div",null,e.createElement(bb,null,o.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),i.includes("Unavailable")&&e.createElement(wb,null,"Indisponvel")))),e.createElement("button",{type:"button",onClick:()=>s.push(`/products/${t[0]}`)}))},xb=function({data:t}){const{status:n=!0}=t,r=Bm();return n?e.createElement(lb,null,e.createElement(hb,null,e.createElement("button",{type:"button",onClick:()=>r.push("/post")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"#fff"},e.createElement("path",{d:"M14,8H8v6H6V8H0V6H6V0H8V6h6V8Z"})),e.createElement("span",null,"Novo produto"))),Object.keys(t).length?e.createElement(fb,null,Object.entries(t).sort(((e,t)=>e[1].published<t[1].published?1:t[1].published<e[1].published?-1:0)).map(((t,n)=>e.createElement(kb,{key:t[0],data:t,i:n})))):e.createElement(_b,null,e.createElement("small",null,"No h produtos publicado!"))):e.createElement(_b,null,e.createElement("span",null,"Erro interno do servidor!"),e.createElement("span",null,"Tente novamente!"))},Nb=function(){const t=Bm();return e.createElement(lb,null,e.createElement(hb,null,e.createElement("button",{type:"button",onClick:()=>t.push("/post")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"#fff"},e.createElement("path",{d:"M14,8H8v6H6V8H0V6H6V0H8V6h6V8Z"})),e.createElement("span",null,"Novo produto"))),e.createElement(fb,null,["","","","","",""].map(((t,n)=>e.createElement(db,{key:n},e.createElement(pb,null,e.createElement(Ib,{floatChild:"left"},e.createElement(cb.ZP,{width:72,height:72})),e.createElement(gb,null,e.createElement(vb,null),e.createElement(yb,null,e.createElement(cb.ZP,{width:180,height:19})),e.createElement("div",null,e.createElement(cb.ZP,{width:59,height:21})))))))))};const Ab=async({signal:e})=>await tm().httpsCallable("getItemConnection")("public/feed").then((e=>e.data));var Db=function(){const{data:t,error:n}=hy({promiseFn:Ab});return n?n.message:t?e.createElement(xb,{data:t}):e.createElement(Nb,null)};const{jQuery:Pb}=window;var Ob={u:{a:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],c:["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"],d:["sun","mon","tue","wed","thu","fri","sat"],e:(new Date).getDay()},size_letter:["xp","p","m","g","xg"],size_number:["34","36","38","40","42","44","46","48"],size_ring:["12","13","14","15","16","17","18","19","20","21","22","23","24","25","26"],product_color:{red:"#e03838",green:"#38e064",yellow:"#e0cb38",black:"#313131",orange:"#e08513",pink:"#e01385",purple:"#8813e0",blue:"#1378e0",cyan:"19d296"},category_names:{"001":"Roupas","002":"Acessrios","003":"Calados"},organize_names:{"001":["001","002","003","004","009","010","011","012","013","014","015","016"],"002":["007","008","017","018","019"],"003":[]},subcategory_names:{"001":"Camisas","002":"Blusas","003":"Shorts","004":"Calas","005":"Bolsas","006":"Mochilas","007":"Brincos","008":"Anis","009":"Conjuntos","010":"Tops","011":"Quimono","012":"Bodys","013":"Vestidos","014":"Kaftan","015":"Biquni","016":"Mais","017":"Pulseiras","018":"Colares","019":"Tornozeleiras","020":"culos"},cloth_names:{"001":"Jeans","002":"Moletom","003":"Sarja","004":"Viscose"},p:{1:["003","004"],2:["001","002","009","010","011","012","013","014","015","016"],3:["003","004"],4:["001","002","003","004","009","010","011","012","013","014","015","016","020"],5:["008"],6:["017","018","019"],7:["020"]},isValid:{"001":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"002":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"003":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_number:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"004":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_number:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"005":function(e){return!1},"006":function(e){return!1},"007":function(e){const{thumb:t=[],price:n,title:r,description:i}=e;return t.length&&n&&r&&i},"008":function(e){const{thumb:t=[],price:n,title:r,description:i,size_ring:o}=e;return t.length&&n&&r&&i&&o},"009":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"010":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"011":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"012":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"013":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"014":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"015":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"016":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o,size_letter:a={}}=e;return t.length&&n.length&&r&&i&&o&&Object.values(a).reduce(((e,t)=>e+t),0)},"017":function(e){const{thumb:t=[],price:n,title:r,description:i,size_length:o}=e;return t.length&&n&&r&&i&&o},"018":function(e){const{thumb:t=[],price:n,title:r,description:i,size_length:o}=e;return t.length&&n&&r&&i&&o},"019":function(e){const{thumb:t=[],price:n,title:r,description:i,size_length:o}=e;return t.length&&n&&r&&i&&o},"020":function(e){const{thumb:t=[],colors:n=[],price:r,title:i,description:o}=e;return t.length&&n.length&&r&&i&&o}}};const Mb=e=>{document.body.contains(document.querySelector(".push-alert"))||(document.body.insertAdjacentHTML("beforeend",`\n    <div class="push-alert">\n      <p>${e}</p>\n    </div>`),Pb(".push-alert").animate({transform:"-70"},{step:function(e,t){Pb(this).css({transform:"translate3d(0px, "+e+"px, 0px)"})},duration:150,easing:"linear",queue:!1,complete:function(){setTimeout((()=>{Pb(this).animate({opacity:0},{duration:300,easing:"linear",queue:!1,complete:function(){this.remove()}})}),1300)}},"linear"))},Lb=(0,e.createContext)();function Rb({children:t,usePost:n,setPost:r,useStateNumber:i,setStateNumber:o}){return e.createElement(Lb.Provider,{value:{usePost:n,setPost:r,useStateNumber:i,setStateNumber:o}},t)}function jb(){const t=(0,e.useContext)(Lb),{usePost:n,setPost:r}=t;return{usePost:n,setPost:r}}function Fb(){const t=(0,e.useContext)(Lb),{useStateNumber:n,setStateNumber:r}=t;return{useStateNumber:n,setStateNumber:r}}const Ub=kv.div`
  background: #efefef;
  align-items: center;
  display: flex;
  padding: 1rem;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,zb=kv.div`
  background-color: #fafafa;
  border-bottom: 1px solid #e7e7e7;
  display: block;

  ${xv(3)}

  & svg {
    float: left;
  }
`,qb=kv.span`
  width: 100%;
  font-weight: 400;
  white-space: nowrap;
  flex-direction: column;
  display: block;
  text-overflow: ellipsis;
  overflow: hidden;
`,Vb=(kv.div`
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,kv.button`
  display: flex;
  padding: 0.8rem;

  &:hover {
    box-shadow: inset 0 0 0 1px #000;
    border-radius: 3px;
  }

  & svg {
    float: left;
  }
`),Bb=kv.span`
  color: #959595;
  letter-spacing: .2px;
  font-size: 1.2rem;
  font-weight: 400;
  white-space: nowrap;
`,Wb=kv.span`
  color: ${({typeStatus:e})=>"ready"===e?"#32be5b":"loading"===e?"#ffb103":"sucess"===e?"#3bb5e9":"#000000"};
  border: 1px solid;
  letter-spacing: .2px;
  font-size: 1.2rem;
  font-weight: 400;
  padding: 0 0.4rem;
  text-transform: uppercase;
  white-space: nowrap;
  
  ${xv(2)}
`;var Gb=function({data:t}){const{file:n,image_name:r,image_format:i}=t,{name:o,size:a}=n;return e.createElement(Ub,null,e.createElement(zb,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#a067e6"},e.createElement("path",{d:"M7,8.5C7,7.119,8.119,6,9.5,6S12,7.119,12,8.5S10.881,11,9.5,11S7,9.881,7,8.5z M14.5,11l-4,6l-2-3L5,19h15L14.5,11z"}))),e.createElement(qb,null,o),e.createElement(Bb,null,a<1e6?Math.floor(a/1e3)+" KB":Math.floor(a/1e6)+" MB"),e.createElement(Wb,{typeStatus:"ready"},"Pronto"),e.createElement(Vb,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 413.348 413.348"},e.createElement("path",{d:"m413.348 24.354-24.354-24.354-182.32 182.32-182.32-182.32-24.354 24.354 182.32 182.32-182.32 182.32 24.354 24.354 182.32-182.32 182.32 182.32 24.354-24.354-182.32-182.32z"}))))},Hb=function({data:t}){const{file:n}=t,{name:r,size:i}=n;return e.createElement(Ub,null,e.createElement(zb,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#a067e6"},e.createElement("path",{d:"M7,8.5C7,7.119,8.119,6,9.5,6S12,7.119,12,8.5S10.881,11,9.5,11S7,9.881,7,8.5z M14.5,11l-4,6l-2-3L5,19h15L14.5,11z"}))),e.createElement(qb,null,r),e.createElement(Bb,null,i<1e6?Math.floor(i/1e3)+" KB":Math.floor(i/1e6)+" MB"),e.createElement(Wb,{typeStatus:"loading"},"A carregar"))},Kb=function({data:t}){const{file:n,image_format:r}=t,{name:i,size:o}=n;return e.createElement(Ub,null,e.createElement(zb,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#a067e6"},e.createElement("path",{d:"M7,8.5C7,7.119,8.119,6,9.5,6S12,7.119,12,8.5S10.881,11,9.5,11S7,9.881,7,8.5z M14.5,11l-4,6l-2-3L5,19h15L14.5,11z"}))),e.createElement(qb,null,i),e.createElement(Wb,{typeStatus:"sucess"},"Concludo"),e.createElement(Bb,null,r.toUpperCase()," / ",o<1e6?Math.floor(o/1e3)+" KB":Math.floor(o/1e6)+" MB"))};const Qb=async({useLoadImg:e},{signal:t})=>await Promise.all(e.map((async(e,t)=>{const{file:n,type:r}=e,{name:i}=n;return await Xp().ref("/products/images/"+ +new Date+"-"+i).put(n,{contentType:r}).then((e=>e.ref.getMetadata()))})));var Yb=function({useLoadImg:t,setLoadImg:n}){const{useStateNumber:r,setStateNumber:i}=Fb(),{data:o,error:a}=hy({promiseFn:Qb,useLoadImg:t});return(0,e.useEffect)((()=>{o&&i((e=>e+1))}),[o]),a?a.message:o?t.map(((t,n)=>e.createElement(Kb,{key:n,data:t}))):t.map(((t,n)=>e.createElement(Hb,{key:n,data:t})))},$b=function({useLoadImg:t,setLoadImg:n,useStage:r,setStage:i}){return r?e.createElement(Yb,{useLoadImg:t,setLoadImg:n}):t.map(((t,n)=>e.createElement(Gb,{key:n,data:t})))};const Jb=kv.div`
  flex-direction: column;
  display: flex;
  height: 100%;
  min-height: 46vh;

  & > *:not(:last-child) {
    margin-bottom: 2rem;
  }
`,Zb=kv.div`
  width: 100%;
  display: flex;
`,Xb=kv.button`
  width: 100%;
  color: #fff;
  background-color: #f33;
  box-shadow: 0 0 8px -3px #000;
  white-space: nowrap;
  padding: 1rem 2rem;
  margin: auto;

  ${xv(3)}
`,ew=kv.div`
  height: 100%;
`,tw=kv.div`
  flex-direction: column;
  display: flex;
  height: 100%;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,nw=kv.div`
  display: flex;
  width: ${({useWidth:e})=>e&&"100%"};

  & > *:not(:last-child) {
    margin-right: 1.6rem;
  }
`,rw=kv(Xb)``,iw=kv.div`
  justify-content: center;
  flex-direction: column;
  align-items: center;
  display: flex;
  height: 100%;

  & > *:not(:last-child) {
    margin-bottom: 1.8rem;
  }

  & span {
    font-size: 2rem;
  }
`;var ow=function(){const t=(0,e.useRef)(null),[n,r]=(0,e.useState)([]),[i,o]=(0,e.useState)(!1);return e.createElement(Jb,null,e.createElement(ew,null,e.createElement(tw,null,n.length?e.createElement($b,{useLoadImg:n,setLoadImg:r,useStage:i,setStage:o}):e.createElement(iw,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"82",height:"82",viewBox:"0 0 512 512"},e.createElement("path",{d:"M497,0H15C6.716,0,0,6.716,0,15v433.801V497c0,8.284,6.716,15,15,15h482c8.285,0,15-6.716,15-15v-48.199V15 C512,6.716,505.285,0,497,0z M482,407.37l-93.977-112.772c-2.573-3.089-6.279-5.015-10.285-5.347 c-4.008-0.333-7.979,0.959-11.025,3.582l-73.677,63.436L163.154,198.275c-3.139-3.818-7.961-5.844-12.879-5.419 c-4.924,0.426-9.322,3.249-11.759,7.55L30,391.905V30h452V407.37z"}),e.createElement("path",{d:"M352.4,96.4c-34.848,0-63.199,28.352-63.199,63.2c0,34.848,28.352,63.201,63.199,63.201 c34.849,0,63.199-28.352,63.199-63.2C415.599,124.753,387.249,96.4,352.4,96.4z"})),e.createElement("span",null,"Aguardando imagem")))),e.createElement(Zb,null,e.createElement(nw,{useWidth:!0},e.createElement(Xb,{type:"button",onClick:()=>(()=>{const{current:e}=t;e.click()})()},"Selecionar imagem"),e.createElement("input",{type:"file",ref:t,accept:".jpg, .jpeg, .png",multiple:"multiple",onChange:()=>(()=>{const{current:e}=t;r(Array.from(e.files).map(((e,t)=>{const{name:n}=e,r=[...n.split(".")];let i=r.pop();return{image_name:r.join(),image_format:i,file:e}})))})()})),e.createElement(nw,{useWidth:!1},e.createElement(rw,{type:"button",onClick:()=>o(!0)},"Enviar"))))};const aw=kv.div`
  height: 100%;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,sw=kv.div`

  & > *:not(:nth-child(4n-4)) {
  margin-right: 1rem;
  }

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,uw=kv.div`
  justify-content: space-between;
  display: flex;
`,cw=kv.div`
  ${Av}
`,lw=kv.span`
  align-items: center;
  display: flex;
`,hw=kv.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
`,fw=async({useDeleteImg:e},{signal:t})=>await(async e=>await Xp().ref("products/images").child(e).delete().then((async function(){return Mb("Imagem deletada com sucesso"),await Xp().ref("/products/images").listAll().then((e=>e.items)).then((e=>Promise.all(e.map((e=>e.getMetadata())))))})).catch((function(e){Mb("Ups, ocorreu um erro!")})))(e);var dw=function({useDeleteImg:t,setDeleteImg:n,useChecked:r,setChecked:i}){const{usePost:o,setPost:a}=jb(),{data:s,error:u}=hy({promiseFn:fw,useDeleteImg:t});return(0,e.useEffect)((()=>{s&&(a((e=>{const{thumb:t=[]}=e;return{...e,thumb:t.filter(((e,t)=>{const{image_name:n,image_format:r}=e;return s.map((e=>e.name)).includes(`${n}.${r}`)}))}})),n("")),u&&n("")}),[s]),e.createElement(hw,null,e.createElement(Ov,null,e.createElement("svg",{"aria-label":"Carregando...",viewBox:"0 0 100 100"},e.createElement("rect",{fill:"#555555",height:"6",opacity:"0",rx:"3",ry:"3",transform:"rotate(-90 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.08333333333333333",rx:"3",ry:"3",transform:"rotate(-60 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.16666666666666666",rx:"3",ry:"3",transform:"rotate(-30 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.25",rx:"3",ry:"3",transform:"rotate(0 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.3333333333333333",rx:"3",ry:"3",transform:"rotate(30 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.4166666666666667",rx:"3",ry:"3",transform:"rotate(60 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.5",rx:"3",ry:"3",transform:"rotate(90 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.5833333333333334",rx:"3",ry:"3",transform:"rotate(120 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.6666666666666666",rx:"3",ry:"3",transform:"rotate(150 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.75",rx:"3",ry:"3",transform:"rotate(180 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.8333333333333334",rx:"3",ry:"3",transform:"rotate(210 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.9166666666666666",rx:"3",ry:"3",transform:"rotate(240 50 50)",width:"25",x:"72",y:"47"}))),e.createElement("span",null,"Carregando..."))};const pw=kv.div`
  width: 100vw;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  z-index: 1;
`,mw=kv.div`
  background: #fff;
  z-index: 99;
  width: calc(100vw - 3.6rem);
  max-width: 500px;
  overflow: hidden;
  font-size: 1.43rem;
  box-shadow: inset 0 0 15px 0 rgba(0,0,0,0.24), 0 12px 15px 0 rgba(0,0,0,0.24);

  ${xv(3)}
`,gw=kv.div`
  font-size: 2.2rem;
  font-weight: 500;
  padding: 2.4rem;
`,vw=kv.div`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding: 2.4rem;

  & button:not(:last-child) {
      margin-right: 1.6rem;
  }

  & button {
      text-transform: uppercase;
      font-weight: 900;
      padding: 8px;
  }

  & button:last-child {
      color: ${({buttonColor:e})=>e};
  }
`,yw=kv.div`
  padding: 0 2.4rem;
`,bw=kv.div`
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 2;
  width: 100vw;
  height: 100%;
  position: fixed;
  background: transparent;
`,{jQuery:ww}=window;var _w=function({title:t,message:n,button:r,buttonColor:i,onClick:o=!0,action:a}){const s=()=>ww('[role="modaly"]').fadeOut(300,(function(){this.remove()}));return ww('[role="modaly"]').fadeIn(200),e.createElement(pw,{component:o},o&&e.createElement(bw,{onClick:()=>s()}),e.createElement(mw,null,e.createElement(gw,null,e.createElement("span",null,t)),e.createElement(yw,null,n),e.createElement(vw,{buttonColor:i&&i},1===r.length?e.createElement("button",{type:"button",tabIndex:"0",onClick:()=>s()},r[0]):e.createElement(e.Fragment,null,e.createElement("button",{type:"button",tabIndex:"0",onClick:()=>s()},r[0]),e.createElement("button",{type:"button",tabIndex:"0",onClick:()=>(a(),void s())},r[1])))))};kv.div`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,kv.div`
  display: table;

  & > *:nth-child(-n+4) {
    margin-bottom: 1.6rem;
  }

  & > *:not(:nth-child(5)):not(:nth-child(8)) {
    margin-right: 1.6rem;
  }
`,kv.button`
  width: 100%;
  max-width: 21%;
  min-height: 72px;
  min-width: 72px;
  max-height: 72px;
  height: 100%;
  margin: auto 0;
  overflow: hidden;
  justify-content: center;
  align-items: center;
  display: flex;
  background-size: cover;
  background-position: center center;
  background-color: rgb(232, 232, 232);
  position: relative;
  float: left;

  ${xv(3)}

  & svg {
    float: left;
  }
`;const Ew=kv.div`
  width: 100%;
  max-width: 21%;
  min-width: 70px;
  min-height: 70px;
  max-height: 70px;
  height: 100%;
  margin: auto 0;
  overflow: hidden;
  display: flex;
  align-items: center;
  background-size: cover;
  background-position: center center;
  background-color: rgb(232, 232, 232);
  position: relative;
  cursor: pointer;
  float: left;

  ${xv(3)}

  & img {
    float: left;
  }
`,Iw=(kv.div`
  background-color: #fff;
  border-bottom: 1px solid #e7e7e7;

  ${xv(4)}

  & svg {
    float: left;
  }
`,kv.span`
  width: 100%;
  font-weight: 100;
`,kv.span`
  color: #959595;
  text-transform: uppercase;
  font-weight: 100;
  white-space: nowrap;
`,kv.button`
  justify-content: center;
  align-items: center;
  display: flex;
  padding: 0.8rem;

  &:hover {
    box-shadow: 0 0 0 1px rgb(0,0,0,0.5);

    ${xv(3)}
  }

  & svg {
    float: left;
  }
`,e=>{const t=[...e.split(".")];return t.pop(),t.join()});var Sw=function({data:n}){const r=(()=>{const e=document.createElement("div");return e.setAttribute("role","modaly"),e})(),{name:i,size:o}=n,{usePost:a,setPost:s}=jb();return e.createElement(Ew,{style:{backgroundImage:"url(https://firebasestorage.googleapis.com/v0/b/ensollarada.appspot.com/o/products%2Fimages%2Fthumbs%2F"+Iw(i)+"_160x160.jpeg?alt=media)"},onClick:()=>(n=>t.render(e.createElement(_w,n),document.body.appendChild(r)))({title:"Confirmar imagem",message:"Ei, voc quer adicionar esta imagem para este produto?",button:["Cancelar","Adicionar"],buttonColor:"#19c556",action:function(){s((e=>{const{thumb:t=[]}=e;8===t.length?Mb("Maxmo de 8 imagens!"):Mb("Imagen adicionada!");const n={...e,thumb:[...t,{image_size:o,image_name:Iw(i),image_format:(r=i,[...r.split(".")].pop())}]};var r;return t.length<8?n:e}))}})},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"100%",width:"100%",alt:""}))};const Tw=e=>{const t=[...e.split(".")];return t.pop(),t.join()};var Cw=function({data:n,useDeleteImg:r,setDeleteImg:i}){const o=(()=>{const e=document.createElement("div");return e.setAttribute("role","modaly"),e})(),{name:a,size:s}=n;return e.createElement(Ew,{style:{backgroundImage:"url(https://firebasestorage.googleapis.com/v0/b/ensollarada.appspot.com/o/products%2Fimages%2Fthumbs%2F"+Tw(a)+"_160x160.jpeg?alt=media)"},onClick:()=>(n=>t.render(e.createElement(_w,n),document.body.appendChild(o)))({title:"Ateno!",message:"Ei, voc quer mesmo remover essa imagem?",button:["Cancelar","Sim, remover!"],buttonColor:"#ff2222",action:function(){i(a)}})},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"100%",width:"100%",alt:""}))},kw=function({data:t,useDeleteImg:n,setDeleteImg:r,useChecked:i,setChecked:o}){return t.length?e.createElement(aw,null,e.createElement(uw,null,e.createElement(cw,null,e.createElement("input",{type:"checkbox",readOnly:!0,checked:i}),e.createElement("label",{onClick:()=>o((e=>!e))},i?"Selecionar":"Deletar")),e.createElement(lw,null,t.length," imagens em total")),e.createElement(sw,null,i?t.map(((t,n)=>e.createElement(Sw,{key:n,data:t}))):t.map(((t,i)=>e.createElement(Cw,{key:i,data:t,useDeleteImg:n,setDeleteImg:r}))))):e.createElement(hw,null,"Por enquanto, no h nada por aqui.")};const xw=async({signal:e})=>await(async()=>await Xp().ref("/products/images").listAll().then((e=>e.items)).then((e=>Promise.all(e.map((e=>e.getMetadata()))))))();var Nw=function({useDeleteImg:t,setDeleteImg:n,useChecked:r,setChecked:i}){const{data:o,error:a}=hy({promiseFn:xw});return a?a.message:o?e.createElement(kw,{data:o,useDeleteImg:t,setDeleteImg:n,useChecked:r,setChecked:i}):e.createElement(hw,null,e.createElement(Ov,null,e.createElement("svg",{"aria-label":"Carregando...",viewBox:"0 0 100 100"},e.createElement("rect",{fill:"#555555",height:"6",opacity:"0",rx:"3",ry:"3",transform:"rotate(-90 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.08333333333333333",rx:"3",ry:"3",transform:"rotate(-60 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.16666666666666666",rx:"3",ry:"3",transform:"rotate(-30 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.25",rx:"3",ry:"3",transform:"rotate(0 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.3333333333333333",rx:"3",ry:"3",transform:"rotate(30 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.4166666666666667",rx:"3",ry:"3",transform:"rotate(60 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.5",rx:"3",ry:"3",transform:"rotate(90 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.5833333333333334",rx:"3",ry:"3",transform:"rotate(120 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.6666666666666666",rx:"3",ry:"3",transform:"rotate(150 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.75",rx:"3",ry:"3",transform:"rotate(180 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.8333333333333334",rx:"3",ry:"3",transform:"rotate(210 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.9166666666666666",rx:"3",ry:"3",transform:"rotate(240 50 50)",width:"25",x:"72",y:"47"}))),e.createElement("span",null,"Carregando..."))},Aw=function(){const[t,n]=(0,e.useState)(!0),[r,i]=(0,e.useState)("");return r?e.createElement(dw,{useDeleteImg:r,setDeleteImg:i,useChecked:t,setChecked:n}):e.createElement(Nw,{useDeleteImg:r,setDeleteImg:i,useChecked:t,setChecked:n})},Dw=function(){const{useStateNumber:t,setStateNumber:n}=Fb();return 1&t?e.createElement(Aw,{key:1}):e.createElement(Aw,{key:2})};const Pw=kv.div`
  display: flex;

  @media (max-width: 720px) {
    margin-bottom: initial;
    box-shadow: rgba(0, 0, 0, 0.25) 0 0 16px;
  }

  & ul {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr;
    margin: 0 auto;
  }

  & > * {
    width: 100%;
  }
`,Ow=kv.li`
  position: relative;

  & input:checked ~ label::after {
    background-color: #cc0000;
    width: 100%;
    border-top-left-radius: 3px;
    border-top-right-radius: 3px;
    left: 0;
    right: 0;
  }

  & input:not(:checked) ~ label:hover::after {
    background-color: rgba(170, 170, 170, 0.45);
    width: 60%;
    border-top-left-radius: 3px;
    border-top-right-radius: 3px;
    left: 20%;
    right: 20%;
  }

  & label {
    color: hsl(0, 0%, 60%);
    max-width: 150px;
    padding: 1.6rem;
    float: left;
    width: 100%;
    cursor: pointer;
    text-align: center;
    transition: color .3s;
    font-weight: 500;
    font-family: var(--font-poppins);
    font-size: 1.6rem;
    
    &:hover {
      color: #404040;
    }

    &::after {
      content: "";
      display: block;
      width: 20%;
      height: 3px;
      left: 40%;
      right: 40%;
      transition: 0.3s;
      background-color: transparent;
      position: absolute;
      bottom: 0;
    }
  }
`,Mw=kv.div`
  width: 200%;
  position: relative;
  transition: .3s;
  display: flex;
  height: 100%;
  left: ${({useScreen:e})=>1===e?"0":"-100%"};
  max-height: 86%;

  & > div {

    &:nth-child(1) {
      opacity: ${({useScreen:e})=>1===e?"1":"0"};
    }

    &:nth-child(2) {
      opacity: ${({useScreen:e})=>1===e?"0":"1"};
    }
  }
`,Lw=kv.div`
  width: 100%;
  padding: 2.6rem 2rem;
  transition: opacity 1.5s ease 0s;
  overflow-x: hidden;
  overflow-y: overlay;

  @media (min-width: 1040px) {
    padding: 4.2rem 6.6rem;
  }

  & > small {
    color: #aaa;
    align-items: center;
    justify-content: center;
    display: flex;
    height: 100%;
  }
`,{jQuery:Rw}=window;var jw=function({usePost:t,setPost:n,useModal:r,setModal:i,useModalThumb:o,setModalThumb:a}){(0,e.useEffect)((()=>{document.querySelector('[role="modal"]')&&(Rw('[role="modal"]').fadeIn(200),i(!1))}),[]);const[s,u]=(0,e.useState)(1),[c,l]=(0,e.useState)(0);return e.createElement(pw,null,e.createElement(Rb,{usePost:t,setPost:n,useStateNumber:c,setStateNumber:l},e.createElement(bw,{onClick:()=>a(!0)}),e.createElement(mw,null,e.createElement(Pw,null,e.createElement("ul",null,e.createElement(Ow,null,e.createElement("input",{type:"radio",readOnly:!0,checked:1===s}),e.createElement("label",{onClick:()=>1!==s&&u(1)},"Subir imagem")),e.createElement(Ow,null,e.createElement("input",{type:"radio",readOnly:!0,checked:2===s}),e.createElement("label",{onClick:()=>2!==s&&u(2)},"Imagem existente")))),e.createElement(Mw,{useScreen:s},e.createElement(Lw,null,e.createElement(ow,null)),e.createElement(Lw,null,e.createElement(Dw,null))))))};const Fw=kv.div`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,Uw=kv.div`
  display: table;

  & > *:not(:nth-last-child(1)) {
    margin-bottom: 1.6rem;
  }

  & > *:not(:nth-child(4)):not(:nth-child(8)) {
    margin-right: 1.6rem;
  }
`,zw=kv.button`
  width: 100%;
  max-width: 21%;
  min-height: 72px;
  min-width: 72px;
  max-height: 72px;
  height: 100%;
  margin: auto 0;
  overflow: hidden;
  justify-content: center;
  align-items: center;
  display: flex;
  background-size: cover;
  background-position: center center;
  background-color: rgb(232, 232, 232);
  position: relative;
  float: left;

  ${xv(3)}

  & svg {
    float: left;
  }
`,qw=kv.div`
  width: 100%;
  max-width: 21%;
  min-width: 72px;
  min-height: 72px;
  max-height: 72px;
  height: 100%;
  margin: auto 0;
  overflow: hidden;
  display: flex;
  align-items: center;
  background-size: cover;
  background-position: center center;
  background-color: rgb(232, 232, 232);
  position: relative;
  float: left;

  ${xv(3)}

  & img {
    float: left;
  }
`,Vw=kv.button`
  justify-content: center;
  align-items: center;
  display: flex;
  padding: 0.8rem;
  padding: 0.8rem;
  position: absolute;
  top: 0;
  right: 0;

  & svg {
    float: left;
    z-index: 1;
  }

  &:after {
    content: "";
    width: 62px;
    position: absolute;
    height: 62px;
    z-index: 0;
    background: -moz-radial-gradient(center, ellipse cover,  rgba(0,0,0,0.25) 0%, rgba(0,0,0,0.25) 22%, rgba(0,0,0,0) 71%, rgba(0,0,0,0) 100%); /* FF3.6-15 */
    background: -webkit-radial-gradient(center, ellipse cover,  rgba(0,0,0,0.25) 0%,rgba(0,0,0,0.25) 22%,rgba(0,0,0,0) 71%,rgba(0,0,0,0) 100%); /* Chrome10-25,Safari5.1-6 */
    background: radial-gradient(ellipse at center,  rgba(0,0,0,0.25) 0%,rgba(0,0,0,0.25) 22%,rgba(0,0,0,0) 71%,rgba(0,0,0,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#40000000', endColorstr='#00000000',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
    top: -26px;
    right: -20px;
  }
`;var Bw=function({data:n,i:r,usePost:i,setPost:o}){const a=(()=>{const e=document.createElement("div");return e.setAttribute("role","modaly"),e})(),{image_name:s,image_format:u,image_size:c}=n;return e.createElement(qw,{style:{backgroundImage:"url(https://firebasestorage.googleapis.com/v0/b/ensollarada.appspot.com/o/products%2Fimages%2Fthumbs%2F"+s+"_160x160.jpeg?alt=media)"}},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"100%",width:"100%",alt:""}),e.createElement(Vw,{type:"button",onClick:()=>(n=>t.render(e.createElement(_w,n),document.body.appendChild(a)))({title:"Ateno!",message:"Ei, voc quer mesmo remover essa imagem?",button:["Cancelar","Sim!"],buttonColor:"#ff2222",action:function(){Mb("Imagem removida!"),o((e=>{const{thumb:t=[]}=e;return{...e,thumb:t.filter(((e,t)=>r!==t))}}))}})},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 386.667 386.667",fill:"#ffffff"},e.createElement("path",{d:"m386.667 45.564-45.564-45.564-147.77 147.769-147.769-147.769-45.564 45.564 147.769 147.769-147.769 147.77 45.564 45.564 147.769-147.769 147.769 147.769 45.564-45.564-147.768-147.77z"}))))};const{jQuery:Ww}=window;var Gw=function({usePost:n,setPost:r}){const[i,o]=(0,e.useState)(!1),[a,s]=(0,e.useState)(!1),u=(()=>{const e=document.createElement("div");return e.setAttribute("role","modal"),e})(),{thumb:c=[]}=n;return(0,e.useEffect)((()=>{i?t.render(e.createElement(jw,{usePost:n,setPost:r,useModal:i,setModal:o,useModalThumb:a,setModalThumb:s}),document.body.appendChild(u)):a&&(Ww('[role="modal"]').fadeOut(300,(function(){this.remove()})),s(!1))}),[i,a]),e.createElement(Fw,null,e.createElement(Uw,null,c.length?c.map(((t,i)=>e.createElement(Bw,{key:i,data:t,i:i,usePost:n,setPost:r}))):null,8!==c.length?e.createElement(zw,{type:"button",onClick:()=>o(!0)},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 341.4 341.4",width:"32",height:"32",fill:"#999"},e.createElement("polygon",{points:"192,149.4 192,0 149.4,0 149.4,149.4 0,149.4 0,192 149.4,192 149.4,341.4 192,341.4 192,192 341.4,192 341.4,149.4"}))):null))};const Hw=kv.div`
  width: 100%;
  display: flex;
  flex-direction: column;
  padding: 3rem;
  height: 100%;

  @media (min-width: 1040px) {
    flex-direction: column;
    overflow-x: hidden;
    overflow-y: overlay;
  }

  @media (max-width: 1039px) {
    padding: initial;
  }
`,Kw=kv.div`
  justify-content: space-between;
  display: flex;
  min-height: 54px;
  max-height: 54px;
  height: 100%;

  @media (max-width: 1039px) {
    padding: 1.6rem;
    box-shadow: rgba(0, 0, 0, 0.25) 0 0 16px;
    position: relative;
    z-index: 2;
  }
`,Qw=kv.div`
  display: flex;
  align-items: center;
`,Yw=kv.span`
  font-size: 2rem;
  font-weight: 700;

  @media (max-width: 720px) {
    color: var( --color-aside-border);
    font-family: var(--font-lato);
    font-style: italic;
  }
`,$w=kv.span`
  display: none;
`,Jw=kv.div`
  display: flex;
  flex-direction: row-reverse;
  height: 28px;

  & button {
    padding: 0.6rem 1.6rem;
    font-size: 1.4rem;
    font-weight: bold;

    ${xv(3)}
  }

  & > *:not(:last-child) {
    margin-left: 1rem;
  }
`,Zw=kv.button`
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);
  color: #222;
`,Xw=kv.button`
  color: #fff;
  background: -webkit-gradient(linear,left top,left bottom,from(#0db722),to(#0e9c20));
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);
`,e_=kv.div`
  background: #fff;
  display: flex;
  margin-top: 1.6rem;
  padding: 1.6rem;

  @media (min-width: 1040px) {
    width: 100%;
    max-width: 480px;
    margin: auto;

    ${xv(3)}
  }

  @media (max-width: 1039px) {
    flex-direction: column;
    border-radius: initial;
    padding: 3rem 1.6rem 1.6rem;
    overflow-x: hidden;
    overflow-y: overlay;
    margin: initial;
    height: 100%;
  }
`,t_=kv.div`
  display: inherit;
  flex-direction: column;

  @media (min-width: 1040px) {
    width: 100%;
  }

  & > div:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,n_=kv.div`
  display: flex;
  justify-content: space-between;
  position: relative;

  & * {
    transition: all 0.2s ease-in-out;
  }
`,r_=kv.input`
  color: #797979;
  background: transparent;
  width: 100%;
  font-size: 1.6rem;
  box-shadow: inset 0 0 0 1px #dadce0;
  position: relative;
  z-index: 1;

  padding: 1rem;

  ${xv(3)}

  &:focus ~ label, ${({status:e})=>e&&"& ~ label"} {
    color: #b7b7b7;
    background: #fff;
    padding: 0 0.8rem;
    z-index: 1;
    top: -1rem;
  }

  &:focus ~ label {
    color: #1273EB;
  }

  &:focus {
    color: #000000;
    box-shadow: inset 0 0 0 1px #1273EB;
  }
`,i_=kv.label`
  font-weight: 300;
  position: absolute;
  font-size: 1.4rem;
  left: 1.3rem;
  top: 1.1rem;
`,o_=kv.textarea`
  padding: 1rem;
  min-height: 100px;
  resize: none;
  float: left;
  color: #797979;
  background: transparent;
  width: 100%;
  font-size: 1.6rem;
  box-shadow: inset 0 0 0 1px #dadce0;
  position: relative;
  z-index: 1;

  ${xv(3)}

  &:focus {
    color: #000000;
    box-shadow: inset 0 0 0 1px #1273EB, 0 0 0 4px rgba(18, 115, 235, 0.15);
  }
`;var a_=function({usePost:t,setPost:n}){const{title:r=""}=t;return e.createElement(n_,null,e.createElement(r_,{type:"text",onInput:e=>{return t=e.target.value,n((e=>({...e,title:t})));var t},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:r,status:r}),e.createElement(i_,null,"Ttulo"))};const{jQuery:s_}=window;var u_=function({usePost:t,setPost:n}){const r=(0,e.useRef)(null),{price:i=0}=t;return(0,e.useEffect)((()=>{const{current:e}=r;e.value=i?i.toFixed(2):"",s_(e).mask("#.##0,00",{reverse:!0})}),[r]),e.createElement(n_,null,e.createElement(r_,{type:"text",placeholder:"0,00",ref:r,onInput:e=>{return t=e.target.value,n((e=>({...e,price:isNaN(Number(t))?Number(t.replace(/\./g,"").replace(/\,/g,".")):Number(t)})));var t},status:!0,autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off"}),e.createElement(i_,null,"R$"))},c_=function({usePost:t,setPost:n}){const{description:r}=t;return e.createElement(n_,{hasText:!0,textarea:!0},e.createElement(o_,{maxLength:"600",placeholder:"Descrio",onInput:e=>{return t=e.target.value,n((e=>({...e,description:t.replace(/\n/gi,"\n")})));var t},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:r}))};const l_=kv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;

  ${xv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,h_=kv.span`
  display: block;
  text-transform: uppercase;
  font-weight: 900;
`,f_=kv.div`
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,d_=kv.input`
  & ~ label:before {
    content: '';
    background: ${({hexColor:e})=>Ob.product_color[e]?Ob.product_color[e]:"#f4f4f4"};
    box-shadow: inset 0 0 0 1px rgb(0,0,0,0.2);
    display: inline-block;
    width: 26px;
    height: 26px;
    position: relative;
    margin-right: 1em;
    vertical-align: top;
    cursor: pointer;
    text-align: center;
    -webkit-transition: all 250ms ease;
    transition: all 250ms ease;

    ${xv("50%")}
  }

  &:checked ~ label:before {
    box-shadow: 0 0 0 2px #fff,0 0 0 3px #3197ee;
  }

  &:focus ~ label:before {
    outline: none;
    border-color: #3197EE;
  }

  &:disabled ~ label:before {
    box-shadow: inset 0 0 0 4px #f4f4f4;
    border-color: #b4b4b4;
    background: #b4b4b4;
  }

  & ~ label:empty:before {
    margin-right: 0;
  }
`,p_=kv.label`
  display: flex;

  &:before {
    float: left;
  }
`;var m_=function({usePost:t,setPost:n}){const{colors:r=[]}=t,i=e=>{if(r.length<2){const i={...t};i.colors=[...r],1===r.length&&i.colors.includes(e)?delete i.colors:i.colors.includes(e)?i.colors.splice(i.colors.indexOf(e),1):i.colors.push(e),n(i)}else if(r.includes(e)){const r={...t};r.colors.splice(r.colors.indexOf(e),1),n(r)}else Mb("Tenha no mximo de 2 colores!")};return e.createElement(n_,null,e.createElement(l_,null,e.createElement(h_,null,"Cores do produto"),e.createElement(f_,null,e.createElement("div",null,e.createElement(d_,{type:"checkbox",hexColor:"red",readOnly:!0,checked:r.includes("red")}),e.createElement(p_,{onClick:()=>i("red")})),e.createElement("div",null,e.createElement(d_,{type:"checkbox",hexColor:"green",readOnly:!0,checked:r.includes("green")}),e.createElement(p_,{onClick:()=>i("green")})),e.createElement("div",null,e.createElement(d_,{type:"checkbox",hexColor:"yellow",readOnly:!0,checked:r.includes("yellow")}),e.createElement(p_,{onClick:()=>i("yellow")})),e.createElement("div",null,e.createElement(d_,{type:"checkbox",hexColor:"black",readOnly:!0,checked:r.includes("black")}),e.createElement(p_,{onClick:()=>i("black")})),e.createElement("div",null,e.createElement(d_,{type:"checkbox",hexColor:"orange",readOnly:!0,checked:r.includes("orange")}),e.createElement(p_,{onClick:()=>i("orange")})),e.createElement("div",null,e.createElement(d_,{type:"checkbox",hexColor:"pink",readOnly:!0,checked:r.includes("pink")}),e.createElement(p_,{onClick:()=>i("pink")})),e.createElement("div",null,e.createElement(d_,{type:"checkbox",hexColor:"purple",readOnly:!0,checked:r.includes("purple")}),e.createElement(p_,{onClick:()=>i("purple")})),e.createElement("div",null,e.createElement(d_,{type:"checkbox",hexColor:"blue",readOnly:!0,checked:r.includes("blue")}),e.createElement(p_,{onClick:()=>i("blue")})),e.createElement("div",null,e.createElement(d_,{type:"checkbox",hexColor:"cyan",readOnly:!0,checked:r.includes("cyan")}),e.createElement(p_,{onClick:()=>i("cyan")})))))};const g_=kv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;

  ${xv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,v_=kv.span`
  display: block;
  text-transform: uppercase;
  font-weight: 900;
`,y_=kv.div`
  flex-direction: column;
  display: flex;
`,b_=kv.div`
  align-items: center;
  display: flex;

  &:not(:last-child) {
    margin-bottom: 1rem;
  }

  & > *:not(:last-child) {
    margin-right: 1.6rem;
  }
`,w_=kv.input`
  color: #797979;
  width: 100%;
  max-width: 34%;
  min-width: 60px;
  font-size: 1.6rem;
  box-shadow: inset 0 0 0 1px #dadce0;
  position: relative;
  padding: 0.6rem 1rem;
  z-index: 1;

  ${xv(3)}
`,__=kv.label`
  text-transform: uppercase;
  min-width: 26px;
`;var E_=function({data:t,usePost:n,setPost:r}){const{size_number:i={}}=n,o=i[t]?i[t]:"";return e.createElement(b_,null,e.createElement(__,null,t),e.createElement(w_,{type:"text",placeholder:"0",onInput:e=>{return i=e.target.value,void r((e=>{const{size_number:r={}}=e;return{...n,size_number:{...r,[t]:Number(i)}}}));var i},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:o}))},I_=function({usePost:t,setPost:n}){return e.createElement(g_,null,e.createElement(v_,null,"Produtos em estoque"),e.createElement(y_,null,Ob.size_number.map(((r,i)=>e.createElement(E_,{key:i,data:r,usePost:t,setPost:n})))))};const S_=kv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;

  ${xv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,T_=kv.span`
  display: block;
  text-transform: uppercase;
  font-weight: 900;
`,C_=kv.div`
  flex-direction: column;
  display: flex;
`,k_=kv.div`
  align-items: center;
  display: flex;

  &:not(:last-child) {
    margin-bottom: 1rem;
  }

  & > *:not(:last-child) {
    margin-right: 1.6rem;
  }
`,x_=kv.input`
  color: #797979;
  width: 100%;
  max-width: 34%;
  min-width: 60px;
  font-size: 1.6rem;
  box-shadow: inset 0 0 0 1px #dadce0;
  position: relative;
  padding: 0.6rem 1rem;
  z-index: 1;

  ${xv(3)}
`,N_=kv.label`
  text-transform: uppercase;
  min-width: 26px;
`;var A_=function({data:t,usePost:n,setPost:r}){const{size_letter:i={}}=n,o=i[t]?i[t]:"";return e.createElement(k_,null,e.createElement(N_,null,t),e.createElement(x_,{type:"text",placeholder:"0",onInput:e=>{return o=e.target.value,void(isNaN(Number(o))||o.replace(/[^0-9]/g,"")===String(i[t])||i[t]===Number(o)||r((e=>{const{size_letter:r={}}=e;return{...n,size_letter:{...r,[t]:Number(o)}}})));var o},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:o}))},D_=function({usePost:t,setPost:n}){return e.createElement(S_,null,e.createElement(T_,null,"Produtos em estoque"),e.createElement(C_,null,Ob.size_letter.map(((r,i)=>e.createElement(A_,{key:i,data:r,usePost:t,setPost:n})))))};const P_=kv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;
  flex-direction: column;
  display: flex;

  ${xv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,O_=kv.span`
  text-transform: uppercase;
  font-weight: 900;
`,M_=kv.div`
  flex-direction: column;
  display: flex;
`,L_=kv.div`
  width: 100%;
  align-items: center;
  display: flex;

  &:not(:last-child) {
    margin-bottom: 1rem;
  }

  & input {
    ${"\n  & ~ label:before {\n    content: '';\n    background: #f4f4f4;\n    border-radius: 100%;\n    border: 1px solid #b4b4b4;\n    display: inline-block;\n    width: 1.4em;\n    height: 1.4em;\n    position: relative;\n    margin-right: 1em;\n    vertical-align: top;\n    cursor: pointer;\n    text-align: center;\n    -webkit-transition: all 250ms ease;\n    transition: all 250ms ease;\n  }\n\n  &:checked ~ label:before {\n    background-color: #3197EE;\n    box-shadow: inset 0 0 0 3px #f4f4f4;\n  }\n\n  &:focus ~ label:before {\n    outline: none;\n    border-color: #3197EE;\n  }\n\n  &:disabled ~ label:before {\n    box-shadow: inset 0 0 0 4px #f4f4f4;\n    border-color: #b4b4b4;\n    background: #b4b4b4;\n  }\n\n  & ~ label:empty:before {\n    margin-right: 0;\n  }\n"}
  }

  & label {
    cursor: pointer;
  }
`;var R_=function({data:t,usePost:n,setPost:r}){const{cloth_material:i=""}=n,[o,a]=t;return e.createElement(L_,null,e.createElement("input",{type:"checkbox",readOnly:!0,checked:o===i}),e.createElement("label",{onClick:()=>r(i===o?e=>{const t={...e};return delete t.cloth_material,t}:e=>({...e,cloth_material:o}))},a))},j_=function({usePost:t,setPost:n}){return e.createElement(P_,null,e.createElement(O_,null,"Tecido do produto"),e.createElement(M_,null,Object.entries(Ob.cloth_names).map(((r,i)=>e.createElement(R_,{key:i,data:r,usePost:t,setPost:n})))))};const F_=kv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;

  ${xv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,U_=kv.span`
  display: block;
  text-transform: uppercase;
  font-weight: 900;
`,z_=kv.div`
  flex-direction: column;
  display: flex;
`,q_=kv.select`
  padding: 1rem;
  box-shadow: 0 0 0 1px #ccc;
  font-family: var(--font-poppins);
  
  ${xv(3)}
`,V_=kv.option`
  font-size: 2rem;
  font-family: var(--font-poppins);
`;var B_=function({usePost:t,setPost:n}){const{size_ring:r=""}=t;return e.createElement(F_,null,e.createElement(U_,null,"Numerao de produto"),e.createElement(z_,null,e.createElement(q_,{onChange:e=>{return t=e.target.value,n((e=>({...e,size_ring:t})));var t},value:r},Ob.size_ring.map(((t,n)=>e.createElement(V_,{key:n},t))))))};const W_=kv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;

  ${xv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,G_=kv.span`
  display: block;
  text-transform: uppercase;
  font-weight: 900;
`,H_=kv.div`
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1.6rem;
  }
`,K_=kv.div`
  justify-content: space-between;
  align-items: center;
  position: relative;
  display: flex;

  & * {
    transition: all 0.2s ease-in-out;
  }
`,Q_=kv.input`
  color: #797979;
  background: transparent;
  width: 100%;
  font-size: 1.6rem;
  box-shadow: inset 0 0 0 1px #a6a6a7;
  position: relative;
  z-index: 1;

  padding: 1rem;

  ${xv(3)}

  &:focus ~ label, ${({status:e})=>e&&"& ~ label"} {
    color: #a6a6a7;
    background: #efefef;
    padding: 0 0.8rem;
    z-index: 1;
    top: -1rem;
  }

  &:focus ~ label {
    color: #1273EB;
  }

  &:focus {
    color: #000000;
    box-shadow: inset 0 0 0 1px #1273EB;
  }
`,Y_=kv.label`
  font-weight: 300;
  position: absolute;
  font-size: 1.4rem;
  left: 1.3rem;
  top: 1.1rem;
`,$_=kv.span`
  /* background: transparent; */
`;var J_=function({usePost:t,setPost:n}){const{size_length:r=0}=t;return e.createElement(W_,null,e.createElement(G_,null,"Comprimento do produto"),e.createElement(H_,null,e.createElement(K_,null,e.createElement(Q_,{type:"text",placeholder:"0",onInput:e=>{return t=e.target.value,void(isNaN(Number(t))||t.replace(/[^0-9]/g,"")===String(r)||r===Number(t)||n((e=>({...e,size_length:Number(t)}))));var t},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:r||"",status:!0}),e.createElement(Y_,null,"Centmetros")),e.createElement(K_,null,e.createElement($_,null,r/100," M"))))};const Z_=kv.div`
  width: 100%;
  background: #efefef;
  padding: 1.4rem;

  ${xv(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.4rem;
  }
`,X_=kv.span`
  display: block;
  text-transform: uppercase;
  font-weight: 900;
`,eE=kv.div`
  flex-direction: column;
  display: flex;
`,tE=kv.div`
  ${Av}

  &:not(:last-child) {
    margin-bottom: 1rem;
  }
`;var nE=function({usePost:t,setPost:n}){const{sort_child:r=!1}=t;return e.createElement(Z_,null,e.createElement(X_,null,"Produto infantil?"),e.createElement(eE,null,e.createElement(tE,null,e.createElement("input",{type:"checkbox",readOnly:!0,checked:r}),e.createElement("label",{onClick:()=>n((e=>{const{sort_child:t=!1}=e;return{...e,sort_child:!t}}))},r?"Infantil":"Adulto"))))};const rE=kv.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: auto;
  width: 56px;
  height: 100%;
  position: relative;
  z-index: 1;

  & > div {
    width: 12px;
    height: 12px;
    background-color: #c61e10;
    border-radius: 100%;
    display: inline-block;
    animation: treo-bouncedelay 1s infinite ease-in-out both;
  }
`,iE=kv.div`
  animation-delay: -0.32s !IMPORTANT;
`,oE=kv.div`
  animation-delay: -0.16s !IMPORTANT;
`,aE=kv.div`
  clear: both;
`,{jQuery:sE}=window;var uE=function(){return(0,e.useEffect)((()=>{document.querySelector('[role="over"]')&&sE('[role="over"]').fadeIn(200)}),[]),e.createElement(rE,null,e.createElement(iE,null),e.createElement(oE,null),e.createElement(aE,null))};const{jQuery:cE}=window;var lE=function({data:n,id:r}){const i=(()=>{const e=document.createElement("div");return e.setAttribute("role","over"),e})(),[o,a]=(0,e.useState)(n),s=Bm(),{subcategory:u}=o,c=()=>{Ob.isValid[u](o)?(document.querySelector('[role="over"]')||t.render(e.createElement(uE,null),document.body.appendChild(i)),tm().httpsCallable("set")({val:`public/feed/${r}`,data:o}).then((function({data:e}){const{status:t}=e;t?(Mb("Produto atualizado!"),s.push("/products")):Mb("Erro desconhecido. Tente novamente!"),document.querySelector('[role="over"]')&&cE('[role="over"]').fadeOut(300,(function(){this.remove()}))})).catch((function(e){Mb("Erro ao chamar API!"),document.querySelector('[role="over"]')&&cE('[role="over"]').fadeOut(300,(function(){this.remove()}))}))):Mb("H algo errado!")};return e.createElement(Hw,null,e.createElement(Kw,null,e.createElement(Qw,null,e.createElement(Yw,null,Ob.subcategory_names[u]),e.createElement($w,null,"Voc est publicando para ",Ob.subcategory_names[u])),e.createElement(Jw,null,e.createElement(Xw,{type:"button",onClick:()=>c()},"Atualizar"),e.createElement(Zw,{type:"button",onClick:()=>s.push("/products")},"Fechar"))),e.createElement(e_,null,e.createElement(t_,null,e.createElement(Gw,{usePost:o,setPost:a}),e.createElement(a_,{usePost:o,setPost:a}),e.createElement(u_,{usePost:o,setPost:a}),e.createElement(c_,{usePost:o,setPost:a}),Ob.p[1].includes(u)?e.createElement(I_,{usePost:o,setPost:a}):null,Ob.p[2].includes(u)?e.createElement(D_,{usePost:o,setPost:a}):null,Ob.p[3].includes(u)?e.createElement(j_,{usePost:o,setPost:a}):null,Ob.p[4].includes(u)?e.createElement(m_,{usePost:o,setPost:a}):null,Ob.p[5].includes(u)?e.createElement(B_,{usePost:o,setPost:a}):null,Ob.p[6].includes(u)?e.createElement(J_,{usePost:o,setPost:a}):null,Ob.p[7].includes(u)?e.createElement(nE,{usePost:o,setPost:a}):null)))},hE=function(){return e.createElement(Hw,null,e.createElement(Kw,null,e.createElement(Qw,null,e.createElement(Yw,null,e.createElement(cb.ZP,{width:70,height:19})),e.createElement($w,null,e.createElement(cb.ZP,{width:60,height:19}))),e.createElement(Jw,null,e.createElement(Ib,{floatChild:"left"},e.createElement(cb.yB,{color:"#0db722",highlightColor:"#0e9c20"},e.createElement(cb.ZP,{width:76,height:28}))),e.createElement(Ib,{floatChild:"left"},e.createElement(cb.ZP,{width:64,height:28})))),e.createElement(e_,null,e.createElement(t_,null,e.createElement(Ib,{displayFlex:!0,spaceRightChild:"1.6rem"},e.createElement(cb.ZP,{width:72,height:72}),e.createElement(cb.ZP,{width:72,height:72}),e.createElement(cb.ZP,{width:72,height:72})),e.createElement(Ib,null,e.createElement(cb.ZP,{width:"100%",height:34})),e.createElement(Ib,null,e.createElement(cb.ZP,{width:"100%",height:34})),e.createElement(Ib,null,e.createElement(cb.ZP,{width:"100%",height:34})),e.createElement(Ib,null,e.createElement(cb.ZP,{width:"100%",height:100})))))};const fE=async({id:e},{signal:t})=>await tm().httpsCallable("getItemConnection")("public/feed/"+e).then((e=>e.data));var dE=function(){const{id:t}=(i=Vm(Lm).match)?i.params:{},{data:n,error:r}=hy({promiseFn:fE,id:t});var i;return r?r.message:n?e.createElement(lE,{data:n,id:t}):e.createElement(hE,null)};const pE=kv.div`
    display: flex;

    ${({fixed:e=!1})=>e&&"\n        background-color: #e4e4e4;\n        flex-direction: column;\n        align-items: center;\n    "};

    @media (max-width: 720px) {
        flex-direction: column;
        padding: 1.2rem 3rem;
        background: initial;
    }

    &:hover {
        background-color: #e4e4e4;
    }

    & > div:not(:last-child) {
        @media screen and (max-width: 720px) {
            margin-bottom: 1.2rem;
        }
    }

    & > div:first-child {
        max-width: 250px;
    }

    & > div:last-child {
        max-width: 440px;
    }

    & > div {
        width: 100%;
        padding: 10px;

        @media (max-width: 720px) {
            max-width: initial;
            padding: initial;
        }
    }
`,mE=kv.div`
  @media screen and (max-width: 720px) {
    font-weight: 700;
    color: rgba(0, 0, 0, 0.87);
  }
`,gE=kv.div`
  ${Av}

  &:not(:last-child) {
    margin-bottom: 1rem;
  }
`,vE=kv.div`
    @media screen and (max-width: 720px) {
        font-weight: 700;
        font-style: italic;
        color: rgba(0, 0, 0, 0.65);
    }

    & > *:not(:last-child) {
        margin-right: 10px;
    }

    & button {
        font-weight: 500;

        & {
            color: #00838f;
            font-family: var(--font-lato);
        }

        @media screen and (max-width: 720px) {
            font-weight: 700;
            font-style: italic;
        }

        &:hover {
            text-decoration: underline;
        }
    }
`,yE=kv.div`
  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,bE=kv.div`
  & > div:nth-child(1) {
    display: ${({status:e})=>e?"none":"block"}
  }

  & > div:nth-child(2) {
    display: ${({status:e})=>e?"block":"none"}
  }
`,wE=kv.div`
  display: table;

  & input {
    width: 100%;
    text-indent: 1rem;
    border: 1px solid rgba(0, 0, 0, 0.15);
    height: 30px;

    @media screen and (max-width: 720px) {
      font-weight: 500;
      font-size: 1.4rem;
      line-height: 30px;
    }

    ${xv(3)}
  }
`,_E=(kv.div`
  display: table;
  margin-top: 1rem;

  & input {
    width: 100%;
    text-indent: 1rem;
    border: 1px solid rgba(0, 0, 0, 0.15);
    height: 30px;

    ${xv(3)}

    @media (max-width: 720px) {
      font-weight: 500;
      font-size: 1.4rem;
      line-height: 30px;
    }

    &:nth-child(1), &:nth-child(3), &:nth-child(5) {
      max-width: 72%;
    }

    &:nth-child(2), &:nth-child(4), &:nth-child(6) {
      margin-left: 1rem;
      max-width: calc(28% - 1rem);
    }

    &:not(:last-child):not(:nth-child(5)) {
      margin-bottom: 1rem;
    }
  }
`,kv.div`
  margin-top: 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
`),EE=`\n  border: 1px solid rgba(0,0,0,0.1);\n  cursor: pointer;\n  height: 26px;\n  padding: 0 1.6rem;\n  line-height: 26px;\n  box-sizing: content-box;\n  vertical-align: middle;\n  font-size: 1.4rem;\n  font-weight: bold;\n  font-family: var(--font-poppins);\n\n  ${xv(2)}\n`,IE=kv.button`
  color: #fff;
  background: -webkit-gradient(linear,left top,left bottom,from(#0db722),to(#0e9c20));

  ${EE}
`,SE=kv.button`
  color: #222;
  background: -webkit-gradient(linear,left top,left bottom,from(#ffffff),to(#ececec));
  border: 1px solid rgba(0,0,0,0.2) !IMPORTANT;

  ${EE}
`;kv.button`
  color: #00838f;
  font-family: var(--font-lato);
  font-weight: 500;

  @media (max-width: 720px) {
    font-weight: 700;
    font-style: italic;
  }

  &:hover {
    text-decoration: underline;
  }
`;var TE=function({useScreenBasic:t,setScreenBasic:n}){const{useConn:r,setConn:i}=ng(),{business:{info:{title:o}}}=r,[a,s]=(0,e.useState)(o);return e.createElement(pE,null,e.createElement(mE,null,e.createElement("span",null,"Ttulo")),e.createElement(bE,{status:0===t},e.createElement(vE,null,e.createElement("span",null,o),e.createElement("button",{type:"button",onClick:()=>n(0)},"Editar")),e.createElement(yE,null,e.createElement(wE,null,e.createElement("input",{type:"text",onInput:e=>{return t=e.target.value,s(t);var t},autoCapitalize:"off",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:a})),e.createElement(_E,null,e.createElement(IE,{type:"button",onClick:()=>(async()=>{await tm().httpsCallable("set")({val:"public/business/info/title",data:a}).then((function(e){const{status:t}=e.data;t?(Mb("Configuraes salvas"),n(-1),i((e=>{const t={...e};return t.business.info.title=a,t}))):Mb("Falhou, tente novamente!")})).catch((function(e){console.error(e)}))})()},"Salvar alteraes"),e.createElement(SE,{type:"button",onClick:()=>n(-1)},"Cancelar")))))};const{jQuery:CE}=window;var kE=function({useScreenBasic:t,setScreenBasic:n}){const r=(0,e.useRef)(null),{useConn:i,setConn:o}=ng(),{business:{info:{minvalue:a}}}=i,[s,u]=(0,e.useState)(a?a.toFixed(2):"");return(0,e.useEffect)((()=>{const{current:e}=r;e.value=s}),[s]),(0,e.useEffect)((()=>{const{current:e}=r;CE(e).mask("#.##0,00",{reverse:!0})}),[r]),e.createElement(pE,null,e.createElement(mE,null,e.createElement("span",null,"Preo minimo")),e.createElement(bE,{status:1===t},e.createElement(vE,null,e.createElement("span",null,Number(a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),e.createElement("button",{type:"button",onClick:()=>n(1)},"Editar")),e.createElement(yE,null,e.createElement(wE,null,e.createElement("input",{type:"text",placeholder:"0,00",ref:r,onInput:e=>{return t=e.target.value,u(t);var t},autoCapitalize:"off",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off"})),e.createElement(_E,null,e.createElement(IE,{type:"button",onClick:()=>(async()=>{await tm().httpsCallable("set")({val:"public/business/info/minvalue",data:isNaN(Number(s))?Number(s.replace(/\./g,"").replace(/\,/g,".")):Number(s)}).then((function(e){const{status:t}=e.data;t?(Mb("Configuraes salvas"),n(-1),o((e=>{const t={...e};return t.business.info.minvalue=isNaN(Number(s))?Number(s.replace(/\./g,"").replace(/\,/g,".")):Number(s),t}))):Mb("Falhou, tente novamente!")})).catch((function(e){console.error(e)}))})()},"Salvar alteraes"),e.createElement(SE,{type:"button",onClick:()=>n(-1)},"Cancelar")))))},xE=function({useScreenBasic:t,setScreenBasic:n}){const{useConn:r,setConn:i}=ng(),{business:{info:{paymentName:o}}}=r,[a,s]=(0,e.useState)(o);return e.createElement(pE,null,e.createElement(mE,null,e.createElement("span",null,"Descrio de compra")),e.createElement(bE,{status:2===t},e.createElement(vE,null,e.createElement("span",null,o),e.createElement("button",{type:"button",onClick:()=>n(2)},"Editar")),e.createElement(yE,null,e.createElement(wE,null,e.createElement("input",{type:"text",onInput:e=>{return t=e.target.value,s(t);var t},autoCapitalize:"off",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:a})),e.createElement(_E,null,e.createElement(IE,{type:"button",onClick:()=>(async()=>{await tm().httpsCallable("set")({val:"public/business/info/paymentName",data:a}).then((function(e){const{status:t}=e.data;t?(Mb("Configuraes salvas"),n(-1),i((e=>{const t={...e};return t.business.info.paymentName=a,t}))):Mb("Falhou, tente novamente!")})).catch((function(e){console.error(e)}))})()},"Salvar alteraes"),e.createElement(SE,{type:"button",onClick:()=>n(-1)},"Cancelar")))))},NE=function(){const{useConn:t,setConn:n}=ng(),{business:{offCupom:r}}=t,i=async()=>{await tm().httpsCallable("set")({val:"public/business/offCupom",data:!r}).then((function(e){const{status:t}=e.data;t?(Mb("Configuraes salvas"),n((e=>{const t={...e};return t.business.offCupom=!r,t}))):Mb("Falhou, tente novamente!")})).catch((function(e){console.error(e)}))};return e.createElement(pE,null,e.createElement(mE,null,e.createElement("span",null,"Disponibilizar cupom?")),e.createElement("div",null,e.createElement(gE,null,e.createElement("input",{type:"checkbox",onChange:()=>i(),checked:r}),e.createElement("label",{onClick:()=>i()},r?"Sim":"No"))))};const AE=kv.div`
  width: 100%;
  display: flow-root;
  overflow-x: hidden;
  overflow-y: overlay;
  padding: 3rem;
  height: 100%;

  @media (max-width: 720px) {
    padding: initial;
  }

  & > div {
    &:not(:last-child) {
      margin-bottom: 1.6rem;
      border-bottom: 1px solid #e6e6e6;
      padding-bottom: 1.6rem;
    }

    @media (max-width: 720px) {
      font-family: var(--font-lato);
      padding: 2.6rem 0 !IMPORTANT;
    }
  }

`,DE=kv.div`
  & {
    padding: 0 10px 10px;
  }

  @media (max-width: 720px) {
    padding: 1.2rem 3rem;
  }

  & span {
    & {
      color: #333;
      font-size: 18px;
      font-weight: 400;
      font-family: var(--font-open);
    }

    @media (max-width: 720px) {
      color: #263238;
      letter-spacing: .5px;
      font-weight: 700;
      font-family: var(--font-lato);
    }
  }
`;var PE=function(){const[t,n]=(0,e.useState)(-1);return e.createElement(AE,null,e.createElement("div",null,e.createElement(DE,null,e.createElement("span",null,"Bsico")),e.createElement("div",null,e.createElement(TE,{useScreenBasic:t,setScreenBasic:n}),e.createElement(kE,{useScreenBasic:t,setScreenBasic:n}),e.createElement(xE,{useScreenBasic:t,setScreenBasic:n}),e.createElement(NE,null))))};const OE=kv.div`
  padding: 3rem;

  @media (max-width: 1039px) {
    width: 100%;
    overflow-x: hidden;
    overflow-y: overlay;
    padding: initial;
    height: 100%;
  }
`,ME=kv.div`
  padding-top: 1.6rem;
  padding-right: 1.6rem;
  padding-left: 1.6rem;
  justify-content: space-between;
  display: flex;
`,LE=kv.span`
  font-size: 2rem;
  font-weight: 600;
`,RE=kv.span`
  padding: 1.6rem;
  justify-content: center;
  flex-direction: column;
  display: flex;
`,jE=kv.button`
  width: 100% !IMPORTANT;
  height: 112px !IMPORTANT;
  background: -moz-linear-gradient(45deg, rgba(0, 0, 0, 0.3) 0%, transparent 90%);
  background: -webkit-linear-gradient(45deg, rgba(0, 0, 0, 0.3) 0%, transparent 90%);
  background: linear-gradient(45deg, rgba(0, 0, 0, 0.3) 0%, transparent 90%);
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#0000004d', endColorstr='#00000000',GradientType=1 );
  font-weight: 700;
  font-size: 2rem;
  color: #585858;

  ${xv(3)}

  &:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`;var FE=function({data:t,usePost:n,setPost:r,useStage:i,setStage:o}){const[a,s]=t;return e.createElement(jE,{type:"button",onClick:()=>(r((e=>{const t={...e};return t.category=a,t})),void o(2))},e.createElement("span",null,s))},UE=function({usePost:t,setPost:n,useStage:r,setStage:i}){return e.createElement(OE,null,e.createElement(RE,null,Object.entries(Ob.category_names).map(((o,a)=>e.createElement(FE,{key:a,data:o,usePost:t,setPost:n,useStage:r,setStage:i})))))},zE=function({data:t,usePost:n,setPost:r,useStage:i,setStage:o}){const{id:a,name:s}=t;return e.createElement(jE,{type:"button",onClick:()=>(r((e=>{const t={...e};return t.subcategory=a,t})),void o(3))},e.createElement("span",null,s))},qE=function({useStage:t,setStage:n,usePost:r,setPost:i}){const{category:o}=r;return e.createElement(OE,null,e.createElement(ME,null,e.createElement(LE,null,"Qual o produto?"),e.createElement("button",{type:"button",onClick:()=>n(1)},"Voltar?")),e.createElement(RE,null,Ob.organize_names[o].map((e=>({id:e,name:Ob.subcategory_names[e]}))).filter((e=>!!e.name)).map(((o,a)=>e.createElement(zE,{key:a,data:o,usePost:r,setPost:i,useStage:t,setStage:n})))))};const{jQuery:VE}=window;var BE=function({usePost:n,setPost:r}){const i=(()=>{const e=document.createElement("div");return e.setAttribute("role","over"),e})(),o=Bm(),{subcategory:a}=n,s=()=>{Ob.isValid[a](n)?(document.querySelector('[role="over"]')||t.render(e.createElement(uE,null),document.body.appendChild(i)),tm().httpsCallable("push")({val:"public/feed",data:n}).then((function({data:e}){const{status:t}=e;t?(Mb("Produto publicado!"),VE('[role="over"]').fadeOut(300,(function(){this.remove()})),o.push("/products")):(Mb("Erro desconhecido. Tente novamente!"),VE('[role="over"]').fadeOut(300,(function(){this.remove()})))})).catch((function(e){Mb("Erro ao chamar API!"),document.querySelector('[role="over"]')&&VE('[role="over"]').fadeOut(300,(function(){this.remove()}))}))):Mb("H algo errado!")};return e.createElement(Hw,null,e.createElement(Kw,null,e.createElement(Qw,null,e.createElement(Yw,null,Ob.subcategory_names[a]),e.createElement($w,null,"Voc est publicando para ",Ob.subcategory_names[a])),e.createElement(Jw,null,e.createElement(Xw,{type:"button",onClick:()=>s()},"Publicar"),e.createElement(Zw,{type:"button",onClick:()=>o.push("/products")},"Fechar"))),e.createElement(e_,null,e.createElement(t_,null,e.createElement(Gw,{usePost:n,setPost:r}),e.createElement(a_,{usePost:n,setPost:r}),e.createElement(u_,{usePost:n,setPost:r}),e.createElement(c_,{usePost:n,setPost:r}),Ob.p[1].includes(a)?e.createElement(I_,{usePost:n,setPost:r}):null,Ob.p[2].includes(a)?e.createElement(D_,{usePost:n,setPost:r}):null,Ob.p[3].includes(a)?e.createElement(j_,{usePost:n,setPost:r}):null,Ob.p[4].includes(a)?e.createElement(m_,{usePost:n,setPost:r}):null,Ob.p[5].includes(a)?e.createElement(B_,{usePost:n,setPost:r}):null,Ob.p[6].includes(a)?e.createElement(J_,{usePost:n,setPost:r}):null,Ob.p[7].includes(a)?e.createElement(nE,{usePost:n,setPost:r}):null)))},WE=function(){const[t,n]=(0,e.useState)({}),[r,i]=(0,e.useState)(1);return 1===r?e.createElement(UE,{useStage:r,setStage:i,usePost:t,setPost:n}):2===r?e.createElement(qE,{useStage:r,setStage:i,usePost:t,setPost:n}):3===r?e.createElement(BE,{usePost:t,setPost:n}):e.createElement("div",null,"Erro!")},GE=function(){return e.createElement(qm,null,e.createElement(zm,{path:"/",exact:!0,component:ub}),e.createElement(zm,{path:"/products/:id",component:dE}),e.createElement(zm,{path:"/products",component:Db}),e.createElement(zm,{path:"/settings",component:PE}),e.createElement(zm,{path:"/post",component:WE}))},HE=function(){return e.createElement(Dv,null,e.createElement(Vv,null),e.createElement(Pv,null,e.createElement(GE,null)))};const KE=kv.div`
  background-color: rgb(255 255 255);
  height: 48px;
  border-bottom-width: 1px;
  border-left-width: 1px;
  border-top-width: 0;
  border-right-width: 0;
  border-style: solid;
  border-color: rgb(236, 239, 241);
  display: flex;
  align-items: center;

  & span {
    width: 100%;
    font-size: 2rem;
    padding: 1.6rem;
    font-weight: 500;
  }
`,QE=kv.div`
  width: 100vw;
  max-width: 256px;
  z-index: 101;
  color: #383838;
  background: #eceff1;
  -webkit-transition: all .3s ease-in-out;
  -o-transition: all .3s ease-in-out;
  transition: all .3s ease-in-out;
  height: 100vh;
  border-left: 1px solid #ffffff;

  & {
    -webkit-transform: translate3d(100vw, 0, 0);
    -moz-transform: translate3d(100vw, 0, 0);
    transform: translate3d(100vw, 0, 0);
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }

  & > div {
    padding: 1.6rem;

    &:not(:last-child) {
      border-style: solid;
      border-width: 0 0 1px;
      border-color: #fff;
    }
  }

  & button {
    display: flex;
    align-items: center;

    & span {
        margin-left: 1rem;
    }
  }
`,YE=kv.div`

  & li {

    & span {
      font-weight: 500;
    }

    & p {
      text-transform: uppercase;
    }

    &:not(:last-child) {
      margin-bottom: 1rem;
    }
  }
`,$E=kv.div`

  & button {

    &:not(:last-child) {
      margin-bottom: 1rem;
    }
  }
`;var JE=function(){const n=Bm(),{useOverlay:r,setOverlay:i}=rg(),{useConn:o,setConn:a}=ng(),{root:s}=o,{index:u=""}=s||{},[c,l]=(0,e.useState)({}),{brand:h="",commerce:f="",invoice:d="",onwer:p=""}=c;(0,e.useEffect)((()=>{u&&fetch(`https://bracaelcom.firebaseio.com/client/${u}.json`,{method:"GET",mode:"cors",cache:"default"}).then((e=>e.json())).then((e=>l(e)))}),[]);const m=(()=>{const e=document.createElement("div");return e.setAttribute("role","modal"),e})();return e.createElement(QE,null,e.createElement(KE,null,e.createElement("span",null,"Ferramentas")),e.createElement("div",null,e.createElement(YE,null,e.createElement("li",null,e.createElement("span",null,"Razo social"),e.createElement("p",null,h)),e.createElement("li",null,e.createElement("span",null,"Comrcio"),e.createElement("p",null,f)),e.createElement("li",null,e.createElement("span",null,"Status"),e.createElement("p",null,d?"Ativo":"Pendente")),e.createElement("li",null,e.createElement("span",null,"Em nome de"),e.createElement("p",null,p)))),e.createElement("div",null,e.createElement($E,null,e.createElement("button",{type:"button",onClick:()=>alert("Pgina em desenvolvimento...")},"Pedidos arquivados"),e.createElement("button",{type:"button",onClick:()=>alert("Pgina em desenvolvimento...")},"Pedidos excludos"))),e.createElement("div",null,e.createElement("small",null,"Controle as configuraes do seu comrcio e gerencie todos os pedidos recebidos at a entrega para o cliente com uma excelente experincia.")),e.createElement("div",null,e.createElement("button",{type:"text",onClick:()=>{var r;r={title:"Sair da conta?",message:"Confirme para sair da conta.",button:["Cancelar","Confirmar"],buttonColor:"#ff2222",action:function(){i((e=>!e)),n.push("/"),em().signOut().then((()=>{Mb("Desconectado com sucesso!")}))}},t.render(e.createElement(_w,r),document.body.appendChild(m))}},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",viewBox:"0 0 515.556 515.556",width:"16"},e.createElement("path",{d:"m225.556 0h64.444v257.778h-64.444z"}),e.createElement("path",{d:"m322.222 73.944v68.602c56.798 24.932 96.667 81.559 96.667 147.454 0 88.832-72.28 161.111-161.111 161.111s-161.111-72.279-161.111-161.111c0-65.896 39.869-122.523 96.667-147.454v-68.602c-93.051 27.813-161.112 114.097-161.112 216.056 0 124.358 101.182 225.556 225.556 225.556s225.556-101.198 225.556-225.556c0-101.959-68.061-188.243-161.112-216.056z"})),e.createElement("span",null,"Sair"))))};const ZE=kv.div`
  width: 100vw;
  height: 100%;
  position: fixed;
  display: none;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;

  & {
    backdrop-filter: blur(2px);
    background: rgba(255, 255, 255, 0.6);
  }
`,{jQuery:XE}=window;var eI=function(){const{useOverlay:t,setOverlay:n}=rg(),r=(0,e.useRef)(null),[i,o]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{const{current:e}=r;i&&(document.querySelector("#root").style.transform="translate3d(-256px, 0, 0)",XE(e).fadeIn(300))}),[i]),(0,e.useEffect)((()=>{const{current:e}=r;t?o(!0):(""!==document.querySelector("#root").style.transform&&document.querySelector("#root").removeAttribute("style"),XE(e).fadeOut(300,(function(){o(!1)})))}),[t]),i&&e.createElement(ZE,{ref:r,onClick:()=>n(!1)})};const tI=kv.div`
  width: 100vw;
  height: 100%;
  position: fixed;
  display: none;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 999;

  & {
    background: rgba(0, 0, 0, 0.4);
  }
`,{jQuery:nI}=window;var rI=function({data:t}){const{useSwipe:n,setSwipe:r}=ig(),i=(0,e.useRef)(null),[o,a]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{const{current:e}=i;o&&nI(e).fadeIn(300)}),[o]),(0,e.useEffect)((()=>{const{current:e}=i;n?a(!0):nI(e).fadeOut(300,(()=>a(!1)))}),[n]),o&&e.createElement(tI,{ref:i,onClick:()=>r(!1)})},iI=function(t){const[n,r]=(0,e.useState)(t),[i,o]=(0,e.useState)(!1),[a,s]=(0,e.useState)(!1);return e.createElement(Gm,null,e.createElement(tg,{useConn:n,setConn:r,useOverlay:i,setOverlay:o,useSwipe:a,setSwipe:s},e.createElement(zv,null),e.createElement(HE,null),e.createElement(JE,null),e.createElement(eI,null),e.createElement(rI,null)))};const oI=(0,e.createContext)();function aI({children:t,useToggle:n,setToggle:r,useInputEmail:i,setInputEmail:o,useInputPassword:a,setInputPassword:s}){return e.createElement(oI.Provider,{value:{useToggle:n,setToggle:r,useInputEmail:i,setInputEmail:o,useInputPassword:a,setInputPassword:s}},t)}const sI=kv.div`
  width: 100%;
  background: #fff;
  font-family: var(--font-lato);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow-y: overlay;
  overflow-x: hidden;
  height: 100%;

  & > div {
    width: 100%;
    padding: 46px 46px 32px;
    max-width: 632px;
    background: #fff;

    ${xv(6)}

    @media screen and (max-width: 720px) {
      padding: 0 2rem;
      background: initial;
    }
  }
`,uI=kv.div`
  margin: 0 0 32px;
  color: #3c3c3c;
  font-size: 18px;
  font-weight: 500;
  display: block;
  text-align: center;
  font-style: italic;

  & section {
    width: 164px;
    height: 41px;
    margin: 0 auto 16px;

    background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0ibWFyY2EiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2NC4xODgiIGhlaWdodD0iNDAuODc1IiB2aWV3Qm94PSIwIDAgMTY0LjE4OCA0MC44NzUiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICNjMDA7CiAgICAgIH0KCiAgICAgIC5jbHMtMSwgLmNscy0yIHsKICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogIzIwMjAyMDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggaWQ9IkZvcm1hXzFfY29waWFyIiBkYXRhLW5hbWU9IkZvcm1hIDEgY29waWFyIiBjbGFzcz0iY2xzLTEiIGQ9Ik00Ny43MTYsMjYuNTIyYTUuOTc4LDUuOTc4LDAsMCwwLC41MjctMi45YzAtLjA5NCwwLTAuNDM3LDAtMC41MjcsMC0yLjYzOS0yLjYzMy00Ljc0LTQuMjItNC43NDctMC41MzIsMC02LjMyOSwwLTYuMzI5LDBMMjcuNDA5LDguMDYxSDQxLjM4NmMzLjEsMCw4LjEuNTYzLDEwLjI4NSw0Ljc0NywwLjkxMiwxLjQ4MiwxLjIwNyw1Ljc2MSwxLjIxMiw3Ljk4NywwLjAyMSwwLjcyNiwwLDUuMzY3LDAsNS43NDdDNTIuMzQsMjYuNTQxLDQ4LjEsMjYuNTIsNDcuNzE2LDI2LjUyMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNi40MDYgLTguMDYzKSIvPgogIDxwYXRoIGlkPSJGb3JtYV8xIiBkYXRhLW5hbWU9IkZvcm1hIDEiIGNsYXNzPSJjbHMtMSIgZD0iTTM2LjY5NCw0OC45MzlMMjYuNjczLDM4LjY1M3MxNi4wNjgsMCwxNi4zNTEsMGMxLjU4MiwwLDQuMjI1LTIuNjM5LDQuMjItNS4yNzQsMC0uMDk0LDAtMC40MzcsMC0wLjUyNywwLTIuNjM5LTIuNjMzLTQuNzQtNC4yMi00Ljc0Ny0wLjUzMiwwLTYuMzI5LDAtNi4zMjksMEwyNi40MDksMTcuODE5SDQzLjAyM2ExMy43NzEsMTMuNzcxLDAsMCwxLDEwLjAyMiw0Ljc0N2M0LjI4NSw0LjU0Nyw0LjQ4Myw4Ljk2Nyw0LjQ4Myw4Ljk2NywwLjAwNSwwLjc2MSwwLDMuNDI4LDAsMy40MjhhMTMuNDUsMTMuNDUsMCwwLDEtMy45NTYsOC45NjdjLTQuNjQ3LDQuNzUzLTguOTcxLDUuMDEtMTAuNTQ5LDUuMDExQzQyLjc1Niw0OC45NCwzNi42OTQsNDguOTM5LDM2LjY5NCw0OC45MzlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYuNDA2IC04LjA2MykiLz4KICA8cGF0aCBpZD0iQnJhY2FlbCIgY2xhc3M9ImNscy0yIiBkPSJNOTEuMzMsMzIuNzExYzAsMi4wMS0xLjQxLDMuMTgtMy43MiwzLjE4SDgyLjk5di02LjUxaDQuNUM4OS43NywyOS4zODEsOTEuMzMsMzAuNjQxLDkxLjMzLDMyLjcxMVptLTAuNTQtOS4wOWMwLDEuOTItMS4zNSwyLjk3LTMuNTcsMi45N0g4Mi45OXYtNS45N2g0LjIzQzg5LjQ0LDIwLjYyMiw5MC43OSwyMS43MzIsOTAuNzksMjMuNjIyWm0zLjk2LDkuNDVhNS4xODUsNS4xODUsMCwwLDAtNC4wMi01LjEsNC44NzgsNC44NzgsMCwwLDAsMy41NC00Ljc3YzAtMi45NC0yLjM0LTUuMzctNi43NS01LjM3SDc5LjU3VjM4LjY4MWg4LjM0QzkyLjE2OSwzOC42ODEsOTQuNzQ5LDM2LjI1MSw5NC43NDksMzMuMDcxWm03LjE0LTMuMDljMC0zLjUxLDEuNTYtNC41Niw0LjA4LTQuNTZoMC44N3YtMy41NGE1LjM4NCw1LjM4NCwwLDAsMC00Ljk1LDIuNjd2LTIuNEg5OC40N1YzOC42ODFoMy40MTl2LTguN1ptNi45NiwwLjM2YzAsNS4xLDMuNDUsOC42MSw3Ljc0LDguNjFhNy4xMTUsNy4xMTUsMCwwLDAsNS43OS0yLjczdjIuNDZoMy40NVYyMi4xNTJoLTMuNDV2Mi40YTcuMDM2LDcuMDM2LDAsMCwwLTUuNzMtMi42N0MxMTIuMywyMS44ODIsMTA4Ljg0OSwyNS4yNDEsMTA4Ljg0OSwzMC4zNDFabTEzLjUzLDAuMDZjMCwzLjU3LTIuNDMsNS41OC01LjAxLDUuNTgtMi41NSwwLTUuMDEtMi4wNy01LjAxLTUuNjRzMi40Ni01LjQ5LDUuMDEtNS40OUMxMTkuOTQ5LDI0Ljg1MSwxMjIuMzc5LDI2Ljg2MSwxMjIuMzc5LDMwLjRabTYuODEsMGMwLDUuMTksMy4zNiw4LjU1LDguMSw4LjU1YTcuNDIzLDcuNDIzLDAsMCwwLDcuNjE5LTUuNDloLTMuNjg5YTMuNzc1LDMuNzc1LDAsMCwxLTMuOTMsMi42MWMtMi43NiwwLTQuNTktMi4wNC00LjU5LTUuNjcsMC0zLjYsMS44My01LjY0LDQuNTktNS42NGEzLjg2MywzLjg2MywwLDAsMSwzLjkzLDIuNjFoMy42ODljLTAuOTI5LTMuNDgtMy41NjktNS40OS03LjYxOS01LjQ5QzEzMi41NDksMjEuODgyLDEyOS4xODksMjUuMjQxLDEyOS4xODksMzAuNFptMTgtLjA2YzAsNS4xLDMuNDUsOC42MSw3Ljc0LDguNjFhNy4xMTQsNy4xMTQsMCwwLDAsNS43ODktMi43M3YyLjQ2aDMuNDVWMjIuMTUyaC0zLjQ1djIuNGE3LjAzNiw3LjAzNiwwLDAsMC01LjcyOS0yLjY3QzE1MC42MzksMjEuODgyLDE0Ny4xODksMjUuMjQxLDE0Ny4xODksMzAuMzQxWm0xMy41MjksMC4wNmMwLDMuNTctMi40Myw1LjU4LTUuMDEsNS41OC0yLjU0OSwwLTUuMDA5LTIuMDctNS4wMDktNS42NHMyLjQ2LTUuNDksNS4wMDktNS40OUMxNTguMjg4LDI0Ljg1MSwxNjAuNzE4LDI2Ljg2MSwxNjAuNzE4LDMwLjRabTE0LjkxLTUuNjRhNC4yOTIsNC4yOTIsMCwwLDEsNC42Miw0LjE3SDE3MS4xQTQuNSw0LjUsMCwwLDEsMTc1LjYyOCwyNC43NjFabTcuNzQsOWgtMy42OWE0LDQsMCwwLDEtMy45LDIuMzEsNC41NDYsNC41NDYsMCwwLDEtNC43MDktNC4zOEgxODMuN2ExMC41NDgsMTAuNTQ4LDAsMCwwLC4xMi0xLjY4LDcuNzA5LDcuNzA5LDAsMCwwLTguMDQtOC4xM2MtNC44ODksMC04LjI0OSwzLjMzLTguMjQ5LDguNTJzMy41MSw4LjU1LDguMjQ5LDguNTVBNy41NTMsNy41NTMsMCwwLDAsMTgzLjM2OCwzMy43NjFabTMuODEsNC45MmgzLjQydi0yMi4yaC0zLjQydjIyLjJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYuNDA2IC04LjA2MykiLz4KPC9zdmc+Cg==");
  }
`,cI=kv.div`
  position: relative;

  & * {
    transition: all 0.2s ease-in-out;
  }

  &:not(:last-child) {
    margin-top: 2.2rem;
  }
`,lI=kv.svg`
  color: #aaa;
  position: absolute;
  top: 15px;
  right: 15px;
  height: 24px;
  width: 24px;
  z-index: 11;

  & {
    cursor: pointer;

    ${xv("100%")}
  }

  &:hover {
    color: rgba(121, 121, 121);
  }
`,hI=kv.input`
  width: 100%;
  background: transparent;
  padding: 16px 0;
  display: block;
  font-weight: 400;
  color: #797979;
  font-size: 1.75rem;
  box-shadow: inset 0 0 0 1px #dadce0;
  font-family: var(--font-poppins);
  text-indent: 16px;
  border-radius: 3px;
  position: relative;
  z-index: 10;

  ${({hasText:e})=>e&&"\n    & ~ label {\n      padding: 0 10px;\n      font-size: 1em;\n      background: #fff;\n      z-index: 20;\n      top: -8px;\n    }\n  "}

  &:focus {
    box-shadow: inset 0 0 0 1px #1273EB;
  }

  &:focus ~ label {
    color: #1273EB;
  }

  &:focus ~ label {
    padding: 0 10px;
    font-size: 1em;
    background: #fff;
    z-index: 20;
    top: -8px;
  }
`,fI=kv.label`
  color: #676767;
  font-weight: 100;
  position: absolute;
  font-size: 2rem;
  top: 16px;
  left: 1em;
`,dI=kv.label`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 2.6rem 0 0;
`,pI=kv.button`
  ${"\n  font-size: 1.75rem;\n  color: #1a73e8;\n  font-weight: 700;\n  font-family: var(--font-lato);\n"}
`,mI=kv.button`
  ${xv(3)}
  ${"\n  color: #fff;\n  min-height: 40px;\n  background-color: #0161cd;\n  font-weight: 500;\n  text-align: center;\n  max-width: 132px;\n  width: 100%;\n\n  &:hover {\n    background: #0e75e8;\n  }\n\n  &:focus {\n    -webkit-box-shadow: rgb(151, 200, 255) 0px 0px 4px 2px;\n    box-shadow: rgb(151, 200, 255) 0px 0px 4px 2px;\n  }\n\n  &:active {\n    background: #00f;\n  }\n"}
`;var gI=function(){const{useToggle:t,setToggle:n}=function(){const t=(0,e.useContext)(oI),{useToggle:n,setToggle:r}=t;return{useToggle:n,setToggle:r}}(),r=()=>n((e=>!e));return t?e.createElement(lI,{onClick:()=>r(),fill:"currentColor",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"https://www.w3.org/2000/svg"},e.createElement("path",{d:"M10.58,7.25l1.56,1.56c1.38,0.07,2.47,1.17,2.54,2.54l1.56,1.56C16.4,12.47,16.5,12,16.5,11.5C16.5,9.02,14.48,7,12,7 C11.5,7,11.03,7.1,10.58,7.25z"}),e.createElement("path",{d:"M12,6c3.79,0,7.17,2.13,8.82,5.5c-0.64,1.32-1.56,2.44-2.66,3.33l1.42,1.42c1.51-1.26,2.7-2.89,3.43-4.74 C21.27,7.11,17,4,12,4c-1.4,0-2.73,0.25-3.98,0.7L9.63,6.3C10.4,6.12,11.19,6,12,6z"}),e.createElement("path",{d:"M16.43,15.93l-1.25-1.25l-1.27-1.27l-3.82-3.82L8.82,8.32L7.57,7.07L6.09,5.59L3.31,2.81L1.89,4.22l2.53,2.53 C2.92,8.02,1.73,9.64,1,11.5C2.73,15.89,7,19,12,19c1.4,0,2.73-0.25,3.98-0.7l4.3,4.3l1.41-1.41l-3.78-3.78L16.43,15.93z M11.86,14.19c-1.38-0.07-2.47-1.17-2.54-2.54L11.86,14.19z M12,17c-3.79,0-7.17-2.13-8.82-5.5c0.64-1.32,1.56-2.44,2.66-3.33 l1.91,1.91C7.6,10.53,7.5,11,7.5,11.5c0,2.48,2.02,4.5,4.5,4.5c0.5,0,0.97-0.1,1.42-0.25l0.95,0.95C13.6,16.88,12.81,17,12,17z"})):e.createElement(lI,{onClick:()=>r(),fill:"currentColor",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"https://www.w3.org/2000/svg"},e.createElement("path",{d:"M12,7c-2.48,0-4.5,2.02-4.5,4.5S9.52,16,12,16s4.5-2.02,4.5-4.5S14.48,7,12,7z M12,14.2c-1.49,0-2.7-1.21-2.7-2.7 c0-1.49,1.21-2.7,2.7-2.7s2.7,1.21,2.7,2.7C14.7,12.99,13.49,14.2,12,14.2z"}),e.createElement("path",{d:"M12,4C7,4,2.73,7.11,1,11.5C2.73,15.89,7,19,12,19s9.27-3.11,11-7.5C21.27,7.11,17,4,12,4z M12,17 c-3.79,0-7.17-2.13-8.82-5.5C4.83,8.13,8.21,6,12,6s7.17,2.13,8.82,5.5C19.17,14.87,15.79,17,12,17z"}))},vI=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(""),[o,a]=(0,e.useState)("");return e.createElement(aI,{useToggle:t,setToggle:n},e.createElement(sI,null,e.createElement("div",null,e.createElement(uI,null,e.createElement("section",null),e.createElement("span",null,"Use uma conta Bracael")),e.createElement("form",{autoComplete:"off"},e.createElement(cI,null,e.createElement(hI,{type:"email",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",hasText:r,onChange:e=>i(e.target.value),value:r}),e.createElement(fI,null,"E-mail")),e.createElement(cI,null,e.createElement(hI,{type:t?"text":"password",hasText:o,onChange:e=>a(e.target.value),value:o}),e.createElement(gI,null),e.createElement(fI,null,"Senha")),e.createElement(dI,null,e.createElement(pI,{type:"button",onClick:()=>alert("Entre em contato conosco pelo WhatsApp ou Instagram!")},"Esqueceu a sua senha?"),e.createElement(mI,{type:"submit",onClick:e=>(e.preventDefault(),void em().signInWithEmailAndPassword(r,o).then((()=>Mb("Seja bem-vindo!"))).catch((function(){alert("E-mail ou senha invalidos")})))},"Fazer login"))))))};em().onAuthStateChanged((function(n){n?Promise.resolve(async function(){return await tm().httpsCallable("getAPI")()}()).then((function(n){t.render(e.createElement(e.StrictMode,null,e.createElement(iI,n.data)),document.getElementById("root"))})).catch((function(){t.render(e.createElement("div",null,"ERRO 500"),document.getElementById("root"))})):t.render(e.createElement(e.StrictMode,null,e.createElement(vI,null)),document.getElementById("root"))}))}()}();
//# sourceMappingURL=main.js.map