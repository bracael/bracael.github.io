/*! For license information please see main.js.LICENSE.txt */
!function(){var e={254:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,{CacheProvider:function(){return N},ClassNames:function(){return V},Global:function(){return j},ThemeContext:function(){return k},createElement:function(){return R},css:function(){return P},jsx:function(){return R},keyframes:function(){return U},withEmotionCache:function(){return A}});var i=n(466),o=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(e){}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),a=n(414),s="/*|*/";function u(e){e&&c.current.insert(e+"}")}var c={current:null},l=function(e,t,n,r,i,o,a,l,h,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return c.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===l)return t+s;break;case 3:switch(l){case 102:case 112:return c.current.insert(n[0]+t),"";default:return t+(0===f?s:"")}case-2:t.split("/*|*/}").forEach(u)}};function h(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}n(753);var f=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0),i=i.next}while(void 0!==i)}},d=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},p=n(319),m=n(916),g=/[A-Z]|^ms/g,v=/_EMO_([^_]+?)_([^]*?)_EMO_/g,y=function(e){return 45===e.charCodeAt(1)},b=function(e){return null!=e&&"boolean"!=typeof e},w=(0,m.Z)((function(e){return y(e)?e:e.replace(g,"-$&").toLowerCase()})),_=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(v,(function(e,t,n){return I={name:t,styles:n,next:I},t}))}return 1===p.Z[e]||y(e)||"number"!=typeof t||0===t?t:t+"px"};function E(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return I={name:n.name,styles:n.styles,next:I},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)I={name:i.name,styles:i.styles,next:I},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=E(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":b(a)&&(r+=w(o)+":"+_(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=E(e,t,a,!1);switch(o){case"animation":case"animationName":r+=w(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)b(a[u])&&(r+=w(o)+":"+_(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=I,a=n(e);return I=o,E(e,t,a,r)}}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var I,C=/label:\s*([^\s;\n{]+)\s*;/g,T=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";I=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=E(n,t,o,!1)):i+=o[0];for(var a=1;a<e.length;a++)i+=E(n,t,e[a],46===i.charCodeAt(i.length-1)),r&&(i+=o[a]);C.lastIndex=0;for(var s,u="";null!==(s=C.exec(i));)u+="-"+s[1];return{name:d(i)+u,styles:i,next:I}},S=Object.prototype.hasOwnProperty,x=(0,i.createContext)("undefined"!=typeof HTMLElement?function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r,i=new a.Z(t),s={};r=e.container||document.head;var u,h=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(h,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){s[e]=!0})),e.parentNode!==r&&r.appendChild(e)})),i.use(e.stylisPlugins)(l),u=function(e,t,n,r){var o=t.name;c.current=n,i(e,t.styles),r&&(f.inserted[o]=!0)};var f={key:n,sheet:new o({key:n,container:r,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:s,registered:{},insert:u};return f}():null),k=(0,i.createContext)({}),N=x.Provider,A=function(e){var t=function(t,n){return(0,i.createElement)(x.Consumer,null,(function(r){return e(t,r,n)}))};return(0,i.forwardRef)(t)},D="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",M=function(e,t){var n={};for(var r in t)S.call(t,r)&&(n[r]=t[r]);return n[D]=e,n},L=function(e,t,n,r){var o=null===n?t.css:t.css(n);"string"==typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var a=t[D],s=[o],u="";"string"==typeof t.className?u=h(e.registered,s,t.className):null!=t.className&&(u=t.className+" ");var c=T(s);f(e,c,"string"==typeof a),u+=e.key+"-"+c.name;var l={};for(var d in t)S.call(t,d)&&"css"!==d&&d!==D&&(l[d]=t[d]);return l.ref=r,l.className=u,(0,i.createElement)(a,l)},O=A((function(e,t,n){return"function"==typeof e.css?(0,i.createElement)(k.Consumer,null,(function(r){return L(t,e,r,n)})):L(t,e,null,n)})),P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T(t)},R=function(e,t){var n=arguments;if(null==t||!S.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=O,o[1]=M(e,t);for(var a=2;a<r;a++)o[a]=n[a];return i.createElement.apply(null,o)},j=A((function(e,t){var n=e.styles;if("function"==typeof n)return(0,i.createElement)(k.Consumer,null,(function(e){var r=T([n(e)]);return(0,i.createElement)(F,{serialized:r,cache:t})}));var r=T([n]);return(0,i.createElement)(F,{serialized:r,cache:t})})),F=function(e){var t,n;function i(t,n,r){return e.call(this,t,n,r)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var a=i.prototype;return a.componentDidMount=function(){this.sheet=new o({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},a.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},a.insertStyles=function(){if(void 0!==this.props.serialized.next&&f(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},a.componentWillUnmount=function(){this.sheet.flush()},a.render=function(){return null},i}(i.Component),U=function(){var e=P.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},z=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function B(e,t,n){var r=[],i=h(e,r,n);return r.length<2?n:i+t(r)}var V=A((function(e,t){return(0,i.createElement)(k.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=T(n,t.registered);return f(t,i,!1),t.key+"-"+i.name},i={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return B(t.registered,r,z(n))},theme:n};return e.children(i)}))}))},753:function(e,t,n){var r=n(540);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}},540:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t},916:function(e,t){"use strict";t.Z=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},414:function(e,t){"use strict";t.Z=function(e){function t(e,r,u,c,f){for(var d,p,m,g,w,E=0,I=0,C=0,T=0,S=0,M=0,O=m=d=0,R=0,j=0,F=0,U=0,z=u.length,B=z-1,V="",q="",G="",W="";R<z;){if(p=u.charCodeAt(R),R===B&&0!==I+T+C+E&&(0!==I&&(p=47===I?10:47),T=C=E=0,z++,B++),0===I+T+C+E){if(R===B&&(0<j&&(V=V.replace(h,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(R)}p=59}switch(p){case 123:for(d=(V=V.trim()).charCodeAt(0),m=1,U=++R;R<z;){switch(p=u.charCodeAt(R)){case 123:m++;break;case 125:m--;break;case 47:switch(p=u.charCodeAt(R+1)){case 42:case 47:e:{for(O=R+1;O<B;++O)switch(u.charCodeAt(O)){case 47:if(42===p&&42===u.charCodeAt(O-1)&&R+2!==O){R=O+1;break e}break;case 10:if(47===p){R=O+1;break e}}R=O}}break;case 91:p++;case 40:p++;case 34:case 39:for(;R++<B&&u.charCodeAt(R)!==p;);}if(0===m)break;R++}switch(m=u.substring(U,R),0===d&&(d=(V=V.replace(l,"").trim()).charCodeAt(0)),d){case 64:switch(0<j&&(V=V.replace(h,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=D}if(U=(m=t(r,j,m,p,f+1)).length,0<L&&(w=s(3,m,j=n(D,V,F),r,k,x,U,p,f,c),V=j.join(""),void 0!==w&&0===(U=(m=w.trim()).length)&&(p=0,m="")),0<U)switch(p){case 115:V=V.replace(_,a);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(v,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===c&&(q+=m,m="")}else m="";break;default:m=t(r,n(r,V,F),m,c,f+1)}G+=m,m=F=j=O=d=0,V="",p=u.charCodeAt(++R);break;case 125:case 59:if(1<(U=(V=(0<j?V.replace(h,""):V).trim()).length))switch(0===O&&(d=V.charCodeAt(0),45===d||96<d&&123>d)&&(U=(V=V.replace(" ",":")).length),0<L&&void 0!==(w=s(1,V,r,e,k,x,q.length,c,f,c))&&0===(U=(V=w.trim()).length)&&(V="\0\0"),d=V.charCodeAt(0),p=V.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=V+u.charAt(R);break}default:58!==V.charCodeAt(U-1)&&(q+=i(V,d,p,V.charCodeAt(2)))}F=j=O=d=0,V="",p=u.charCodeAt(++R)}}switch(p){case 13:case 10:47===I?I=0:0===1+d&&107!==c&&0<V.length&&(j=1,V+="\0"),0<L*P&&s(0,V,r,e,k,x,q.length,c,f,c),x=1,k++;break;case 59:case 125:if(0===I+T+C+E){x++;break}default:switch(x++,g=u.charAt(R),p){case 9:case 32:if(0===T+E+I)switch(S){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===T+I+E&&(j=F=1,g="\f"+g);break;case 108:if(0===T+I+E+N&&0<O)switch(R-O){case 2:112===S&&58===u.charCodeAt(R-3)&&(N=S);case 8:111===M&&(N=M)}break;case 58:0===T+I+E&&(O=R);break;case 44:0===I+C+T+E&&(j=1,g+="\r");break;case 34:case 39:0===I&&(T=T===p?0:0===T?p:T);break;case 91:0===T+I+C&&E++;break;case 93:0===T+I+C&&E--;break;case 41:0===T+I+E&&C--;break;case 40:if(0===T+I+E){if(0===d)switch(2*S+3*M){case 533:break;default:d=1}C++}break;case 64:0===I+C+T+E+O+m&&(m=1);break;case 42:case 47:if(!(0<T+E+C))switch(I){case 0:switch(2*p+3*u.charCodeAt(R+1)){case 235:I=47;break;case 220:U=R,I=42}break;case 42:47===p&&42===S&&U+2!==R&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,R+1)),g="",I=0)}}0===I&&(V+=g)}M=S,S=p,R++}if(0<(U=q.length)){if(j=r,0<L&&void 0!==(w=s(2,q,j,e,k,x,U,c,f,c))&&0===(q=w).length)return W+q+G;if(q=j.join(",")+"{"+q+"}",0!=A*N){switch(2!==A||o(q,2)||(N=0),N){case 111:q=q.replace(b,":-moz-$1")+q;break;case 112:q=q.replace(y,"::-webkit-input-$1")+q.replace(y,"::-moz-$1")+q.replace(y,":-ms-input-$1")+q}N=0}}return W+q+G}function n(e,t,n){var i=t.trim().split(m);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===A||2===A&&o(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(S,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(w,"tb");break;case 232:u=a.replace(w,"tb-rl");break;case 220:u=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(I,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(I,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(C,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var h,f=0,d=t;f<L;++f)switch(h=M[f].call(c,e,d,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!=typeof e?A=1:(A=2,O=e):A=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<L){var i=s(-1,n,r,r,k,x,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=t(D,r,n,0,0);return 0<L&&void 0!==(i=s(-2,o,r,r,k,x,o.length,0,0,0))&&(o=i),N=0,x=k=1,o}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,I=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,x=1,k=1,N=0,A=1,D=[],M=[],L=0,O=null,P=0;return c.use=function e(t){switch(t){case void 0:case null:L=M.length=0;break;default:if("function"==typeof t)M[L++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else P=0|!!t}return e},c.set=u,void 0!==e&&u(e),c}},319:function(e,t){"use strict";t.Z={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},856:function(e,t,n){"use strict";var r,i,o=n(622),a=n(574),s=n(924),u=n(861),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),m=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(e),this.container=new s.H0(t.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=f),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.wA(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");(0,u.Am)(e,t)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.r3)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(m);return t.INTERNAL=(0,o.pi)((0,o.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.ZB)(t,e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=g;!function(e,t){e.INTERNAL.registerComponent(new s.wA("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion(h,"0.6.22",void 0),e.registerVersion("fire-js","")}(w),t.Z=w},924:function(e,t,n){"use strict";n.d(t,{wA:function(){return o},H0:function(){return u},zt:function(){return s}});var r=n(622),i=n(574),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e=a);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=(0,r.pi)({identifier:a,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(e){if(i)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.instanceIdentifier,o=void 0===i?a:i,s=e.options,u=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(o);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:u});try{for(var h=(0,r.XA)(this.instancesDeferred.entries()),f=h.next();!f.done;f=h.next()){var d=(0,r.CR)(f.value,2),p=d[0],m=d[1];c===this.normalizeInstanceIdentifier(p)&&m.resolve(l)}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(l,c),l},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i;try{for(var o=(0,r.XA)(this.onInitCallbacks),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},991:function(e,t,n){"use strict";var r=n(856),i=n(924),o=n(574),a=n(622),s=n(861);e=n.hmd(e);var u="";function c(e){u=e}var l,h=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),f=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h(t)}}catch(e){}return new f},p=d("localStorage"),m=d("sessionStorage"),g=new s.Yd("@firebase/database"),v=(l=1,function(){return l++}),y=function(e){var t=(0,o.dS)(e),n=new o.gQ;n.update(t);var r=n.digest();return o.US.encodeByteArray(r)},b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=b.apply(null,i):n+="object"==typeof i?(0,o.Pz)(i):i,n+=" "}return n},w=null,_=!0,E=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(g.logLevel=s.in.VERBOSE,w=g.log.bind(g),t&&m.set("logging_enabled",!0)):"function"==typeof e?w=e:(w=null,m.remove("logging_enabled"))},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===w&&!0===m.get("logging_enabled")&&E(!0)),w){var n=b.apply(null,e);w(n)}},C=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];I.apply(void 0,(0,a.ev)([e],(0,a.CR)(t)))}},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));g.error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));throw g.error(n),new Error(n)},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+b.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));g.warn(n)},k=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},N="[MIN_NAME]",A="[MAX_NAME]",D=function(e,t){if(e===t)return 0;if(e===N||t===A)return-1;if(t===N||e===A)return 1;var n=U(e),r=U(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},M=function(e,t){return e===t?0:e<t?-1:1},L=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},O=function(e){if("object"!=typeof e||null===e)return(0,o.Pz)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(t[i]),r+=":",r+=O(e[t[i]]);return r+"}"},P=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function R(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var j=function(e){(0,o.hu)(!k(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},F=new RegExp("^-?(0*)\\d{1,10}$"),U=function(e){if(F.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},z=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw x("Exception was thrown by user callback.",t),e}),Math.floor(0))}},B=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){x('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),q=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',x(e)},e}(),G=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),W=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H="websocket",Y="long_polling",K=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Q(e,t,n){var r;if((0,o.hu)("string"==typeof t,"typeof type must == string"),(0,o.hu)("object"==typeof n,"typeof params must == object"),t===H)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Y)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return R(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Z=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.p$)(this.counters_)},e}(),J={},$={};function X(e){var t=e.toString();return J[t]||(J[t]=new Z),J[t]}var ee=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&z((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),te="start",ne="close",re=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(e),this.stats_=X(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),Q(t,Y,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ie((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===te)n.id=o,n.password=s;else{if(i!==ne)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&W.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!((0,o.Yr)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.h$)(t),r=P(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ie=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){I("frame writing exception"),e.stack&&I(e.stack),I(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||I("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){I("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),oe=null;"undefined"!=typeof MozWebSocket?oe=MozWebSocket:"undefined"!=typeof WebSocket&&(oe=WebSocket);var ae=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=X(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&W.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Q(e,H,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?i.headers.Authorization=this.authToken||"":i.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var a=process.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new oe(this.connURL,[],i)}else i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}},this.mySock=new oe(this.connURL,[],i)}catch(e){this.log_("Error instantiating WebSocket.");var c=e.message||e.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==oe&&!e.forceDisallow_},e.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=P(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),se=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[re,ae]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ae&&ae.isAvailable(),o=i&&!ae.previouslyFailed();if(t.webSocketOnly&&(i||x("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ae];else{var s=this.transports_=[];try{for(var u=(0,a.XA)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ue=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new se(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=B((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=L("t",e),n=L("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=L("t",e),n=L("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=L("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?T("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&x("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),B((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ce=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),le=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.ev)([],(0,a.CR)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.hu)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),he=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(le),fe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function de(){return new fe("")}function pe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function me(e){return e.pieces_.length-e.pieceNum_}function ge(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new fe(e.pieces_,t)}function ve(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ye(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function be(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new fe(t,0)}function we(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof fe)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new fe(n,0)}function _e(e){return e.pieceNum_>=e.pieces_.length}function Ee(e,t){var n=pe(e),r=pe(t);if(null===n)return t;if(n===r)return Ee(ge(e),ge(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ie(e,t){for(var n=ye(e,0),r=ye(t,0),i=0;i<n.length&&i<r.length;i++){var o=D(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ce(e,t){if(me(e)!==me(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Te(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(me(e)>me(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Se=function(e,t){this.errorPrefix_=t,this.parts_=ye(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);xe(this)};function xe(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ke(e))}function ke(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ne,Ae,De=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(le),Me=1e3,Le=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=C("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Me,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return De.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&he.getInstance().on("online",h.onOnline_,h),h}return(0,a.ZT)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.BH,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&(0,o.r3)(e,"w")){var n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();x("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):T("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Me,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Me,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Me),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,h,f,d,p,m,g,v=this;return(0,a.Jh)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(e){(0,o.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.CR.apply(void 0,[y.sent(),2]),p=d[0],m=d[1],u?I("getToken() completed but was canceled"):(I("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=m&&m.token,c=new ue(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){x(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),s)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&x(g),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){I("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){I("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Me,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return O(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new fe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){I("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){I("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.XA)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=he.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ce),Oe=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Pe=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Oe(N,e),r=new Oe(N,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Oe.MIN},e}(),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ne},set:function(e){Ne=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return D(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Oe.MIN},t.prototype.maxPost=function(){return new Oe(A,Ne)},t.prototype.makePost=function(e,t){return(0,o.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Oe(e,Ne)},t.prototype.toString=function(){return".key"},t}(Pe),je=new Re,Fe=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ue=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Be.EMPTY_NODE,this.right=null!=o?o:Be.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Be.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Be.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),ze=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ue(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Be=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ue.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ue.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Fe(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Fe(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Fe(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Fe(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new ze,e}();function Ve(e,t){return D(e.name,t.name)}function qe(e,t){return D(e,t)}var Ge,We,He,Ye,Ke,Qe=function(e){return"number"==typeof e?"number:"+j(e):"string:"+e},Ze=function(e){if(e.isLeafNode()){var t=e.val();(0,o.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===Ae||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===Ae||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Je=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ze(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ge},set:function(e){Ge=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return _e(t)?this:".priority"===pe(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=pe(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===me(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ge(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Qe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?j(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),$e=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?D(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Oe.MIN},t.prototype.maxPost=function(){return new Oe(A,new Je("[PRIORITY-POST]",He))},t.prototype.makePost=function(e,t){var n=We(e);return new Oe(t,new Je("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Pe)),Xe=Math.log(2),et=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Xe,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),tt=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Ue(a,o.node,Ue.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new Ue(a,o.node,Ue.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new Ue(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Ue.BLACK):(s(h,Ue.BLACK),s(h,Ue.RED))}return o}(new et(e.length));return new Be(r||t,o)},nt={},rt=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.hu)(nt&&$e,"ChildrenNode.ts has not been loaded"),Ye=Ye||new e({".priority":nt},{".priority":$e})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Be?t:null},e.prototype.hasIndex=function(e){return(0,o.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.hu)(t!==je,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Oe.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?tt(i,t.getCompare()):nt;var l=t.toString(),h=(0,a.pi)({},this.indexSet_);h[l]=t;var f=(0,a.pi)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.UI)(this.indexes_,(function(e,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),e===nt){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Oe.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),tt(s,a.getCompare())}return nt}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Oe(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.UI)(this.indexes_,(function(e){if(e===nt)return e;var r=n.get(t.name);return r?e.remove(new Oe(t.name,r)):e})),this.indexSet_)},e}(),it=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ze(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ke||(Ke=new e(new Be(qe),null,rt.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ke},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ke:t},e.prototype.getChild=function(e){var t=pe(e);return null===t?this:this.getImmediateChild(t).getChild(ge(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Oe(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Ke:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=pe(e);if(null===n)return t;(0,o.hu)(".priority"!==pe(e)||1===me(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ge(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild($e,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Qe(this.getPriority().val())+":"),this.forEachChild($e,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Oe(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Oe(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Oe(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Oe.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Oe.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ot?-1:0},e.prototype.withIndex=function(t){if(t===je||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===je||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator($e),r=t.getIterator($e),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===je?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ot=new(function(e){function t(){return e.call(this,new Be(qe),it.EMPTY_NODE,rt.Default)||this}return(0,a.ZT)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return it.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(it));function at(e,t){if(void 0===t&&(t=null),null===e)return it.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Je(e,at(t));if(e instanceof Array){var n=it.EMPTY_NODE;return R(e,(function(t,r){if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){var i=at(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(at(t))}var r=[],i=!1;if(R(e,(function(e,t){if("."!==e.substring(0,1)){var n=at(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Oe(e,n)))}})),0===r.length)return it.EMPTY_NODE;var a=tt(r,Ve,(function(e){return e.name}),qe);if(i){var s=tt(r,$e.getCompare());return new it(a,at(t),new rt({".priority":s},{".priority":$e}))}return new it(a,at(t),rt.Default)}Object.defineProperties(Oe,{MIN:{value:new Oe(N,it.EMPTY_NODE)},MAX:{value:new Oe(A,ot)}}),Re.__EMPTY_NODE=it.EMPTY_NODE,Je.__childrenNodeConstructor=it,Ae=ot,He=ot,function(e){We=e}(at);var st,ut,ct=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.hu)(!_e(t)&&".priority"!==pe(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.ZT)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?D(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=at(e),r=it.EMPTY_NODE.updateChild(this.indexPath_,n);return new Oe(t,r)},t.prototype.maxPost=function(){var e=it.EMPTY_NODE.updateChild(this.indexPath_,ot);return new Oe(A,e)},t.prototype.toString=function(){return ye(this.indexPath_,0).join("/")},t}(Pe),lt=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?D(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Oe.MIN},t.prototype.maxPost=function(){return Oe.MAX},t.prototype.makePost=function(e,t){var n=at(e);return new Oe(t,n)},t.prototype.toString=function(){return".value"},t}(Pe)),ht="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ft=(st=0,ut=[],function(e){var t,n=e===st;st=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=ht.charAt(e%64),e=Math.floor(e/64);(0,o.hu)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===ut[t];t--)ut[t]=0;ut[t]++}else for(t=0;t<12;t++)ut[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=ht.charAt(ut[t]);return(0,o.hu)(20===i.length,"nextPushId: Length should be 20."),i}),dt=function(e){if("2147483647"===e)return"-";var t=U(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return A;var o=n[i],a=ht.charAt(ht.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},pt=function(e){if("-2147483648"===e)return N;var t=U(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ht.charAt(ht.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function mt(e){return{type:"value",snapshotNode:e}}function gt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function vt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function yt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var bt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(vt(t,s)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(gt(t,n)):a.trackChildChange(yt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild($e,(function(e,r){t.hasChild(e)||n.trackChildChange(vt(e,r))})),t.isLeafNode()||t.forEachChild($e,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(yt(t,r,i))}else n.trackChildChange(gt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?it.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),wt=function(){function e(t){this.indexedFilter_=new bt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Oe(t,n))||(n=it.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=it.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(it.EMPTY_NODE);var i=this;return t.forEachChild($e,(function(e,t){i.matches(new Oe(e,t))||(r=r.updateImmediateChild(e,it.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),_t=function(){function e(e){this.rangedFilter_=new wt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Oe(t,n))||(n=it.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=it.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=it.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(it.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,it.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new Oe(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(yt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(vt(t,f));var m=u.updateImmediateChild(t,it.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(gt(d.name,d.node)),m.updateImmediateChild(d.name,d.node)):m}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(vt(l.name,l.node)),i.trackChildChange(gt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,it.EMPTY_NODE)):e},e}(),Et=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$e}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===$e},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function It(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ct(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Tt(e,t){var n=e.copy();return n.index_=t,n}function St(e){var t,n={};return e.isDefault()||(e.index_===$e?t="$priority":e.index_===lt?t="$value":e.index_===je?t="$key":((0,o.hu)(e.index_ instanceof ct,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.Pz)(t),e.startSet_&&(n.startAt=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function xt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==$e&&(t.i=e.index_.toString()),t}var kt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=C("p:rest:"),o.listens_={},o}return(0,a.ZT)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=St(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=St(e._queryParams),r=e._path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.CR)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.xO)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=(0,o.cI)(h.responseText)}catch(e){x("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&x("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(ce),Nt=function(){function e(){this.rootNode_=it.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function At(){return{value:null,children:new Map}}function Dt(e,t,n){if(_e(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=pe(t);e.children.has(r)||e.children.set(r,At()),Dt(e.children.get(r),t=ge(t),n)}}function Mt(e,t){if(_e(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild($e,(function(t,n){Dt(e,new fe(t),n)})),Mt(e,t)}if(e.children.size>0){var r=pe(t);return t=ge(t),e.children.has(r)&&Mt(e.children.get(r),t)&&e.children.delete(r),0===e.children.size}return!0}function Lt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Lt(r,new fe(t.toString()+"/"+e),n)}))}var Ot,Pt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.pi)({},e);return this.last_&&R(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Rt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Pt(e);var n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;R(t,(function(t,i){i>0&&(0,o.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function jt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ot||(Ot={}));var Ft,Ut=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ot.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(_e(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new fe(t));return new e(de(),n,this.revert)}return(0,o.hu)(pe(this.path)===t,"operationForChild called for unrelated child."),new e(ge(this.path),this.affectedTree,this.revert)},e}(),zt=function(){function e(e,t){this.source=e,this.path=t,this.type=Ot.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return _e(this.path)?new e(this.source,de()):new e(this.source,ge(this.path))},e}(),Bt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ot.OVERWRITE}return e.prototype.operationForChild=function(t){return _e(this.path)?new e(this.source,de(),this.snap.getImmediateChild(t)):new e(this.source,ge(this.path),this.snap)},e}(),Vt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ot.MERGE}return e.prototype.operationForChild=function(t){if(_e(this.path)){var n=this.children.subtree(new fe(t));return n.isEmpty()?null:n.value?new Bt(this.source,de(),n.value):new e(this.source,de(),n)}return(0,o.hu)(pe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ge(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),qt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(_e(e))return this.isFullyInitialized()&&!this.filtered_;var t=pe(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Gt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Wt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new Oe(t.childName,t.snapshotNode),i=new Oe(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Ht(e,t){return{eventCache:e,serverCache:t}}function Yt(e,t,n,r){return Ht(new qt(t,n,r),e.serverCache)}function Kt(e,t,n,r){return Ht(e.eventCache,new qt(t,n,r))}function Qt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Zt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Jt=function(){function e(e,t){void 0===t&&(Ft||(Ft=new Be(M)),t=Ft),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return R(t,(function(e,t){n=n.set(new fe(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:de(),value:this.value};if(_e(e))return null;var n=pe(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ge(e),t);return null!=i?{path:we(new fe(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(_e(t))return this;var n=pe(t),r=this.children.get(n);return null!==r?r.subtree(ge(t)):new e(null)},e.prototype.set=function(t,n){if(_e(t))return new e(n,this.children);var r=pe(t),i=(this.children.get(r)||new e(null)).set(ge(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(_e(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=pe(t),r=this.children.get(n);if(r){var i=r.remove(ge(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(_e(e))return this.value;var t=pe(e),n=this.children.get(t);return n?n.get(ge(e)):null},e.prototype.setTree=function(t,n){if(_e(t))return n;var r,i=pe(t),o=(this.children.get(i)||new e(null)).setTree(ge(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(de(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(we(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,de(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(_e(e))return null;var i=pe(e),o=this.children.get(i);return o?o.findOnPath_(ge(e),we(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,de(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(_e(t))return this;this.value&&r(n,this.value);var i=pe(t),o=this.children.get(i);return o?o.foreachOnPath_(ge(t),we(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(de(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(we(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),$t=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Jt(null))},e}();function Xt(e,t,n){if(_e(t))return new $t(new Jt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Ee(i,t);return o=o.updateChild(a,n),new $t(e.writeTree_.set(i,o))}var s=new Jt(n),u=e.writeTree_.setTree(t,s);return new $t(u)}function en(e,t,n){var r=e;return R(n,(function(e,n){r=Xt(r,we(t,e),n)})),r}function tn(e,t){if(_e(t))return $t.empty();var n=e.writeTree_.setTree(t,new Jt(null));return new $t(n)}function nn(e,t){return null!=rn(e,t)}function rn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ee(n.path,t)):null}function on(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild($e,(function(e,n){t.push(new Oe(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Oe(e,n.value))})),t}function an(e,t){if(_e(t))return e;var n=rn(e,t);return new $t(null!=n?new Jt(n):e.writeTree_.subtree(t))}function sn(e){return e.writeTree_.isEmpty()}function un(e,t){return cn(de(),e.writeTree_,t)}function cn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=cn(we(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(we(e,".priority"),r)),n}function ln(e,t){return _n(t,e)}function hn(e,t){if(e.snap)return Te(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Te(we(e.path,n),t))return!0;return!1}function fn(e){return e.visible}function dn(e,t,n){for(var r=$t.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Te(n,s)?r=Xt(r,u=Ee(n,s),a.snap):Te(s,n)&&(u=Ee(s,n),r=Xt(r,de(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(Te(n,s))r=en(r,u=Ee(n,s),a.children);else if(Te(s,n))if(_e(u=Ee(s,n)))r=en(r,de(),a.children);else{var c=(0,o.DV)(a.children,pe(u));if(c){var l=c.getChild(ge(u));r=Xt(r,de(),l)}}}}}return r}function pn(e,t,n,r,i){if(r||i){var o=an(e.visibleWrites,t);return!i&&sn(o)?n:i||null!=n||nn(o,de())?un(dn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Te(e.path,t)||Te(t,e.path))}),t),n||it.EMPTY_NODE):null}var a=rn(e.visibleWrites,t);if(null!=a)return a;var s=an(e.visibleWrites,t);return sn(s)?n:null!=n||nn(s,de())?un(s,n||it.EMPTY_NODE):null}function mn(e,t,n,r){return pn(e.writeTree,e.treePath,t,n,r)}function gn(e,t){return function(e,t,n){var r=it.EMPTY_NODE,i=rn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild($e,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=an(e.visibleWrites,t);return n.forEachChild($e,(function(e,t){var n=un(an(o,new fe(e)),t);r=r.updateImmediateChild(e,n)})),on(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return on(an(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function vn(e,t,n,r){return function(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=we(t,n);if(nn(e.visibleWrites,a))return null;var s=an(e.visibleWrites,a);return sn(s)?i.getChild(n):un(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function yn(e,t){return function(e,t){return rn(e.visibleWrites,t)}(e.writeTree,we(e.treePath,t))}function bn(e,t,n){return function(e,t,n,r){var i=we(t,n),o=rn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?un(an(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function wn(e,t){return _n(we(e.treePath,t),e.writeTree)}function _n(e,t){return{treePath:e,writeTree:t}}var En=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,yt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,vt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,gt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,yt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),In=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Cn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new qt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zt(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=an(e.visibleWrites,t),c=rn(u,de());if(null!=c)s=c;else{if(null==n)return[];s=un(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Tn(e,t,n,r,i,a){var s=t.eventCache;if(null!=yn(r,n))return t;var u=void 0,c=void 0;if(_e(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Zt(t),h=gn(r,l instanceof it?l:it.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=mn(r,Zt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=pe(n);if(".priority"===d){(0,o.hu)(1===me(n),"Can't have a priority with additional path components");var p=s.getNode(),m=vn(r,n,p,c=t.serverCache.getNode());u=null!=m?e.filter.updatePriority(p,m):s.getNode()}else{var g=ge(n),v=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=vn(r,n,s.getNode(),c);v=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else v=bn(r,d,t.serverCache);u=null!=v?e.filter.updateChild(s.getNode(),d,v,g,i,a):s.getNode()}}return Yt(t,u,s.isFullyInitialized()||_e(n),e.filter.filtersNodes())}function Sn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(_e(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=pe(n);if(!c.isCompleteForPath(n)&&me(n)>1)return t;var d=ge(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,In,null)}var m=Kt(t,u,c.isFullyInitialized()||_e(n),l.filtersNodes());return Tn(e,m,n,i,new Cn(i,m,o),s)}function xn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Cn(i,t,o);if(_e(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Yt(t,u,!0,e.filter.filtersNodes());else{var h=pe(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Yt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=ge(n),d=c.getNode().getImmediateChild(h),p=void 0;if(_e(f))p=r;else{var m=l.getCompleteChild(h);p=null!=m?".priority"===ve(f)&&m.getChild(be(f)).isEmpty()?m:m.updateChild(f,r):it.EMPTY_NODE}s=d.equals(p)?t:Yt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function kn(e,t){return e.eventCache.isCompleteForChild(t)}function Nn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function An(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=_e(n)?r:new Jt(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Nn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Sn(e,c,new fe(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Nn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Sn(e,c,new fe(n),h,i,o,a,s)}})),c}var Dn,Mn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new bt(r.getIndex()),o=(n=r).loadsAllData()?new bt(n.getIndex()):n.hasLimit()?new _t(n):new wt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(it.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(it.EMPTY_NODE,s.getNode(),null),l=new qt(u,a.isFullyInitialized(),i.filtersNodes()),h=new qt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ht(h,l),this.eventGenerator_=new Gt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Ln(e,t){var n=Zt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!_e(t)&&!n.getImmediateChild(pe(t)).isEmpty())?n.getChild(t):null}function On(e){return 0===e.eventRegistrations_.length}function Pn(e,t,n){var r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Rn(e,t,n,r){t.type===Ot.MERGE&&null!==t.source.queryId&&((0,o.hu)(Zt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(Qt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=function(e,t,n,r,i){var a,s,u=new En;if(n.type===Ot.OVERWRITE){var c=n;c.source.fromUser?a=xn(e,t,c.path,c.snap,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!_e(c.path),a=Sn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Ot.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=we(n,r);kn(t,pe(c))&&(s=xn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=we(n,r);kn(t,pe(c))||(s=xn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=An(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Ot.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=yn(r,n))return t;var u=new Cn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(_e(n)||".priority"===pe(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=mn(r,Zt(t));else{var f=t.serverCache.getNode();(0,o.hu)(f instanceof it,"serverChildren would be complete if leaf node"),h=gn(r,f)}h=h,l=e.filter.updateFullNode(c,h,a)}else{var d=pe(n),p=bn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,ge(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,it.EMPTY_NODE,ge(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=mn(r,Zt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=yn(r,de()),Yt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=yn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(_e(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Sn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(_e(n)){var c=new Jt(null);return u.getNode().forEachChild(je,(function(e,t){c=c.set(new fe(e),t)})),An(e,t,n,c,i,o,s,a)}return t}var l=new Jt(null);return r.foreach((function(e,t){var r=we(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),An(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Ot.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return Tn(e,Kt(t,o.getNode(),o.isFullyInitialized()||_e(n),o.isFiltered()),n,r,In,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Qt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(mt(Qt(t)))}}(t,a,f),{viewCache:a,changes:f}}(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.hu)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,jn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function jn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Wt(e,i,"child_removed",t,r,n),Wt(e,i,"child_added",t,r,n),Wt(e,i,"child_moved",o,r,n),Wt(e,i,"child_changed",t,r,n),Wt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Fn,Un=function(){this.views=new Map};function zn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Rn(c,t,n,r)}var l=[];try{for(var h=(0,a.XA)(e.views.values()),f=h.next();!f.done;f=h.next())c=f.value,l=l.concat(Rn(c,t,n,r))}catch(e){i={error:e}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Bn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=mn(n,i?r:null),u=!1;s?u=!0:r instanceof it?(s=gn(n,r),u=!1):(s=it.EMPTY_NODE,u=!1);var c=Ht(new qt(s,u,!1),new qt(r,i,!1));return new Mn(t,c)}return a}function Vn(e){var t,n,r=[];try{for(var i=(0,a.XA)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function qn(e,t){var n,r,i=null;try{for(var o=(0,a.XA)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Ln(u,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Gn(e,t){if(t._queryParams.loadsAllData())return Yn(e);var n=t._queryIdentifier;return e.views.get(n)}function Wn(e,t){return null!=Gn(e,t)}function Hn(e){return null!=Yn(e)}function Yn(e){var t,n;try{for(var r=(0,a.XA)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Kn=1,Qn=function(e){this.listenProvider_=e,this.syncPointTree_=new Jt(null),this.pendingWriteTree_={visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Zn(e,t,n,r,i){return function(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Xt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?nr(e,new Bt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Jn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&hn(u,r.path)?i=!1:Te(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(e){e.visibleWrites=dn(e.allWrites,fn,de()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=tn(e.visibleWrites,r.path):R(r.children,(function(t){e.visibleWrites=tn(e.visibleWrites,we(r.path,t))})),!0))}(e.pendingWriteTree_,t)){var i=new Jt(null);return null!=r.snap?i=i.set(de(),!0):R(r.children,(function(e){i=i.set(new fe(e),!0)})),nr(e,new Ut(r.path,i,n))}return[]}function $n(e,t,n){return nr(e,new Bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Xn(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),u=[];if(s&&("default"===t._queryIdentifier||Wn(s,t))){var c=function(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=Hn(e);if("default"===u)try{for(var f=(0,a.XA)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,a.CR)(d.value,2),m=p[0],g=p[1];l=l.concat(Pn(g,n,r)),On(g)&&(e.views.delete(m),g.query._queryParams.loadsAllData()||c.push(g.query))}}catch(e){i={error:e}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(g=e.views.get(u))&&(l=l.concat(Pn(g,n,r)),On(g)&&(e.views.delete(u),g.query._queryParams.loadsAllData()||c.push(g.query)));return h&&!Hn(e)&&c.push(new((0,o.hu)(Dn,"Reference.ts has not been loaded"),Dn)(t._repo,t._path)),{removed:c,events:l}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(i,(function(e,t){return Hn(t)}));if(h&&!f){var d=e.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&Hn(t))return[Yn(t)];var r=[];return t&&(r=Vn(t)),R(n,(function(e,t){r=r.concat(t)})),r}))}(d),m=0;m<p.length;++m){var g=p[m],v=g.query,y=or(e,g);e.listenProvider_.startListening(hr(v),ar(e,v),y.hashFn,y.onComplete)}}!f&&l.length>0&&!r&&(h?e.listenProvider_.stopListening(hr(t),null):l.forEach((function(t){var n=e.queryToTagMap.get(sr(t));e.listenProvider_.stopListening(hr(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=sr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return u}function er(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Ee(e,r);i=i||qn(t,n),a=a||Hn(t)}));var s,u=e.syncPointTree_.get(r);u?(a=a||Hn(u),i=i||qn(u,de())):(u=new Un,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=it.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=qn(t,de());n&&(i=i.updateImmediateChild(e,n))})));var c=Wn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=sr(t);(0,o.hu)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Kn++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=function(e,t,n,r,i,o){var a=Bn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild($e,(function(e,t){r.push(gt(e,t))})),n.isFullyInitialized()&&r.push(mt(n.getNode())),jn(e,r,n.getNode(),t)}(a,n)}(u,t,n,ln(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Gn(u,t);f=f.concat(function(e,t,n){var r=t._path,i=ar(e,t),a=or(e,n),s=e.listenProvider_.startListening(hr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!Hn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!_e(e)&&t&&Hn(t))return[Yn(t).query];var r=[];return t&&(r=r.concat(Vn(t).map((function(e){return e.query})))),R(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(hr(h),ar(e,h))}return s}(e,t,d))}return f}function tr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=qn(n,Ee(e,t));if(r)return r}));return pn(r,t,i,n,!0)}function nr(e,t){return rr(t,e.syncPointTree_,null,ln(e.pendingWriteTree_,de()))}function rr(e,t,n,r){if(_e(e.path))return ir(e,t,n,r);var i=t.get(de());null==n&&null!=i&&(n=qn(i,de()));var o=[],a=pe(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=wn(r,a);o=o.concat(rr(s,u,c,l))}return i&&(o=o.concat(zn(i,e,r,n))),o}function ir(e,t,n,r){var i=t.get(de());null==n&&null!=i&&(n=qn(i,de()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=wn(r,t),u=e.operationForChild(t);u&&(o=o.concat(ir(u,i,a,s)))})),i&&(o=o.concat(zn(i,e,r,n))),o}function or(e,t){var n=t.query,r=ar(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||it.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=ur(e,n);if(r){var i=cr(r),o=i.path,a=i.queryId,s=Ee(o,t);return lr(e,o,new zt(jt(a),s))}return[]}(e,n._path,r):function(e,t){return nr(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Xn(e,n,null,i)}}}function ar(e,t){var n=sr(t);return e.queryToTagMap.get(n)}function sr(e){return e._path.toString()+"$"+e._queryIdentifier}function ur(e,t){return e.tagToQueryMap.get(t)}function cr(e){var t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new fe(e.substr(0,t))}}function lr(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),zn(r,n,ln(e.pendingWriteTree_,t),null)}function hr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.hu)(Fn,"Reference.ts has not been loaded"),Fn)(e._repo,e._path):e}var fr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),dr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=we(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return tr(this.syncTree_,this.path_)},e}(),pr=function(e,t,n){return e&&"object"==typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?mr(e[".sv"],t,n):"object"==typeof e[".sv"]?gr(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},mr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,o.hu)(!1,"Unexpected server value: "+e)}},gr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},vr=function(e,t,n,r){return br(t,new dr(n,e),r)},yr=function(e,t,n){return br(e,new fr(t),n)};function br(e,t,n){var r,i=e.getPriority().val(),o=pr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=pr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Je(s,at(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Je(o))),u.forEachChild($e,(function(e,i){var o=br(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var wr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function _r(e,t){for(var n=t instanceof fe?t:new fe(t),r=e,i=pe(n);null!==i;){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new wr(i,r,a),i=pe(n=ge(n))}return r}function Er(e){return e.node.value}function Ir(e,t){e.node.value=t,kr(e)}function Cr(e){return e.node.childCount>0}function Tr(e,t){R(e.node.children,(function(n,r){t(new wr(n,e,r))}))}function Sr(e,t,n,r){n&&!r&&t(e),Tr(e,(function(e){Sr(e,t,!0,r)})),n&&r&&t(e)}function xr(e){return new fe(null===e.parent?e.name:xr(e.parent)+"/"+e.name)}function kr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Er(e)&&!Cr(e)}(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,kr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,kr(e))}(e.parent,e.name,e)}var Nr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ar=/[\[\].#$\u0000-\u001F\u007F]/,Dr=10485760,Mr=function(e){return"string"==typeof e&&0!==e.length&&!Nr.test(e)},Lr=function(e){return"string"==typeof e&&0!==e.length&&!Ar.test(e)},Or=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!k(e)||e&&"object"==typeof e&&(0,o.r3)(e,".sv")},Pr=function(e,t,n,r){r&&void 0===t||Rr((0,o.gK)(e,"value"),t,n)},Rr=function(e,t,n){var r=n instanceof fe?new Se(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+ke(r));if("function"==typeof t)throw new Error(e+"contains a function "+ke(r)+" with contents = "+t.toString());if(k(t))throw new Error(e+"contains "+t.toString()+" "+ke(r));if("string"==typeof t&&t.length>Dr/3&&(0,o.ug)(t)>Dr)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+ke(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,a=!1;if(R(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Mr(t)))throw new Error(e+" contains an invalid key ("+t+") "+ke(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.ug)(t),xe(e)}(r,t),Rr(e,n,r),u=(s=r).parts_.pop(),s.byteLength_-=(0,o.ug)(u),s.parts_.length>0&&(s.byteLength_-=1)})),i&&a)throw new Error(e+' contains ".value" child '+ke(r)+" in addition to actual children.")}},jr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];R(t,(function(e,t){var r=new fe(e);if(Rr(i,t,we(n,r)),".priority"===ve(r)&&!Or(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=ye(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Mr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ie);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Te(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Fr=function(e,t,n){if(!n||void 0!==t){if(k(t))throw new Error((0,o.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Or(t))throw new Error((0,o.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ur=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},zr=function(e,t,n,r){if(!(r&&void 0===n||Mr(n)))throw new Error((0,o.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Br=function(e,t,n,r){if(!(r&&void 0===n||Lr(n)))throw new Error((0,o.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vr=function(e,t){if(".info"===pe(t))throw new Error(e+" failed = Can't modify data under /.info/")},qr=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Mr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Lr(e)}(n))throw new Error((0,o.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Gr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.gK)(e,t)+"must be a boolean.")},Wr=function(){this.eventLists_=[],this.recursionDepth_=0};function Hr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ce(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Yr(e,t,n){Hr(e,n),Qr(e,(function(e){return Ce(e,t)}))}function Kr(e,t,n){Hr(e,n),Qr(e,(function(e){return Te(e,t)||Te(t,e)}))}function Qr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(Zr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Zr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();w&&I("event: "+n.toString()),z(r)}}}var Jr="repo_interrupt",$r=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=At(),this.transactionQueueTree_=new wr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Xr(e){var t=e.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ei(e){return(t=(t={timestamp:Xr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ti(e,t,n,r,i){e.dataUpdateCount++;var a=new fe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.UI)(n,(function(e){return at(e)}));s=function(e,t,n,r){var i=ur(e,r);if(i){var o=cr(i),a=o.path,s=o.queryId,u=Ee(a,t),c=Jt.fromObject(n);return lr(e,a,new Vt(jt(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=at(n);s=function(e,t,n,r){var i=ur(e,r);if(null!=i){var o=cr(i),a=o.path,s=o.queryId,u=Ee(a,t);return lr(e,a,new Bt(jt(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.UI)(n,(function(e){return at(e)}));s=function(e,t,n){var r=Jt.fromObject(n);return nr(e,new Vt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=at(n);s=$n(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=pi(e,a)),Kr(e.eventQueue_,f,s)}function ni(e,t){ri(e,"connected",t),!1===t&&function(e){li(e,"onDisconnectEvents");var t=ei(e),n=At();Lt(e.onDisconnect_,de(),(function(r,i){var o=vr(r,i,e.serverSyncTree_,t);Dt(n,r,o)}));var r=[];Lt(n,de(),(function(t,n){r=r.concat($n(e.serverSyncTree_,t,n));var i=bi(e,t);pi(e,i)})),e.onDisconnect_=At(),Kr(e.eventQueue_,de(),r)}(e)}function ri(e,t,n){var r=new fe("/.info/"+t),i=at(n);e.infoData_.updateSnapshot(r,i);var o=$n(e.infoSyncTree_,r,i);Kr(e.eventQueue_,r,o)}function ii(e){return e.nextWriteId_++}function oi(e,t,n,r,i){li(e,"set",{path:t.toString(),value:n,priority:r});var o=ei(e),a=at(n,r),s=tr(e.serverSyncTree_,t),u=yr(a,s,o),c=ii(e),l=Zn(e.serverSyncTree_,t,u,c,!0);Hr(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||x("set at "+t+" failed: "+n);var a=Jn(e.serverSyncTree_,c,!o);Kr(e.eventQueue_,t,a),hi(0,i,n,r)}));var h=bi(e,t);pi(e,h),Kr(e.eventQueue_,h,[])}function ai(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Mt(e.onDisconnect_,t),hi(0,n,r,i)}))}function si(e,t,n,r){var i=at(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Dt(e.onDisconnect_,t,i),hi(0,r,n,o)}))}function ui(e,t,n){var r;r=".info"===pe(t._path)?Xn(e.infoSyncTree_,t,n):Xn(e.serverSyncTree_,t,n),Yr(e.eventQueue_,t._path,r)}function ci(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Jr)}function li(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),I.apply(void 0,(0,a.ev)([r],(0,a.CR)(t)))}function hi(e,t,n,r){t&&z((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function fi(e,t,n){return tr(e.serverSyncTree_,t,n)||it.EMPTY_NODE}function di(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||yi(e,t),Er(t)){var n=gi(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=fi(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.hu)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Ee(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){li(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Jn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);for(yi(e,_r(e.transactionQueueTree_,t)),di(e,e.transactionQueueTree_),Kr(e.eventQueue_,t,i),s=0;s<o.length;s++)z(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else for(x("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;pi(e,t)}}),s)}(e,xr(t),n)}else Cr(t)&&Tr(t,(function(t){di(e,t)}))}function pi(e,t){var n=mi(e,t),r=xr(n);return function(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=Ee(n,l.path),f=!1;if((0,o.hu)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat(Jn(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)f=!0,u="maxretry",i=i.concat(Jn(e.serverSyncTree_,l.currentWriteId,!0));else{var d=fi(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Rr("transaction failed: Data returned ",p,l.path);var m=at(p);"object"==typeof p&&null!=p&&(0,o.r3)(p,".priority")||(m=m.updatePriority(d.getPriority()));var g=l.currentWriteId,v=ei(e),y=yr(m,d,v);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=y,l.currentWriteId=ii(e),a.splice(a.indexOf(g),1),i=(i=i.concat(Zn(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(Jn(e.serverSyncTree_,g,!0))}else f=!0,u="nodata",i=i.concat(Jn(e.serverSyncTree_,l.currentWriteId,!0))}Kr(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);for(yi(e,e.transactionQueueTree_),u=0;u<r.length;u++)z(r[u]);di(e,e.transactionQueueTree_)}}(e,gi(e,n),r),r}function mi(e,t){var n,r=e.transactionQueueTree_;for(n=pe(t);null!==n&&void 0===Er(r);)r=_r(r,n),n=pe(t=ge(t));return r}function gi(e,t){var n=[];return vi(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function vi(e,t,n){var r=Er(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Tr(t,(function(t){vi(e,t,n)}))}function yi(e,t){var n=Er(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ir(t,n.length>0?n:void 0)}Tr(t,(function(t){yi(e,t)}))}function bi(e,t){var n=xr(mi(e,t)),r=_r(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){wi(e,t)})),wi(e,r),Sr(r,(function(t){wi(e,t)})),n}function wi(e,t){var n=Er(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Jn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?Ir(t,void 0):n.length=a+1,Kr(e.eventQueue_,xr(t),i),s=0;s<r.length;s++)z(r[s])}}var _i=function(e,t){var n=Ei(e),r=n.namespace;"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&x("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new K(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new fe(n.pathString)}},Ei=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.XA)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):x("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Ii=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},e}(),Ci=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ti=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Si=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.BH;return ai(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Vr("OnDisconnect.remove",this._path);var e=new o.BH;return si(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Vr("OnDisconnect.set",this._path),Pr("OnDisconnect.set",e,this._path,!1);var t=new o.BH;return si(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Vr("OnDisconnect.setWithPriority",this._path),Pr("OnDisconnect.setWithPriority",e,this._path,!1),Fr("OnDisconnect.setWithPriority",t,!1);var n=new o.BH;return function(e,t,n,r,i){var o=at(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Dt(e.onDisconnect_,t,o),hi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Vr("OnDisconnect.update",this._path),jr("OnDisconnect.update",e,this._path,!1);var t=new o.BH;return function(e,t,n,r){if((0,o.xb)(n))return I("onDisconnect().update() called with empty data.  Don't do anything."),void hi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&R(n,(function(n,r){var i=at(r);Dt(e.onDisconnect_,we(t,n),i)})),hi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),xi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return _e(this._path)?null:ve(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Di(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=xt(this._queryParams),t=O(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return xt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.m9)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ce(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function ki(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ni(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===je){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==N)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==A)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===$e){if(null!=t&&!Or(t)||null!=n&&!Or(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof ct||e.getIndex()===lt,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ai(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Di=function(e){function t(t,n){return e.call(this,t,n,new Et,!1)||this}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=be(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(xi),Mi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new fe(t),r=Pi(this.ref,t);return new e(this._node.getChild(n),r,$e)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Pi(n.ref,r),$e))}))},e.prototype.hasChild=function(e){var t=new fe(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Li(e,t){return(e=(0,o.m9)(e))._checkNotDeleted("ref"),void 0!==t?Pi(e._root,t):e._root}function Oi(e,t){(e=(0,o.m9)(e))._checkNotDeleted("refFromURL");var n=_i(t,e._repo.repoInfo_.nodeAdmin);qr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Li(e,n.path.toString())}function Pi(e,t){var n;return null===pe((e=(0,o.m9)(e))._path)?("child","path",!1,(n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Br("child","path",n,false)):Br("child","path",t,!1),new Di(e._repo,we(e._path,t))}function Ri(e,t){e=(0,o.m9)(e),Vr("push",e._path),Pr("push",t,e._path,!0);var n,r=Xr(e._repo),i=ft(r),a=Pi(e,i),s=Pi(e,i);return n=null!=t?Fi(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function ji(e){return Vr("remove",e._path),Fi(e,null)}function Fi(e,t){e=(0,o.m9)(e),Vr("set",e._path),Pr("set",t,e._path,!1);var n=new o.BH;return oi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Ui(e,t){e=(0,o.m9)(e),Vr("setPriority",e._path),Fr("setPriority",t,!1);var n=new o.BH;return oi(e._repo,we(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function zi(e,t,n){if(Vr("setWithPriority",e._path),Pr("setWithPriority",t,e._path,!1),Fr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.BH;return oi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Bi(e,t){jr("update",t,e._path,!1);var n=new o.BH;return function(e,t,n,r){li(e,"update",{path:t.toString(),value:n});var i=!0,a=ei(e),s={};if(R(n,(function(n,r){i=!1,s[n]=vr(we(t,n),at(r),e.serverSyncTree_,a)})),i)I("update() called with empty data.  Don't do anything."),hi(0,r,"ok",void 0);else{var u=ii(e),c=function(e,t,n,r){!function(e,t,n,r){(0,o.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=en(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Jt.fromObject(n);return nr(e,new Vt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,u);Hr(e.eventQueue_,c),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||x("update at "+t+" failed: "+n);var a=Jn(e.serverSyncTree_,u,!o),s=a.length>0?pi(e,t):t;Kr(e.eventQueue_,s,a),hi(0,r,n,i)})),R(n,(function(n){var r=bi(e,we(t,n));pi(e,r)})),Kr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Vi(e){return function(e,t){var n=function(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Ee(e,n);r=r||qn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||qn(i,de()):(i=new Un,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new qt(r,!0,!1):null;return Qt(Bn(i,t,ln(e.pendingWriteTree_,t._path),o?a.getNode():it.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=at(n),i=$n(e.serverSyncTree_,t._path,r);return Yr(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return li(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.m9)(e))._repo,e).then((function(t){return new Mi(t,new Di(e._repo,e._path),e._queryParams.getIndex())}))}var qi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Ii("value",this,new Mi(e.snapshotNode,new Di(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ci(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Gi=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ci(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");var n=Pi(new Di(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ii(e.type,this,new Mi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Wi(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){ui(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Ti(n,o||void 0),c="value"===t?new qi(u):new Gi(t,u);return function(e,t,n){var r;r=".info"===pe(t._path)?er(e.infoSyncTree_,t,n):er(e.serverSyncTree_,t,n),Yr(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return ui(e._repo,e,c)}}function Hi(e,t,n,r){return Wi(e,"value",t,n,r)}function Yi(e,t,n,r){return Wi(e,"child_added",t,n,r)}function Ki(e,t,n,r){return Wi(e,"child_changed",t,n,r)}function Qi(e,t,n,r){return Wi(e,"child_moved",t,n,r)}function Zi(e,t,n,r){return Wi(e,"child_removed",t,n,r)}function Ji(e,t,n){var r=null,i=n?new Ti(n):null;"value"===t?r=new qi(i):t&&(r=new Gi(t,i)),ui(e._repo,e,r)}var $i=function(){},Xi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Pr("endAt",this._value,e._path,!0);var t=Ct(e._queryParams,this._value,this._key);if(Ai(t),Ni(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xi(e._repo,e._path,t,e._orderByCalled)},t}($i);function eo(e,t){return zr("endAt","key",t,!0),new Xi(e,t)}var to=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Pr("endBefore",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===je?("string"==typeof n&&(n=pt(n)),i=Ct(t,n,r)):i=Ct(t,n,null==r?N:pt(r)),i.endBeforeSet_=!0,i);if(Ai(o),Ni(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xi(e._repo,e._path,o,e._orderByCalled)},t}($i);function no(e,t){return zr("endBefore","key",t,!0),new to(e,t)}var ro=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Pr("startAt",this._value,e._path,!0);var t=It(e._queryParams,this._value,this._key);if(Ai(t),Ni(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xi(e._repo,e._path,t,e._orderByCalled)},t}($i);function io(e,t){return void 0===e&&(e=null),zr("startAt","key",t,!0),new ro(e,t)}var oo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Pr("startAfter",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===je?("string"==typeof n&&(n=dt(n)),i=It(t,n,r)):i=It(t,n,null==r?A:dt(r)),i.startAfterSet_=!0,i);if(Ai(o),Ni(o),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new xi(e._repo,e._path,o,e._orderByCalled)},t}($i);function ao(e,t){return zr("startAfter","key",t,!0),new oo(e,t)}var so=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new xi(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled);var t,n,r},t}($i);function uo(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new so(e)}var co=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new xi(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled);var t,n,r},t}($i);function lo(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new co(e)}var ho=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ki(e,"orderByChild");var t=new fe(this._path);if(_e(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ct(t),r=Tt(e._queryParams,n);return Ni(r),new xi(e._repo,e._path,r,!0)},t}($i);function fo(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Br("orderByChild","path",e,!1),new ho(e)}var po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ki(e,"orderByKey");var t=Tt(e._queryParams,je);return Ni(t),new xi(e._repo,e._path,t,!0)},t}($i);function mo(){return new po}var go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ki(e,"orderByPriority");var t=Tt(e._queryParams,$e);return Ni(t),new xi(e._repo,e._path,t,!0)},t}($i);function vo(){return new go}var yo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ki(e,"orderByValue");var t=Tt(e._queryParams,lt);return Ni(t),new xi(e._repo,e._path,t,!0)},t}($i);function bo(){return new yo}var wo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(Pr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Xi(this._value,this._key)._apply(new ro(this._value,this._key)._apply(e))},t}($i);function _o(e,t){return zr("equalTo","key",t,!0),new wo(e,t)}function Eo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.m9)(e);try{for(var u=(0,a.XA)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.hu)(!Dn,"__referenceConstructor has already been defined"),Dn=e}(Di),function(e){(0,o.hu)(!Fn,"__referenceConstructor has already been defined"),Fn=e}(Di);var Io={},Co=!1;function To(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),I("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=_i(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=_i(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new G(G.OWNER):new q(e.name,e.options,t);qr("Invalid Firebase Database URL",s),_e(s.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Io[t.name];i||(i={},Io[t.name]=i);var o=i[e.toURLString()];return o&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new $r(e,Co,n,r),i[e.toURLString()]=o,o}(u,e,l,new V(e.name,n));return new So(h,e)}var So=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){if(e.stats_=X(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new kt(e.repoInfo_,(function(t,n,r,i){ti(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return ni(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Le(e.repoInfo_,t,(function(t,n,r,i){ti(e,t,n,r,i)}),(function(t){ni(e,t)}),(function(t){!function(e,t){R(t,(function(t,n){ri(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=function(){return new Rt(e.stats_,e.server_)},i=e.repoInfo_.toString(),$[i]||($[i]=r()),$[i]),e.infoData_=new Nt,e.infoSyncTree_=new Qn({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=$n(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),ri(e,"connected",!1),e.serverSyncTree_=new Qn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Kr(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Di(this._repo,de())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=Io[t])&&n[e.key]===e||S("Database "+t+"("+e.repoInfo_+") has already been deleted."),ci(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&S("Cannot call "+e+" on a deleted database.")},e}();function xo(e){(e=(0,o.m9)(e))._checkNotDeleted("goOffline"),ci(e._repo)}function ko(e){var t;(e=(0,o.m9)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Jr)}var No={".sv":"timestamp"},Ao=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Do(e,t,n){var r;if(e=(0,o.m9)(e),Vr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new o.BH,s=Hi(e,(function(){}));return function(t,n,r,i,s,u){li(t,"transaction on "+n);var c={path:n,update:r,onComplete:function(t,n,r){var i=null;t?a.reject(t):(i=new Mi(r,new Di(e._repo,e._path),$e),a.resolve(new Ao(n,i)))},status:null,order:v(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=fi(t,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Rr("transaction failed: Data returned ",h,c.path),c.status=0;var f=_r(t.transactionQueueTree_,n),d=Er(f)||[];d.push(c),Ir(f,d);var p=void 0;"object"==typeof h&&null!==h&&(0,o.r3)(h,".priority")?(p=(0,o.DV)(h,".priority"),(0,o.hu)(Or(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(tr(t.serverSyncTree_,n)||it.EMPTY_NODE).getPriority().val();var m=ei(t),g=at(h,p),y=yr(g,l,m);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=y,c.currentWriteId=ii(t);var b=Zn(t.serverSyncTree_,n,y,c.currentWriteId,c.applyLocally);Kr(t.eventQueue_,n,b),di(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,s,i),a.promise}var Mo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,x("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Lo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Oo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Br("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Br("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ro(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Po=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Oo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Hi(this._delegate,c,l),n;case"child_added":return Yi(this._delegate,c,l),n;case"child_removed":return Zi(this._delegate,c,l),n;case"child_changed":return Ki(this._delegate,c,l),n;case"child_moved":return Qi(this._delegate,c,l),n;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.Dv)("Query.off",0,3,arguments.length),Ur("Query.off",e,!0),(0,o.Wj)("Query.off","callback",t,!0),(0,o.lb)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Ji(this._delegate,e,r)}else Ji(this._delegate,e)},e.prototype.get=function(){var e=this;return Vi(this._delegate).then((function(t){return new Oo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.BH,c=function(e,t){var r=new Oo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":Hi(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Yi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Zi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Ki(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Qi(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Eo(this._delegate,uo(t)))},e.prototype.limitToLast=function(t){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new e(this.database,Eo(this._delegate,lo(t)))},e.prototype.orderByChild=function(t){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new e(this.database,Eo(this._delegate,fo(t)))},e.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new e(this.database,Eo(this._delegate,mo()))},e.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Eo(this._delegate,vo()))},e.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new e(this.database,Eo(this._delegate,bo()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new e(this.database,Eo(this._delegate,io(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new e(this.database,Eo(this._delegate,ao(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new e(this.database,Eo(this._delegate,eo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new e(this.database,Eo(this._delegate,no(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new e(this.database,Eo(this._delegate,_o(t,n)))},e.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,o.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Ro(this.database,new Di(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Ro=function(e){function t(t,n){var r=e.call(this,t,new xi(n._repo,n._path,new Et,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.ZT)(t,e),t.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,Pi(this._delegate,e))},t.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",t,!0);var n=Fi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,x("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vr("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",t,!0);var i=Bi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=zi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",e,!0);var t=ji(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,o.Wj)("Reference.transaction","onComplete",t,!0),Gr("Reference.transaction","applyLocally",n,!0);var i=Do(this._delegate,e,{applyLocally:n}).then((function(e){return new Lo(e.committed,new Oo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",t,!0);var n=Ui(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",n,!0);var i=Ri(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Vr("Reference.onDisconnect",this._delegate._path),new Mo(new Si(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Po),jo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={}),(e=(0,o.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&S('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new G(G.OWNER);else if(r.mockUserToken){var s=(0,o.Sg)(r.mockUserToken,e.app.options.projectId);a=new G(s)}!function(e,t,n,r){e.repoInfo_=new K(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.Dv)("database.ref",0,1,arguments.length),e instanceof Ro){var t=Oi(this._delegate,e.toString());return new Ro(this,t)}return t=Li(this._delegate,e),new Ro(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.Dv)(t,1,1,arguments.length);var n=Oi(this._delegate,e);return new Ro(this,n)},e.prototype.goOffline=function(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),xo(this._delegate)},e.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),ko(this._delegate)},e.ServerValue={TIMESTAMP:No,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}(),Fo=Object.freeze({__proto__:null,forceLongPolling:function(){ae.forceDisallow(),re.forceAllow()},forceWebSockets:function(){re.forceDisallow()},isWebSocketsAvailable:function(){return ae.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Pt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);R(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n;e.stats_.incrementCounter(t),n=t,e.statsReporter_.statsToReport_[n]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.zt("auth-internal",new i.H0("database-standalone"));return l.setComponent(new i.wA("auth-internal",(function(){return o}),"PRIVATE")),{instance:new jo(To(t,l,void 0,n,u),t),namespace:a}}}),Uo=Le;Le.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Le.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var zo=ue,Bo=K,Vo=Object.freeze({__proto__:null,DataConnection:Uo,RealTimeConnection:zo,hijackHash:function(e){var t=Le.prototype.put;return Le.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Le.prototype.put=t}},ConnectionTarget:Bo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Co=e}(e)}}),qo=jo.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.wA("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new jo(To(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Ro,Query:Po,Database:jo,DataSnapshot:Oo,enableLogging:E,INTERNAL:Fo,ServerValue:qo,TEST_ACCESS:Vo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.10.1"),(0,o.Yr)()&&(e.exports=n)}(r.Z)},861:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,{in:function(){return o},Yd:function(){return h},Ub:function(){return f},Am:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},574:function(e,t,n){"use strict";n.d(t,{BH:function(){return f},LL:function(){return T},ZR:function(){return C},gQ:function(){return F},hu:function(){return i},g5:function(){return o},US:function(){return s},h$:function(){return u},r3:function(){return L},Sg:function(){return d},ne:function(){return U},p$:function(){return l},ZB:function(){return h},gK:function(){return q},m9:function(){return K},z$:function(){return p},GJ:function(){return M},jU:function(){return v},ru:function(){return y},d:function(){return w},xb:function(){return P},w1:function(){return _},uI:function(){return m},UG:function(){return g},Yr:function(){return I},b$:function(){return b},Mn:function(){return E},w9:function(){return D},cI:function(){return k},UI:function(){return R},xO:function(){return j},DV:function(){return O},ug:function(){return Y},dS:function(){return H},Pz:function(){return N},Dv:function(){return V},Wj:function(){return G},lb:function(){return W}});var r=n(622),i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=a(e);return s.encodeByteArray(t,!0)},c=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),s.encodeString(JSON.stringify(a),!1),""].join(".")}function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function g(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function v(){return"object"==typeof self&&self.self===self}function y(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return p().indexOf("Electron/")>=0}function _(){var e=p();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return p().indexOf("MSAppHost/")>=0}function I(){return!1}var C=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,T.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),T=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?S(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new C(i,s,r);return u},e}();function S(e,t){return e.replace(x,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var x=/\{\$([^}]+)}/g;function k(e){return JSON.parse(e)}function N(e){return JSON.stringify(e)}var A=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=k(c(o[0])||""),n=k(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},D=function(e){var t=A(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},M=function(e){var t=A(e).claims;return"object"==typeof t&&!0===t.admin};function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function P(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function R(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function j(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var F=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function U(e,t){var n=new z(e,t);return n.subscribe.bind(n)}var z=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function B(){}var V=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function q(e,t){return e+" failed: "+t+" argument "}function G(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(q(e,t)+"must be a valid function.")}function W(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(q(e,t)+"must be a valid context object.")}var H=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},Y=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function K(e){return e&&e._delegate?e._delegate:e}},773:function(e,t,n){"use strict";var r=n(972),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),m=u(n),g=0;g<a.length;++g){var v=a[g];if(!(o[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=f(n,v);try{c(t,v,y)}catch(e){}}}}return t}},411:function(e,t,n){!function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t,n,r,o,s,u,c,l,d,p,m,g,v,y,b,w,_,E,I,C,T,S,x,k,N,A,D,M,L,O,P,R,j,F,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z="data-keen-slider-moves",B="data-keen-slider-v",V=[],q=null,G=!1,W=!1,H=0,Y=[];function K(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.addEventListener(t,n,r),V.push([e,t,n,r])}function Q(e){if(E&&I===X(e)&&ce()){var n=te(e).x;if(!re(e)&&k)return J(e);k&&(Ge(),C=n,k=!1),e.cancelable&&e.preventDefault();var r=C-n;N+=Math.abs(r),!A&&N>5&&(A=!0,t.setAttribute(z,!0)),Re(x(r,Ze)*(he()?-1:1),e.timeStamp),C=n}}function Z(e){E||!ce()||ne(e.target)||(E=!0,k=!0,I=X(e),A=!1,N=0,re(e),me(),_=p,C=te(e).x,Re(0,e.timeStamp),se("dragStart"))}function J(e){E&&I===X(e,!0)&&ce()&&(t.removeAttribute(z),E=!1,ye(),se("dragEnd"))}function $(e){return e.changedTouches}function X(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?$(e):ee(e);return t?t[0]?t[0].identifier:"error":"default"}function ee(e){return e.targetTouches}function te(e){var t=ee(e);return{x:de()?t?t[0].screenY:e.pageY:t?t[0].screenX:e.pageX,timestamp:e.timeStamp}}function ne(e){return e.hasAttribute(w.preventEvent)}function re(e){var t=ee(e);if(!t)return!0;var n=t[0],r=de()?n.clientY:n.clientX,i=de()?n.clientX:n.clientY,o=void 0!==T&&void 0!==S&&Math.abs(S-i)<=Math.abs(T-r);return T=r,S=i,o}function ie(e){ce()&&E&&e.preventDefault()}function oe(){K(window,"orientationchange",De),K(window,"resize",(function(){return Ae()})),K(t,"dragstart",(function(e){ce()&&e.preventDefault()})),K(t,"mousedown",Z),K(w.cancelOnLeave?t:window,"mousemove",Q),w.cancelOnLeave&&K(t,"mouseleave",J),K(window,"mouseup",J),K(t,"touchstart",Z,{passive:!0}),K(t,"touchmove",Q,{passive:!1}),K(t,"touchend",J,{passive:!0}),K(t,"touchcancel",J,{passive:!0}),K(window,"wheel",ie,{passive:!1})}function ae(){V.forEach((function(e){e[0].removeEventListener(e[1],e[2],e[3])})),V=[]}function se(e){w[e]&&w[e](Ze)}function ue(){return w.centered}function ce(){return void 0!==n?n:w.controls}function le(){return w.loop&&r>1}function he(){return w.rtl}function fe(){return!w.loop&&w.rubberband}function de(){return!!w.vertical}function pe(){D=window.requestAnimationFrame(ge)}function me(){D&&(window.cancelAnimationFrame(D),D=null),M=null}function ge(e){M||(M=e);var t=e-M,n=ve(t);if(t>=O)return Re(L-R,!1),F?F():void se("afterChange");var r=je(n);if(0===r||le()||fe()||j){if(0!==r&&fe()&&!j)return Ie();R+=n,Re(n,!1),pe()}else Re(n-r,!1)}function ve(e){return L*P(e/O)-R}function ye(){switch(se("beforeChange"),w.mode){case"free":_e();break;case"free-snap":Ee();break;case"snap":default:be()}}function be(){we((1===c&&0!==m?_:p)+Math.sign(m))}function we(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.duration,r=function(e){return 1+--e*e*e*e*e};Ce(Be(e=ze(e,arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4])),n,r,t)}function _e(){if(0===v)return!(!je(0)||le())&&we(p);var e=w.friction/Math.pow(Math.abs(v),-.5);Ce(Math.pow(v,2)/e*Math.sign(v),6*Math.abs(v/e),(function(e){return 1-Math.pow(1-e,5)}))}function Ee(){if(0===v)return we(p);var e=w.friction/Math.pow(Math.abs(v),-.5),t=Math.pow(v,2)/e*Math.sign(v),n=6*Math.abs(v/e),r=(H+t)/(u/c);Ce((-1===m?Math.floor(r):Math.ceil(r))*(u/c)-H,n,(function(e){return 1-Math.pow(1-e,5)}))}function Ie(){if(me(),0===v)return we(p,!0);var e=.04/Math.pow(Math.abs(v),-.5),t=Math.pow(v,2)/e*Math.sign(v),n=function(e){return--e*e*e+1},r=v;Ce(t,3*Math.abs(r/e),n,!0,(function(){Ce(Be(ze(p)),500,n,!0)}))}function Ce(e,t,n,r,i){me(),L=e,R=0,O=t,P=n,j=r,F=i,M=null,pe()}function Te(n){var r=h(e);r.length&&(t=r[0],Ae(n),oe(),se("mounted"))}function Se(){var e,t=U.breakpoints||[];for(var n in t)window.matchMedia(n).matches&&(e=n);if(e===q)return!0;var r=(q=e)?t[q]:U;r.breakpoints&&q&&delete r.breakpoints,w=i(i(i({},Qe),U),r),G=!0,d=null,se("optionsChanged"),Ne()}function xe(e){return"function"==typeof e?e():f(e,1,Math.max(le()?r-1:r,1))}function ke(){Se(),W=!0,se("created")}function Ne(e,t){e&&(U=e),t&&(q=null),Me(),Te(t)}function Ae(e){var n=window.innerWidth;if(Se()&&(n!==d||e)){d=n;var i=w.slides;"number"==typeof i?(s=null,r=i):(s=h(i,t),r=s?s.length:0);var a=w.dragSpeed;x="function"==typeof a?a:function(e){return e*a},u=de()?t.offsetHeight:t.offsetWidth,c=xe(w.slidesPerView),l=f(w.spacing,0,u/(c-1)-1),u+=l,o=ue()?(u/2-u/c/2)/u:0,Oe();var m=!W||G&&w.resetSlide?w.initial:p;Ke(le()?m:Fe(m)),de()&&t.setAttribute(B,!0),G=!1}}function De(e){Ae(),setTimeout(Ae,500),setTimeout(Ae,2e3)}function Me(){ae(),Pe(),t&&t.hasAttribute(B)&&t.removeAttribute(B),se("destroyed")}function Le(){s&&s.forEach((function(e,t){var n=y[t].distance*u-t*(u/c-l/c-l/c*(c-1)),r=de()?0:n,i=de()?n:0,o="translate3d(".concat(r,"px, ").concat(i,"px, 0)");e.style.transform=o,e.style["-webkit-transform"]=o}))}function Oe(){s&&s.forEach((function(e){var t="calc(".concat(100/c,"% - ").concat(l/c*(c-1),"px)");de()?(e.style["min-height"]=t,e.style["max-height"]=t):(e.style["min-width"]=t,e.style["max-width"]=t)}))}function Pe(){if(s){var e=["transform","-webkit-transform"];e=[].concat(a(e),de?["min-height","max-height"]:["min-width","max-width"]),s.forEach((function(t){e.forEach((function(e){t.style.removeProperty(e)}))}))}}function Re(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];qe(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now()),t&&(e=He(e)),H+=e,We()}function je(e){var t=u*(r-1*(ue()?1:c))/c,n=H+e;return n>t?n-t:n<0?n:0}function Fe(e){return f(e,0,r-1-(ue()?0:c-1))}function Ue(){var e=Math.abs(b),t=H<0?1-e:e;return{direction:m,progressTrack:t,progressSlides:t*r/(r-1),positions:y,position:H,speed:v,relativeSlide:(p%r+r)%r,absoluteSlide:p,size:r,slidesPerView:c,widthOrHeight:u}}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return le()?t?Ve(e,n):e:Fe(e)}function Be(e){return-(-u/c*e+H)}function Ve(e,t){var n=(p%r+r)%r,i=n<(e=(e%r+r)%r)?-n-r+e:-(n-e),o=n>e?r-n+e:e-n,a=t?Math.abs(i)<=o?i:o:e<n?i:o;return p+a}function qe(e,t){clearTimeout(g);var n=Math.sign(e);if(n!==m&&Ge(),m=n,Y.push({distance:e,time:t}),g=setTimeout((function(){Y=[],v=0}),50),(Y=Y.slice(-6)).length<=1||0===m)return v=0;var r=Y.slice(0,-1).reduce((function(e,t){return e+t.distance}),0),i=Y[Y.length-1].time,o=Y[0].time;v=f(r/(i-o),-10,10)}function Ge(){Y=[]}function We(){b=le()?H%(u*r/c)/(u*r/c):H/(u*r/c),Ye();for(var e=[],t=0;t<r;t++){var n=(1/r*t-(b<0&&le()?b+1:b))*r/c+o;le()&&(n+=n>(r-1)/c?-r/c:n<-r/c+1?r/c:0);var i=1/c,a=n+i,s=a<i?a/i:a>1?1-(a-1)*c/1:1;e.push({portion:s<0||s>1?0:s,distance:he()?-1*n+1-i:n})}y=e,Le(),se("move")}function He(e){if(le())return e;var t,n=je(e);return fe()?0===n?e:e*(t=n/u,(1-Math.abs(t))*(1-Math.abs(t))):e-n}function Ye(){var e=Math.round(H/(u/c));e!==p&&(!le()&&(e<0||e>r-1)||(p=e,se("slideChanged")))}function Ke(e){se("beforeChange"),Re(Be(e),!1),se("afterChange")}var Qe={centered:!1,breakpoints:null,controls:!0,dragSpeed:1,friction:.0025,loop:!1,initial:0,duration:500,preventEvent:"data-keen-slider-pe",slides:".keen-slider__slide",vertical:!1,resetSlide:!1,slidesPerView:1,spacing:0,mode:"snap",rtl:!1,rubberband:!0,cancelOnLeave:!0},Ze={controls:function(e){n=e},destroy:Me,refresh:function(e){Ne(e,!0)},next:function(){we(p+1,!0)},prev:function(){we(p-1,!0)},moveToSlide:function(e,t){we(e,!0,t)},moveToSlideRelative:function(e){we(e,!0,arguments.length>2?arguments[2]:void 0,!0,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},resize:function(){Ae(!0)},details:function(){return Ue()},options:function(){var e=i({},w);return delete e.breakpoints,e}};return ke(),Ze}function l(e){return Array.prototype.slice.call(e)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"function"==typeof e?l(e()):"string"==typeof e?l(t.querySelectorAll(e)):e instanceof HTMLElement!=0?[e]:e instanceof NodeList!=0?e:[]}function f(e,t,n){return Math.min(Math.max(e,t),n)}Math.sign||(Math.sign=function(e){return(e>0)-(e<0)||+e});var d=function e(t,n){var r=Object.prototype.toString.call(t);if(r!==Object.prototype.toString.call(n))return!1;if(["[object Array]","[object Object]"].indexOf(r)<0)return!1;var i="[object Array]"===r?t.length:Object.keys(t).length;if(i!==("[object Array]"===r?n.length:Object.keys(n).length))return!1;var o=function(t,n){var r=Object.prototype.toString.call(t);if(["[object Array]","[object Object]"].indexOf(r)>=0){if(!e(t,n))return!1}else{if(r!==Object.prototype.toString.call(n))return!1;if("[object Function]"===r){if(t.toString()!==n.toString())return!1}else if(t!==n)return!1}};if("[object Array]"===r){for(var a=0;a<i;a++)if(!1===o(t[a],n[a]))return!1}else for(var s in t)if(t.hasOwnProperty(s)&&!1===o(t[s],n[s]))return!1;return!0};e.default=c,e.useKeenSlider=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=t.useRef();function i(e){return d(r.current,e)||(r.current=e),r.current}var a=o(t.useState(null),2),s=a[0],u=a[1];return t.useEffect((function(){var e=new c(n.current,r.current);return u(e),function(){e.destroy()}}),[i(e)]),[n,s]},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(466))},347:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},508:function(e,t,n){var r=n(710);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return l(new RegExp("(?:"+i.join("|")+")",h(r)),n)}(t,n,i):function(e,t,n){return f(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=p&&p!==m,E="+"===b||"*"===b,I="?"===b||"*"===b,C=n[2]||l,T=v||y;r.push({name:g||o++,prefix:m||"",delimiter:C,optional:I,repeat:E,partial:_,asterisk:!!w,pattern:T?c(T):w?".*":"[^"+u(C)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+a,h(n)),t)}},710:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},270:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";return function(e,t){var n,r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b,w=this,_=!1,E=!0,I=!0,C={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},T=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!l&&O();for(var n,r,i=(e.target||e.srcElement).getAttribute("class")||"",o=0;o<F.length;o++)(n=F[o]).onTap&&i.indexOf("pswp__"+n.name)>-1&&(n.onTap(),r=!0);if(r){e.stopPropagation&&e.stopPropagation(),v=!0;var a=t.features.isOldAndroid?600:30;setTimeout((function(){v=!1}),a)}},S=function(e,n,r){t[(r?"add":"remove")+"Class"](e,"pswp__"+n)},x=function(){var e=1===g.getNumItemsFn();e!==m&&(S(r,"ui--one-slide",e),m=e)},k=function(){S(u,"share-modal--hidden",I)},N=function(){return(I=!I)?(t.removeClass(u,"pswp__share-modal--fade-in"),setTimeout((function(){I&&k()}),300)):(k(),setTimeout((function(){I||t.addClass(u,"pswp__share-modal--fade-in")}),30)),I||D(),!1},A=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),I||N(),1))},D=function(){for(var e,t,n,r,i="",o=0;o<g.shareButtons.length;o++)e=g.shareButtons[o],t=g.getImageURLForShare(e),n=g.getPageURLForShare(e),r=g.getTextForShare(e),i+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(r))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(i=g.parseShareButtonOut(e,i));u.children[0].innerHTML=i,u.children[0].onclick=A},M=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},L=0,O=function(){clearTimeout(b),L=0,l&&w.setIdle(!1)},P=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(b),b=setTimeout((function(){w.setIdle(!0)}),g.timeToIdleOutside))},R=function(e){d!==e&&(S(f,"preloader--active",!e),d=e)},j=function(n){var a=n.vGap;if(!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth){var s=g.barsSize;if(g.captionEl&&"auto"===s.bottom)if(o||((o=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),r.insertBefore(o,i),t.addClass(r,"pswp__ui--fit")),g.addCaptionHTMLFn(n,o,!0)){var u=o.clientHeight;a.bottom=parseInt(u,10)||44}else a.bottom=s.top;else a.bottom="auto"===s.bottom?0:s.bottom;a.top=s.top}else a.top=a.bottom=0},F=[{name:"caption",option:"captionEl",onInit:function(e){i=e}},{name:"share-modal",option:"shareEl",onInit:function(e){u=e},onTap:function(){N()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){N()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){a=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){f=e}}];w.init=function(){var a;t.extend(e.options,C,!0),g=e.options,r=t.getChildByClass(e.scrollWrap,"pswp__ui"),(h=e.listen)("onVerticalDrag",(function(e){E&&e<.95?w.hideControls():!E&&e>=.95&&w.showControls()})),h("onPinchClose",(function(e){E&&e<.9?(w.hideControls(),a=!0):a&&!E&&e>.9&&w.showControls()})),h("zoomGestureEnded",(function(){(a=!1)&&!E&&w.showControls()})),h("beforeChange",w.update),h("doubleTap",(function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)})),h("preventDragEvent",(function(e,t,n){var r=e.target||e.srcElement;r&&r.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(r.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(r.tagName))&&(n.prevent=!1)})),h("bindEvents",(function(){t.bind(r,"pswpTap click",T),t.bind(e.scrollWrap,"pswpTap",w.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",w.onMouseOver)})),h("unbindEvents",(function(){I||N(),y&&clearInterval(y),t.unbind(document,"mouseout",P),t.unbind(document,"mousemove",O),t.unbind(r,"pswpTap click",T),t.unbind(e.scrollWrap,"pswpTap",w.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",w.onMouseOver),n&&(t.unbind(document,n.eventK,w.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)})),h("destroy",(function(){g.captionEl&&(o&&r.removeChild(o),t.removeClass(i,"pswp__caption--empty")),u&&(u.children[0].onclick=null),t.removeClass(r,"pswp__ui--over-close"),t.addClass(r,"pswp__ui--hidden"),w.setIdle(!1)})),g.showAnimationDuration||t.removeClass(r,"pswp__ui--hidden"),h("initialZoomIn",(function(){g.showAnimationDuration&&t.removeClass(r,"pswp__ui--hidden")})),h("initialZoomOut",(function(){t.addClass(r,"pswp__ui--hidden")})),h("parseVerticalMargin",j),function(){var e,n,i,o=function(r){if(r)for(var o=r.length,a=0;a<o;a++){e=r[a],n=e.className;for(var s=0;s<F.length;s++)i=F[s],n.indexOf("pswp__"+i.name)>-1&&(g[i.option]?(t.removeClass(e,"pswp__element--disabled"),i.onInit&&i.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};o(r.children);var a=t.getChildByClass(r,"pswp__top-bar");a&&o(a.children)}(),g.shareEl&&s&&u&&(I=!0),x(),g.timeToIdle&&h("mouseUsed",(function(){t.bind(document,"mousemove",O),t.bind(document,"mouseout",P),y=setInterval((function(){2==++L&&w.setIdle(!0)}),g.timeToIdle/2)})),g.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=w.getFullscreenAPI()),n?(t.bind(document,n.eventK,w.updateFullscreen),w.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),g.preloaderEl&&(R(!0),h("beforeChange",(function(){clearTimeout(p),p=setTimeout((function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&R(!1):R(!0)}),g.loadingIndicatorDelay)})),h("imageLoadComplete",(function(t,n){e.currItem===n&&R(!0)})))},w.setIdle=function(e){l=e,S(r,"ui--idle",e)},w.update=function(){E&&e.currItem?(w.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,i),S(i,"caption--empty",!e.currItem.title)),_=!0):_=!1,I||N(),x()},w.updateFullscreen=function(r){r&&setTimeout((function(){e.setScrollOffset(0,t.getScrollY())}),50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},w.updateIndexIndicator=function(){g.counterEl&&(a.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},w.onGlobalTap=function(n){var r=(n=n||window.event).target||n.srcElement;if(!v)if(n.detail&&"mouse"===n.detail.pointerType){if(M(r))return void e.close();t.hasClass(r,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(E?w.hideControls():w.showControls()),g.tapToClose&&(t.hasClass(r,"pswp__img")||M(r)))return void e.close()},w.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;S(r,"ui--over-close",M(t))},w.hideControls=function(){t.addClass(r,"pswp__ui--hidden"),E=!1},w.showControls=function(){E=!0,_||w.update(),t.removeClass(r,"pswp__ui--hidden")},w.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},w.getFullscreenAPI=function(){var t,n=document.documentElement,r="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:r}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+r}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+r}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}})?r.call(t,n,t,e):r)||(e.exports=i)},357:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";return function(e,t,n,r){var i={features:null,bind:function(e,t,n,r){var i=(r?"remove":"add")+"EventListener";t=t.split(" ");for(var o=0;o<t.length;o++)t[o]&&e[i](t[o],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){i.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(i.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var r=e.length;r--;)if(e[r][n]===t)return r;return-1},extend:function(e,t,n){for(var r in t)if(t.hasOwnProperty(r)){if(n&&e.hasOwnProperty(r))continue;e[r]=t[r]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(i.features)return i.features;var e=i.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!n.pointerEvent){var r=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var o=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);o&&o.length>0&&(o=parseInt(o[1],10))>=1&&o<8&&(n.isOldIOSPhone=!0)}var a=r.match(/Android\s([0-9\.]*)/),s=a?a[1]:0;(s=parseFloat(s))>=1&&(s<4.4&&(n.isOldAndroid=!0),n.androidVersion=s),n.isMobileOpera=/opera mini|opera mobi/i.test(r)}for(var u,c,l=["transform","perspective","animationName"],h=["","webkit","Moz","ms","O"],f=0;f<4;f++){t=h[f];for(var d=0;d<3;d++)u=l[d],c=t+(t?u.charAt(0).toUpperCase()+u.slice(1):u),!n[u]&&c in e&&(n[u]=c);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var p=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-p)),r=window.setTimeout((function(){e(t+n)}),n);return p=t+n,r},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=n,n}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,n,r){t=t.split(" ");for(var i,o=(r?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(i=t[s])if("object"==typeof n&&n.handleEvent){if(r){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=a;e[o]("on"+i,n["oldIE"+i])}else e[o]("on"+i,n)});var o=this,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};i.extend(a,r);var s,u,c,l,h,f,d,p,m,g,v,y,b,w,_,E,I,C,T,S,x,k,N,A,D,M,L,O,P,R,j,F,U,z,B,V,q,G,W,H,Y,K,Q,Z,J,$,X,ee,te,ne,re,ie,oe,ae,se,ue,ce={x:0,y:0},le={x:0,y:0},he={x:0,y:0},fe={},de=0,pe={},me={x:0,y:0},ge=0,ve=!0,ye=[],be={},we=!1,_e=function(e,t){i.extend(o,t.publicMethods),ye.push(e)},Ee=function(e){var t=Bt();return e>t-1?e-t:e<0?t+e:e},Ie={},Ce=function(e,t){return Ie[e]||(Ie[e]=[]),Ie[e].push(t)},Te=function(e){var t=Ie[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var r=0;r<t.length;r++)t[r].apply(o,n)}},Se=function(){return(new Date).getTime()},xe=function(e){ae=e,o.bg.style.opacity=e*a.bgOpacity},ke=function(e,t,n,r,i){(!we||i&&i!==o.currItem)&&(r/=i?i.fitRatio:o.currItem.fitRatio),e[k]=y+t+"px, "+n+"px"+b+" scale("+r+")"},Ne=function(e){te&&(e&&(g>o.currItem.fitRatio?we||(Zt(o.currItem,!1,!0),we=!0):we&&(Zt(o.currItem),we=!1)),ke(te,he.x,he.y,g))},Ae=function(e){e.container&&ke(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},De=function(e,t){t[k]=y+e+"px, 0px"+b},Me=function(e,t){if(!a.loop&&t){var n=l+(me.x*de-e)/me.x,r=Math.round(e-lt.x);(n<0&&r>0||n>=Bt()-1&&r<0)&&(e=lt.x+r*a.mainScrollEndFriction)}lt.x=e,De(e,h)},Le=function(e,t){var n=ht[e]-pe[e];return le[e]+ce[e]+n-n*(t/v)},Oe=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Pe=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Re=null,je=function(){Re&&(i.unbind(document,"mousemove",je),i.addClass(e,"pswp--has_mouse"),a.mouseUsed=!0,Te("mouseUsed")),Re=setTimeout((function(){Re=null}),100)},Fe=function(e,t){var n=Ht(o.currItem,fe,e);return t&&(ee=n),n},Ue=function(e){return e||(e=o.currItem),e.initialZoomLevel},ze=function(e){return e||(e=o.currItem),e.w>0?a.maxSpreadZoom:1},Be=function(e,t,n,r){return r===o.currItem.initialZoomLevel?(n[e]=o.currItem.initialPosition[e],!0):(n[e]=Le(e,r),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Ve=function(e){var t="";a.escKey&&27===e.keyCode?t="close":a.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,o[t]()))},qe=function(e){e&&(K||Y||ne||q)&&(e.preventDefault(),e.stopPropagation())},Ge=function(){o.setScrollOffset(0,i.getScrollY())},We={},He=0,Ye=function(e){We[e]&&(We[e].raf&&M(We[e].raf),He--,delete We[e])},Ke=function(e){We[e]&&Ye(e),We[e]||(He++,We[e]={})},Qe=function(){for(var e in We)We.hasOwnProperty(e)&&Ye(e)},Ze=function(e,t,n,r,i,o,a){var s,u=Se();Ke(e);var c=function(){if(We[e]){if((s=Se()-u)>=r)return Ye(e),o(n),void(a&&a());o((n-t)*i(s/r)+t),We[e].raf=D(c)}};c()},Je={shout:Te,listen:Ce,viewportSize:fe,options:a,isMainScrollAnimating:function(){return ne},getZoomLevel:function(){return g},getCurrentIndex:function(){return l},isDragging:function(){return W},isZooming:function(){return $},setScrollOffset:function(e,t){pe.x=e,R=pe.y=t,Te("updateScrollOffset",pe)},applyZoomPan:function(e,t,n,r){he.x=t,he.y=n,g=e,Ne(r)},init:function(){if(!s&&!u){var n;o.framework=i,o.template=e,o.bg=i.getChildByClass(e,"pswp__bg"),L=e.className,s=!0,j=i.detectFeatures(),D=j.raf,M=j.caf,k=j.transform,P=j.oldIE,o.scrollWrap=i.getChildByClass(e,"pswp__scroll-wrap"),o.container=i.getChildByClass(o.scrollWrap,"pswp__container"),h=o.container.style,o.itemHolders=E=[{el:o.container.children[0],wrap:0,index:-1},{el:o.container.children[1],wrap:0,index:-1},{el:o.container.children[2],wrap:0,index:-1}],E[0].el.style.display=E[2].el.style.display="none",function(){if(k){var t=j.perspective&&!A;return y="translate"+(t?"3d(":"("),void(b=j.perspective?", 0px)":")")}k="left",i.addClass(e,"pswp--ie"),De=function(e,t){t.left=e+"px"},Ae=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,r=t*e.w,i=t*e.h;n.width=r+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Ne=function(){if(te){var e=te,t=o.currItem,n=t.fitRatio>1?1:t.fitRatio,r=n*t.w,i=n*t.h;e.width=r+"px",e.height=i+"px",e.left=he.x+"px",e.top=he.y+"px"}}}(),m={resize:o.updateSize,orientationchange:function(){clearTimeout(F),F=setTimeout((function(){fe.x!==o.scrollWrap.clientWidth&&o.updateSize()}),500)},scroll:Ge,keydown:Ve,click:qe};var r=j.isOldIOSPhone||j.isOldAndroid||j.isMobileOpera;for(j.animationName&&j.transform&&!r||(a.showAnimationDuration=a.hideAnimationDuration=0),n=0;n<ye.length;n++)o["init"+ye[n]]();t&&(o.ui=new t(o,i)).init(),Te("firstUpdate"),l=l||a.index||0,(isNaN(l)||l<0||l>=Bt())&&(l=0),o.currItem=zt(l),(j.isOldIOSPhone||j.isOldAndroid)&&(ve=!1),e.setAttribute("aria-hidden","false"),a.modal&&(ve?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),void 0===R&&(Te("initialLayout"),R=O=i.getScrollY());var c="pswp--open ";for(a.mainClass&&(c+=a.mainClass+" "),a.showHideOpacity&&(c+="pswp--animate_opacity "),c+=A?"pswp--touch":"pswp--notouch",c+=j.animationName?" pswp--css_animation":"",c+=j.svg?" pswp--svg":"",i.addClass(e,c),o.updateSize(),f=-1,ge=null,n=0;n<3;n++)De((n+f)*me.x,E[n].el.style);P||i.bind(o.scrollWrap,p,o),Ce("initialZoomInEnd",(function(){o.setContent(E[0],l-1),o.setContent(E[2],l+1),E[0].el.style.display=E[2].el.style.display="block",a.focus&&e.focus(),i.bind(document,"keydown",o),j.transform&&i.bind(o.scrollWrap,"click",o),a.mouseUsed||i.bind(document,"mousemove",je),i.bind(window,"resize scroll orientationchange",o),Te("bindEvents")})),o.setContent(E[1],l),o.updateCurrItem(),Te("afterInit"),ve||(w=setInterval((function(){He||W||$||g!==o.currItem.initialZoomLevel||o.updateSize()}),1e3)),i.addClass(e,"pswp--visible")}},close:function(){s&&(s=!1,u=!0,Te("close"),i.unbind(window,"resize scroll orientationchange",o),i.unbind(window,"scroll",m.scroll),i.unbind(document,"keydown",o),i.unbind(document,"mousemove",je),j.transform&&i.unbind(o.scrollWrap,"click",o),W&&i.unbind(window,d,o),clearTimeout(F),Te("unbindEvents"),Vt(o.currItem,null,!0,o.destroy))},destroy:function(){Te("destroy"),Rt&&clearTimeout(Rt),e.setAttribute("aria-hidden","true"),e.className=L,w&&clearInterval(w),i.unbind(o.scrollWrap,p,o),i.unbind(window,"scroll",o),pt(),Qe(),Ie=null},panTo:function(e,t,n){n||(e>ee.min.x?e=ee.min.x:e<ee.max.x&&(e=ee.max.x),t>ee.min.y?t=ee.min.y:t<ee.max.y&&(t=ee.max.y)),he.x=e,he.y=t,Ne()},handleEvent:function(e){e=e||window.event,m[e.type]&&m[e.type](e)},goTo:function(e){var t=(e=Ee(e))-l;ge=t,l=e,o.currItem=zt(l),de-=t,Me(me.x*de),Qe(),ne=!1,o.updateCurrItem()},next:function(){o.goTo(l+1)},prev:function(){o.goTo(l-1)},updateCurrZoomItem:function(e){if(e&&Te("beforeChange",0),E[1].el.children.length){var t=E[1].el.children[0];te=i.hasClass(t,"pswp__zoom-wrap")?t.style:null}else te=null;ee=o.currItem.bounds,v=g=o.currItem.initialZoomLevel,he.x=ee.center.x,he.y=ee.center.y,e&&Te("afterChange")},invalidateCurrItems:function(){_=!0;for(var e=0;e<3;e++)E[e].item&&(E[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ge){var t,n=Math.abs(ge);if(!(e&&n<2)){o.currItem=zt(l),we=!1,Te("beforeChange",ge),n>=3&&(f+=ge+(ge>0?-3:3),n=3);for(var r=0;r<n;r++)ge>0?(t=E.shift(),E[2]=t,f++,De((f+2)*me.x,t.el.style),o.setContent(t,l-n+r+1+1)):(t=E.pop(),E.unshift(t),f--,De(f*me.x,t.el.style),o.setContent(t,l+n-r-1-1));if(te&&1===Math.abs(ge)){var i=zt(I);i.initialZoomLevel!==g&&(Ht(i,fe),Zt(i),Ae(i))}ge=0,o.updateCurrZoomItem(),I=l,Te("afterChange")}}},updateSize:function(t){if(!ve&&a.modal){var n=i.getScrollY();if(R!==n&&(e.style.top=n+"px",R=n),!t&&be.x===window.innerWidth&&be.y===window.innerHeight)return;be.x=window.innerWidth,be.y=window.innerHeight,e.style.height=be.y+"px"}if(fe.x=o.scrollWrap.clientWidth,fe.y=o.scrollWrap.clientHeight,Ge(),me.x=fe.x+Math.round(fe.x*a.spacing),me.y=fe.y,Me(me.x*de),Te("beforeResize"),void 0!==f){for(var r,s,u,c=0;c<3;c++)r=E[c],De((c+f)*me.x,r.el.style),u=l+c-1,a.loop&&Bt()>2&&(u=Ee(u)),(s=zt(u))&&(_||s.needsUpdate||!s.bounds)?(o.cleanSlide(s),o.setContent(r,u),1===c&&(o.currItem=s,o.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===r.index&&u>=0&&o.setContent(r,u),s&&s.container&&(Ht(s,fe),Zt(s),Ae(s));_=!1}v=g=o.currItem.initialZoomLevel,(ee=o.currItem.bounds)&&(he.x=ee.center.x,he.y=ee.center.y,Ne(!0)),Te("resize")},zoomTo:function(e,t,n,r,o){t&&(v=g,ht.x=Math.abs(t.x)-he.x,ht.y=Math.abs(t.y)-he.y,Oe(le,he));var a=Fe(e,!1),s={};Be("x",a,s,e),Be("y",a,s,e);var u=g,c=he.x,l=he.y;Pe(s);var h=function(t){1===t?(g=e,he.x=s.x,he.y=s.y):(g=(e-u)*t+u,he.x=(s.x-c)*t+c,he.y=(s.y-l)*t+l),o&&o(t),Ne(1===t)};n?Ze("customZoomTo",0,1,n,r||i.easing.sine.inOut,h):h(1)}},$e={},Xe={},et={},tt={},nt={},rt=[],it={},ot=[],at={},st=0,ut={x:0,y:0},ct=0,lt={x:0,y:0},ht={x:0,y:0},ft={x:0,y:0},dt=function(e,t){return at.x=Math.abs(e.x-t.x),at.y=Math.abs(e.y-t.y),Math.sqrt(at.x*at.x+at.y*at.y)},pt=function(){Q&&(M(Q),Q=null)},mt=function(){W&&(Q=D(mt),Nt())},gt=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:gt(e.parentNode,t))},vt={},yt=function(e,t){return vt.prevent=!gt(e.target,a.isClickableElement),Te("preventDragEvent",e,t,vt),vt.prevent},bt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},wt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},_t=function(){var e=he.y-o.currItem.initialPosition.y;return 1-Math.abs(e/(fe.y/2))},Et={},It={},Ct=[],Tt=function(e){for(;Ct.length>0;)Ct.pop();return N?(ue=0,rt.forEach((function(e){0===ue?Ct[0]=e:1===ue&&(Ct[1]=e),ue++}))):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Ct[0]=bt(e.touches[0],Et),e.touches.length>1&&(Ct[1]=bt(e.touches[1],It))):(Et.x=e.pageX,Et.y=e.pageY,Et.id="",Ct[0]=Et),Ct},St=function(e,t){var n,r,i,s,u=he[e]+t[e],c=t[e]>0,l=lt.x+t.x,h=lt.x-it.x;if(n=u>ee.min[e]||u<ee.max[e]?a.panEndFriction:1,u=he[e]+t[e]*n,(a.allowPanToNext||g===o.currItem.initialZoomLevel)&&(te?"h"!==re||"x"!==e||Y||(c?(u>ee.min[e]&&(n=a.panEndFriction,ee.min[e],r=ee.min[e]-le[e]),(r<=0||h<0)&&Bt()>1?(s=l,h<0&&l>it.x&&(s=it.x)):ee.min.x!==ee.max.x&&(i=u)):(u<ee.max[e]&&(n=a.panEndFriction,ee.max[e],r=le[e]-ee.max[e]),(r<=0||h>0)&&Bt()>1?(s=l,h>0&&l<it.x&&(s=it.x)):ee.min.x!==ee.max.x&&(i=u))):s=l,"x"===e))return void 0!==s&&(Me(s,!0),Z=s!==it.x),ee.min.x!==ee.max.x&&(void 0!==i?he.x=i:Z||(he.x+=t.x*n)),void 0!==s;ne||Z||g>o.currItem.fitRatio&&(he[e]+=t[e]*n)},xt=function(e){if(!("mousedown"===e.type&&e.button>0))if(Ut)e.preventDefault();else if(!G||"mousedown"!==e.type){if(yt(e,!0)&&e.preventDefault(),Te("pointerDown"),N){var t=i.arraySearch(rt,e.pointerId,"id");t<0&&(t=rt.length),rt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Tt(e),r=n.length;J=null,Qe(),W&&1!==r||(W=ie=!0,i.bind(window,d,o),V=se=oe=q=Z=K=H=Y=!1,re=null,Te("firstTouchStart",n),Oe(le,he),ce.x=ce.y=0,Oe(tt,n[0]),Oe(nt,tt),it.x=me.x*de,ot=[{x:tt.x,y:tt.y}],z=U=Se(),Fe(g,!0),pt(),mt()),!$&&r>1&&!ne&&!Z&&(v=g,Y=!1,$=H=!0,ce.y=ce.x=0,Oe(le,he),Oe($e,n[0]),Oe(Xe,n[1]),wt($e,Xe,ft),ht.x=Math.abs(ft.x)-he.x,ht.y=Math.abs(ft.y)-he.y,X=dt($e,Xe))}},kt=function(e){if(e.preventDefault(),N){var t=i.arraySearch(rt,e.pointerId,"id");if(t>-1){var n=rt[t];n.x=e.pageX,n.y=e.pageY}}if(W){var r=Tt(e);if(re||K||$)J=r;else if(lt.x!==me.x*de)re="h";else{var o=Math.abs(r[0].x-tt.x)-Math.abs(r[0].y-tt.y);Math.abs(o)>=10&&(re=o>0?"h":"v",J=r)}}},Nt=function(){if(J){var e=J.length;if(0!==e)if(Oe($e,J[0]),et.x=$e.x-tt.x,et.y=$e.y-tt.y,$&&e>1){if(tt.x=$e.x,tt.y=$e.y,!et.x&&!et.y&&function(e,t){return e.x===t.x&&e.y===t.y}(J[1],Xe))return;Oe(Xe,J[1]),Y||(Y=!0,Te("zoomGestureStarted"));var t=dt($e,Xe),n=Ot(t);n>o.currItem.initialZoomLevel+o.currItem.initialZoomLevel/15&&(se=!0);var r=1,i=Ue(),s=ze();if(n<i)if(a.pinchToClose&&!se&&v<=o.currItem.initialZoomLevel){var u=1-(i-n)/(i/1.2);xe(u),Te("onPinchClose",u),oe=!0}else(r=(i-n)/i)>1&&(r=1),n=i-r*(i/3);else n>s&&((r=(n-s)/(6*i))>1&&(r=1),n=s+r*i);r<0&&(r=0),wt($e,Xe,ut),ce.x+=ut.x-ft.x,ce.y+=ut.y-ft.y,Oe(ft,ut),he.x=Le("x",n),he.y=Le("y",n),V=n>g,g=n,Ne()}else{if(!re)return;if(ie&&(ie=!1,Math.abs(et.x)>=10&&(et.x-=J[0].x-nt.x),Math.abs(et.y)>=10&&(et.y-=J[0].y-nt.y)),tt.x=$e.x,tt.y=$e.y,0===et.x&&0===et.y)return;if("v"===re&&a.closeOnVerticalDrag&&"fit"===a.scaleMode&&g===o.currItem.initialZoomLevel){ce.y+=et.y,he.y+=et.y;var c=_t();return q=!0,Te("onVerticalDrag",c),xe(c),void Ne()}(function(e,t,n){if(e-z>50){var r=ot.length>2?ot.shift():{};r.x=t,r.y=n,ot.push(r),z=e}})(Se(),$e.x,$e.y),K=!0,ee=o.currItem.bounds,St("x",et)||(St("y",et),Pe(he),Ne())}}},At=function(e){if(j.isOldAndroid){if(G&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(G),G=setTimeout((function(){G=0}),600))}var t;if(Te("pointerUp"),yt(e,!1)&&e.preventDefault(),N){var n=i.arraySearch(rt,e.pointerId,"id");if(n>-1)if(t=rt.splice(n,1)[0],navigator.msPointerEnabled){t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}else t.type=e.pointerType||"mouse"}var r,s=Tt(e),u=s.length;if("mouseup"===e.type&&(u=0),2===u)return J=null,!0;1===u&&Oe(nt,s[0]),0!==u||re||ne||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Te("touchRelease",e,t));var c=-1;if(0===u&&(W=!1,i.unbind(window,d,o),pt(),$?c=0:-1!==ct&&(c=Se()-ct)),ct=1===u?Se():-1,r=-1!==c&&c<150?"zoom":"swipe",$&&u<2&&($=!1,1===u&&(r="zoomPointerUp"),Te("zoomGestureEnded")),J=null,K||Y||ne||q)if(Qe(),B||(B=Dt()),B.calculateSwipeSpeed("x"),q)if(_t()<a.verticalDragRange)o.close();else{var l=he.y,h=ae;Ze("verticalDrag",0,1,300,i.easing.cubic.out,(function(e){he.y=(o.currItem.initialPosition.y-l)*e+l,xe((1-h)*e+h),Ne()})),Te("onVerticalDrag",1)}else{if((Z||ne)&&0===u){if(Lt(r,B))return;r="zoomPointerUp"}ne||("swipe"===r?!Z&&g>o.currItem.fitRatio&&Mt(B):Pt())}},Dt=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(r){ot.length>1?(e=Se()-z+50,t=ot[ot.length-2][r]):(e=Se()-U,t=nt[r]),n.lastFlickOffset[r]=tt[r]-t,n.lastFlickDist[r]=Math.abs(n.lastFlickOffset[r]),n.lastFlickDist[r]>20?n.lastFlickSpeed[r]=n.lastFlickOffset[r]/e:n.lastFlickSpeed[r]=0,Math.abs(n.lastFlickSpeed[r])<.1&&(n.lastFlickSpeed[r]=0),n.slowDownRatio[r]=.95,n.slowDownRatioReverse[r]=1-n.slowDownRatio[r],n.speedDecelerationRatio[r]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(he[e]>ee.min[e]?n.backAnimDestination[e]=ee.min[e]:he[e]<ee.max[e]&&(n.backAnimDestination[e]=ee.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,Ze("bounceZoomPan"+e,he[e],n.backAnimDestination[e],t||300,i.easing.sine.out,(function(t){he[e]=t,Ne()})))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,he[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(We.zoomPan&&(We.zoomPan.raf=D(n.panAnimLoop),n.now=Se(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Ne(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return he.x=Math.round(he.x),he.y=Math.round(he.y),Ne(),void Ye("zoomPan")}};return n},Mt=function(e){if(e.calculateSwipeSpeed("y"),ee=o.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;Ke("zoomPan"),e.lastNow=Se(),e.panAnimLoop()},Lt=function(e,t){var n,r,s;if(ne||(st=l),"swipe"===e){var u=tt.x-nt.x,c=t.lastFlickDist.x<10;u>30&&(c||t.lastFlickOffset.x>20)?r=-1:u<-30&&(c||t.lastFlickOffset.x<-20)&&(r=1)}r&&((l+=r)<0?(l=a.loop?Bt()-1:0,s=!0):l>=Bt()&&(l=a.loop?0:Bt()-1,s=!0),s&&!a.loop||(ge+=r,de-=r,n=!0));var h,f=me.x*de,d=Math.abs(f-lt.x);return n||f>lt.x==t.lastFlickSpeed.x>0?(h=Math.abs(t.lastFlickSpeed.x)>0?d/Math.abs(t.lastFlickSpeed.x):333,h=Math.min(h,400),h=Math.max(h,250)):h=333,st===l&&(n=!1),ne=!0,Te("mainScrollAnimStart"),Ze("mainScroll",lt.x,f,h,i.easing.cubic.out,Me,(function(){Qe(),ne=!1,st=-1,(n||st!==l)&&o.updateCurrItem(),Te("mainScrollAnimComplete")})),n&&o.updateCurrItem(!0),n},Ot=function(e){return 1/X*e*v},Pt=function(){var e=g,t=Ue(),n=ze();g<t?e=t:g>n&&(e=n);var r,a=ae;return oe&&!V&&!se&&g<t?(o.close(),!0):(oe&&(r=function(e){xe((1-a)*e+a)}),o.zoomTo(e,0,200,i.easing.cubic.out,r),!0)};_e("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,r,i){C=e+t,T=e+n,S=e+r,x=i?e+i:""};(N=j.pointerEvent)&&j.touch&&(j.touch=!1),N?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):j.touch?(e("touch","start","move","end","cancel"),A=!0):e("mouse","down","move","up"),d=T+" "+S+" "+x,p=C,N&&!A&&(A=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),o.likelyTouchDevice=A,m[C]=xt,m[T]=kt,m[S]=At,x&&(m[x]=m[S]),j.touch&&(p+=" mousedown",d+=" mousemove mouseup",m.mousedown=m[C],m.mousemove=m[T],m.mouseup=m[S]),A||(a.allowPanToNext=!1)}}});var Rt,jt,Ft,Ut,zt,Bt,Vt=function(t,n,r,s){var u;Rt&&clearTimeout(Rt),Ut=!0,Ft=!0,t.initialLayout?(u=t.initialLayout,t.initialLayout=null):u=a.getThumbBoundsFn&&a.getThumbBoundsFn(l);var h,f,d=r?a.hideAnimationDuration:a.showAnimationDuration,p=function(){Ye("initialZoom"),r?(o.template.removeAttribute("style"),o.bg.removeAttribute("style")):(xe(1),n&&(n.style.display="block"),i.addClass(e,"pswp--animated-in"),Te("initialZoom"+(r?"OutEnd":"InEnd"))),s&&s(),Ut=!1};if(!d||!u||void 0===u.x)return Te("initialZoom"+(r?"Out":"In")),g=t.initialZoomLevel,Oe(he,t.initialPosition),Ne(),e.style.opacity=r?0:1,xe(1),void(d?setTimeout((function(){p()}),d):p());h=c,f=!o.currItem.src||o.currItem.loadError||a.showHideOpacity,t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),r||(g=u.w/t.w,he.x=u.x,he.y=u.y-O,o[f?"template":"bg"].style.opacity=.001,Ne()),Ke("initialZoom"),r&&!h&&i.removeClass(e,"pswp--animated-in"),f&&(r?i[(h?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout((function(){i.addClass(e,"pswp--animate_opacity")}),30)),Rt=setTimeout((function(){if(Te("initialZoom"+(r?"Out":"In")),r){var n=u.w/t.w,o={x:he.x,y:he.y},a=g,s=ae,c=function(t){1===t?(g=n,he.x=u.x,he.y=u.y-R):(g=(n-a)*t+a,he.x=(u.x-o.x)*t+o.x,he.y=(u.y-R-o.y)*t+o.y),Ne(),f?e.style.opacity=1-t:xe(s-t*s)};h?Ze("initialZoom",0,1,d,i.easing.cubic.out,c,p):(c(1),Rt=setTimeout(p,d+20))}else g=t.initialZoomLevel,Oe(he,t.initialPosition),Ne(),xe(1),f?e.style.opacity=1:xe(1),Rt=setTimeout(p,d+20)}),r?25:90)},qt={},Gt=[],Wt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return jt.length}},Ht=function(e,t,n){if(e.src&&!e.loadError){var r=!n;if(r&&(e.vGap||(e.vGap={top:0,bottom:0}),Te("parseVerticalMargin",e)),qt.x=t.x,qt.y=t.y-e.vGap.top-e.vGap.bottom,r){var i=qt.x/e.w,o=qt.y/e.h;e.fitRatio=i<o?i:o;var s=a.scaleMode;"orig"===s?n=1:"fit"===s&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return function(e,t,n){var r=e.bounds;r.center.x=Math.round((qt.x-t)/2),r.center.y=Math.round((qt.y-n)/2)+e.vGap.top,r.max.x=t>qt.x?Math.round(qt.x-t):r.center.x,r.max.y=n>qt.y?Math.round(qt.y-n)+e.vGap.top:r.center.y,r.min.x=t>qt.x?0:r.center.x,r.min.y=n>qt.y?e.vGap.top:r.center.y}(e,e.w*n,e.h*n),r&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds},Yt=function(e,t,n,r,i,a){t.loadError||r&&(t.imageAppended=!0,Zt(t,r,t===o.currItem&&we),n.appendChild(r),a&&setTimeout((function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)}),500))},Kt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Qt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=a.errorMsg.replace("%url%",e.src),!0},Zt=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var r=n?e.w:Math.round(e.w*e.fitRatio),i=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=r+"px",e.placeholder.style.height=i+"px"),t.style.width=r+"px",t.style.height=i+"px"}},Jt=function(){if(Gt.length){for(var e,t=0;t<Gt.length;t++)(e=Gt[t]).holder.index===e.index&&Yt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Gt=[]}};_e("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ee(e);var t=zt(e);t&&(!t.loaded&&!t.loading||_)&&(Te("gettingData",e,t),t.src&&Kt(t))},initController:function(){i.extend(a,Wt,!0),o.items=jt=n,zt=o.getItemAt,Bt=a.getNumItemsFn,a.loop,Bt()<3&&(a.loop=!1),Ce("beforeChange",(function(e){var t,n=a.preload,r=null===e||e>=0,i=Math.min(n[0],Bt()),s=Math.min(n[1],Bt());for(t=1;t<=(r?s:i);t++)o.lazyLoadItem(l+t);for(t=1;t<=(r?i:s);t++)o.lazyLoadItem(l-t)})),Ce("initialLayout",(function(){o.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(l)})),Ce("mainScrollAnimComplete",Jt),Ce("initialZoomInEnd",Jt),Ce("destroy",(function(){for(var e,t=0;t<jt.length;t++)(e=jt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Gt=null}))},getItemAt:function(e){return e>=0&&void 0!==jt[e]&&jt[e]},allowProgressiveImg:function(){return a.forceProgressiveLoading||!A||a.mouseUsed||screen.width>1200},setContent:function(e,t){a.loop&&(t=Ee(t));var n=o.getItemAt(e.index);n&&(n.container=null);var r,u=o.getItemAt(t);if(u){Te("gettingData",t,u),e.index=t,e.item=u;var c=u.container=i.createEl("pswp__zoom-wrap");if(!u.src&&u.html&&(u.html.tagName?c.appendChild(u.html):c.innerHTML=u.html),Qt(u),Ht(u,fe),!u.src||u.loadError||u.loaded)u.src&&!u.loadError&&((r=i.createEl("pswp__img","img")).style.opacity=1,r.src=u.src,Zt(u,r),Yt(0,u,c,r));else{if(u.loadComplete=function(n){if(s){if(e&&e.index===t){if(Qt(n,!0))return n.loadComplete=n.img=null,Ht(n,fe),Ae(n),void(e.index===l&&o.updateCurrZoomItem());n.imageAppended?!Ut&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):j.transform&&(ne||Ut)?Gt.push({item:n,baseDiv:c,img:n.img,index:t,holder:e,clearPlaceholder:!0}):Yt(0,n,c,n.img,0,!0)}n.loadComplete=null,n.img=null,Te("imageLoadComplete",t,n)}},i.features.transform){var h="pswp__img pswp__img--placeholder";h+=u.msrc?"":" pswp__img--placeholder--blank";var f=i.createEl(h,u.msrc?"img":"");u.msrc&&(f.src=u.msrc),Zt(u,f),c.appendChild(f),u.placeholder=f}u.loading||Kt(u),o.allowProgressiveImg()&&(!Ft&&j.transform?Gt.push({item:u,baseDiv:c,img:u.img,index:t,holder:e}):Yt(0,u,c,u.img,0,!0))}Ft||t!==l?Ae(u):(te=c.style,Vt(u,r||u.img)),e.el.innerHTML="",e.el.appendChild(c)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var $t,Xt,en={},tn=function(e,t,n){var r=document.createEvent("CustomEvent"),i={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};r.initCustomEvent("pswpTap",!0,!0,i),e.target.dispatchEvent(r)};_e("Tap",{publicMethods:{initTap:function(){Ce("firstTouchStart",o.onTapStart),Ce("touchRelease",o.onTapRelease),Ce("destroy",(function(){en={},$t=null}))},onTapStart:function(e){e.length>1&&(clearTimeout($t),$t=null)},onTapRelease:function(e,t){if(t&&!K&&!H&&!He){var n=t;if($t&&(clearTimeout($t),$t=null,r=n,o=en,Math.abs(r.x-o.x)<25&&Math.abs(r.y-o.y)<25))return void Te("doubleTap",n);if("mouse"===t.type)return void tn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||i.hasClass(e.target,"pswp__single-tap"))return void tn(e,t);Oe(en,n),$t=setTimeout((function(){tn(e,t),$t=null}),300)}var r,o}}}),_e("DesktopZoom",{publicMethods:{initDesktopZoom:function(){P||(A?Ce("mouseUsed",(function(){o.setupDesktopZoom()})):o.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Xt={};var n="wheel mousewheel DOMMouseScroll";Ce("bindEvents",(function(){i.bind(e,n,o.handleMouseWheel)})),Ce("unbindEvents",(function(){Xt&&i.unbind(e,n,o.handleMouseWheel)})),o.mouseZoomedIn=!1;var r,a=function(){o.mouseZoomedIn&&(i.removeClass(e,"pswp--zoomed-in"),o.mouseZoomedIn=!1),g<1?i.addClass(e,"pswp--zoom-allowed"):i.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){r&&(i.removeClass(e,"pswp--dragging"),r=!1)};Ce("resize",a),Ce("afterChange",a),Ce("pointerDown",(function(){o.mouseZoomedIn&&(r=!0,i.addClass(e,"pswp--dragging"))})),Ce("pointerUp",s),t||a()},handleMouseWheel:function(e){if(g<=o.currItem.fitRatio)return a.modal&&(!a.closeOnScroll||He||W?e.preventDefault():k&&Math.abs(e.deltaY)>2&&(c=!0,o.close())),!0;if(e.stopPropagation(),Xt.x=0,"deltaX"in e)1===e.deltaMode?(Xt.x=18*e.deltaX,Xt.y=18*e.deltaY):(Xt.x=e.deltaX,Xt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Xt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Xt.y=-.16*e.wheelDeltaY:Xt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Xt.y=e.detail}Fe(g,!0);var t=he.x-Xt.x,n=he.y-Xt.y;(a.modal||t<=ee.min.x&&t>=ee.max.x&&n<=ee.min.y&&n>=ee.max.y)&&e.preventDefault(),o.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:fe.x/2+pe.x,y:fe.y/2+pe.y};var n=a.getDoubleTapZoom(!0,o.currItem),r=g===n;o.mouseZoomedIn=!r,o.zoomTo(r?o.currItem.initialZoomLevel:n,t,333),i[(r?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var nn,rn,on,an,sn,un,cn,ln,hn,fn,dn,pn,mn={history:!0,galleryUID:1},gn=function(){return dn.hash.substring(1)},vn=function(){nn&&clearTimeout(nn),on&&clearTimeout(on)},yn=function(){var e=gn(),t={};if(e.length<5)return t;var n,r=e.split("&");for(n=0;n<r.length;n++)if(r[n]){var i=r[n].split("=");i.length<2||(t[i[0]]=i[1])}if(a.galleryPIDs){var o=t.pid;for(t.pid=0,n=0;n<jt.length;n++)if(jt[n].pid===o){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},bn=function(){if(on&&clearTimeout(on),He||W)on=setTimeout(bn,500);else{an?clearTimeout(rn):an=!0;var e=l+1,t=zt(l);t.hasOwnProperty("pid")&&(e=t.pid);var n=cn+"&gid="+a.galleryUID+"&pid="+e;ln||-1===dn.hash.indexOf(n)&&(fn=!0);var r=dn.href.split("#")[0]+"#"+n;pn?"#"+n!==window.location.hash&&history[ln?"replaceState":"pushState"]("",document.title,r):ln?dn.replace(r):dn.hash=n,ln=!0,rn=setTimeout((function(){an=!1}),60)}};_e("History",{publicMethods:{initHistory:function(){if(i.extend(a,mn,!0),a.history){dn=window.location,fn=!1,hn=!1,ln=!1,cn=gn(),pn="pushState"in history,cn.indexOf("gid=")>-1&&(cn=(cn=cn.split("&gid=")[0]).split("?gid=")[0]),Ce("afterChange",o.updateURL),Ce("unbindEvents",(function(){i.unbind(window,"hashchange",o.onHashChange)}));var e=function(){un=!0,hn||(fn?history.back():cn?dn.hash=cn:pn?history.pushState("",document.title,dn.pathname+dn.search):dn.hash=""),vn()};Ce("unbindEvents",(function(){c&&e()})),Ce("destroy",(function(){un||e()})),Ce("firstUpdate",(function(){l=yn().pid}));var t=cn.indexOf("pid=");t>-1&&"&"===(cn=cn.substring(0,t)).slice(-1)&&(cn=cn.slice(0,-1)),setTimeout((function(){s&&i.bind(window,"hashchange",o.onHashChange)}),40)}},onHashChange:function(){if(gn()===cn)return hn=!0,void o.close();an||(sn=!0,o.goTo(yn().pid),sn=!1)},updateURL:function(){vn(),sn||(ln?nn=setTimeout(bn,800):bn())}}}),i.extend(o,Je)}})?r.call(t,n,t,e):r)||(e.exports=i)},433:function(e,t,n){"use strict";var r=n(642);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},74:function(e,t,n){e.exports=n(433)()},642:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},748:function(e,t,n){"use strict";var r=n(466),i=n(347),o=n(767);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,I=60106,C=60107,T=60108,S=60114,x=60109,k=60110,N=60112,A=60113,D=60120,M=60115,L=60116,O=60121,P=60128,R=60129,j=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),I=U("react.portal"),C=U("react.fragment"),T=U("react.strict_mode"),S=U("react.profiler"),x=U("react.provider"),k=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),D=U("react.suspense_list"),M=U("react.memo"),L=U("react.lazy"),O=U("react.block"),U("react.scope"),P=U("react.opaque.id"),R=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var z,B="function"==typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var G=!1;function W(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return W(e.type,!1);case 11:return W(e.type.render,!1);case 22:return W(e.type._render,!1);case 1:return W(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case I:return"Portal";case S:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return Y(e.type);case O:return Y(e._render);case L:t=e._payload,e=e._init;try{return Y(e(t))}catch(e){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ce(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,ke=null;function Ne(e){if(e=Xr(e)){if("function"!=typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=ti(t),Se(e.stateNode,e.type,t))}}function Ae(e){xe?ke?ke.push(e):ke=[e]:xe=e}function De(){if(xe){var e=xe,t=ke;if(ke=xe=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Me(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function Oe(){}var Pe=Me,Re=!1,je=!1;function Fe(){null===xe&&null===ke||(Oe(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(h)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function Ve(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var qe=!1,Ge=null,We=!1,He=null,Ye={onError:function(e){qe=!0,Ge=e}};function Ke(e,t,n,r,i,o,a,s,u){qe=!1,Ge=null,Ve.apply(Ye,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Qe(e)!==e)throw Error(a(188))}function $e(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Xe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=Xr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=$r(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Xr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Xr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&vt(at)&&(at=null),null!==st&&vt(st)&&(st=null),null!==ut&&vt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Ct={},Tt={};function St(e){if(Ct[e])return Ct[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Ct[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var xt=St("animationend"),kt=St("animationiteration"),Nt=St("animationstart"),At=St("transitionend"),Dt=new Map,Mt=new Map,Lt=["abort","abort",xt,"animationEnd",kt,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Ot(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Mt.set(r,t),Dt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Pt=8;function Rt(e){if(0!=(1&e))return Pt=15,1;if(0!=(2&e))return Pt=14,2;if(0!=(4&e))return Pt=13,4;var t=24&e;return 0!==t?(Pt=12,t):0!=(32&e)?(Pt=11,32):0!=(t=192&e)?(Pt=10,t):0!=(256&e)?(Pt=9,256):0!=(t=3584&e)?(Pt=8,t):0!=(4096&e)?(Pt=7,4096):0!=(t=4186112&e)?(Pt=6,t):0!=(t=62914560&e)?(Pt=5,t):67108864&e?(Pt=4,67108864):0!=(134217728&e)?(Pt=3,134217728):0!=(t=805306368&e)?(Pt=2,t):0!=(1073741824&e)?(Pt=1,1073741824):(Pt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Pt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Pt=15;else if(0!=(o=134217727&n)){var u=o&~a;0!==u?(r=Rt(u),i=Pt):0!=(s&=o)&&(r=Rt(s),i=Pt)}else 0!=(o=n&~a)?(r=Rt(o),i=Pt):0!==s&&(r=Rt(s),i=Pt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Rt(t),i<=Pt)return t;Pt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Ut(10,t):e;case 10:return 0===(e=zt(192&~t))?Ut(8,t):e;case 8:return 0===(e=zt(3584&~t))&&0===(e=zt(4186112&~t))&&(e=512),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/Wt|0)|0},Gt=Math.log,Wt=Math.LN2,Ht=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,Kt=!0;function Qt(e,t,n,r){Re||Oe();var i=Jt,o=Re;Re=!0;try{Le(i,e,t,n,r)}finally{(Re=o)||Fe()}}function Zt(e,t,n,r){Yt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Kt)if((i=0==(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=$t(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Te(r);if(null!==(i=$r(i))){var o=Qe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ze(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Xt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(hn),dn=i({},hn,{view:0,detail:0}),pn=sn(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(mn),vn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},dn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return Tn}var xn=sn(i({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=sn(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Mn=[9,13,27,32],Ln=h&&"CompositionEvent"in window,On=null;h&&"documentMode"in document&&(On=document.documentMode);var Pn=h&&"TextEvent"in window&&!On,Rn=h&&(!Ln||On&&8<On&&11>=On),jn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ae(r),0<(t=Lr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Yn(e){Tr(e,0)}function Kn(e){if(J(ei(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(h){var Jn;if(h){var $n="oninput"in document;if(!$n){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),$n="function"==typeof Xn.oninput}Jn=$n}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Wn&&(Wn.detachEvent("onpropertychange",tr),Hn=Wn=null)}function tr(e){if("value"===e.propertyName&&Kn(Hn)){var t=[];if(Gn(t,Hn,e,Te(e)),e=Yn,Re)e(t);else{Re=!0;try{Me(e,t)}finally{Re=!1,Fe()}}}}function nr(e,t,n){"focusin"===e?(er(),Hn=n,(Wn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Hn)}function ir(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==$(r)||(r="selectionStart"in(r=mr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Lr(gr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}Ot("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ot("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ot(Lt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<wr.length;_r++)Mt.set(wr[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ke.apply(this,arguments),qe){if(!qe)throw Error(a(198));var l=Ge;qe=!1,Ge=null,We||(We=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}}}if(We)throw e=He,We=!1,He=null,e}function Sr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var xr="_reactListening"+Math.random().toString(36).slice(2);function kr(e){e[xr]||(e[xr]=!0,s.forEach((function(t){Ir.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ni(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Ar(o,e,i,t),a.add(s))}function Ar(e,t,n,r){var i=Mt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Zt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=$r(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e();je=!0;try{Pe(e,t,n)}finally{je=!1,Fe()}}((function(){var r=o,i=Te(n),a=[];e:{var s=Dt.get(e);if(void 0!==s){var u=fn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case xt:case kt:case Nt:u=bn;break;case At:u=An;break;case"scroll":u=pn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kn}var l=0!=(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&null!=(m=Ue(p,f))&&l.push(Mr(p,m,d))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!$r(c)&&!c[Zr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?$r(c):null)&&(c!==(h=Qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=kn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ei(u),d=null==c?s:ei(c),(s=new l(m,p+"leave",u,n,i)).target=h,s.relatedTarget=d,m=null,$r(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,m=l),h=m,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Or(d))p++;for(d=0,m=f;m;m=Or(m))d++;for(;0<p-d;)l=Or(l),p--;for(;0<d-p;)f=Or(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Or(l),f=Or(f)}l=null}else l=null;null!==u&&Pr(a,s,u,l,!1),null!==c&&null!==h&&Pr(a,h,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Qn;else if(qn(s))if(Zn)g=or;else{g=rr;var v=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ei(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(mr=v,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=nn()):(en="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Lr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:v}),(y||null!==(y=zn(n)))&&(b.data=y))),(y=Pn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Ln&&Un(e,t)?(e=nn(),tn=en=Xt=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Lr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Tr(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Mr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Mr(e,o,i))),e=e.return}return r}function Or(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Pr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,o))&&a.unshift(Mr(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(Mr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Rr(){}var jr=null,Fr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Br="function"==typeof setTimeout?setTimeout:void 0,Vr="function"==typeof clearTimeout?clearTimeout:void 0;function qr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Wr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0,Yr=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Yr,Qr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,Jr="__reactEvents$"+Yr;function $r(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Kr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Wr(e);null!==e;){if(n=e[Kr])return n;e=Wr(e)}return t}n=(e=n).parentNode}return null}function Xr(e){return!(e=e[Kr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ti(e){return e[Qr]||null}function ni(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function ai(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function si(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},ci=oi(ui),li=oi(!1),hi=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function di(e){return null!=e.childContextTypes}function pi(){ai(li),ai(ci)}function mi(e,t,n){if(ci.current!==ui)throw Error(a(168));si(ci,t),si(li,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Y(t)||"Unknown",o));return i({},n,r)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,hi=ci.current,si(ci,e),si(li,li.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ai(li),ai(ci),si(ci,e)):ai(li),si(li,n)}var bi=null,wi=null,_i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Si=o.unstable_now,xi=o.unstable_getCurrentPriorityLevel,ki=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Li={},Oi=void 0!==Ti?Ti:function(){},Pi=null,Ri=null,ji=!1,Fi=Si(),Ui=1e4>Fi?Si:function(){return Si()-Fi};function zi(){switch(xi()){case ki:return 99;case Ni:return 98;case Ai:return 97;case Di:return 96;case Mi:return 95;default:throw Error(a(332))}}function Bi(e){switch(e){case 99:return ki;case 98:return Ni;case 97:return Ai;case 96:return Di;case 95:return Mi;default:throw Error(a(332))}}function Vi(e,t){return e=Bi(e),_i(e,t)}function qi(e,t,n){return e=Bi(e),Ei(e,t,n)}function Gi(){if(null!==Ri){var e=Ri;Ri=null,Ii(e)}Wi()}function Wi(){if(!ji&&null!==Pi){ji=!0;var e=0;try{var t=Pi;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Pi=null}catch(t){throw null!==Pi&&(Pi=Pi.slice(e+1)),Ei(ki,Gi),t}finally{ji=!1}}}var Hi=_.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=oi(null),Qi=null,Zi=null,Ji=null;function $i(){Ji=Zi=Qi=null}function Xi(e){var t=Ki.current;ai(Ki),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Qi=e,Ji=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(La=!0),e.firstContext=null)}function no(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Qi)throw Error(a(308));Zi=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(u=t,d=n,m.tag){case 1:if("function"==typeof(p=m.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(d,f,u):p))break e;f=i({},f,u);break e;case 2:ro=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Ps|=s,e.lanes=s,e.memoizedState=f}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new r.Component).refs;function fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=au(),r=su(e),i=ao(n,r);i.tag=2,null!=t&&(i.callback=t),so(e,i),uu(e,r,n)}};function mo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function go(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=di(t)?hi:ci.current,o=(r=null!=(r=t.contextTypes))?fi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=di(t)?hi:ci.current,i.context=fi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Bu(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Vu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Gu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Bu(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case I:return(t=Wu(t,e.mode,n)).return=e,t}if(bo(t)||V(t))return(t=Vu(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===C?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case I:return n.key===i?l(e,t,n,r):null}if(bo(n)||V(n))return null!==i?null:h(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===C?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||V(r))return h(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,s[m],u);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,h=g}if(m===s.length)return n(i,h),c;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(a=o(h,a,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=V(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=d(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===h?l=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return l}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===C&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===C){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===C?((r=Vu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Bu(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return s(e);case I:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Gu(o,e.mode,u)).return=e,e=r),s(e);if(bo(o))return m(e,r,o,u);if(V(o))return g(e,r,o,u);if(l&&_o(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Y(e.type)||"Component"))}return n(e,r)}}var Io=Eo(!0),Co=Eo(!1),To={},So=oi(To),xo=oi(To),ko=oi(To);function No(e){if(e===To)throw Error(a(174));return e}function Ao(e,t){switch(si(ko,t),si(xo,e),si(So,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(So),si(So,t)}function Do(){ai(So),ai(xo),ai(ko)}function Mo(e){No(ko.current);var t=No(So.current),n=de(t,e.type);t!==n&&(si(xo,e),si(So,n))}function Lo(e){xo.current===e&&(ai(So),ai(xo))}var Oo=oi(0);function Po(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ro=null,jo=null,Fo=!1;function Uo(e,t){var n=Fu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Bo(e){if(Fo){var t=jo;if(t){var n=t;if(!zo(e,t)){if(!(t=Gr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Fo=!1,void(Ro=e);Uo(Ro,n)}Ro=e,jo=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Fo=!1,Ro=e}}function Vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ro=e}function qo(e){if(e!==Ro)return!1;if(!Fo)return Vo(e),Fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=jo;t;)Uo(e,t),t=Gr(t.nextSibling);if(Vo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jo=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jo=null}}else jo=Ro?Gr(e.stateNode.nextSibling):null;return!0}function Go(){jo=Ro=null,Fo=!1}var Wo=[];function Ho(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var Yo=_.ReactCurrentDispatcher,Ko=_.ReactCurrentBatchConfig,Qo=0,Zo=null,Jo=null,$o=null,Xo=!1,ea=!1;function ta(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){if(Qo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Na:Aa,e=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,$o=Jo=null,t.updateQueue=null,Yo.current=Da,e=n(r,i)}while(ea)}if(Yo.current=ka,t=null!==Jo&&null!==Jo.next,Qo=0,$o=Jo=Zo=null,Xo=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$o?Zo.memoizedState=$o=e:$o=$o.next=e,$o}function oa(){if(null===Jo){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=Jo.next;var t=null===$o?Zo.memoizedState:$o.next;if(null!==t)$o=t,Jo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Jo=e).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===$o?Zo.memoizedState=$o=e:$o=$o.next=e}return $o}function aa(e,t){return"function"==typeof t?t(e):t}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Qo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,Zo.lanes|=l,Ps|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,ar(r,t.memoizedState)||(La=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qo&e)===e)&&(t._workInProgressVersionPrimary=r,Wo.push(t))),e)return n(t._source);throw Wo.push(t),Error(a(350))}function la(e,t,n,r){var i=xs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Yo.current,c=u.useState((function(){return ca(i,t,n)})),l=c[1],h=c[0];c=$o;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,m=f.source;f=f.subscribe;var g=Zo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!ar(s,e)){e=n(t._source),ar(h,e)||(l(e),e=su(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-qt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=su(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(p,n)&&ar(m,t)&&ar(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:h}).dispatch=l=xa.bind(null,Zo,e),c.queue=e,c.baseQueue=null,h=ca(i,t,n),c.memoizedState=c.baseState=h),h}function ha(e,t,n){return la(oa(),e,t,n)}function fa(e){var t=ia();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e}).dispatch=xa.bind(null,Zo,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function ma(){return oa().memoizedState}function ga(e,t,n,r){var i=ia();Zo.flags|=e,i.memoizedState=da(1|t,n,void 0,void 0===r?null:r)}function va(e,t,n,r){var i=oa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&na(r,a.deps))return void da(t,n,o,r)}Zo.flags|=e,i.memoizedState=da(1|t,n,o,r)}function ya(e,t){return ga(516,4,e,t)}function ba(e,t){return va(516,4,e,t)}function wa(e,t){return va(4,2,e,t)}function _a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(e,t,n){return n=null!=n?n.concat([e]):null,va(4,2,_a.bind(null,t,e),n)}function Ia(){}function Ca(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sa(e,t){var n=zi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Ko.transition;Ko.transition=1;try{e(!1),t()}finally{Ko.transition=n}}))}function xa(e,t,n){var r=au(),i=su(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Zo||null!==a&&a===Zo)ea=Xo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,ar(u,s))return}catch(e){}uu(e,i,r)}}var ka={readContext:no,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Na={readContext:no,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ga(4,2,_a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xa.bind(null,Zo,e),[r.memoizedState,e]},useRef:pa,useState:fa,useDebugValue:Ia,useDeferredValue:function(e){var t=fa(e),n=t[0],r=t[1];return ya((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=fa(!1),t=e[0];return pa(e=Sa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},la(r,e,t,n)},useOpaqueIdentifier:function(){if(Fo){var e=!1,t=function(e){return{$$typeof:P,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(a(355))})),n=fa(t)[1];return 0==(2&Zo.mode)&&(Zo.flags|=516,da(5,(function(){n("r:"+(Hr++).toString(36))}),void 0,null)),t}return fa(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},Aa={readContext:no,useCallback:Ca,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:Ta,useReducer:sa,useRef:ma,useState:function(){return sa(aa)},useDebugValue:Ia,useDeferredValue:function(e){var t=sa(aa),n=t[0],r=t[1];return ba((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=sa(aa)[0];return[ma().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return sa(aa)[0]},unstable_isNewReconciler:!1},Da={readContext:no,useCallback:Ca,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:Ta,useReducer:ua,useRef:ma,useState:function(){return ua(aa)},useDebugValue:Ia,useDeferredValue:function(e){var t=ua(aa),n=t[0],r=t[1];return ba((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=ua(aa)[0];return[ma().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(aa)[0]},unstable_isNewReconciler:!1},Ma=_.ReactCurrentOwner,La=!1;function Oa(e,t,n,r){t.child=null===e?Co(t,null,n,r):Io(t,e.child,n,r)}function Pa(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=ra(e,t,n,r,o,i),null===e||La?(t.flags|=1,Oa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Xa(e,t,i))}function Ra(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Uu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Bu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?Xa(e,t,o):(t.flags|=1,(e=zu(a,r)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(La=!1,0==(o&i))return t.lanes=e.lanes,Xa(e,t,o);0!=(16384&e.flags)&&(La=!0)}return za(e,t,n,r,o)}function Fa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},gu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gu(0,e),null;t.memoizedState={baseLanes:0},gu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,gu(0,r);return Oa(e,t,i,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=di(n)?hi:ci.current;return o=fi(t,o),to(t,i),n=ra(e,t,n,r,o,i),null===e||La?(t.flags|=1,Oa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Xa(e,t,i))}function Ba(e,t,n,r,i){if(di(n)){var o=!0;vi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):fi(t,c=di(n)?hi:ci.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&vo(t,a,r,c),ro=!1;var f=t.memoizedState;a.state=f,co(t,r,a,i),u=t.memoizedState,s!==r||f!==u||li.current||ro?("function"==typeof l&&(fo(t,n,l,r),u=t.memoizedState),(s=ro||mo(t,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),a.props=c,h=t.pendingProps,f=a.context,u="object"==typeof(u=n.contextType)&&null!==u?no(u):fi(t,u=di(n)?hi:ci.current);var d=n.getDerivedStateFromProps;(l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==u)&&vo(t,a,r,u),ro=!1,f=t.memoizedState,a.state=f,co(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||li.current||ro?("function"==typeof d&&(fo(t,n,d,r),p=t.memoizedState),(c=ro||mo(t,n,c,r,f,p,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Va(e,t,n,r,o,i)}function Va(e,t,n,r,i,o){Ua(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&yi(t,n,!1),Xa(e,t,o);r=t.stateNode,Ma.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,s,o)):Oa(e,t,s,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function qa(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Ao(e,t.containerInfo)}var Ga,Wa,Ha,Ya={dehydrated:null,retryLane:0};function Ka(e,t,n){var r,i=t.pendingProps,o=Oo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),si(Oo,1&o),null===e?(void 0!==i.fallback&&Bo(t),e=i.children,o=i.fallback,a?(e=Qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,e):"number"==typeof i.unstable_expectedLoadTime?(e=Qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,t.lanes=33554432,e):((n=qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zu(a,s),null!==e?r=zu(e,r):(r=Vu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ya,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=zu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Qa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=qu(t,i,0,null),n=Vu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Za(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Ja(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function $a(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Oa(e,t,r.children,n),0!=(2&(r=Oo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,n);else if(19===e.tag)Za(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Oo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Po(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ja(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Po(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ja(t,!0,n,null,o,t.lastEffect);break;case"together":Ja(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ps|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!Fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(t.type)&&pi(),null;case 3:return Do(),ai(li),ai(ci),Ho(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Lo(t);var o=No(ko.current);if(n=t.type,null!==e&&null!=t.stateNode)Wa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(So.current),qo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kr]=t,r[Qr]=s,n){case"dialog":Sr("cancel",r),Sr("close",r);break;case"iframe":case"object":case"embed":Sr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Sr(Er[e],r);break;case"source":Sr("error",r);break;case"img":case"image":case"link":Sr("error",r),Sr("load",r);break;case"details":Sr("toggle",r);break;case"input":ee(r,s),Sr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Sr("invalid",r);break;case"textarea":ue(r,s),Sr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Sr("scroll",r));switch(n){case"input":Z(r),re(r,s,!0);break;case"textarea":Z(r),le(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Rr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Kr]=t,e[Qr]=r,Ga(e,t),t.stateNode=e,c=Ce(n,r),n){case"dialog":Sr("cancel",e),Sr("close",e),o=r;break;case"iframe":case"object":case"embed":Sr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Sr(Er[o],e);o=r;break;case"source":Sr("error",e),o=r;break;case"img":case"image":case"link":Sr("error",e),Sr("load",e),o=r;break;case"details":Sr("toggle",e),o=r;break;case"input":ee(e,r),o=X(e,r),Sr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Sr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Sr("invalid",e);break;default:o=r}Ie(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?_e(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"==typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Sr("scroll",e):null!=h&&w(e,s,h,c))}switch(n){case"input":Z(e),re(e,r,!1);break;case"textarea":Z(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Rr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=No(ko.current),No(So.current),qo(t)?(r=t.stateNode,n=t.memoizedProps,r[Kr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Kr]=t,t.stateNode=r)}return null;case 13:return ai(Oo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Oo.current)?0===Ms&&(Ms=3):(0!==Ms&&3!==Ms||(Ms=4),null===xs||0==(134217727&Ps)&&0==(134217727&Rs)||fu(xs,Ns))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&kr(t.stateNode.containerInfo),null;case 10:return Xi(t),null;case 17:return di(t.type)&&pi(),null;case 19:if(ai(Oo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)es(r,!1);else{if(0!==Ms||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Po(e))){for(t.flags|=64,es(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Oo,1&Oo.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>zs&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Po(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Fo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>zs&&1073741824!==n&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Oo.current,si(Oo,s?1&t|2:1&t),n):null;case 23:case 24:return vu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ns(e){switch(e.tag){case 1:di(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ai(li),ai(ci),Ho(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return ai(Oo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Oo),null;case 4:return Do(),null;case 10:return Xi(e),null;case 23:case 24:return vu(),null;default:return null}}function rs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function is(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ga=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(So.current);var a,s=null;switch(n){case"input":o=X(e,o),r=X(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Rr)}for(h in Ie(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Sr("scroll",e),s||c===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===P?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ha=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function as(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ws=r),is(0,t)},n}function ss(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return is(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var us="function"==typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ou(e,t)}else t.current=null}function ls(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Du(n,e),Au(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&lo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}lo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function fs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ds(e,t){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Du(t,n);else{r=t;try{i()}catch(e){Ou(r,e)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ou(t,e)}break;case 5:cs(t);break;case 4:bs(e,t)}}function ps(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function gs(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?vs(e,n,t):ys(e,n,t)}function vs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rr));else if(4!==r&&null!==(e=e.child))for(vs(e,t,n),e=e.sibling;null!==e;)vs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ds(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ds(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ve(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Us=Ui(),fs(t.child,!0)),void _s(t);case 19:return void _s(t);case 17:return;case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(a(163))}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Ru.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Es(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Is=Math.ceil,Cs=_.ReactCurrentDispatcher,Ts=_.ReactCurrentOwner,Ss=0,xs=null,ks=null,Ns=0,As=0,Ds=oi(0),Ms=0,Ls=null,Os=0,Ps=0,Rs=0,js=0,Fs=null,Us=0,zs=1/0;function Bs(){zs=Ui()+500}var Vs,qs=null,Gs=!1,Ws=null,Hs=null,Ys=!1,Ks=null,Qs=90,Zs=[],Js=[],$s=null,Xs=0,eu=null,tu=-1,nu=0,ru=0,iu=null,ou=!1;function au(){return 0!=(48&Ss)?Ui():-1!==tu?tu:tu=Ui()}function su(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===zi()?1:2;if(0===nu&&(nu=Os),0!==Hi.transition){0!==ru&&(ru=null!==Fs?Fs.pendingLanes:0),e=nu;var t=4186112&~ru;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),e=Ut(0!=(4&Ss)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nu)}function uu(e,t,n){if(50<Xs)throw Xs=0,eu=null,Error(a(185));if(null===(e=cu(e,t)))return null;Vt(e,t,n),e===xs&&(Rs|=t,4===Ms&&fu(e,Ns));var r=zi();1===t?0!=(8&Ss)&&0==(48&Ss)?du(e):(lu(e,n),0===Ss&&(Bs(),Gi())):(0==(4&Ss)||98!==r&&99!==r||(null===$s?$s=new Set([e]):$s.add(e)),lu(e,n)),Fs=e}function cu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function lu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-qt(s),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Rt(c);var h=Pt;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===xs?Ns:0),t=Pt,0===r)null!==n&&(n!==Li&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ii(n)}15===t?(n=du.bind(null,e),null===Pi?(Pi=[n],Ri=Ei(ki,Wi)):Pi.push(n),n=Li):n=14===t?qi(99,du.bind(null,e)):qi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),hu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(tu=-1,ru=nu=0,0!=(48&Ss))throw Error(a(327));var t=e.callbackNode;if(Nu()&&e.callbackNode!==t)return null;var n=jt(e,e===xs?Ns:0);if(0===n)return null;var r=n,i=Ss;Ss|=16;var o=wu();for(xs===e&&Ns===r||(Bs(),yu(e,r));;)try{Iu();break}catch(t){bu(e,t)}if($i(),Cs.current=o,Ss=i,null!==ks?r=0:(xs=null,Ns=0,r=Ms),0!=(Os&Rs))yu(e,0);else if(0!==r){if(2===r&&(Ss|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Ft(e))&&(r=_u(e,n))),1===r)throw t=Ls,yu(e,0),fu(e,n),lu(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Su(e);break;case 3:if(fu(e,n),(62914560&n)===n&&10<(r=Us+500-Ui())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){au(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Br(Su.bind(null,e),r);break}Su(e);break;case 4:if(fu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-qt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){e.timeoutHandle=Br(Su.bind(null,e),n);break}Su(e);break;case 5:Su(e);break;default:throw Error(a(329))}}return lu(e,Ui()),e.callbackNode===t?hu.bind(null,e):null}function fu(e,t){for(t&=~js,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!=(48&Ss))throw Error(a(327));if(Nu(),e===xs&&0!=(e.expiredLanes&Ns)){var t=Ns,n=_u(e,t);0!=(Os&Rs)&&(n=_u(e,t=jt(e,t)))}else n=_u(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Ss|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Ft(e))&&(n=_u(e,t))),1===n)throw n=Ls,yu(e,0),fu(e,t),lu(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e),lu(e,Ui()),null}function pu(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&(Bs(),Gi())}}function mu(e,t){var n=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=n)&&(Bs(),Gi())}}function gu(e,t){si(Ds,As),As|=t,Os|=t}function vu(){As=Ds.current,ai(Ds)}function yu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Do(),ai(li),ai(ci),Ho();break;case 5:Lo(r);break;case 4:Do();break;case 13:case 19:ai(Oo);break;case 10:Xi(r);break;case 23:case 24:vu()}n=n.return}xs=e,ks=zu(e.current,null),Ns=As=Os=t,Ms=0,Ls=null,js=Rs=Ps=0}function bu(e,t){for(;;){var n=ks;try{if($i(),Yo.current=ka,Xo){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Xo=!1}if(Qo=0,$o=Jo=Zo=null,ea=!1,Ts.current=null,null===n||null===n.return){Ms=1,Ls=t,ks=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ns,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Oo.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var v=new Set;v.add(c),f.updateQueue=v}else g.add(c);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(-1,1);y.tag=2,so(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new os,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Pu.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((Y(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ms&&(Ms=2),u=rs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,uo(f,as(0,o,t));break e;case 1:o=u;var _=f.type,E=f.stateNode;if(0==(64&f.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Hs||!Hs.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,uo(f,ss(f,o,t));break e}}f=f.return}while(null!==f)}Tu(n)}catch(e){t=e,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function wu(){var e=Cs.current;return Cs.current=ka,null===e?ka:e}function _u(e,t){var n=Ss;Ss|=16;var r=wu();for(xs===e&&Ns===t||yu(e,t);;)try{Eu();break}catch(t){bu(e,t)}if($i(),Ss=n,Cs.current=r,null!==ks)throw Error(a(261));return xs=null,Ns=0,Ms}function Eu(){for(;null!==ks;)Cu(ks)}function Iu(){for(;null!==ks&&!Ci();)Cu(ks)}function Cu(e){var t=Vs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?Tu(e):ks=t,Ts.current=null}function Tu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ts(n,t,As)))return void(ks=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&As)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(ks=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===Ms&&(Ms=5)}function Su(e){var t=zi();return Vi(99,xu.bind(null,e,t)),null}function xu(e,t){do{Nu()}while(null!==Ks);if(0!=(48&Ss))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-qt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==$s&&0==(24&r)&&$s.has(e)&&$s.delete(e),e===xs&&(ks=xs=null,Ns=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ss,Ss|=32,Ts.current=null,jr=Kt,dr(s=fr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var h=0,f=-1,d=-1,p=0,m=0,g=s,v=null;t:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(f=h+o),g!==c||0!==l&&3!==g.nodeType||(d=h+l),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break t;if(v===u&&++p===o&&(f=h),v===c&&++m===l&&(d=h),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Fr={focusedElem:s,selectionRange:u},Kt=!1,iu=null,ou=!1,qs=r;do{try{ku()}catch(e){if(null===qs)throw Error(a(330));Ou(qs,e),qs=qs.nextEffect}}while(null!==qs);iu=null,qs=r;do{try{for(s=e;null!==qs;){var b=qs.flags;if(16&b&&ve(qs.stateNode,""),128&b){var w=qs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:gs(qs),qs.flags&=-3;break;case 6:gs(qs),qs.flags&=-3,ws(qs.alternate,qs);break;case 1024:qs.flags&=-1025;break;case 1028:qs.flags&=-1025,ws(qs.alternate,qs);break;case 4:ws(qs.alternate,qs);break;case 8:bs(s,u=qs);var E=u.alternate;ps(u),null!==E&&ps(E)}qs=qs.nextEffect}}catch(e){if(null===qs)throw Error(a(330));Ou(qs,e),qs=qs.nextEffect}}while(null!==qs);if(_=Fr,w=fr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=lr(b,E),o=lr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Kt=!!jr,Fr=jr=null,e.current=n,qs=r;do{try{for(b=e;null!==qs;){var I=qs.flags;if(36&I&&hs(b,qs.alternate,qs),128&I){w=void 0;var C=qs.ref;if(null!==C){var T=qs.stateNode;switch(qs.tag){case 5:w=T;break;default:w=T}"function"==typeof C?C(w):C.current=w}}qs=qs.nextEffect}}catch(e){if(null===qs)throw Error(a(330));Ou(qs,e),qs=qs.nextEffect}}while(null!==qs);qs=null,Oi(),Ss=i}else e.current=n;if(Ys)Ys=!1,Ks=e,Qs=t;else for(qs=r;null!==qs;)t=qs.nextEffect,qs.nextEffect=null,8&qs.flags&&((I=qs).sibling=null,I.stateNode=null),qs=t;if(0===(r=e.pendingLanes)&&(Hs=null),1===r?e===eu?Xs++:(Xs=0,eu=e):Xs=0,n=n.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64==(64&n.current.flags))}catch(e){}if(lu(e,Ui()),Gs)throw Gs=!1,e=Ws,Ws=null,e;return 0!=(8&Ss)||Gi(),null}function ku(){for(;null!==qs;){var e=qs.alternate;ou||null===iu||(0!=(8&qs.flags)?Xe(qs,iu)&&(ou=!0):13===qs.tag&&Es(e,qs)&&Xe(qs,iu)&&(ou=!0));var t=qs.flags;0!=(256&t)&&ls(e,qs),0==(512&t)||Ys||(Ys=!0,qi(97,(function(){return Nu(),null}))),qs=qs.nextEffect}}function Nu(){if(90!==Qs){var e=97<Qs?97:Qs;return Qs=90,Vi(e,Mu)}return!1}function Au(e,t){Zs.push(t,e),Ys||(Ys=!0,qi(97,(function(){return Nu(),null})))}function Du(e,t){Js.push(t,e),Ys||(Ys=!0,qi(97,(function(){return Nu(),null})))}function Mu(){if(null===Ks)return!1;var e=Ks;if(Ks=null,0!=(48&Ss))throw Error(a(331));var t=Ss;Ss|=32;var n=Js;Js=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Ou(o,e)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(a(330));Ou(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ss=t,Gi(),!0}function Lu(e,t,n){so(e,t=as(0,t=rs(n,t),1)),t=au(),null!==(e=cu(e,1))&&(Vt(e,1,t),lu(e,t))}function Ou(e,t){if(3===e.tag)Lu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Lu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){var i=ss(n,e=rs(t,e),1);if(so(n,i),i=au(),null!==(n=cu(n,1)))Vt(n,1,i),lu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=au(),e.pingedLanes|=e.suspendedLanes&n,xs===e&&(Ns&n)===n&&(4===Ms||3===Ms&&(62914560&Ns)===Ns&&500>Ui()-Us?yu(e,0):js|=n),lu(e,t)}function Ru(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===zi()?1:2:(0===nu&&(nu=Os),0===(t=zt(62914560&~nu))&&(t=4194304))),n=au(),null!==(e=cu(e,t))&&(Vt(e,t,n),lu(e,n))}function ju(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Fu(e,t,n,r){return new ju(e,t,n,r)}function Uu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zu(e,t){var n=e.alternate;return null===n?((n=Fu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Uu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return Vu(n.children,i,o,t);case R:s=8,i|=16;break;case T:s=8,i|=1;break;case S:return(e=Fu(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=o,e;case A:return(e=Fu(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case D:return(e=Fu(19,n,t,i)).elementType=D,e.lanes=o,e;case j:return qu(n,i,o,t);case F:return(e=Fu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case k:s=9;break e;case N:s=11;break e;case M:s=14;break e;case L:s=16,r=null;break e;case O:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Fu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Vu(e,t,n,r){return(e=Fu(7,e,r,t)).lanes=n,e}function qu(e,t,n,r){return(e=Fu(23,e,r,t)).elementType=j,e.lanes=n,e}function Gu(e,t,n){return(e=Fu(6,e,null,t)).lanes=n,e}function Wu(e,t,n){return(t=Fu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Yu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ku(e,t,n,r){var i=t.current,o=au(),s=su(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(di(c)){n=gi(n,c,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),uu(i,s,o),s}function Qu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ju(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function $u(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Hu(e,t,null!=n&&!0===n.hydrate),t=Fu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Zr]=n.current,kr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Qu(a);s.call(e)}}Ku(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new $u(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Qu(a);u.call(e)}}mu((function(){Ku(t,a,e,i)}))}return Qu(a)}function tc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(a(200));return Yu(e,t,null,n)}Vs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||li.current)La=!0;else{if(0==(n&r)){switch(La=!1,t.tag){case 3:qa(t),Go();break;case 5:Mo(t);break;case 1:di(t.type)&&vi(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ka(e,t,n):(si(Oo,1&Oo.current),null!==(t=Xa(e,t,n))?t.sibling:null);si(Oo,1&Oo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return $a(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Oo,Oo.current),r)break;return null;case 23:case 24:return t.lanes=0,Fa(e,t,n)}return Xa(e,t,n)}La=0!=(16384&e.flags)}else La=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,ci.current),to(t,n),i=ra(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(r)){var o=!0;vi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&fo(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Va(null,t,r,!0,o,n)}else t.tag=0,Oa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Uu(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===M)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Ba(null,t,i,e,n);break e;case 11:t=Pa(null,t,i,e,n);break e;case 14:t=Ra(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ba(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(qa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Go(),t=Xa(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(jo=Gr(t.stateNode.containerInfo.firstChild),Ro=t,o=Fo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Wo.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Oa(e,t,r,n),Go();t=t.child}return t;case 5:return Mo(t),null===e&&Bo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ua(e,t),Oa(e,t,s,n),t.child;case 6:return null===e&&Bo(t),null;case 13:return Ka(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Pa(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(si(Ki,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0==(o=ar(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!li.current){t=Xa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=ao(-1,n&-n)).tag=2,so(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Oa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Oa(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Ra(e,t,i,o=Yi(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,di(r)?(e=!0,vi(t)):e=!1,to(t,n),go(t,r,i),yo(t,r,i,n),Va(null,t,r,!0,e,n);case 19:return $a(e,t,n);case 23:case 24:return Fa(e,t,n)}throw Error(a(156,t.tag))},$u.prototype.render=function(e){Ku(e,this._internalRoot,null,null)},$u.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ku(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(uu(e,4,au()),Ju(e,4))},tt=function(e){13===e.tag&&(uu(e,67108864,au()),Ju(e,67108864))},nt=function(e){if(13===e.tag){var t=au(),n=su(e);uu(e,n,t),Ju(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Me=pu,Le=function(e,t,n,r,i){var o=Ss;Ss|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Ss=o)&&(Bs(),Gi())}},Oe=function(){0==(49&Ss)&&(function(){if(null!==$s){var e=$s;$s=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,lu(e,Ui())}))}Gi()}(),Nu())},Pe=function(e,t){var n=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=n)&&(Bs(),Gi())}};var nc={Events:[Xr,ei,ti,Ae,De,Nu,{current:!1}]},rc={findFiberByHostInstance:$r,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{bi=oc.inject(ic),wi=oc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=tc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ss;if(0!=(48&n))return e(t);Ss|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Ss=n,Gi()}},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(a(40));return!!e._reactRootContainer&&(mu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=pu,t.unstable_createPortal=function(e,t){return tc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="17.0.2"},116:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(748)},5:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case m:case u:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||_(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},972:function(e,t,n){"use strict";e.exports=n(5)},988:function(e,t,n){"use strict";Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"yB",{enumerable:!0,get:function(){return i.default}});var r=o(n(346)),i=o(n(823));function o(e){return e&&e.__esModule?e:{default:e}}},823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(466)),i=n(254),o=n(346);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d,p,m,g=function(e){function t(){return u(this,t),l(this,h(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.color,n=e.highlightColor,r=e.children,o=(0,i.css)(".react-loading-skeleton{background-color:",t,";background-image:linear-gradient( 90deg,",t,",",n,",",t," );};label:SkeletonTheme;");return(0,i.jsx)("div",{css:o},r)}}])&&c(n.prototype,r),t}(r.Component);t.default=g,d=g,p="defaultProps",m={color:o.defaultBaseColor,highlightColor:o.defaultHighlightColor},p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m},346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d,t.skeletonStyles=t.skeletonKeyframes=t.defaultHighlightColor=t.defaultBaseColor=void 0,(r=n(466))&&r.__esModule;var r,i=n(254);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e,t,n=(e=["\n  0% {\n    background-position: -200px 0;\n  }\n  ","\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return u=function(){return n},n}var c="#eee";t.defaultBaseColor=c;var l="#f5f5f5";t.defaultHighlightColor=l;var h=function(e,t){return(0,i.keyframes)(u(),t>0?"".concat(Math.floor(1/(e+t)*e*100),"% {\n    background-position: calc(200px + 100%) 0;\n  }"):void 0)};t.skeletonKeyframes=h;var f=(0,i.css)("background-color:",c,";background-image:linear-gradient( 90deg,",c,",",l,",",c," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");function d(e){for(var t=e.count,n=e.duration,r=e.width,o=e.wrapper,s=e.height,u=e.circle,c=e.delay,l=e.style,d=e.className,p=[],m=0;m<t;m++){var g={};null!==r&&(g.width=r),null!==s&&(g.height=s),null!==r&&null!==s&&u&&(g.borderRadius="50%");var v="react-loading-skeleton";d&&(v+=" "+d),p.push((0,i.jsx)("span",{key:m,className:v,css:(0,i.css)(f," animation:",h(n,c)," ",n+c,"s ease-in-out infinite;label:Skeleton;"),style:a({},l,{},g)},"‌"))}return(0,i.jsx)("span",null,o?p.map((function(e,t){return(0,i.jsx)(o,{key:t},e,"‌")})):p)}t.skeletonStyles=f,d.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}},62:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var i=r(n(466));t.Context=i.default.createContext({remove:function(){},set:function(){},handleClick:function(){},open:function(){}})},311:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.baseGalleryPropTypes=void 0;var i=r(n(74));t.baseGalleryPropTypes={children:i.default.any,options:i.default.object,id:i.default.oneOfType([i.default.string,i.default.number])}},383:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomGallery=void 0;var l=c(n(357)),h=a(n(466)),f=c(n(74)),d=n(978),p=n(62),m=n(311);t.CustomGallery=function(e){var t=e.children,n=e.layoutRef,i=e.ui,o=e.options,a=e.id,c=e.onOpen,f=h.useRef(new Map),m=h.useRef(null),g=h.useCallback((function(e,t,h){var p=h||null,m=[],g=Array.from(f.current),v=function(n,i){var o=u(n,2),a=o[0],c=o[1],l=c.width,h=c.height,f=c.title,d=c.original,g=c.thumbnail,v=c.id,y=s(c,["width","height","title","original","thumbnail","id"]);(e===a||void 0!==v&&String(v)===t)&&(p=i),m.push(r(r(r(r({},f?{title:f}:{}),{w:Number(l),h:Number(h),src:d,msrc:g,el:a.current}),void 0!==v?{pid:v}:{}),y))};f.current.size>1?g.sort((function(e,t){var n=u(e,1)[0].current,r=u(t,1)[0].current;return d.sortNodes(n,r)})).forEach(v):g.forEach(v);var y=n.current;if(y){var b=new l.default(y,i,m,r(r({index:null===p?parseInt(t,10)-1:p,getThumbBoundsFn:function(e){var t=m[e].el;return t?d.getElBounds(t):{x:0,y:0,w:0}},history:!1},void 0!==a?{galleryUID:a,history:!0}:{}),o||{}));b.init(),void 0!==c&&"function"==typeof c&&c(b)}}),[o,a,c]);h.useEffect((function(){if(void 0!==a){var e=window.location.hash.substring(1),t={};if(!(e.length<5)){for(var n=e.split("&"),r=0;r<n.length;r++)if(n[r]){var i=u(n[r].split("="),2),o=i[0],s=i[1];o&&s&&(t[o]=s)}var c=t.pid,l=t.gid;0!==f.current.size?c&&l===String(a)&&g(null,c):m.current=c}}}),[g,a]);var v=h.useCallback((function(e){f.current.delete(e)}),[]),y=h.useCallback((function(e,t){var n=t.id;if(f.current.set(e,t),m.current)if(n===m.current)g(e),m.current=null;else if(!n){var r=parseInt(m.current,10)-1,i=Array.from(f.current.keys())[r];i&&(g(i),m.current=null)}}),[g]),b=h.useCallback((function(e){g(null,null,e)}),[g]);return h.default.createElement(p.Context.Provider,{value:{remove:v,set:y,handleClick:g,open:b}},t)},t.CustomGallery.propTypes=r(r({},m.baseGalleryPropTypes),{layoutRef:f.default.shape({current:f.default.instanceOf("undefined"==typeof Element?function(){}:Element)}).isRequired,ui:f.default.any.isRequired})},571:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Gallery=void 0;var c=u(n(270)),l=a(n(466)),h=n(555),f=n(311);t.Gallery=function(e){var t=e.children,n=e.options,i=e.id,o=e.onOpen,a=s(e,["children","options","id","onOpen"]),u=l.useRef();return l.default.createElement(h.CustomGallery,{layoutRef:u,ui:c.default,options:n,id:i,onOpen:o},t,l.default.createElement(h.DefaultLayout,r({},a,{ref:u})))},t.Gallery.propTypes=r(r({},f.baseGalleryPropTypes),h.layoutPropTypes)},978:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.shuffle=t.sortNodes=t.getElBounds=void 0;var o=n(172);t.getElBounds=function(e){var t=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop,r=e.getBoundingClientRect();return{x:r.left+t,y:r.top+n,w:r.width}},t.sortNodes=function(e,t){if(!(e instanceof Element))throw new o.NoRefError;return e===t?0:2&e.compareDocumentPosition(t)?1:-1},t.shuffle=function(e){for(var t,n,r=i(e),o=r.length;0!==o;)n=Math.floor(Math.random()*o),t=r[o-=1],r[o]=r[n],r[n]=t;return r}},649:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useGallery=void 0;var i=r(n(466)),o=n(62);t.useGallery=function(){return{open:i.default.useContext(o.Context).open}}},555:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(686),t),i(n(383),t),i(n(571),t),i(n(461),t),i(n(137),t),i(n(649),t)},461:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Item=void 0;var o=n(466),a=i(n(74)),s=n(62);t.Item=function(e){var t=e.children,n=r(e,["children"]),i=o.useRef(),a=o.useContext(s.Context),u=a.remove,c=a.set,l=a.handleClick,h=o.useCallback((function(){return l(i)}),[]);return o.useEffect((function(){return c(i,n),function(){return u(i)}}),Object.values(n)),t({ref:i,open:h})},t.Item.propTypes={original:a.default.string,thumbnail:a.default.string,width:a.default.oneOfType([a.default.number,a.default.string]),height:a.default.oneOfType([a.default.number,a.default.string]),title:a.default.string,html:a.default.string,children:a.default.func.isRequired,id:a.default.oneOfType([a.default.number,a.default.string])}},172:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.NoRefError=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.message="No valid `ref` provided.\nYou shuld use `ref` from render prop of Item component.\nExample:\n<Item>{({ ref }) => <div ref={ref}></div>}</Item>\n",t}return r(t,e),t}(Error);t.NoRefError=i},686:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultLayout=t.layoutDefaultProps=t.layoutPropTypes=void 0;var a=o(n(466)),s=o(n(74));t.layoutPropTypes={closeButtonCaption:s.default.string,shareButtonCaption:s.default.string,toggleFullscreenButtonCaption:s.default.string,zoomButtonCaption:s.default.string,prevButtonCaption:s.default.string,nextButtonCaption:s.default.string,shareButton:s.default.bool,fullscreenButton:s.default.bool,zoomButton:s.default.bool},t.layoutDefaultProps={closeButtonCaption:"Close (Esc)",shareButtonCaption:"Share",toggleFullscreenButtonCaption:"Toggle fullscreen",zoomButtonCaption:"Zoom in/out",prevButtonCaption:"Previous (arrow left)",nextButtonCaption:"Next (arrow right)",shareButton:!0,fullscreenButton:!0,zoomButton:!0},t.DefaultLayout=a.default.forwardRef((function(e,t){var n=e.closeButtonCaption,o=e.shareButtonCaption,s=e.toggleFullscreenButtonCaption,u=e.zoomButtonCaption,c=e.prevButtonCaption,l=e.nextButtonCaption,h=e.shareButton,f=e.fullscreenButton,d=e.zoomButton,p=i(e,["closeButtonCaption","shareButtonCaption","toggleFullscreenButtonCaption","zoomButtonCaption","prevButtonCaption","nextButtonCaption","shareButton","fullscreenButton","zoomButton"]);return a.default.createElement("div",r({className:"pswp",tabIndex:-1,role:"dialog","aria-hidden":"true"},p,{ref:t}),a.default.createElement("div",{className:"pswp__bg"}),a.default.createElement("div",{className:"pswp__scroll-wrap"},a.default.createElement("div",{className:"pswp__container"},a.default.createElement("div",{className:"pswp__item"}),a.default.createElement("div",{className:"pswp__item"}),a.default.createElement("div",{className:"pswp__item"})),a.default.createElement("div",{className:"pswp__ui pswp__ui--hidden"},a.default.createElement("div",{className:"pswp__top-bar"},a.default.createElement("div",{className:"pswp__counter"}),a.default.createElement("button",{type:"button",className:"pswp__button pswp__button--close",title:n}),h&&a.default.createElement("button",{type:"button",className:"pswp__button pswp__button--share",title:o}),f&&a.default.createElement("button",{type:"button",className:"pswp__button pswp__button--fs",title:s}),d&&a.default.createElement("button",{type:"button",className:"pswp__button pswp__button--zoom",title:u}),a.default.createElement("div",{className:"pswp__preloader"},a.default.createElement("div",{className:"pswp__preloader__icn"},a.default.createElement("div",{className:"pswp__preloader__cut"},a.default.createElement("div",{className:"pswp__preloader__donut"}))))),a.default.createElement("div",{className:"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"},a.default.createElement("div",{className:"pswp__share-tooltip"})),a.default.createElement("button",{type:"button",className:"pswp__button pswp__button--arrow--left",title:c}),a.default.createElement("button",{type:"button",className:"pswp__button pswp__button--arrow--right",title:l}),a.default.createElement("div",{className:"pswp__caption"},a.default.createElement("div",{className:"pswp__caption__center"})))))})),t.DefaultLayout.propTypes=t.layoutPropTypes,t.DefaultLayout.defaultProps=t.layoutDefaultProps},137:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},751:function(e,t,n){"use strict";var r=n(347),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+S(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),x(a,t,n,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(s=e[c],c);u+=x(s,t,n,l,a)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=x(s=s.value,t,n,l=r+S(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function k(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function D(){var e=A.current;if(null===e)throw Error(d(321));return e}var M={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},466:function(e,t,n){"use strict";e.exports=n(751)},794:function(e,t){"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){v=f((function(){e(t.unstable_now())}),n)},i=function(){d(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],x=[],k=1,N=null,A=3,D=!1,M=!1,L=!1;function O(e){for(var t=I(x);null!==t;){if(null===t.callback)C(x);else{if(!(t.startTime<=e))break;C(x),t.sortIndex=t.expirationTime,E(S,t)}t=I(x)}}function P(e){if(L=!1,O(e),!M)if(null!==I(S))M=!0,n(R);else{var t=I(x);null!==t&&r(P,t.startTime-e)}}function R(e,n){M=!1,L&&(L=!1,i()),D=!0;var o=A;try{for(O(n),N=I(S);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"==typeof a){N.callback=null,A=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?N.callback=s:N===I(S)&&C(S),O(n)}else C(S);N=I(S)}if(null!==N)var u=!0;else{var c=I(x);null!==c&&r(P,c.startTime-n),u=!1}return u}finally{N=null,A=o,D=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||D||(M=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return I(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:k++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(x,e),null===I(S)&&e===I(x)&&(L?i():L=!0,r(P,a-s))):(e.sortIndex=u,E(S,e),M||D||(M=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},767:function(e,t,n){"use strict";e.exports=n(794)},807:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},622:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return a},Jh:function(){return s},XA:function(){return u},CR:function(){return c},ev:function(){return l}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create,Object.create}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(466),t=n(116),r=n(856);r.Z.registerVersion("firebase","8.6.1","app");var i=n(574),o=n(861),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var u,c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},l=l||{},h=c||self;function f(){}function d(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(){return Date.now()}function E(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function I(){this.j=this.j,this.i=this.i}I.prototype.j=!1,I.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++g)}(this)},I.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function S(e){return Array.prototype.concat.apply([],arguments)}function x(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function k(e){return/^[\s\xa0]*$/.test(e)}var N,A=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return-1!=e.indexOf(t)}function M(e,t){return e<t?-1:e>t?1:0}e:{var L=h.navigator;if(L){var O=L.userAgent;if(O){N=O;break e}}N=""}function P(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function R(e){var t={};for(var n in e)t[n]=e[n];return t}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function U(e){return U[" "](e),e}U[" "]=f;var z,B,V=D(N,"Opera"),q=D(N,"Trident")||D(N,"MSIE"),G=D(N,"Edge"),W=G||q,H=D(N,"Gecko")&&!(D(N.toLowerCase(),"webkit")&&!D(N,"Edge"))&&!(D(N,"Trident")||D(N,"MSIE"))&&!D(N,"Edge"),Y=D(N.toLowerCase(),"webkit")&&!D(N,"Edge");function K(){var e=h.document;return e?e.documentMode:void 0}e:{var Q="",Z=(B=N,H?/rv:([^\);]+)(\)|;)/.exec(B):G?/Edge\/([\d\.]+)/.exec(B):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):Y?/WebKit\/(\S+)/.exec(B):V?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Z&&(Q=Z?Z[1]:""),q){var J=K();if(null!=J&&J>parseFloat(Q)){z=String(J);break e}}z=Q}var $,X={};function ee(e){return function(e,t){var n=X;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=A(String(z)).split("."),r=A(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=M(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||M(0==a[2].length,0==s[2].length)||M(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}h.document&&q?$=K()||parseInt(z,10)||void 0:$=void 0;var te=$,ne=!q||9<=Number(te),re=q&&!ee("9"),ie=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",f,t),h.removeEventListener("test",f,t)}catch(e){}return e}();function oe(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function ae(e,t){if(oe.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(H){e:{try{U(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:se[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}oe.prototype.b=function(){this.defaultPrevented=!0},E(ae,oe);var se={2:"touch",3:"pen",4:"mouse"};ae.prototype.b=function(){ae.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,re)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var ue="closure_listenable_"+(1e6*Math.random()|0),ce=0;function le(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++ce,this.Y=this.Z=!1}function he(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function fe(e){this.src=e,this.a={},this.b=0}function de(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=C(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(he(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function pe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}fe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=pe(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new le(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function ve(e,t,n,r,i){if(r&&r.once)return be(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ve(e,t[o],n,r,i);return null}return n=xe(n),e&&e[ue]?e.va(t,n,p(r)?!!r.capture:!!r,i):ye(e,t,n,!1,r,i)}function ye(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i;if(a&&!ne)return null;var s=Te(e);if(s||(e[me]=s=new fe(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Ce,t=ne?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ie||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ee(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function be(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)be(e,t[o],n,r,i);return null}return n=xe(n),e&&e[ue]?e.wa(t,n,p(r)?!!r.capture:!!r,i):ye(e,t,n,!0,r,i)}function we(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)we(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=xe(n),e&&e[ue]?(e=e.c,(t=String(t).toString())in e.a&&-1<(n=pe(o=e.a[t],n,r,i))&&(he(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=Te(e))&&(t=e.a[t.toString()],e=-1,t&&(e=pe(t,n,r,i)),(n=-1<e?t[e]:null)&&_e(n))}function _e(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[ue])de(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ee(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Te(t))?(de(n,e),0==n.b&&(n.src=null,t[me]=null)):he(e)}}}function Ee(e){return e in ge?ge[e]:ge[e]="on"+e}function Ie(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&_e(e),n.call(r,t)}function Ce(e,t){if(e.Y)return!0;if(!ne){if(!t)e:{t=["window","event"];for(var n=h,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Ie(e,t=new ae(t,this))}return Ie(e,new ae(t,this))}function Te(e){return(e=e[me])instanceof fe?e:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(e){return"function"==typeof e?e:(e[Se]||(e[Se]=function(t){return e.handleEvent(t)}),e[Se])}function ke(){I.call(this),this.c=new fe(this),this.J=this,this.C=null}function Ne(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new oe(t,e);else if(t instanceof oe)t.target=t.target||e;else{var i=t;F(t=new oe(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=Ae(a,r,!0,t)&&i}if(i=Ae(a=t.a=e,r,!0,t)&&i,i=Ae(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ae(a=t.a=n[o],r,!1,t)&&i}function Ae(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&de(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}E(ke,I),ke.prototype[ue]=!0,(u=ke.prototype).addEventListener=function(e,t,n,r){ve(this,e,t,n,r)},u.removeEventListener=function(e,t,n,r){we(this,e,t,n,r)},u.G=function(){if(ke.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)he(n[r]);delete t.a[e],t.b--}}this.C=null},u.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},u.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var De=h.JSON.stringify;function Me(){this.b=this.a=null}var Le,Oe=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Re}),(function(e){e.reset()}));function Pe(){var e=ze,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Re(){this.next=this.b=this.a=null}function je(e){h.setTimeout((function(){throw e}),0)}function Fe(e,t){Le||function(){var e=h.Promise.resolve(void 0);Le=function(){e.then(Be)}}(),Ue||(Le(),Ue=!0),ze.add(e,t)}Me.prototype.add=function(e,t){var n=Oe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Re.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Re.prototype.reset=function(){this.next=this.b=this.a=null};var Ue=!1,ze=new Me;function Be(){for(var e;e=Pe();){try{e.a.call(e.b)}catch(e){je(e)}var t=Oe;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Ue=!1}function Ve(e,t){ke.call(this),this.b=e||1,this.a=t||h,this.f=b(this.Za,this),this.g=_()}function qe(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Ge(e,t,n){if("function"==typeof e)n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function We(e){e.a=Ge((function(){e.a=null,e.c&&(e.c=!1,We(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}E(Ve,ke),(u=Ve.prototype).aa=!1,u.M=null,u.Za=function(){if(this.aa){var e=_()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ne(this,"tick"),this.aa&&(qe(this),this.start()))}},u.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_())},u.G=function(){Ve.X.G.call(this),qe(this),delete this.a};var He=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:We(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(h.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(I);function Ye(e){I.call(this),this.b=e,this.a={}}E(Ye,I);var Ke=[];function Qe(e,t,n,r){Array.isArray(n)||(n&&(Ke[0]=n.toString()),n=Ke);for(var i=0;i<n.length;i++){var o=ve(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Ze(e){P(e.a,(function(e,t){this.a.hasOwnProperty(t)&&_e(e)}),e),e.a={}}function Je(){this.a=!0}function $e(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return De(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Ye.prototype.G=function(){Ye.X.G.call(this),Ze(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Je.prototype.info=function(){};var Xe={},et=null;function tt(){return et=et||new ke}function nt(e){oe.call(this,Xe.Fa,e)}function rt(e){var t=tt();Ne(t,new nt(t,e))}function it(e,t){oe.call(this,Xe.STAT_EVENT,e),this.stat=t}function ot(e){var t=tt();Ne(t,new it(t,e))}function at(e){oe.call(this,Xe.Ga,e)}function st(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}Xe.Fa="serverreachability",E(nt,oe),Xe.STAT_EVENT="statevent",E(it,oe),Xe.Ga="timingevent",E(at,oe);var ut={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ct={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function lt(){}function ht(e){var t;return(t=e.a)||(t=e.a={}),t}function ft(){}lt.prototype.a=null;var dt,pt={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function mt(){oe.call(this,"d")}function gt(){oe.call(this,"c")}function vt(){}function yt(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Ye(this),this.P=bt,e=W?125:void 0,this.R=new Ve(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}E(mt,oe),E(gt,oe),E(vt,lt),dt=new vt;var bt=45e3,wt={},_t={};function Et(e,t,n){e.H=1,e.i=Gt(Ft(t)),e.j=n,e.I=!0,It(e,null)}function It(e,t){e.u=_(),St(e),e.l=Ft(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),rn(n.b,"t",r),e.D=0,e.a=$n(e.g,e.g.C?t:null),0<e.O&&(e.F=new He(b(e.Ca,e,e.a),e.O)),Qe(e.J,e.a,"readystatechange",e.Xa),t=e.B?R(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),rt(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function Ct(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Tt(e,n);if(i==_t){4==t&&(e.h=4,ot(14),r=!1),$e(e.c,e.f,null,"[Incomplete Response]");break}if(i==wt){e.h=4,ot(15),$e(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}$e(e.c,e.f,i,null),Dt(e,i)}4==t&&0==n.length&&(e.h=1,ot(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gn(t),t.F=!0,ot(11))):($e(e.c,e.f,n,"[Invalid Chunked Response]"),At(e),Nt(e))}function Tt(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?_t:(n=Number(t.substring(n,r)),isNaN(n)?wt:(r+=1)+n>t.length?_t:(t=t.substr(r,n),e.D=r+n,t))}function St(e){e.T=_()+e.P,xt(e,e.P)}function xt(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=st(b(e.Va,e),t)}function kt(e){e.o&&(h.clearTimeout(e.o),e.o=null)}function Nt(e){0==e.g.v||e.A||Yn(e.g,e)}function At(e){kt(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,qe(e.R),Ze(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Dt(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||hn(n.b,e)))if(n.I=e.N,!e.C&&hn(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Hn(n),Pn(n)}qn(n),ot(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=st(b(n.Sa,n),6e3));if(1>=ln(n.b)&&n.ea){try{n.ea()}catch(e){}n.ea=void 0}}else Qn(n,11)}else if((e.C||n.a==e)&&Hn(n),!k(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(fn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,qt(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=_()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Jn(u,u.C?u.ga:null,u.fa),d.C){dn(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(kt(p),St(p)),u.a=d}else Vn(u);0<n.g.length&&Fn(n)}else"stop"!=i[0]&&"close"!=i[0]||Qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Qn(n,7):On(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);rt(4)}catch(e){}}function Mt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"==typeof e)T(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(d(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Lt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Lt)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ot(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Pt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(u=yt.prototype).setTimeout=function(e){this.P=e},u.Xa=function(e){e=e.target;var t=this.F;t&&3==An(e)?t.f():this.Ca(e)},u.Ca=function(e){try{if(e==this.a)e:{var t=An(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!W&&!this.a.$())){this.A||4!=t||7==n||rt(8==n||0>=r?3:2),kt(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,ot(12),At(this),Nt(this);break e}$e(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Dt(this,u)}this.I?(Ct(this,t,o),W&&this.b&&3==t&&(Qe(this.J,this.R,"tick",this.Wa),this.R.start())):($e(this.c,this.f,o,null),Dt(this,o)),4==t&&At(this),this.b&&!this.A&&(4==t?Yn(this.g,this):(this.b=!1,St(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ot(12)):(this.h=0,ot(13)),At(this),Nt(this)}}}catch(e){}},u.Wa=function(){if(this.a){var e=An(this.a),t=this.a.$();this.D<t.length&&(kt(this),Ct(this,e,t),this.b&&4!=e&&St(this))}},u.cancel=function(){this.A=!0,At(this)},u.Va=function(){this.o=null;var e=_();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(rt(3),ot(17)),At(this),this.h=2,Nt(this)):xt(this,this.T-e)},(u=Lt.prototype).K=function(){Ot(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},u.L=function(){return Ot(this),this.a.concat()},u.get=function(e,t){return Pt(this.b,e)?this.b[e]:t},u.set=function(e,t){Pt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},u.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof jt){this.a=void 0!==t?t:e.a,Ut(this,e.f),this.j=e.j,zt(this,e.c),Bt(this,e.h),this.g=e.g,t=e.b;var n=new Xt;n.c=t.c,t.a&&(n.a=new Lt(t.a),n.b=t.b),Vt(this,n),this.i=e.i}else e&&(n=String(e).match(Rt))?(this.a=!!t,Ut(this,n[1]||"",!0),this.j=Wt(n[2]||""),zt(this,n[3]||"",!0),Bt(this,n[4]),this.g=Wt(n[5]||"",!0),Vt(this,n[6]||"",!0),this.i=Wt(n[7]||"")):(this.a=!!t,this.b=new Xt(null,this.a))}function Ft(e){return new jt(e)}function Ut(e,t,n){e.f=n?Wt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function zt(e,t,n){e.c=n?Wt(t,!0):t}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Vt(e,t,n){t instanceof Xt?(e.b=t,function(e,t){t&&!e.f&&(en(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tn(this,t),rn(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Ht(t,Jt)),e.b=new Xt(t,e.a))}function qt(e,t,n){e.b.set(t,n)}function Gt(e){return qt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),e}function Wt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ht(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Yt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Yt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Ht(t,Kt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Ht(t,Kt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ht(n,"/"==n.charAt(0)?Zt:Qt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Ht(n,$t)),e.join("")};var Kt=/[#\/\?@]/g,Qt=/[#\?:]/g,Zt=/[#\?]/g,Jt=/[#\?@]/g,$t=/#/g;function Xt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function en(e){e.a||(e.a=new Lt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tn(e,t){en(e),t=on(e,t),Pt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Pt((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ot(e)))}function nn(e,t){return en(e),t=on(e,t),Pt(e.a.b,t)}function rn(e,t,n){tn(e,t),0<n.length&&(e.c=null,e.a.set(on(e,t),x(n)),e.b+=n.length)}function on(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(u=Xt.prototype).add=function(e,t){en(this),this.c=null,e=on(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},u.forEach=function(e,t){en(this),this.a.forEach((function(n,r){T(n,(function(n){e.call(t,n,r,this)}),this)}),this)},u.L=function(){en(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},u.K=function(e){en(this);var t=[];if("string"==typeof e)nn(this,e)&&(t=S(t,this.a.get(on(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=S(t,e[n])}return t},u.set=function(e,t){return en(this),this.c=null,nn(this,e=on(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},u.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},u.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var an=function(e,t){this.b=e,this.a=t};function sn(e){this.g=e||un,e=h.PerformanceNavigationTiming?0<(e=h.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(h.ia&&h.ia.ya&&h.ia.ya()&&h.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var un=10;function cn(e){return!!e.b||!!e.a&&e.a.size>=e.f}function ln(e){return e.b?1:e.a?e.a.size:0}function hn(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function fn(e,t){e.a?e.a.add(t):e.b=t}function dn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function pn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=s(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return x(e.c)}function mn(){}function gn(){this.a=new mn}function vn(e,t,n){var r=n||"";try{Mt(e,(function(e,n){var i=e;p(e)&&(i=De(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function yn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}sn.prototype.cancel=function(){var e,t;if(this.c=pn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=s(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},mn.prototype.stringify=function(e){return h.JSON.stringify(e,void 0)},mn.prototype.parse=function(e){return h.JSON.parse(e,void 0)};var bn=h.JSON.parse;function wn(e){ke.call(this),this.headers=new Lt,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=_n,this.D=this.F=!1}E(wn,ke);var _n="",En=/^https?$/i,In=["POST","PUT"];function Cn(e){return"content-type"==e.toLowerCase()}function Tn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Sn(e),kn(e)}function Sn(e){e.u||(e.u=!0,Ne(e,"complete"),Ne(e,"error"))}function xn(e){if(e.b&&void 0!==l&&(!e.s[1]||4!=An(e)||2!=e.W()))if(e.l&&4==An(e))Ge(e.za,0,e);else if(Ne(e,"readystatechange"),4==An(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Rt)[1]||null;if(!o&&h.self&&h.self.location){var a=h.self.location.protocol;o=a.substr(0,a.length-1)}i=!En.test(o?o.toLowerCase():"")}t=i}if(t)Ne(e,"complete"),Ne(e,"success");else{e.h=6;try{var s=2<An(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",Sn(e)}}finally{kn(e)}}}function kn(e,t){if(e.a){Nn(e);var n=e.a,r=e.s[0]?f:null;e.a=null,e.s=null,t||Ne(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Nn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(h.clearTimeout(e.m),e.m=null)}function An(e){return e.a?e.a.readyState:0}function Dn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return P(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):qt(e,t,n))}function Mn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ln(e){this.pa=0,this.g=[],this.c=new Je,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Mn("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Mn("baseRetryDelayMs",5e3,e),this.Ra=Mn("retryDelaySeedMs",1e4,e),this.Ma=Mn("forwardChannelMaxRetries",2,e),this.ma=Mn("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new sn(e&&e.concurrentRequestLimit),this.ka=new gn,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function On(e){if(Rn(e),3==e.v){var t=e.R++,n=Ft(e.B);qt(n,"SID",e.J),qt(n,"RID",t),qt(n,"TYPE","terminate"),zn(e,n),(t=new yt(e,e.c,t,void 0)).H=2,t.i=Gt(Ft(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(t.i.toString(),"")),!n&&h.Image&&((new Image).src=t.i,n=!0),n||(t.a=$n(t.g,null),t.a.ba(t.i)),t.u=_(),St(t)}Zn(e)}function Pn(e){e.a&&(Gn(e),e.a.cancel(),e.a=null)}function Rn(e){Pn(e),e.j&&(h.clearTimeout(e.j),e.j=null),Hn(e),e.b.cancel(),e.h&&("number"==typeof e.h&&h.clearTimeout(e.h),e.h=null)}function jn(e,t){e.g.push(new an(e.Oa++,t)),3==e.v&&Fn(e)}function Fn(e){cn(e.b)||e.h||(e.h=!0,Fe(e.Ba,e),e.u=0)}function Un(e,t){var n;n=t?t.f:e.R++;var r=Ft(e.B);qt(r,"SID",e.J),qt(r,"RID",n),qt(r,"AID",e.P),zn(e,r),e.i&&e.l&&Dn(r,e.i,e.l),n=new yt(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Bn(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),fn(e.b,n),Et(n,r,t)}function zn(e,t){e.f&&Mt({},(function(e,n){qt(t,n,e)}))}function Bn(e,t,n){n=Math.min(e.g.length,n);var r=e.f?b(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{vn(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Vn(e){e.a||e.j||(e.T=1,Fe(e.Aa,e),e.o=0)}function qn(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=st(b(e.Aa,e),Kn(e,e.o)),e.o++,0))}function Gn(e){null!=e.s&&(h.clearTimeout(e.s),e.s=null)}function Wn(e){e.a=new yt(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Ft(e.la);qt(t,"RID","rpc"),qt(t,"SID",e.J),qt(t,"CI",e.H?"0":"1"),qt(t,"AID",e.P),zn(e,t),qt(t,"TYPE","xmlhttp"),e.i&&e.l&&Dn(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Gt(Ft(t)),n.j=null,n.I=!0,It(n,e)}function Hn(e){null!=e.m&&(h.clearTimeout(e.m),e.m=null)}function Yn(e,t){var n=null;if(e.a==t){Hn(e),Gn(e),e.a=null;var r=2}else{if(!hn(e.b,t))return;n=t.s,dn(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=_()-t.u;var i=e.u;Ne(r=tt(),new at(r,n,t,i)),Fn(e)}else Vn(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ln(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=st(b(e.Ba,e,t),Kn(e,e.u)),e.u++,0)))}(e,t)||2==r&&qn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Qn(e,5);break;case 4:Qn(e,10);break;case 3:Qn(e,6);break;default:Qn(e,2)}}function Kn(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Qn(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=b(e.Ya,e);n||(n=new jt("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Ut(n,"https"),Gt(n)),function(e,t){var n=new Je;if(h.Image){var r=new Image;r.onload=w(yn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(yn,n,r,"TestLoadImage: error",!1,t),r.onabort=w(yn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(yn,n,r,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ot(2);e.v=0,e.f&&e.f.ra(t),Zn(e),Rn(e)}function Zn(e){e.v=0,e.I=-1,e.f&&(0==pn(e.b).length&&0==e.g.length||(e.b.c.length=0,x(e.g),e.g.length=0),e.f.qa())}function Jn(e,t,n){var r=function(e){return e instanceof jt?Ft(e):new jt(e,void 0)}(n);if(""!=r.c)t&&zt(r,t+"."+r.c),Bt(r,r.h);else{var i=h.location;r=function(e,t,n,r){var i=new jt(null,void 0);return e&&Ut(i,e),t&&zt(i,t),n&&Bt(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&P(e.V,(function(e,t){qt(r,t,e)})),t=e.A,n=e.na,t&&n&&qt(r,t,n),qt(r,"VER",e.ha),zn(e,r),r}function $n(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new wn(e.Na)).F=e.C,t}function Xn(){}function er(){if(q&&!(10<=Number(te)))throw Error("Environmental error: no available transport.")}function tr(e,t){ke.call(this),this.a=new Ln(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!k(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new ir(this)}function nr(e){mt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function rr(){gt.call(this),this.status=1}function ir(e){this.a=e}(u=wn.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ht(this.H):ht(dt),this.a.onreadystatechange=b(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(e){return void Tn(this,e)}e=n||"";var i=new Lt(this.headers);r&&Mt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Cn,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=h.FormData&&e instanceof h.FormData,!(0<=C(In,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Nn(this),0<this.o&&((this.D=function(e){return q&&ee(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.xa,this)):this.m=Ge(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Tn(this,e)}},u.xa=function(){void 0!==l&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ne(this,"timeout"),this.abort(8))},u.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Ne(this,"complete"),Ne(this,"abort"),kn(this))},u.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),kn(this,!0)),wn.X.G.call(this)},u.za=function(){this.j||(this.A||this.l||this.g?xn(this):this.Ua())},u.Ua=function(){xn(this)},u.W=function(){try{return 2<An(this)?this.a.status:-1}catch(e){return-1}},u.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},u.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),bn(t)}},u.ua=function(){return this.h},u.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(u=Ln.prototype).ha=8,u.v=1,u.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new yt(this,this.c,e,void 0),r=this.l;if(this.O&&(r?F(r=R(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Bn(this,n,t),qt(i=Ft(this.B),"RID",e),qt(i,"CVER",22),this.A&&qt(i,"X-HTTP-Session-Id",this.A),zn(this,i),this.i&&r&&Dn(i,this.i,r),fn(this.b,n),this.Ia&&qt(i,"TYPE","init"),this.da?(qt(i,"$req",t),qt(i,"SID","null"),n.U=!0,Et(n,i,null)):Et(n,i,t),this.v=2}}else 3==this.v&&(e?Un(this,e):0==this.g.length||cn(this.b)||Un(this))},u.Aa=function(){if(this.j=null,Wn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=st(b(this.Ta,this),e)}},u.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ot(10),Pn(this),Wn(this))},u.Sa=function(){null!=this.m&&(this.m=null,Pn(this),qn(this),ot(19))},u.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),ot(2)):(this.c.info("Failed to ping google.com"),ot(1))},(u=Xn.prototype).ta=function(){},u.sa=function(){},u.ra=function(){},u.qa=function(){},u.Ja=function(){},er.prototype.a=function(e,t){return new tr(e,t)},E(tr,ke),tr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;ot(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Jn(e,null,e.fa),Fn(e)},tr.prototype.close=function(){On(this.a)},tr.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,jn(this.a,t)}else this.l?((t={}).__data__=De(e),jn(this.a,t)):jn(this.a,e)},tr.prototype.G=function(){this.a.f=null,delete this.f,On(this.a),delete this.a,tr.X.G.call(this)},E(nr,mt),E(rr,gt),E(ir,Xn),ir.prototype.ta=function(){Ne(this.a,"a")},ir.prototype.sa=function(e){Ne(this.a,new nr(e))},ir.prototype.ra=function(e){Ne(this.a,new rr(e))},ir.prototype.qa=function(){Ne(this.a,"b")},er.prototype.createWebChannel=er.prototype.a,tr.prototype.send=tr.prototype.h,tr.prototype.open=tr.prototype.g,tr.prototype.close=tr.prototype.close,ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,ct.COMPLETE="complete",ft.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",ke.prototype.listen=ke.prototype.va,wn.prototype.listenOnce=wn.prototype.wa,wn.prototype.getLastError=wn.prototype.Qa,wn.prototype.getLastErrorCode=wn.prototype.ua,wn.prototype.getStatus=wn.prototype.W,wn.prototype.getResponseJson=wn.prototype.Pa,wn.prototype.getResponseText=wn.prototype.$,wn.prototype.send=wn.prototype.ba;var or=ut,ar=ct,sr=Xe,ur=10,cr=11,lr=ft,hr=wn,fr=n(622),dr=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();dr.o=-1;var pr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},mr=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,fr.ZT)(t,e),t}(Error),gr=new o.Yd("@firebase/firestore");function vr(){return gr.logLevel}function yr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(gr.logLevel<=o.in.DEBUG){var r=t.map(_r);gr.debug.apply(gr,(0,fr.ev)(["Firestore (8.5.0): "+e],r))}}function br(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(gr.logLevel<=o.in.ERROR){var r=t.map(_r);gr.error.apply(gr,(0,fr.ev)(["Firestore (8.5.0): "+e],r))}}function wr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(gr.logLevel<=o.in.WARN){var r=t.map(_r);gr.warn.apply(gr,(0,fr.ev)(["Firestore (8.5.0): "+e],r))}}function _r(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Er(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw br(t),new Error(t)}function Ir(e,t){e||Er()}function Cr(e,t){return e}function Tr(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Sr=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Tr(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function xr(e,t){return e<t?-1:e>t?1:0}function kr(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Nr(e){return e+"\0"}var Ar=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mr(pr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mr(pr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new mr(pr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mr(pr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?xr(this.nanoseconds,e.nanoseconds):xr(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Dr=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Ar(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Mr(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Lr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Or(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Pr=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Er(),void 0===n?n=e.length-t:n>e.length-t&&Er(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Rr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new mr(pr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Pr),jr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return jr.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new mr(pr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new mr(pr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new mr(pr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new mr(pr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Pr),Ur=function(){function e(e){this.fields=e,e.sort(Fr.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return kr(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),zr=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return xr(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();zr.EMPTY_BYTE_STRING=new zr("");var Br=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(e){if(Ir(!!e),"string"==typeof e){var t=0,n=Br.exec(e);if(Ir(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qr(e.seconds),nanos:qr(e.nanos)}}function qr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gr(e){return"string"==typeof e?zr.fromBase64String(e):zr.fromUint8Array(e)}function Wr(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hr(e){var t=e.mapValue.fields.__previous_value__;return Wr(t)?Hr(t):t}function Yr(e){var t=Vr(e.mapValue.fields.__local_write_time__.timestampValue);return new Ar(t.seconds,t.nanos)}function Kr(e){return null==e}function Qr(e){return 0===e&&1/e==-1/0}function Zr(e){return"number"==typeof e&&Number.isInteger(e)&&!Qr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Jr=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Rr.fromString(t))},e.fromName=function(t){return new e(Rr.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Rr.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Rr.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Rr(t.slice()))},e}();function $r(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wr(e)?4:10:Er()}function Xr(e,t){var n=$r(e);if(n!==$r(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yr(e).isEqual(Yr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Vr(e.timestampValue),r=Vr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gr(e.bytesValue).isEqual(Gr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qr(e.geoPointValue.latitude)===qr(t.geoPointValue.latitude)&&qr(e.geoPointValue.longitude)===qr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qr(e.integerValue)===qr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=qr(e.doubleValue),r=qr(t.doubleValue);return n===r?Qr(n)===Qr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return kr(e.arrayValue.values||[],t.arrayValue.values||[],Xr);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Mr(n)!==Mr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xr(n[i],r[i])))return!1;return!0}(e,t);default:return Er()}}function ei(e,t){return void 0!==(e.values||[]).find((function(e){return Xr(e,t)}))}function ti(e,t){var n=$r(e),r=$r(t);if(n!==r)return xr(n,r);switch(n){case 0:return 0;case 1:return xr(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=qr(e.integerValue||e.doubleValue),r=qr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ni(e.timestampValue,t.timestampValue);case 4:return ni(Yr(e),Yr(t));case 5:return xr(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Gr(e),r=Gr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=xr(n[i],r[i]);if(0!==o)return o}return xr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=xr(qr(e.latitude),qr(t.latitude));return 0!==n?n:xr(qr(e.longitude),qr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=ti(n[i],r[i]);if(o)return o}return xr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=xr(r[a],o[a]);if(0!==s)return s;var u=ti(n[r[a]],i[o[a]]);if(0!==u)return u}return xr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Er()}}function ni(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xr(e,t);var n=Vr(e),r=Vr(t),i=xr(n.seconds,r.seconds);return 0!==i?i:xr(n.nanos,r.nanos)}function ri(e){return ii(e)}function ii(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Vr(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Gr(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Jr.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=ii(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+ii(e.fields[o])}return t+"}"}(e.mapValue):Er();var t,n}function oi(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ai(e){return!!e&&"integerValue"in e}function si(e){return!!e&&"arrayValue"in e}function ui(e){return!!e&&"nullValue"in e}function ci(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function li(e){return!!e&&"mapValue"in e}var hi=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(Fr.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return Xr(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===$r(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=li(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(Fr.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!li(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function fi(e){var t=[];return Lr(e.fields||{},(function(e,n){var r=new Fr([e]);if(li(n)){var i=fi(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Ur(t)}var di=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Dr.min(),hi.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,hi.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,hi.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),pi=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function mi(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new pi(e,t,n,r,i,o,a)}function gi(e){var t=Cr(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ri(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Kr(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ni(t.startAt)),t.endAt&&(n+="|ub:",n+=Ni(t.endAt)),t.h=n}return t.h}function vi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Di(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Xr(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Li(e.startAt,t.startAt)&&Li(e.endAt,t.endAt)}function yi(e){return Jr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var bi=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,fr.ZT)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new wi(e,n,r):"array-contains"===n?new Ci(e,r):"in"===n?new Ti(e,r):"not-in"===n?new Si(e,r):"array-contains-any"===n?new xi(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new _i(e,n):new Ei(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(ti(t,this.value)):null!==t&&$r(this.value)===$r(t)&&this.m(ti(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Er()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),wi=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Jr.fromName(r.referenceValue),i}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){var t=Jr.comparator(e.key,this.key);return this.m(t)},t}(bi),_i=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Ii(0,n),r}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(bi),Ei=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Ii(0,n),r}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(bi);function Ii(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Jr.fromName(e.referenceValue)}))}var Ci=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return si(t)&&ei(t.arrayValue,this.value)},t}(bi),Ti=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&ei(this.value.arrayValue,t)},t}(bi),Si=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){if(ei(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ei(this.value.arrayValue,t)},t}(bi),xi=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,fr.ZT)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!si(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ei(t.value.arrayValue,e)}))},t}(bi),ki=function(e,t){this.position=e,this.before=t};function Ni(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ri(e)})).join(",")}var Ai=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Di(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Mi(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Jr.comparator(Jr.fromName(a.referenceValue),n.key):ti(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Li(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xr(e.position[n],t.position[n]))return!1;return!0}var Oi=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Pi(e,t,n,r,i,o,a,s){return new Oi(e,t,n,r,i,o,a,s)}function Ri(e){return new Oi(e)}function ji(e){return!Kr(e.limit)&&"F"===e.limitType}function Fi(e){return!Kr(e.limit)&&"L"===e.limitType}function Ui(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function zi(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Bi(e){return null!==e.collectionGroup}function Vi(e){var t=Cr(e);if(null===t.p){t.p=[];var n=zi(t),r=Ui(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Ai(n)),t.p.push(new Ai(Fr.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ai(Fr.keyField(),u))}}}return t.p}function qi(e){var t=Cr(e);if(!t.T)if("F"===t.limitType)t.T=mi(t.path,t.collectionGroup,Vi(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Vi(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ai(o.field,a))}var s=t.endAt?new ki(t.endAt.position,!t.endAt.before):null,u=t.startAt?new ki(t.startAt.position,!t.startAt.before):null;t.T=mi(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Gi(e,t,n){return new Oi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Wi(e,t){return vi(qi(e),qi(t))&&e.limitType===t.limitType}function Hi(e){return gi(qi(e))+"|lt:"+e.limitType}function Yi(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ri(t.value);var t})).join(", ")+"]"),Kr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ni(e.startAt)),e.endAt&&(t+=", endAt: "+Ni(e.endAt)),"Target("+t+")"}(qi(e))+"; limitType="+e.limitType+")"}function Ki(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Jr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Mi(e.startAt,Vi(e),t)||e.endAt&&Mi(e.endAt,Vi(e),t))}(e,t)}function Qi(e){return function(t,n){for(var r=!1,i=0,o=Vi(e);i<o.length;i++){var a=o[i],s=Zi(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Zi(e,t,n){var r=e.field.isKeyField()?Jr.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ti(r,i):Er()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Er()}}function Ji(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qr(t)?"-0":t}}function $i(e){return{integerValue:""+e}}function Xi(e,t){return Zr(t)?$i(t):Ji(e,t)}var eo=function(){this._=void 0};function to(e,t,n){return e instanceof io?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof oo?ao(e,t):e instanceof so?uo(e,t):function(e,t){var n=ro(e,t),r=lo(n)+lo(e.A);return ai(n)&&ai(e.A)?$i(r):Ji(e.R,r)}(e,t)}function no(e,t,n){return e instanceof oo?ao(e,t):e instanceof so?uo(e,t):n}function ro(e,t){return e instanceof co?ai(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t}(eo),oo=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,fr.ZT)(t,e),t}(eo);function ao(e,t){for(var n=ho(t),r=function(e){n.some((function(t){return Xr(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var so=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,fr.ZT)(t,e),t}(eo);function uo(e,t){for(var n=ho(t),r=function(e){n=n.filter((function(t){return!Xr(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var co=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,fr.ZT)(t,e),t}(eo);function lo(e){return qr(e.integerValue||e.doubleValue)}function ho(e){return si(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var fo=function(e,t){this.field=e,this.transform=t},po=function(e,t){this.version=e,this.transformResults=t},mo=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function go(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var vo=function(){};function yo(e,t,n){e instanceof Io?function(e,t,n){var r=e.value.clone(),i=So(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Co?function(e,t,n){if(go(e.precondition,t)){var r=So(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(To(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function bo(e,t,n){e instanceof Io?function(e,t,n){if(go(e.precondition,t)){var r=e.value.clone(),i=xo(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Eo(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Co?function(e,t,n){if(go(e.precondition,t)){var r=xo(e.fieldTransforms,n,t),i=t.data;i.setAll(To(e)),i.setAll(r),t.convertToFoundDocument(Eo(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){go(e.precondition,t)&&t.convertToNoDocument(Dr.min())}(e,t)}function wo(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=ro(o.transform,a||null);null!=s&&(null==n&&(n=hi.empty()),n.set(o.field,s))}return n||null}function _o(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&kr(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof oo&&t instanceof oo||e instanceof so&&t instanceof so?kr(e.elements,t.elements,Xr):e instanceof co&&t instanceof co?Xr(e.A,t.A):e instanceof io&&t instanceof io}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Eo(e){return e.isFoundDocument()?e.version:Dr.min()}var Io=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,fr.ZT)(t,e),t}(vo),Co=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,fr.ZT)(t,e),t}(vo);function To(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function So(e,t,n){var r=new Map;Ir(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,no(a,s,n[i]))}return r}function xo(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,to(s,u,t))}return r}var ko,No,Ao=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,fr.ZT)(t,e),t}(vo),Do=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,fr.ZT)(t,e),t}(vo),Mo=function(e){this.count=e};function Lo(e){switch(e){case pr.OK:return Er();case pr.CANCELLED:case pr.UNKNOWN:case pr.DEADLINE_EXCEEDED:case pr.RESOURCE_EXHAUSTED:case pr.INTERNAL:case pr.UNAVAILABLE:case pr.UNAUTHENTICATED:return!1;case pr.INVALID_ARGUMENT:case pr.NOT_FOUND:case pr.ALREADY_EXISTS:case pr.PERMISSION_DENIED:case pr.FAILED_PRECONDITION:case pr.ABORTED:case pr.OUT_OF_RANGE:case pr.UNIMPLEMENTED:case pr.DATA_LOSS:return!0;default:return Er()}}function Oo(e){if(void 0===e)return br("GRPC error has no .code"),pr.UNKNOWN;switch(e){case ko.OK:return pr.OK;case ko.CANCELLED:return pr.CANCELLED;case ko.UNKNOWN:return pr.UNKNOWN;case ko.DEADLINE_EXCEEDED:return pr.DEADLINE_EXCEEDED;case ko.RESOURCE_EXHAUSTED:return pr.RESOURCE_EXHAUSTED;case ko.INTERNAL:return pr.INTERNAL;case ko.UNAVAILABLE:return pr.UNAVAILABLE;case ko.UNAUTHENTICATED:return pr.UNAUTHENTICATED;case ko.INVALID_ARGUMENT:return pr.INVALID_ARGUMENT;case ko.NOT_FOUND:return pr.NOT_FOUND;case ko.ALREADY_EXISTS:return pr.ALREADY_EXISTS;case ko.PERMISSION_DENIED:return pr.PERMISSION_DENIED;case ko.FAILED_PRECONDITION:return pr.FAILED_PRECONDITION;case ko.ABORTED:return pr.ABORTED;case ko.OUT_OF_RANGE:return pr.OUT_OF_RANGE;case ko.UNIMPLEMENTED:return pr.UNIMPLEMENTED;case ko.DATA_LOSS:return pr.DATA_LOSS;default:return Er()}}(No=ko||(ko={}))[No.OK=0]="OK",No[No.CANCELLED=1]="CANCELLED",No[No.UNKNOWN=2]="UNKNOWN",No[No.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",No[No.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",No[No.NOT_FOUND=5]="NOT_FOUND",No[No.ALREADY_EXISTS=6]="ALREADY_EXISTS",No[No.PERMISSION_DENIED=7]="PERMISSION_DENIED",No[No.UNAUTHENTICATED=16]="UNAUTHENTICATED",No[No.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",No[No.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",No[No.ABORTED=10]="ABORTED",No[No.OUT_OF_RANGE=11]="OUT_OF_RANGE",No[No.UNIMPLEMENTED=12]="UNIMPLEMENTED",No[No.INTERNAL=13]="INTERNAL",No[No.UNAVAILABLE=14]="UNAVAILABLE",No[No.DATA_LOSS=15]="DATA_LOSS";var Po=function(){function e(e,t){this.comparator=e,this.root=t||jo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,jo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jo.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ro(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ro(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ro(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ro(this.root,e,this.comparator,!0)},e}(),Ro=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),jo=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Er();if(this.right.isRed())throw Er();var e=this.left.check();if(e!==this.right.check())throw Er();return e+(this.isRed()?0:1)},e}();jo.EMPTY=null,jo.RED=!0,jo.BLACK=!1,jo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Er()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Er()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Er()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Er()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Er()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new jo(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Fo=function(){function e(e){this.comparator=e,this.data=new Po(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Uo(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Uo(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Uo=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),zo=new Po(Jr.comparator);function Bo(){return zo}var Vo=new Po(Jr.comparator);function qo(){return Vo}var Go=new Po(Jr.comparator);function Wo(){return Go}var Ho=new Fo(Jr.comparator);function Yo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ho,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ko=new Fo(xr);function Qo(){return Ko}var Zo=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Jo.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Dr.min(),r,Qo(),Bo(),Yo())},e}(),Jo=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(zr.EMPTY_BYTE_STRING,n,Yo(),Yo(),Yo())},e}(),$o=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Xo=function(e,t){this.targetId=e,this.V=t},ea=function(e,t,n,r){void 0===n&&(n=zr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ta=function(){function e(){this.S=0,this.D=ia(),this.C=zr.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Yo(),t=Yo(),n=Yo();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Er()}})),new Jo(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=ia()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),na=function(){function e(e){this.W=e,this.G=new Map,this.H=Bo(),this.J=ra(),this.Y=new Fo(xr)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:Er()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(yi(i))if(0===n){var o=new Jr(i.path);this.tt(t,o,di.newNoDocument(o,Dr.min()))}else Ir(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&yi(o.target)){var a=new Jr(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,di.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Yo();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Zo(e,n,this.Y,this.H,r);return this.H=Bo(),this.J=ra(),this.Y=new Fo(xr),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new ta,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Fo(xr),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||yr("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new ta),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function ra(){return new Po(Jr.comparator)}function ia(){return new Po(Jr.comparator)}var oa={asc:"ASCENDING",desc:"DESCENDING"},aa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sa=function(e,t){this.databaseId=e,this.I=t};function ua(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ca(e,t){return e.I?t.toBase64():t.toUint8Array()}function la(e,t){return ua(e,t.toTimestamp())}function ha(e){return Ir(!!e),Dr.fromTimestamp(function(e){var t=Vr(e);return new Ar(t.seconds,t.nanos)}(e))}function fa(e,t){return function(e){return new Rr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function da(e){var t=Rr.fromString(e);return Ir(ja(t)),t}function pa(e,t){return fa(e.databaseId,t.path)}function ma(e,t){var n=da(t);if(n.get(1)!==e.databaseId.projectId)throw new mr(pr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mr(pr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Jr(ba(n))}function ga(e,t){return fa(e.databaseId,t)}function va(e){var t=da(e);return 4===t.length?Rr.emptyPath():ba(t)}function ya(e){return new Rr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ba(e){return Ir(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function wa(e,t,n){return{name:pa(e,t),fields:n.toProto().mapValue.fields}}function _a(e,t,n){var r=ma(e,t.name),i=ha(t.updateTime),o=new hi({mapValue:{fields:t.fields}}),a=di.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ea(e,t){var n;if(t instanceof Io)n={update:wa(e,t.key,t.value)};else if(t instanceof Ao)n={delete:pa(e,t.key)};else if(t instanceof Co)n={update:wa(e,t.key,t.data),updateMask:Ra(t.fieldMask)};else{if(!(t instanceof Do))return Er();n={verify:pa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof io)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof oo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof so)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof co)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Er()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:la(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Er()}(e,t.precondition)),n}function Ia(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?mo.updateTime(ha(e.updateTime)):void 0!==e.exists?mo.exists(e.exists):mo.none()}(t.currentDocument):mo.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ir("REQUEST_TIME"===t.setToServerValue),n=new io;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new oo(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new so(i)}else"increment"in t?n=new co(e,t.increment):Er();var o=Fr.fromServerFormat(t.fieldPath);return new fo(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=ma(e,t.update.name),o=new hi({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Ur(t.map((function(e){return Fr.fromServerFormat(e)})))}(t.updateMask);return new Co(i,o,a,n,r)}return new Io(i,o,n,r)}if(t.delete){var s=ma(e,t.delete);return new Ao(s,n)}if(t.verify){var u=ma(e,t.verify);return new Do(u,n)}return Er()}function Ca(e,t){return{documents:[ga(e,t.path)]}}function Ta(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ga(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ga(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ci(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NAN"}};if(ui(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ci(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NOT_NAN"}};if(ui(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(e.field),op:Da(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ma(e.field),direction:Aa(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Kr(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=ka(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ka(t.endAt)),n}function Sa(e){var t=va(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ir(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=xa(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ai(La(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Kr(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Na(n.startAt));var l=null;return n.endAt&&(l=Na(n.endAt)),Pi(t,i,s,a,u,"F",c,l)}function xa(e){return e?void 0!==e.unaryFilter?[Pa(e)]:void 0!==e.fieldFilter?[Oa(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return xa(e)})).reduce((function(e,t){return e.concat(t)})):Er():[]}function ka(e){return{before:e.before,values:e.position}}function Na(e){var t=!!e.before,n=e.values||[];return new ki(n,t)}function Aa(e){return oa[e]}function Da(e){return aa[e]}function Ma(e){return{fieldPath:e.canonicalString()}}function La(e){return Fr.fromServerFormat(e.fieldPath)}function Oa(e){return bi.create(La(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Er()}}(e.fieldFilter.op),e.fieldFilter.value)}function Pa(e){switch(e.unaryFilter.op){case"IS_NAN":var t=La(e.unaryFilter.field);return bi.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=La(e.unaryFilter.field);return bi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=La(e.unaryFilter.field);return bi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=La(e.unaryFilter.field);return bi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Er()}}function Ra(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ja(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Fa(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=za(t)),t=Ua(e.get(n),t);return za(t)}function Ua(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function za(e){return e+""}function Ba(e){var t=e.length;if(Ir(t>=2),2===t)return Ir(""===e.charAt(0)&&""===e.charAt(1)),Rr.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&Er(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:Er()}o=a+2}return new Rr(r)}var Va=function(e,t){this.seconds=e,this.nanoseconds=t},qa=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};qa.store="owner",qa.key="owner";var Ga=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ga.store="mutationQueues",Ga.keyPath="userId";var Wa=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Wa.store="mutations",Wa.keyPath="batchId",Wa.userMutationsIndex="userMutationsIndex",Wa.userMutationsKeyPath=["userId","batchId"];var Ha=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Fa(t)]},e.key=function(e,t,n){return[e,Fa(t),n]},e}();Ha.store="documentMutations",Ha.PLACEHOLDER=new Ha;var Ya=function(e,t){this.path=e,this.readTime=t},Ka=function(e,t){this.path=e,this.version=t},Qa=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Qa.store="remoteDocuments",Qa.readTimeIndex="readTimeIndex",Qa.readTimeIndexPath="readTime",Qa.collectionReadTimeIndex="collectionReadTimeIndex",Qa.collectionReadTimeIndexPath=["parentPath","readTime"];var Za=function(e){this.byteSize=e};Za.store="remoteDocumentGlobal",Za.key="remoteDocumentGlobalKey";var Ja=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Ja.store="targets",Ja.keyPath="targetId",Ja.queryTargetsIndexName="queryTargetsIndex",Ja.queryTargetsKeyPath=["canonicalId","targetId"];var $a=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};$a.store="targetDocuments",$a.keyPath=["targetId","path"],$a.documentTargetsIndex="documentTargetsIndex",$a.documentTargetsKeyPath=["path","targetId"];var Xa=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Xa.key="targetGlobalKey",Xa.store="targetGlobal";var es=function(e,t){this.collectionId=e,this.parent=t};es.store="collectionParents",es.keyPath=["collectionId","parent"];var ts=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ts.store="clientMetadata",ts.keyPath="clientId";var ns=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ns.store="bundles",ns.keyPath="bundleId";var rs=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};rs.store="namedQueries",rs.keyPath="name";var is=(0,fr.ev)((0,fr.ev)([],(0,fr.ev)((0,fr.ev)([],(0,fr.ev)((0,fr.ev)([],(0,fr.ev)((0,fr.ev)([],[Ga.store,Wa.store,Ha.store,Qa.store,Ja.store,qa.store,Xa.store,$a.store]),[ts.store])),[Za.store])),[es.store])),[ns.store,rs.store]),os="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",as=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),ss=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},us=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Er(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),cs=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new ss,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new fs(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=vs(t.target.error);n.ft.reject(new fs(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new fs(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(yr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ps(t)},e}(),ls=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,i.z$)())&&br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return yr("SimpleDb","Removing database:",e),ms(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,i.z$)(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),a=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(yr("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new fs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new mr(pr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new fs(e,n))},i.onupgradeneeded=function(e){yr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){yr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,fr.Jh)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,fr.Jh)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=cs.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),us.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,yr("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),hs=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return ms(this.Pt.delete())},e}(),fs=function(e){function t(t,n){var r=this;return(r=e.call(this,pr.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,fr.ZT)(t,e),t}(mr);function ds(e){return"IndexedDbTransactionError"===e.name}var ps=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(yr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(yr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ms(n)},e.prototype.add=function(e){return yr("SimpleDb","ADD",this.store.name,e,e),ms(this.store.add(e))},e.prototype.get=function(e){var t=this;return ms(this.store.get(e)).next((function(n){return void 0===n&&(n=null),yr("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return yr("SimpleDb","DELETE",this.store.name,e),ms(this.store.delete(e))},e.prototype.count=function(){return yr("SimpleDb","COUNT",this.store.name),ms(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){yr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new us((function(n,r){t.onerror=function(e){var t=vs(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new us((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new hs(i),a=t(i.primaryKey,i.value,o);if(a instanceof us){var s=a.catch((function(e){return o.done(),us.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return us.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function ms(e){return new us((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=vs(e.target.error);n(t)}}))}var gs=!1;function vs(e){var t=ls._t((0,i.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new mr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return gs||(gs=!0,setTimeout((function(){throw r}),0)),r}}return e}var ys=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,fr.ZT)(t,e),t}(as);function bs(e,t){var n=Cr(e);return ls.It(n.Mt,t)}var ws=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&yo(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&bo(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&bo(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Dr.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Yo())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&kr(this.mutations,e.mutations,(function(e,t){return _o(e,t)}))&&kr(this.baseMutations,e.baseMutations,(function(e,t){return _o(e,t)}))},e}(),_s=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Ir(t.mutations.length===r.length);for(var i=Wo(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Es=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Dr.min()),void 0===o&&(o=Dr.min()),void 0===a&&(a=zr.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Is=function(e){this.Lt=e};function Cs(e,t){if(t.document)return _a(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Jr.fromSegments(t.noDocument.path),r=Ns(t.noDocument.readTime),i=di.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Jr.fromSegments(t.unknownDocument.path);return r=Ns(t.unknownDocument.version),di.newUnknownDocument(o,r)}return Er()}function Ts(e,t,n){var r=Ss(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:pa(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:ua(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Qa(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=ks(t.version);return a=t.hasCommittedMutations,new Qa(null,new Ya(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=ks(t.version);return new Qa(new Ka(c,l),null,null,!0,r,i)}return Er()}function Ss(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xs(e){var t=new Ar(e[0],e[1]);return Dr.fromTimestamp(t)}function ks(e){var t=e.toTimestamp();return new Va(t.seconds,t.nanoseconds)}function Ns(e){var t=new Ar(e.seconds,e.nanoseconds);return Dr.fromTimestamp(t)}function As(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ia(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Ia(e.Lt,t)})),s=Ar.fromMillis(t.localWriteTimeMs);return new ws(t.batchId,s,n,a)}function Ds(e){var t,n,r=Ns(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ns(e.lastLimboFreeSnapshotVersion):Dr.min();return void 0!==e.query.documents?(Ir(1===(n=e.query).documents.length),t=qi(Ri(va(n.documents[0])))):t=function(e){return qi(Sa(e))}(e.query),new Es(t,e.targetId,0,e.lastListenSequenceNumber,r,i,zr.fromBase64String(e.resumeToken))}function Ms(e,t){var n,r=ks(t.snapshotVersion),i=ks(t.lastLimboFreeSnapshotVersion);n=yi(t.target)?Ca(e.Lt,t.target):Ta(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Ja(t.targetId,gi(t.target),r,o,t.sequenceNumber,i,n)}function Ls(e){var t=Sa({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gi(t,t.limit,"L"):t}var Os=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Ps(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ns(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Ps(e).put({bundleId:(n=t).id,createTime:ks(ha(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Rs(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ls(t.bundledQuery),readTime:Ns(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Rs(e).put(function(e){return{name:e.name,readTime:ks(ha(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Ps(e){return bs(e,ns.store)}function Rs(e){return bs(e,rs.store)}var js=function(){function e(){this.Bt=new Fs}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),us.resolve()},e.prototype.getCollectionParents=function(e,t){return us.resolve(this.Bt.getEntries(t))},e}(),Fs=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Fo(Rr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Fo(Rr.comparator)).toArray()},e}(),Us=function(){function e(){this.qt=new Fs}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Fa(i)};return zs(e).put(o)}return us.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Nr(t),""],!1,!0);return zs(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ba(o.parent))}return n}))},e}();function zs(e){return bs(e,es.store)}var Bs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vs=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function qs(e,t,n){var r=e.store(Wa.store),i=e.store(Ha.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Ir(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ha.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return us.waitFor(o).next((function(){return c}))}function Gs(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Er();t=e.noDocument}return JSON.stringify(t).length}Vs.DEFAULT_COLLECTION_PERCENTILE=10,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vs.DEFAULT=new Vs(41943040,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vs.DISABLED=new Vs(-1,0,0);var Ws=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return Ir(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ys(e).Ot({index:Wa.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Ks(e),a=Ys(e);return a.add({}).next((function(s){Ir("number"==typeof s);for(var u=new ws(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Ea(e.Lt,t)})),i=n.mutations.map((function(t){return Ea(e.Lt,t)}));return new Wa(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Fo((function(e,t){return xr(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=Ha.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,Ha.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),us.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Ys(e).get(t).next((function(e){return e?(Ir(e.userId===n.userId),As(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?us.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ys(e).Ot({index:Wa.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Ir(t.batchId>=r),o=As(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ys(e).Ot({index:Wa.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ys(e).Nt(Wa.userMutationsIndex,n).next((function(e){return e.map((function(e){return As(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Ha.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ks(e).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Ba(u);if(s===n.userId&&t.path.isEqual(l))return Ys(e).get(c).next((function(e){if(!e)throw Er();Ir(e.userId===n.userId),o.push(As(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Fo(xr),i=[];return t.forEach((function(t){var o=Ha.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Ks(e).Ot({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Ba(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),us.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Ha.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Fo(xr);return Ks(e).Ot({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Ba(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ys(e).get(t).next((function(e){if(null===e)throw Er();Ir(e.userId===n.userId),r.push(As(n.R,e))})))})),us.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return qs(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),us.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return us.resolve();var r=IDBKeyRange.lowerBound(Ha.prefixForUser(t.userId)),i=[];return Ks(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Ba(e[1]);i.push(o)}else r.done()})).next((function(){Ir(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Hs(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Qs(e).get(this.userId).next((function(e){return e||new Ga(t.userId,-1,"")}))},e}();function Hs(e,t,n){var r=Ha.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ks(e).Ot({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Ys(e){return bs(e,Wa.store)}function Ks(e){return bs(e,Ha.store)}function Qs(e){return bs(e,Ga.store)}var Zs=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Js=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Zs(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Dr.fromTimestamp(new Ar(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return $s(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Ir(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return $s(e).Ot((function(a,s){var u=Ds(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return us.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return $s(e).Ot((function(e,n){var r=Ds(n);t(r)}))},e.prototype.Xt=function(e){return Xs(e).get(Xa.key).next((function(e){return Ir(null!==e),e}))},e.prototype.Zt=function(e,t){return Xs(e).put(Xa.key,t)},e.prototype.te=function(e,t){return $s(e).put(Ms(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=gi(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return $s(e).Ot({range:r,index:Ja.queryTargetsIndexName},(function(e,n,r){var o=Ds(n);vi(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=eu(e);return t.forEach((function(t){var a=Fa(t.path);i.push(o.put(new $a(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),us.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=eu(e);return us.forEach(t,(function(t){var o=Fa(t.path);return us.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=eu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=eu(e),i=Yo();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=Ba(e[1]),o=new Jr(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Fa(t.path),r=IDBKeyRange.bound([n],[Nr(n)],!1,!0),i=0;return eu(e).Ot({index:$a.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return $s(e).get(t).next((function(e){return e?Ds(e):null}))},e}();function $s(e){return bs(e,Ja.store)}function Xs(e){return bs(e,Xa.store)}function eu(e){return bs(e,$a.store)}function tu(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){if(e.code!==pr.FAILED_PRECONDITION||e.message!==os)throw e;return yr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function nu(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=xr(n,i);return 0===a?xr(r,o):a}var ru=function(){function e(e){this.ne=e,this.buffer=new Fo(nu),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();nu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),iu=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;yr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ds(t=n.sent())?(yr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,tu(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),ou=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return us.resolve(dr.o);var r=new ru(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(yr("LruGarbageCollector","Garbage collection skipped; disabled"),us.resolve(Bs)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(yr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Bs):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,a,s,u,c,l=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(yr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),vr()<=o.in.DEBUG&&yr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),us.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),au=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new ou(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return su(e,n)},e.prototype.removeReference=function(e,t,n){return su(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return su(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Qs(e).$t((function(r){return Hs(e,r,t).next((function(e){return e&&(n=!0),us.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),eu(e).delete([0,Fa(a.path)])}))}));i.push(u)}})).next((function(){return us.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return su(e,t)},e.prototype.we=function(e,t){var n,r=eu(e),i=dr.o;return r.Ot({index:$a.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==dr.o&&t(new Jr(Ba(n)),i),i=s,n=a):i=dr.o})).next((function(){i!==dr.o&&t(new Jr(Ba(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function su(e,t){return eu(e).put(function(e,t){return new $a(0,Fa(e.path),t)}(t,e.currentSequenceNumber))}var uu=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Lr(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Or(this.inner)},e}(),cu=function(){function e(){this.changes=new uu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Dr.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:di.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?us.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),lu=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return du(e).put(pu(t),n)},e.prototype.removeEntry=function(e,t){var n=du(e),r=pu(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return du(e).get(pu(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return du(e).get(pu(t)).next((function(e){return{document:n.ye(t,e),size:Gs(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Bo();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Bo(),i=new Po(Jr.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Gs(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return us.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return du(e).Ot({range:r},(function(e,t,r){for(var a=Jr.fromSegments(e);o&&Jr.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Bo(),o=t.path.length+1,a={};if(n.isEqual(Dr.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Ss(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Qa.collectionReadTimeIndex}return du(e).Ot(a,(function(e,n,a){if(e.length===o){var s=Cs(r.R,n);t.path.isPrefixOf(s.key.path)?Ki(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new hu(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return fu(e).get(Za.key).next((function(e){return Ir(!!e),e}))},e.prototype.me=function(e,t){return fu(e).put(Za.key,t)},e.prototype.ye=function(e,t){if(t){var n=Cs(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Dr.min()))return n}return di.newInvalidDocument(e)},e}(),hu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new uu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,fr.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Fo((function(e,t){return xr(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Ts(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Gs(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Ts(t.Ie.R,di.newNoDocument(o,Dr.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),us.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(cu);function fu(e){return bs(e,Za.store)}function du(e){return bs(e,Qa.store)}function pu(e){return e.path.toArray()}var mu=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Ir(n<r&&n>=0&&r<=11);var o=new cs("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(qa.store)}(e),function(e){e.createObjectStore(Ga.store,{keyPath:Ga.keyPath}),e.createObjectStore(Wa.store,{keyPath:Wa.keyPath,autoIncrement:!0}).createIndex(Wa.userMutationsIndex,Wa.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ha.store)}(e),gu(e),function(e){e.createObjectStore(Qa.store)}(e));var a=us.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore($a.store),e.deleteObjectStore(Ja.store),e.deleteObjectStore(Xa.store)}(e),gu(e)),a=a.next((function(){return function(e){var t=e.store(Xa.store),n=new Xa(0,0,Dr.min().toTimestamp(),0);return t.put(Xa.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Wa.store).Nt().next((function(n){e.deleteObjectStore(Wa.store),e.createObjectStore(Wa.store,{keyPath:Wa.keyPath,autoIncrement:!0}).createIndex(Wa.userMutationsIndex,Wa.userMutationsKeyPath,{unique:!0});var r=t.store(Wa.store),i=n.map((function(e){return r.put(e)}));return us.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(ts.store,{keyPath:ts.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Za.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Qa.store);t.createIndex(Qa.readTimeIndex,Qa.readTimeIndexPath,{unique:!1}),t.createIndex(Qa.collectionReadTimeIndex,Qa.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(ns.store,{keyPath:ns.keyPath})}(e),function(e){e.createObjectStore(rs.store,{keyPath:rs.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Qa.store).Ot((function(e,n){t+=Gs(n)})).next((function(){var n=new Za(t);return e.store(Za.store).put(Za.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Ga.store),r=e.store(Wa.store);return n.Nt().next((function(n){return us.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Wa.userMutationsIndex,i).next((function(r){return us.forEach(r,(function(r){Ir(r.userId===n.userId);var i=As(t.R,r);return qs(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store($a.store),n=e.store(Qa.store);return e.store(Xa.store).get(Xa.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new Rr(n),a=function(e){return[0,Fa(e)]}(o);r.push(t.get(a).next((function(n){return n?us.resolve():function(n){return t.put(new $a(0,Fa(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return us.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(es.store,{keyPath:es.keyPath});var n=t.store(es.store),r=new Fs,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Fa(i)})}};return t.store(Qa.store).Ot({kt:!0},(function(e,t){var n=new Rr(e);return i(n.popLast())})).next((function(){return t.store(Ha.store).Ot({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Ba(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Ja.store);return n.Ot((function(e,r){var i=Ds(r),o=Ms(t.R,i);return n.put(o)}))},e}();function gu(e){e.createObjectStore($a.store,{keyPath:$a.keyPath}).createIndex($a.documentTargetsIndex,$a.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ja.store,{keyPath:Ja.keyPath}).createIndex(Ja.queryTargetsIndexName,Ja.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Xa.store)}var vu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yu=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new mr(pr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new au(this,i),this.Le=n+"main",this.R=new Is(u),this.Be=new ls(this.Le,11,new mu(this.R)),this.qe=new Js(this.referenceDelegate,this.R),this.Ut=new Us,this.Ue=function(e,t){return new lu(e,t)}(this.R,this.Ut),this.Qe=new Os,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new mr(pr.FAILED_PRECONDITION,vu);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new dr(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return wu(t).put(new ts(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(ds(t))return yr("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return yr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return bu(e).get(qa.key).next((function(e){return us.resolve(t.tn(e))}))},e.prototype.en=function(e){return wu(e).delete(this.clientId)},e.prototype.nn=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=bs(e,ts.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return us.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?us.resolve(!0):bu(e).get(qa.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new mr(pr.FAILED_PRECONDITION,vu);return!1}}return!(!t.networkEnabled||!t.inForeground)||wu(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&yr("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e=this;return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[qa.store,ts.store],(function(t){var n=new ys(t,dr.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return wu(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Ws.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;yr("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,is,(function(o){return i=new ys(o,r.Ne?r.Ne.next():dr.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw br("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new mr(pr.FAILED_PRECONDITION,os);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return bu(e).get(qa.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new mr(pr.FAILED_PRECONDITION,vu)}))},e.prototype.Ze=function(e){var t=new qa(this.clientId,this.allowTabSynchronization,Date.now());return bu(e).put(qa.key,t)},e.yt=function(){return ls.yt()},e.prototype.Xe=function(e){var t=this,n=bu(e);return n.get(qa.key).next((function(e){return t.tn(e)?(yr("IndexedDbPersistence","Releasing primary lease."),n.delete(qa.key)):us.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(br("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return yr("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return br("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){br("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function bu(e){return bs(e,qa.store)}function wu(e){return bs(e,ts.store)}function _u(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Eu=function(e,t){this.progress=e,this.wn=t},Iu=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Jr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Bi(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Jr(t)).next((function(e){var t=qo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=qo();return this.Ut.getCollectionParents(e,i).next((function(a){return us.forEach(a,(function(a){var s=function(e,t){return new Oi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=di.newInvalidDocument(c),r=r.insert(c,l)),bo(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Ki(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Yo(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Co&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Cu=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Yo(),i=Yo(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Tu=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Dr.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(a){var s=i.Cn(t,a);return(ji(t)||Fi(t))&&i.Nn(t.limitType,s,r,n)?i.Dn(e,t):(vr()<=o.in.DEBUG&&yr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yi(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Fo(Qi(e));return t.forEach((function(t,r){Ki(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return vr()<=o.in.DEBUG&&yr("QueryEngine","Using full collection scan to execute query:",Yi(t)),this.Sn.getDocumentsMatchingQuery(e,t,Dr.min())},e}(),Su=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Po(xr),this.kn=new uu((function(e){return gi(e)}),vi),this.On=Dr.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Iu(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function xu(e,t,n,r){return new Su(e,t,n,r)}function ku(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:return n=Cr(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Iu(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Yo(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var g=0,v=m.mutations;g<v.length;g++){var y=v[g];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Nu(e,t){var n=Cr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=us.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Ir(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Au(e){var t=Cr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Du(e,t){var n=Cr(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Ir(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Bo();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Mu(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Dr.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return us.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function Mu(e,t,n,r,i){var o=Yo();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Bo();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Dr.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):yr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Lu(e,t){var n=Cr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Ou(e,t){var n=Cr(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,us.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Es(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Pu(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:r=Cr(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!ds(a=s.sent()))throw a;return yr("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Ru(e,t,n){var r=Cr(e),i=Dr.min(),o=Yo();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Cr(e),i=r.kn.get(n);return void 0!==i?us.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,qi(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Dr.min(),n?o:Yo())})).next((function(e){return{documents:e,Bn:o}}))}))}function ju(e,t){var n=Cr(e),r=Cr(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Fu(e){var t=Cr(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Cr(e),i=Bo(),o=Ss(n),a=du(t),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Qa.readTimeIndex,range:s},(function(e,t){var n=Cs(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:xs(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn,r=e.readTime;return t.On=r,n}))}function Uu(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){return[2,(t=Cr(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=du(e),n=Dr.min();return t.Ot({index:Qa.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=xs(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function zu(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return(0,fr.Jh)(this,(function(p){switch(p.label){case 0:for(i=Cr(e),o=Yo(),a=Bo(),s=Wo(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Ou(i,function(e){return qi(Ri(Rr.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Mu(e,f,a,Dr.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Bu(e,t,n){return void 0===n&&(n=Yo()),(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return[4,Ou(e,qi(Ls(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Cr(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=ha(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(zr.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var Vu=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return us.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:ha(n.createTime)}),us.resolve()},e.prototype.getNamedQuery=function(e,t){return us.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Ls(e.bundledQuery),readTime:ha(e.readTime)}}(t)),us.resolve()},e}(),qu=function(){function e(){this.Wn=new Fo(Gu.Gn),this.zn=new Fo(Gu.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Gu(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Gu(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Jr(new Rr([])),r=new Gu(n,e),i=new Gu(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Jr(new Rr([])),n=new Gu(t,e),r=new Gu(t,e+1),i=Yo();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Gu(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Gu=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Jr.comparator(e.key,t.key)||xr(e.ns,t.ns)},e.Hn=function(e,t){return xr(e.ns,t.ns)||Jr.comparator(e.key,t.key)},e}(),Wu=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Fo(Gu.Gn)}return e.prototype.checkEmpty=function(e){return us.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new ws(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Gu(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return us.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return us.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return us.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return us.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return us.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Gu(t,0),i=new Gu(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),us.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Fo(xr);return t.forEach((function(e){var t=new Gu(e,0),i=new Gu(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),us.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Jr.isDocumentKey(i)||(i=i.child(""));var o=new Gu(new Jr(i),0),a=new Fo(xr);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),us.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Ir(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return us.forEach(t.mutations,(function(i){var o=new Gu(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Gu(t,0),r=this.rs.firstAfterOrEqual(n);return us.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,us.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Hu=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Po(Jr.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return us.resolve(n?n.document.clone():di.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Bo();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():di.newInvalidDocument(e))})),us.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Bo(),i=new Jr(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Ki(t,c)&&(r=r.insert(c.key,c.clone()))}return us.resolve(r)},e.prototype.fs=function(e,t){return us.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Yu(this)},e.prototype.getSize=function(e){return us.resolve(this.size)},e}(),Yu=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,fr.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),us.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(cu),Ku=function(){function e(e){this.persistence=e,this.ds=new uu((function(e){return gi(e)}),vi),this.lastRemoteSnapshotVersion=Dr.min(),this.highestTargetId=0,this.ws=0,this._s=new qu,this.targetCount=0,this.ys=Zs.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),us.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return us.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return us.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),us.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),us.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Zs(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,us.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),us.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,us.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),us.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return us.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return us.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),us.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),us.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),us.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return us.resolve(n)},e.prototype.containsKey=function(e,t){return us.resolve(this._s.containsKey(t))},e}(),Qu=function(){function e(e,t){var n=this;this.gs={},this.Ne=new dr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Ku(this),this.Ut=new js,this.Ue=function(e,t){return new Hu(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Is(t),this.Qe=new Vu(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Wu(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;yr("MemoryPersistence","Starting transaction:",e);var i=new Zu(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return us.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Zu=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,fr.ZT)(t,e),t}(as),Ju=function(){function e(e){this.persistence=e,this.As=new qu,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Er()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),us.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),us.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),us.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return us.forEach(this.vs,(function(r){var i=Jr.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return us.or([function(){return us.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),$u=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Xu(e,t){return"firestore_clients_"+e+"_"+t}function ec(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function tc(e,t){return"firestore_targets_"+e+"_"+t}$u.UNAUTHENTICATED=new $u(null),$u.GOOGLE_CREDENTIALS=new $u("google-credentials-uid"),$u.FIRST_PARTY=new $u("first-party-uid");var nc=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new mr(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(br("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),rc=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new mr(i.error.code,i.error.message)),o?new e(t,i.state,r):(br("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ic=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Qo(),a=0;i&&a<r.activeTargetIds.length;++a)i=Zr(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(br("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),oc=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(br("SharedClientState","Failed to parse online state: "+t),null)},e}(),ac=function(){function e(){this.activeTargetIds=Qo()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),sc=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Po(xr),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Xu(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ac),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return(0,fr.Jh)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Xu(this.persistenceKey,r)))&&(o=ic.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(tc(this.persistenceKey,e));if(n){var r=rc.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(tc(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return yr("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){yr("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){yr("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(yr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,fr.Jh)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=dr.o;if(null!=e)try{var n=JSON.parse(e);Ir("number"==typeof n),t=n}catch(e){br("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==dr.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new nc(this.currentUser,e,t,n),i=ec(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=ec(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=tc(this.persistenceKey,e),i=new rc(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return ic.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return nc.Vs(new $u(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return rc.Vs(r,t)},e.prototype.js=function(e){return oc.Vs(e)},e.prototype.ii=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(yr("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Qo();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),uc=function(){function e(){this.li=new ac,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new ac,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),cc=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),lc=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){yr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){yr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),hc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},fc=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),dc=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return(0,fr.ZT)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new hr;a.listenOnce(ar.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case or.NO_ERROR:var t=a.getResponseJson();yr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case or.TIMEOUT:yr("Connection",'RPC "'+e+'" timed out'),o(new mr(pr.DEADLINE_EXCEEDED,"Request time out"));break;case or.HTTP_ERROR:var n=a.getStatus();if(yr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(pr).indexOf(t)>=0?t:pr.UNKNOWN}(r.status);o(new mr(s,r.message))}else o(new mr(pr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new mr(pr.UNAVAILABLE,"Connection failed."));break;default:Er()}}finally{yr("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new er,o=tt(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(a.initMessageHeaders,t),(0,i.uI)()||(0,i.b$)()||(0,i.d)()||(0,i.w1)()||(0,i.Mn)()||(0,i.ru)()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");yr("Connection","Creating WebChannel: "+s,a);var u=r.createWebChannel(s,a),c=!1,l=!1,h=new fc({Ei:function(e){l?yr("Connection","Not sending because WebChannel is closed:",e):(c||(yr("Connection","Opening WebChannel transport."),u.open(),c=!0),yr("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,lr.EventType.OPEN,(function(){l||yr("Connection","WebChannel transport opened.")})),f(u,lr.EventType.CLOSE,(function(){l||(l=!0,yr("Connection","WebChannel transport closed"),h.Vi())})),f(u,lr.EventType.ERROR,(function(e){l||(l=!0,wr("Connection","WebChannel transport errored:",e),h.Vi(new mr(pr.UNAVAILABLE,"The operation could not be completed")))})),f(u,lr.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ir(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){yr("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=ko[e];if(void 0!==t)return Oo(t)}(o),s=i.message;void 0===a&&(a=pr.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new mr(a,s)),u.close()}else yr("Connection","WebChannel received:",n),h.Si(n)}})),f(o,sr.STAT_EVENT,(function(e){e.stat===ur?yr("Connection","Detected buffering proxy"):e.stat===cr&&yr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);yr("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return yr("RestConnection","Received: ",e),e}),(function(t){throw wr("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=hc[e];return this.Di+"/v1/"+t+":"+n},e}());function pc(){return"undefined"!=typeof window?window:null}function mc(){return"undefined"!=typeof document?document:null}function gc(e){return new sa(e,!0)}var vc=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&yr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),yc=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new vc(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===pr.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===pr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new mr(pr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,fr.mG)(e,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return yr("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(yr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),bc=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,fr.ZT)(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Er()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Ir(void 0===t||"string"==typeof t),zr.fromBase64String(t||"")):(Ir(void 0===t||t instanceof Uint8Array),zr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?pr.UNKNOWN:Oo(e.code);return new mr(t,e.message||"")}(s);n=new ea(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=ma(e,r.document.name),o=ha(r.document.updateTime);var s=new hi({mapValue:{fields:r.document.fields}}),u=(a=di.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new $o(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=ma(e,r.document),o=r.readTime?ha(r.readTime):Dr.min(),s=di.newNoDocument(i,o),a=r.removedTargetIds||[],n=new $o([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=ma(e,r.document),o=r.removedTargetIds||[],n=new $o([],o,i,null);else{if(!("filter"in t))return Er();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Mo(r),o=l.targetId,n=new Xo(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Dr.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Dr.min():t.readTime?ha(t.readTime):Dr.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=ya(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=yi(r)?{documents:Ca(e,r)}:{query:Ta(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ca(e,t.resumeToken):t.snapshotVersion.compareTo(Dr.min())>0&&(n.readTime=ua(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Er()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=ya(this.R),t.removeTarget=e,this.cr(t)},t}(yc),wc=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(Ir(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Ir(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ha(e.updateTime):ha(t);return n.isEqual(Dr.min())&&(n=ha(t)),new po(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ha(e.commitTime);return this.listener.Tr(n,t)}return Ir(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=ya(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ea(t.R,e)}))};this.cr(n)},t}(yc),_c=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,fr.ZT)(t,e),t.prototype.br=function(){if(this.Rr)throw new mr(pr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===pr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new mr(pr.UNKNOWN,e.toString())}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===pr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new mr(pr.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Ec=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(br(t),this.Vr=!1):yr("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Ic=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,fr.mG)(o,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return Mc(this)?(yr("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return(t=Cr(e)).$r.add(4),[4,Tc(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,Cc(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Ec(n,r)};function Cc(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:if(!Mc(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Tc(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Sc(e,t){var n=Cr(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Dc(n)?Ac(n):Yc(n).er()&&kc(n,t))}function xc(e,t){var n=Cr(e),r=Yc(n);n.Or.delete(t),r.er()&&Nc(n,t),0===n.Or.size&&(r.er()?r.ir():Mc(n)&&n.Br.set("Unknown"))}function kc(e,t){e.qr.U(t.targetId),Yc(e).mr(t)}function Nc(e,t){e.qr.U(t),Yc(e).yr(t)}function Ac(e){e.qr=new na({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Yc(e).start(),e.Br.Sr()}function Dc(e){return Mc(e)&&!Yc(e).tr()&&e.Or.size>0}function Mc(e){return 0===Cr(e).$r.size}function Lc(e){e.qr=void 0}function Oc(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){return e.Or.forEach((function(t,n){kc(e,t)})),[2]}))}))}function Pc(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(n){return Lc(e),Dc(e)?(e.Br.Nr(t),Ac(e)):e.Br.set("Unknown"),[2]}))}))}function Rc(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof ea&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),yr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,jc(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof $o?e.qr.X(t):t instanceof Xo?e.qr.rt(t):e.qr.et(t),n.isEqual(Dr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Au(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(zr.EMPTY_BYTE_STRING,n.snapshotVersion)),Nc(e,t);var r=new Es(n.target,t,1,n.sequenceNumber);kc(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return yr("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,jc(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function jc(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r=this;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:if(!ds(t))throw t;return e.$r.add(1),[4,Tc(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Au(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,fr.mG)(r,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return yr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,Cc(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Fc(e,t){return t().catch((function(n){return jc(e,n,t)}))}function Uc(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:t=Cr(e),n=Kc(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Mc(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Lu(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Kc(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,jc(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return zc(t)&&Bc(t),[2]}}))}))}function zc(e){return Mc(e)&&!Kc(e).tr()&&e.kr.length>0}function Bc(e){Kc(e).start()}function Vc(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){return Kc(e).Ar(),[2]}))}))}function qc(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,fr.Jh)(this,(function(o){for(t=Kc(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Gc(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=_s.from(r,t,n),[4,Fc(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Uc(e)];case 2:return o.sent(),[2]}}))}))}function Wc(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t&&Kc(e).pr?[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return Lo(r=t.code)&&r!==pr.ABORTED?(n=e.kr.shift(),Kc(e).sr(),[4,Fc(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Uc(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return zc(e)&&Bc(e),[2]}}))}))}function Hc(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return n=Cr(e),t?(n.$r.delete(2),[4,Cc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,Tc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Yc(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Cr(e);return r.br(),new bc(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Oc.bind(null,e),Ri:Pc.bind(null,e),_r:Rc.bind(null,e)}),e.Mr.push((function(n){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Dc(e)?Ac(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Lc(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Kc(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=Cr(e);return r.br(),new wc(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Vc.bind(null,e),Ri:Wc.bind(null,e),Ir:qc.bind(null,e),Tr:Gc.bind(null,e)}),e.Mr.push((function(n){return(0,fr.mG)(t,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,Uc(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(yr("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var Qc=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mr(pr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Zc(e,t){if(br("AsyncQueue",t+": "+e),ds(e))return new mr(pr.UNAVAILABLE,t+": "+e);throw e}var Jc=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Jr.comparator(t.key,n.key)}:function(e,t){return Jr.comparator(e.key,t.key)},this.keyedMap=qo(),this.sortedSet=new Po(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),$c=function(){function e(){this.Kr=new Po(Jr.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):Er():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Xc=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Jc.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),el=function(){this.Wr=void 0,this.listeners=[]},tl=function(){this.queries=new uu((function(e){return Hi(e)}),Wi),this.onlineState="Unknown",this.Gr=new Set};function nl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,fr.Jh)(this,(function(c){switch(c.label){case 0:if(n=Cr(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new el),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Zc(s,"Initialization of query '"+Yi(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&al(n),[2]}}))}))}function rl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,fr.Jh)(this,(function(s){return n=Cr(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function il(e,t){for(var n=Cr(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&al(n)}function ol(e,t,n){var r=Cr(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function al(e){e.Gr.forEach((function(e){e.next()}))}var sl=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Xc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),ul=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),cl=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ma(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?_a(this.R,e.document,!1):di.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return ha(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new cl(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Yo()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return[4,zu(this.localStore,new cl(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Bu(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Eu(Object.assign({},this.progress),e))]}}))}))}}();var ll=function(e){this.key=e},hl=function(e){this.key=e},fl=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Yo(),this.mutatedKeys=Yo(),this.lo=Qi(e),this.fo=new Jc(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new $c,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=ji(this.query)&&i.size===this.query.limit?i.last():null,c=Fi(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=Ki(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),ji(this.query)||Fi(this.query))for(;a.size>this.query.limit;){var l=ji(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Er()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Xc(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new $c,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Yo(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new hl(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new ll(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Yo();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Xc.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),dl=function(e,t,n){this.query=e,this.targetId=t,this.view=n},pl=function(e){this.key=e,this.bo=!1},ml=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new uu((function(e){return Hi(e)}),Wi),this.Vo=new Map,this.So=new Set,this.Do=new Po(Jr.comparator),this.Co=new Map,this.No=new qu,this.xo={},this.Fo=new Map,this.ko=Zs.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function gl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,fr.Jh)(this,(function(u){switch(u.label){case 0:return n=Wl(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Ou(n.localStore,qi(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,vl(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Sc(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function vl(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,fr.Jh)(this,(function(l){switch(l.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Ru(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Al(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Ru(e.localStore,t,!0)];case 1:return i=l.sent(),o=new fl(t,i.Bn),a=o._o(i.documents),s=Jo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Al(e,n,u.To),c=new dl(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function yl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return n=Cr(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Wi(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Pu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),xc(n.remoteStore,r.targetId),kl(n,r.targetId)})).catch(tu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return kl(n,r.targetId),[4,Pu(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function bl(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:r=Hl(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Cr(e),i=Ar.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Yo());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=wo(c,n.get(c.key));null!=l&&a.push(new Co(c.key,l,fi(l.toProto().mapValue),mo.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Po(xr)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ll(r,i.changes)];case 3:return s.sent(),[4,Uc(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Zc(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function wl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:n=Cr(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Du(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Ir(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Ir(r.bo):e.removedDocuments.size>0&&(Ir(r.bo),r.bo=!1))})),[4,Ll(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,tu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function _l(e,t,n){var r=Cr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Cr(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&al(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function El(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,fr.Jh)(this,(function(c){switch(c.label){case 0:return(r=Cr(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Po(Jr.comparator)).insert(o,di.newNoDocument(o,Dr.min())),s=Yo().add(o),u=new Zo(Dr.min(),new Map,new Fo(xr),a,s),[4,wl(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Ml(r),[3,4];case 2:return[4,Pu(r.localStore,t,!1).then((function(){return kl(r,t,n)})).catch(tu)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Il(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:n=Cr(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Nu(n.localStore,t)];case 2:return i=o.sent(),xl(n,r,null),Sl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ll(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,tu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Cl(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:r=Cr(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Cr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Ir(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),xl(r,t,n),Sl(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Ll(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,tu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Tl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:Mc((n=Cr(e)).remoteStore)||yr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Cr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Zc(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Sl(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function xl(e,t,n){var r=Cr(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function kl(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Nl(e,t)}))}function Nl(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(xc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ml(e))}function Al(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ll?(e.No.addReference(o.key,t),Dl(e,o)):o instanceof hl?(yr("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Nl(e,o.key)):Er()}}function Dl(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(yr("SyncEngine","New document in limbo: "+n),e.So.add(r),Ml(e))}function Ml(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Jr(Rr.fromString(t)),r=e.ko.next();e.Co.set(r,new pl(n)),e.Do=e.Do.insert(n,r),Sc(e.remoteStore,new Es(qi(Ri(n.path)),r,2,dr.o))}}function Ll(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:return r=Cr(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.$o(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Cu.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,fr.Jh)(this,(function(h){switch(h.label){case 0:n=Cr(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return us.forEach(t,(function(t){return us.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return us.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!ds(r=h.sent()))throw r;return yr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Ol(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return(n=Cr(e)).currentUser.isEqual(t)?[3,3]:(yr("SyncEngine","User change. New user:",t.toKey()),[4,ku(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new mr(pr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Ll(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Pl(e,t){var n=Cr(e),r=n.Co.get(t);if(r&&r.bo)return Yo().add(r.key);var i=Yo(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Rl(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return[4,Ru((n=Cr(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Al(n,t.targetId,i.To),i)]}}))}))}function jl(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){return[2,Fu((t=Cr(e)).localStore).then((function(e){return Ll(t,e)}))]}))}))}function Fl(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Cr(e),r=Cr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):us.resolve(null)}))}))}((i=Cr(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Uc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(xl(i,t,r||null),Sl(i,t),function(e,t){Cr(Cr(e)._n).Gt(t)}(i.localStore,t)):Er(),a.label=4;case 4:return[4,Ll(i,o)];case 5:return a.sent(),[3,7];case 6:yr("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Ul(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,fr.Jh)(this,(function(l){switch(l.label){case 0:return Wl(n=Cr(e)),Hl(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,zl(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Hc(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Sc(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return kl(n,t),Pu(n.localStore,t,!0)})),xc(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,zl(n,u)];case 5:return l.sent(),function(e){var t=Cr(e);t.Co.forEach((function(e,n){xc(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Po(Jr.comparator)}(n),n.Oo=!1,[4,Hc(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function zl(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,m;return(0,fr.Jh)(this,(function(g){switch(g.label){case 0:n=Cr(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Ou(n.localStore,qi(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,Rl(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ju(n.localStore,s)];case 8:return m=g.sent(),[4,Ou(n.localStore,m)];case 9:return u=g.sent(),[4,vl(n,Bl(m),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Bl(e){return Pi(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Vl(e){var t=Cr(e);return Cr(Cr(t.localStore).persistence).fn()}function ql(e,t,n,r){return(0,fr.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,fr.Jh)(this,(function(s){switch(s.label){case 0:return(i=Cr(e)).Oo?(yr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Fu(i.localStore)];case 3:return o=s.sent(),a=Zo.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Ll(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Pu(i.localStore,t,!0)];case 6:return s.sent(),kl(i,t,r),[3,8];case 7:Er(),s.label=8;case 8:return[2]}}))}))}function Gl(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,fr.Jh)(this,(function(d){switch(d.label){case 0:if(!(r=Wl(e)).Oo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(yr("SyncEngine","Adding an already active target "+a),[3,5]):[4,ju(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Ou(r.localStore,s)];case 3:return u=d.sent(),[4,vl(r,Bl(s),u.targetId,!1)];case 4:d.sent(),Sc(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Pu(r.localStore,e,!1).then((function(){xc(r.remoteStore,e),kl(r,e)})).catch(tu)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Wl(e){var t=Cr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pl.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=El.bind(null,t),t.vo._r=il.bind(null,t.eventManager),t.vo.Mo=ol.bind(null,t.eventManager),t}function Hl(e){var t=Cr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Il.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cl.bind(null,t),t}var Yl=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return this.R=gc(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return xu(this.persistence,new Tu,e.initialUser,this.R)},e.prototype.qo=function(e){return new Qu(Ju.bs,this.R)},e.prototype.Bo=function(e){return new uc},e.prototype.terminate=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Kl=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,fr.ZT)(t,e),t.prototype.initialize=function(t){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Uu(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,Hl(this.Ko.syncEngine)];case 4:return n.sent(),[4,Uc(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return xu(this.persistence,new Tu,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new iu(t,e.asyncQueue)},t.prototype.qo=function(e){var t=_u(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Vs.withCacheSize(this.cacheSizeBytes):Vs.DEFAULT;return new yu(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,pc(),mc(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new uc},t}(Yl),Ql=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,fr.ZT)(t,e),t.prototype.initialize=function(t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof sc?(this.sharedClientState.syncEngine={ui:Fl.bind(null,n),ai:ql.bind(null,n),hi:Gl.bind(null,n),fn:Vl.bind(null,n),ci:jl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,fr.mG)(r,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return[4,Ul(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=pc();if(!sc.yt(t))throw new mr(pr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=_u(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sc(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Kl),Zl=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n=this;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return _l(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ol.bind(null,this.syncEngine),[4,Hc(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new tl},e.prototype.createDatastore=function(e){var t,n=gc(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new dc(t));return function(e,t,n){return new _c(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return _l(a.syncEngine,e,0)},o=lc.yt()?new lc:new cc,new Ic(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new ml(e,t,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=Cr(e),yr("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,Tc(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),Jl=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),$l=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new ss,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t,n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new ul(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new mr(pr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,fr.Jh)(this,(function(u){switch(u.label){case 0:return n=Cr(e),r=ya(n.R)+"/documents",i={documents:t.map((function(e){return pa(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Ir(!!t.found),t.found.name,t.found.updateTime;var n=ma(e,t.found.name),r=ha(t.found.updateTime),i=new hi({mapValue:{fields:t.found.fields}});return di.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ir(!!t.missing),Ir(!!t.readTime);var n=ma(e,t.missing),r=ha(t.readTime);return di.newNoDocument(n,r)}(e,t):Er()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Ir(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Ao(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Jr.fromPath(n);t.mutations.push(new Do(r,t.precondition(r)))})),[4,function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return n=Cr(e),r=ya(n.R)+"/documents",i={writes:t.map((function(e){return Ea(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Er();t=Dr.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new mr(pr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?mo.updateTime(t):mo.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dr.min()))throw new mr(pr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mo.updateTime(t)}return mo.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Xl=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new vc(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,fr.mG)(e,void 0,void 0,(function(){var e,t,n=this;return(0,fr.Jh)(this,(function(r){return e=new $l(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Kr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Lo(t)}return!1},e}(),eh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=$u.UNAUTHENTICATED,this.clientId=Sr.u(),this.credentialListener=function(){},this.receivedInitialUser=new ss,this.credentials.setChangeListener((function(e){yr("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new mr(pr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,fr.mG)(e,void 0,void 0,(function(){var e,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Zc(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function th(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),yr("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return(0,fr.mG)(i,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){switch(e.label){case 0:return[4,ku(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function nh(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,rh(e)];case 1:return n=i.sent(),yr("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return(n=Cr(e)).asyncQueue.verifyOperationInProgress(),yr("RemoteStore","RemoteStore received new credentials"),r=Mc(n),n.$r.add(3),[4,Tc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,Cc(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function rh(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(yr("FirestoreClient","Using default OfflineComponentProvider"),[4,th(e,new Yl)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function ih(e){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(yr("FirestoreClient","Using default OnlineComponentProvider"),[4,nh(e,new Zl)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function oh(e){return rh(e).then((function(e){return e.persistence}))}function ah(e){return rh(e).then((function(e){return e.localStore}))}function sh(e){return ih(e).then((function(e){return e.remoteStore}))}function uh(e){return ih(e).then((function(e){return e.syncEngine}))}function ch(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return[4,ih(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=gl.bind(null,t.syncEngine),n.onUnlisten=yl.bind(null,t.syncEngine),n)]}}))}))}function lh(e,t,n){var r=this;void 0===n&&(n={});var i=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(r,void 0,void 0,(function(){var r;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Jl({next:function(o){t.enqueueAndForget((function(){return rl(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new mr(pr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new mr(pr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new sl(Ri(n.path),o,{includeMetadataChanges:!0,so:!0});return nl(e,a)},[4,ch(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function hh(e,t,n){var r=this;void 0===n&&(n={});var i=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(r,void 0,void 0,(function(){var r;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Jl({next:function(n){t.enqueueAndForget((function(){return rl(e,a)})),n.fromCache&&"server"===r.source?i.reject(new mr(pr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new sl(n,o,{includeMetadataChanges:!0,so:!0});return nl(e,a)},[4,ch(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var fh=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},dh=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ph=new Map,mh=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},gh=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e($u.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),vh=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),yh=function(){function e(e){var t=this;this.oc=null,this.currentUser=$u.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(yr("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ir("string"==typeof n.accessToken),new mh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return Ir(null===e||"string"==typeof e),new $u(e)},e}(),bh=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=$u.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),e}(),wh=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n}return e.prototype.getToken=function(){return Promise.resolve(new bh(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(e){e($u.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function _h(e,t,n){if(!n)throw new mr(pr.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Eh(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new mr(pr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Ih(e,t,n,r){if(!0===t&&!0===r)throw new mr(pr.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Ch(e){if(!Jr.isDocumentKey(e))throw new mr(pr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Th(e){if(Jr.isDocumentKey(e))throw new mr(pr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Sh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Er()}function xh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mr(pr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sh(e);throw new mr(pr.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function kh(e,t){if(t<=0)throw new mr(pr.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Nh=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new mr(pr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mr(pr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,Ih("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Ah=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nh({}),this._settingsFrozen=!1,e instanceof dh?(this._databaseId=e,this._credentials=new gh):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mr(pr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dh(e.options.projectId)}(e),this._credentials=new yh(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new mr(pr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new mr(pr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nh(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new gh;switch(e.type){case"gapi":var t=e.client;return Ir(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new wh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new mr(pr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=ph.get(this))&&(yr("ComponentProvider","Removing Datastore"),ph.delete(this),e.terminate()),Promise.resolve();var e},e}(),Dh=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Lh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Mh=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Lh=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ri(r))||this)._path=r,i.type="collection",i}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Dh(this.firestore,null,new Jr(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Mh);function Oh(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=(0,i.m9)(e),_h("collection","path",t),e instanceof Ah)return Th(n=Rr.fromString.apply(Rr,(0,fr.ev)([t],r))),new Lh(e,null,n);if(!(e instanceof Dh||e instanceof Lh))throw new mr(pr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Th(n=Rr.fromString.apply(Rr,(0,fr.ev)([e.path],r)).child(Rr.fromString(t))),new Lh(e.firestore,null,n)}function Ph(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=(0,i.m9)(e),1===arguments.length&&(t=Sr.u()),_h("doc","path",t),e instanceof Ah)return Ch(n=Rr.fromString.apply(Rr,(0,fr.ev)([t],r))),new Dh(e,null,new Jr(n));if(!(e instanceof Dh||e instanceof Lh))throw new mr(pr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ch(n=e._path.child(Rr.fromString.apply(Rr,(0,fr.ev)([t],r)))),new Dh(e.firestore,e instanceof Lh?e.converter:null,new Jr(n))}function Rh(e,t){return e=(0,i.m9)(e),t=(0,i.m9)(t),(e instanceof Dh||e instanceof Lh)&&(t instanceof Dh||t instanceof Lh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function jh(e,t){return e=(0,i.m9)(e),t=(0,i.m9)(t),e instanceof Mh&&t instanceof Mh&&e.firestore===t.firestore&&Wi(e._query,t._query)&&e.converter===t.converter}var Fh=function(){function e(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new vc(this,"async_queue_retry"),this.Ec=function(){var t=mc();t&&yr("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=mc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var e=mc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},e.prototype.Ac=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!ds(e=n.sent()))throw e;return yr("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,br("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.yc=!1,e}))}));return this.fc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Tc(),this.gc.indexOf(e)>-1&&(t=0);var i=Qc.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)}));return this._c.push(i),i},e.prototype.Tc=function(){this.mc&&Er()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e;return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},e.prototype.Vc=function(e){this.gc.push(e)},e.prototype.Rc=function(e){var t=this._c.indexOf(e);this._c.splice(t,1)},e}();function Uh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new ss,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var zh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Fh,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,fr.ZT)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Vh(this),this._firestoreClient.terminate()},t}(Ah);function Bh(e){return e._firestoreClient||Vh(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Vh(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new fh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new eh(e._credentials,e._queue,r)}function qh(e,t,n){var r=this,i=new ss;return e.asyncQueue.enqueue((function(){return(0,fr.mG)(r,void 0,void 0,(function(){var r;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,th(e,n)];case 1:return o.sent(),[4,nh(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===pr.FAILED_PRECONDITION||e.code===pr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Gh(e){if(e._initialized||e._terminated)throw new mr(pr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wh=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new mr(pr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Hh=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(zr.fromBase64String(t))}catch(t){throw new mr(pr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(zr.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Yh=function(e){this._methodName=e},Kh=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new mr(pr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mr(pr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return xr(this._lat,e._lat)||xr(this._long,e._long)},e}(),Qh=/^__.*__$/,Zh=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Co(e,this.data,this.fieldMask,t,this.fieldTransforms):new Io(e,this.data,t,this.fieldTransforms)},e}(),Jh=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Co(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function $h(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Er()}}var Xh=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Fc(e),r},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Sc(),r},e.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(e){return wf(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},e.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if($h(this.Dc)&&Qh.test(e))throw this.$c('Document fields cannot begin and end with "__"')},e}(),ef=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||gc(e)}return e.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new Xh({Dc:e,methodName:t,Lc:n,path:Fr.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function tf(e){var t=e._freezeSettings(),n=gc(e._databaseId);return new ef(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nf(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);gf("Data must be an object, but it was:",a,r);var s,u,c=pf(r,a);if(o.merge)s=new Ur(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=vf(t,f[h],n);if(!a.contains(d))throw new mr(pr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");_f(l,d)||l.push(d)}s=new Ur(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new Zh(new hi(c),s,u)}var rf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw 1===e.Dc?e.$c(this._methodName+"() can only appear at the top level of your update data"):e.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Yh);function of(e,t,n){return new Xh({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var af=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){return new fo(e.path,new io)},t.prototype.isEqual=function(e){return e instanceof t},t}(Yh),sf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=of(this,e,!0),n=this.qc.map((function(e){return df(e,t)})),r=new oo(n);return new fo(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Yh),uf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=of(this,e,!0),n=this.qc.map((function(e){return df(e,t)})),r=new so(n);return new fo(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Yh),cf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return(0,fr.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=new co(e.R,Xi(e.R,this.Uc));return new fo(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Yh);function lf(e,t,n,r){var o=e.Bc(1,t,n);gf("Data must be an object, but it was:",o,r);var a=[],s=hi.empty();Lr(r,(function(e,r){var u=bf(t,e,n);r=(0,i.m9)(r);var c=o.kc(u);if(r instanceof rf)a.push(u);else{var l=df(r,c);null!=l&&(a.push(u),s.set(u,l))}}));var u=new Ur(a);return new Jh(s,u,o.fieldTransforms)}function hf(e,t,n,r,o,a){var s=e.Bc(1,t,n),u=[vf(t,r,n)],c=[o];if(a.length%2!=0)throw new mr(pr.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<a.length;l+=2)u.push(vf(t,a[l])),c.push(a[l+1]);for(var h=[],f=hi.empty(),d=u.length-1;d>=0;--d)if(!_f(h,u[d])){var p=u[d],m=c[d];m=(0,i.m9)(m);var g=s.kc(p);if(m instanceof rf)h.push(p);else{var v=df(m,g);null!=v&&(h.push(p),f.set(p,v))}}var y=new Ur(h);return new Jh(f,y,s.fieldTransforms)}function ff(e,t,n,r){return void 0===r&&(r=!1),df(n,e.Bc(r?4:3,t))}function df(e,t){if(mf(e=(0,i.m9)(e)))return gf("Unsupported field value:",t,e),pf(e,t);if(e instanceof Yh)return function(e,t){if(!$h(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=df(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,i.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xi(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ar.fromDate(e);return{timestampValue:ua(t.R,n)}}if(e instanceof Ar)return n=new Ar(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:ua(t.R,n)};if(e instanceof Kh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hh)return{bytesValue:ca(t.R,e._byteString)};if(e instanceof Dh){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:fa(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+Sh(e))}(e,t)}function pf(e,t){var n={};return Or(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lr(e,(function(e,r){var i=df(r,t.Nc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function mf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ar||e instanceof Kh||e instanceof Hh||e instanceof Dh||e instanceof Yh)}function gf(e,t,n){if(!mf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Sh(n);throw"an object"===r?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function vf(e,t,n){if((t=(0,i.m9)(t))instanceof Wh)return t._internalPath;if("string"==typeof t)return bf(e,t);throw wf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var yf=new RegExp("[~\\*/\\[\\]]");function bf(e,t,n){if(t.search(yf)>=0)throw wf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Wh.bind.apply(Wh,(0,fr.ev)([void 0],t.split(".")))))._internalPath}catch(r){throw wf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function wf(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new mr(pr.INVALID_ARGUMENT,(s+=". ")+e+u)}function _f(e,t){return e.some((function(e){return e.isEqual(t)}))}var Ef=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Dh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new If(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Cf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),If=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Ef);function Cf(e,t){return"string"==typeof t?bf(e,t):t instanceof Wh?t._internalPath:t._delegate._internalPath}var Tf=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Sf=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,fr.ZT)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Cf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Ef),xf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Sf),kf=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Tf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new xf(n._firestore,n._userDataWriter,r.key,r,new Tf(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new mr(pr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new xf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new xf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Nf(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Nf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Er()}}function Af(e,t){return e instanceof Sf&&t instanceof Sf?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof kf&&t instanceof kf&&e._firestore===t._firestore&&jh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Df(e){if(Fi(e)&&0===e.explicitOrderBy.length)throw new mr(pr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mf=function(){};function Lf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Of=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.Kc=n,i.jc=r,i.type="where",i}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){var t=tf(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new mr(pr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Bf(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(zf(r,e,h))}s={arrayValue:{values:u}}}else s=zf(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Bf(a,o),s=ff(n,"where",a,"in"===o||"not-in"===o);var f=bi.create(i,o,s);return function(e,t){if(t.g()){var n=zi(e);if(null!==n&&!n.isEqual(t.field))throw new mr(pr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Ui(e);null!==r&&Vf(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new mr(pr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new mr(pr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Mh(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Oi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Mf),Pf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Wc=n,r.type="orderBy",r}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new mr(pr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mr(pr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ai(t,n);return function(e,t){if(null===Ui(e)){var n=zi(e);null!==n&&Vf(0,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Wc);return new Mh(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Oi(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Mf),Rf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Gc=n,i.zc=r,i}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){return new Mh(e.firestore,e.converter,Gi(e._query,this.Gc,this.zc))},t}(Mf),jf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){var t=Uf(e,this.type,this.Hc,this.Jc);return new Mh(e.firestore,e.converter,function(e,t){return new Oi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Mf),Ff=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,fr.ZT)(t,e),t.prototype._apply=function(e){var t=Uf(e,this.type,this.Hc,this.Jc);return new Mh(e.firestore,e.converter,function(e,t){return new Oi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Mf);function Uf(e,t,n,r){if(n[0]=(0,i.m9)(n[0]),n[0]instanceof Ef)return function(e,t,n,r,i){if(!r)throw new mr(pr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Vi(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(oi(t,r.key));else{var c=r.data.field(u.field);if(Wr(c))throw new mr(pr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new mr(pr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ki(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=tf(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new mr(pr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new mr(pr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Bi(e)&&-1!==c.indexOf("/"))throw new mr(pr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Rr.fromString(c));if(!Jr.isDocumentKey(l))throw new mr(pr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Jr(l);s.push(oi(t,h))}else{var f=ff(n,r,c);s.push(f)}}return new ki(s,o)}(e._query,e.firestore._databaseId,o,t,n,r)}function zf(e,t,n){if("string"==typeof(n=(0,i.m9)(n))){if(""===n)throw new mr(pr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bi(t)&&-1!==n.indexOf("/"))throw new mr(pr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Rr.fromString(n));if(!Jr.isDocumentKey(r))throw new mr(pr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return oi(e,new Jr(r))}if(n instanceof Dh)return oi(e,n._key);throw new mr(pr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Sh(n)+".")}function Bf(e,t){if(!Array.isArray(e)||0===e.length)throw new mr(pr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new mr(pr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Vf(e,t,n){if(!n.isEqual(t))throw new mr(pr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var qf=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),$r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Er()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Lr(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Kh(qr(e.latitude),qr(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Hr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yr(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Vr(e);return new Ar(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Rr.fromString(e);Ir(ja(n));var r=new dh(n.get(1),n.get(3)),i=new Jr(n.popFirst(5));return r.isEqual(t)||br("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Gf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Wf=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,fr.ZT)(t,e),t.prototype.convertBytes=function(e){return new Hh(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dh(this.firestore,null,t)},t}(qf),Hf=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=tf(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Yf(e,this._firestore),i=Gf(r.converter,t,n),o=nf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,mo.none())),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var a,s=Yf(e,this._firestore);return a="string"==typeof(t=(0,i.m9)(t))||t instanceof Wh?hf(this._dataReader,"WriteBatch.update",s._key,t,n,r):lf(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,mo.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Yf(e,this._firestore);return this._mutations=this._mutations.concat(new Ao(t._key,mo.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new mr(pr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Yf(e,t){if((e=(0,i.m9)(e)).firestore!==t)throw new mr(pr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Kf=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,fr.ZT)(t,e),t.prototype.convertBytes=function(e){return new Hh(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dh(this.firestore,null,t)},t}(qf);function Qf(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=xh(e,Dh);var a=xh(e.firestore,zh),s=tf(a);return Jf(a,[("string"==typeof(t=(0,i.m9)(t))||t instanceof Wh?hf(s,"updateDoc",e._key,t,n,r):lf(s,"updateDoc",e._key,t)).toMutation(e._key,mo.exists(!0))])}function Zf(e){for(var t,n,r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];e=(0,i.m9)(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof o[u]||Uh(o[u])||(s=o[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(Uh(o[u])){var d=o[u];o[u]=null===(t=d.next)||void 0===t?void 0:t.bind(d),o[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),o[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(e instanceof Dh)l=xh(e.firestore,zh),h=Ri(e._key.path),c={next:function(t){o[u]&&o[u]($f(l,e,t))},error:o[u+1],complete:o[u+2]};else{var p=xh(e,Mh);l=xh(p.firestore,zh),h=p._query;var m=new Kf(l);c={next:function(e){o[u]&&o[u](new kf(l,m,p,e))},error:o[u+1],complete:o[u+2]},Df(e._query)}return function(e,t,n,r){var i=this,o=new Jl(r),a=new sl(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(i,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=nl,[4,ch(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(i,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=rl,[4,ch(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Bh(l),h,f,c)}function Jf(e,t){return function(e,t){var n=this,r=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return n=bl,[4,uh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Bh(e),t)}function $f(e,t,n){var r=n.docs.get(t._key),i=new Kf(e);return new Sf(e,i,t._key,r,new Tf(n.hasPendingWrites,n.fromCache),t.converter)}var Xf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,fr.ZT)(t,e),t.prototype.get=function(t){var n=this,r=Yf(t,this._firestore),i=new Kf(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Sf(n._firestore,i,r._key,e._document,new Tf(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=tf(e)}return e.prototype.get=function(e){var t=this,n=Yf(e,this._firestore),r=new Wf(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Er();var i=e[0];if(i.isFoundDocument())return new Ef(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ef(t._firestore,r,n._key,null,n.converter);throw Er()}))},e.prototype.set=function(e,t,n){var r=Yf(e,this._firestore),i=Gf(r.converter,t,n),o=nf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a,s=Yf(e,this._firestore);return a="string"==typeof(t=(0,i.m9)(t))||t instanceof Wh?hf(this._dataReader,"Transaction.update",s._key,t,n,r):lf(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this},e.prototype.delete=function(e){var t=Yf(e,this._firestore);return this._transaction.delete(t._key),this},e}());function ed(){if("undefined"==typeof Uint8Array)throw new mr(pr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function td(){if("undefined"==typeof atob)throw new mr(pr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var nd=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return td(),new e(Hh.fromBase64String(t))},e.fromUint8Array=function(t){return ed(),new e(Hh.fromUint8Array(t))},e.prototype.toBase64=function(){return td(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return ed(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),rd=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Gh(e=xh(e,zh));var n=Bh(e),r=e._freezeSettings(),i=new Zl;return qh(n,i,new Kl(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Gh(e=xh(e,zh));var t=Bh(e),n=e._freezeSettings(),r=new Zl;return qh(t,r,new Ql(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new mr(pr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ss;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return ls.yt()?(t=e+"main",[4,ls.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(_u(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),id=function(){function e(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof dh||(this.Xc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var o=(e=xh(e,Ah))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&wr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a=(0,i.Sg)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new mr(pr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new vh(new mh(a,new $u(s)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return[4,oh(e)];case 1:return t=r.sent(),[4,sh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Cr(e);return t.$r.delete(0),Cc(t)}(n))]}}))}))}))}(Bh(xh(this._delegate,zh)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t,n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return[4,oh(e)];case 1:return t=r.sent(),[4,sh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return(t=Cr(e)).$r.add(0),[4,Tc(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Bh(xh(this._delegate,zh)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Ih("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(t,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return t=Tl,[4,uh(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Bh(xh(this._delegate,zh)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Jl(t);return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Cr(e).Gr.add(t),t.next()},[4,ch(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Cr(e).Gr.delete(t)},[4,ch(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Bh(e=xh(e,zh)),Uh(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new mr(pr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new yd(this,Oh(this._delegate,e))}catch(e){throw ld(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new cd(this,Ph(this._delegate,e))}catch(e){throw ld(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new md(this,function(e,t){if(e=xh(e,Ah),_h("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new mr(pr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Mh(e,null,function(e){return new Oi(Rr.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw ld(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(e){return ih(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Xl(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Bh(e),(function(n){return t(new Xf(e,n))}))}(this._delegate,(function(n){return e(new ad(t,n))}))},e.prototype.batch=function(){var e=this;return Bh(this._delegate),new sd(new Hf(this._delegate,(function(t){return Jf(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new mr(pr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new mr(pr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),od=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,fr.ZT)(t,e),t.prototype.convertBytes=function(e){return new nd(new Hh(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return cd.Zc(t,this.firestore,null)},t}(qf),ad=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new od(e)}return e.prototype.get=function(e){var t=this,n=bd(e);return this._delegate.get(n).then((function(e){return new dd(t._firestore,new Sf(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=bd(e);return n?(Eh("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=bd(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,fr.ev)([a,t,n],i)),this},e.prototype.delete=function(e){var t=bd(e);return this._delegate.delete(t),this},e}(),sd=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=bd(e);return n?(Eh("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=bd(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,fr.ev)([a,t,n],i)),this},e.prototype.delete=function(e){var t=bd(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),ud=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new xf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pd(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new od(t),n),i.set(n,o)),o},e}();ud.eu=new WeakMap;var cd=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new od(e)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new mr(pr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Dh(n._delegate,r,new Jr(t)))},e.Zc=function(t,n,r){return new e(n,new Dh(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new yd(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new yd(this.firestore,Oh(this._delegate,e))}catch(e){throw ld(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,i.m9)(e))instanceof Dh&&Rh(this._delegate,e)},e.prototype.set=function(e,t){t=Eh("DocumentReference.set",t);try{return function(e,t,n){e=xh(e,Dh);var r=xh(e.firestore,zh),i=Gf(e.converter,t,n);return Jf(r,[nf(tf(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,mo.none())])}(this._delegate,e,t)}catch(e){throw ld(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Qf(this._delegate,e):Qf.apply(void 0,(0,fr.ev)([this._delegate,e,t],n))}catch(e){throw ld(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Jf(xh((e=this._delegate).firestore,zh),[new Ao(e._key,mo.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=hd(t),i=fd(t,(function(t){return new dd(e.firestore,new Sf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Zf(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=xh(e,Dh);var t=xh(e.firestore,zh),n=Bh(t),r=new Kf(t);return function(e,t){var n=this,r=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i;return(0,fr.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Cr(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new mr(pr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Zc(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,ah(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Sf(t,r,e._key,n,new Tf(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=xh(e,Dh);var t=xh(e.firestore,zh);return lh(Bh(t),e._key,{source:"server"}).then((function(n){return $f(t,e,n)}))}(this._delegate):function(e){e=xh(e,Dh);var t=xh(e.firestore,zh);return lh(Bh(t),e._key).then((function(n){return $f(t,e,n)}))}(this._delegate)).then((function(e){return new dd(t.firestore,new Sf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ud.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function ld(e,t,n){return e.message=e.message.replace(t,n),e}function hd(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Uh(r))return r}return{}}function fd(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Uh(e[0])?e[0]:Uh(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var dd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new cd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Af(this._delegate,e._delegate)},e}(),pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,fr.ZT)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(dd),md=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new od(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Lf(this._delegate,function(e,t,n){var r=t,i=Cf("where",e);return new Of(i,r,n)}(t,n,r)))}catch(t){throw ld(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Lf(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Cf("orderBy",e);return new Pf(r,n)}(t,n)))}catch(t){throw ld(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Lf(this._delegate,function(e){return kh("limit",e),new Rf("limit",e,"F")}(t)))}catch(t){throw ld(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Lf(this._delegate,function(e){return kh("limitToLast",e),new Rf("limitToLast",e,"L")}(t)))}catch(t){throw ld(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new jf("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw ld(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new jf("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw ld(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ff("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw ld(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ff("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw ld(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return jh(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=xh(e,Mh);var t=xh(e.firestore,zh),n=Bh(t),r=new Kf(t);return function(e,t){var n=this,r=new ss;return e.asyncQueue.enqueueAndForget((function(){return(0,fr.mG)(n,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,fr.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ru(e,t,!0)];case 1:return s=u.sent(),r=new fl(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Zc(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,ah(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new kf(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=xh(e,Mh);var t=xh(e.firestore,zh),n=Bh(t),r=new Kf(t);return hh(n,e._query,{source:"server"}).then((function(n){return new kf(t,r,e,n)}))}(this._delegate):function(e){e=xh(e,Mh);var t=xh(e.firestore,zh),n=Bh(t),r=new Kf(t);return Df(e._query),hh(n,e._query).then((function(n){return new kf(t,r,e,n)}))}(this._delegate)).then((function(e){return new vd(t.firestore,new kf(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=hd(t),i=fd(t,(function(t){return new vd(e.firestore,new kf(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Zf(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ud.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),gd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new pd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),vd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new md(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new pd(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new gd(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new pd(n._firestore,r))}))},e.prototype.isEqual=function(e){return Af(this._delegate,e._delegate)},e}(),yd=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,fr.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new cd(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new cd(this.firestore,void 0===e?Ph(this._delegate):Ph(this._delegate,e))}catch(e){throw ld(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=xh(e.firestore,zh),r=Ph(e),i=Gf(e.converter,t);return Jf(n,[nf(tf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,mo.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new cd(t.firestore,e)}))},t.prototype.isEqual=function(e){return Rh(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ud.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(md);function bd(e){return xh(e,Dh)}var wd,_d=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Wh.bind.apply(Wh,(0,fr.ev)([void 0],e)))}return e.documentId=function(){return new e(Fr.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,i.m9)(e))instanceof Wh&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Ed=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new af("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new rf("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new sf("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new uf("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new cf("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),Id=n(924),Cd={Firestore:id,GeoPoint:Kh,Timestamp:Ar,Blob:nd,Transaction:ad,WriteBatch:sd,DocumentReference:cd,DocumentSnapshot:dd,Query:md,QueryDocumentSnapshot:pd,QuerySnapshot:vd,CollectionReference:yd,FieldPath:_d,FieldValue:Ed,setLogLevel:function(e){var t;t=e,gr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Id.wA("firestore",(function(e){return function(e,t){return new id(e,new zh(e,t),new rd)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Cd)))})(wd=r.Z),wd.registerVersion("@firebase/firestore","2.3.0"),n(991),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,n){if(n){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(n=n(o=r[e=e[e.length-1]]))!=o&&null!=n&&t(r,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Qa(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""}function f(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function m(e){return"function"==d(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function I(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var C=Date.now;function T(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function S(e){return e}function x(e,t,n){this.code=A+e,this.message=t||D[e]||"",this.a=n||null}function k(e){var t=e&&e.code;return t?new x(t.substring(A.length),e.message,e.serverResponse):null}T(x,Error),x.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},x.prototype.toJSON=function(){return this.w()};var N,A="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},M={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function L(e){for(var t in M)if(M[t].id===e)return{firebaseEndpoint:(e=M[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function O(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function P(e){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function R(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");P.call(this,n+e[r])}function j(e,t){throw new R("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function U(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function z(){this.b=this.a=null}N=L("__EID__")?"__EID__":void 0,T(P,Error),P.prototype.name="CustomError",T(R,P),R.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var B=new F((function(){return new q}),(function(e){e.reset()}));function V(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function q(){this.next=this.b=this.a=null}z.prototype.add=function(e,t){var n=B.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var G=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},H=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},Y=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},K=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=G(e,t)}function Z(e,t){var n;return(n=0<=(t=G(e,t)))&&Array.prototype.splice.call(e,t,1),n}function J(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function $(e){return Array.prototype.concat.apply([],arguments)}function X(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,oe=/"/g,ae=/'/g,se=/\x00/g,ue=/[\x00&<>"']/;function ce(e,t){return-1!=e.indexOf(t)}function le(e,t){return e<t?-1:e>t?1:0}e:{var he=u.navigator;if(he){var fe=he.userAgent;if(fe){ee=fe;break e}}ee=""}function de(e){return ce(ee,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function me(e){for(var t in e)return!1;return!0}function ge(e){var t,n={};for(t in e)n[t]=e[t];return n}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ve.length;o++)n=ve[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function we(e,t){this.a=e===Ce&&t||"",this.b=Ie}function _e(e){return e instanceof we&&e.constructor===we&&e.b===Ie?e.a:(j("expected object of type Const, got '"+e+"'"),"type_error:Const")}we.prototype.sa=!0,we.prototype.ra=function(){return this.a},we.prototype.toString=function(){return"Const{"+this.a+"}"};var Ee,Ie={},Ce={};function Te(){if(void 0===Ee){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(e){u.console&&u.console.error(e.message)}Ee=e}else Ee=e}return Ee}function Se(e,t){this.a=t===De?e:""}function xe(e){return e instanceof Se&&e.constructor===Se?e.a:(j("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function ke(e,t){var n=_e(e);if(!Ae.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Te();return new Se(e=t?t.createScriptURL(e):e,De)}(e=n.replace(Ne,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof we?_e(e):encodeURIComponent(String(e))})))}Se.prototype.sa=!0,Se.prototype.ra=function(){return this.a.toString()},Se.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ne=/%{(\w+)}/g,Ae=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,De={};function Me(e,t){this.a=t===Ue?e:""}function Le(e){return e instanceof Me&&e.constructor===Me?e.a:(j("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Me.prototype.sa=!0,Me.prototype.ra=function(){return this.a.toString()},Me.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Oe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Re=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function je(e){if(e instanceof Me)return e;if(e="object"==typeof e&&e.sa?e.ra():String(e),Re.test(e))e=new Me(e,Ue);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Pe);e=t&&Oe.test(t[1])?new Me(e,Ue):null}return e}function Fe(e){return e instanceof Me?e:(e="object"==typeof e&&e.sa?e.ra():String(e),Re.test(e)||(e="about:invalid#zClosurez"),new Me(e,Ue))}var Ue={},ze=new Me("about:invalid#zClosurez",Ue);function Be(e,t,n){this.a=n===Ve?e:""}Be.prototype.sa=!0,Be.prototype.ra=function(){return this.a.toString()},Be.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ve={};function qe(e,t,n,r){return e=e instanceof Me?e:Fe(e),t=t||u,n=n instanceof we?_e(n):n||"",t.open(Le(e),n,r,void 0)}function Ge(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(oe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function He(e){return He[" "](e),e}He[" "]=f;var Ye,Ke=de("Opera"),Qe=de("Trident")||de("MSIE"),Ze=de("Edge"),Je=Ze||Qe,$e=de("Gecko")&&!(ce(ee.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Xe=ce(ee.toLowerCase(),"webkit")&&!de("Edge");function et(){var e=u.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=ee;return $e?/rv:([^\);]+)(\)|;)/.exec(e):Ze?/Edge\/([\d\.]+)/.exec(e):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xe?/WebKit\/(\S+)/.exec(e):Ke?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),Qe){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Ye=String(rt);break e}}Ye=tt}var it,ot={};function at(e){return function(e,t){var n=ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=te(String(Ye)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=le(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||le(0==a[2].length,0==s[2].length)||le(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}u.document&&Qe?it=et()||parseInt(Ye,10)||void 0:it=void 0;var st=it;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var ut=!Qe||9<=Number(st);function ct(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function lt(e,t){pe(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,ft,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(m(o)){a="function"==typeof o.item;break e}}a=!1}W(a?X(o):o,r)}}}function mt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){u.setTimeout((function(){throw e}),0)}function vt(e,t){ft||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);ft=function(){e.then(wt)}}else ft=function(){var e=wt;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!de("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ht||(ht=function(){var e=u.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=mt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Gb;n.Gb=null,e()}},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ht(e)):u.setImmediate(e)}}(),yt||(ft(),yt=!0),bt.add(e,t)}var yt=!1,bt=new z;function wt(){for(var e;e=V();){try{e.a.call(e.b)}catch(e){gt(e)}U(B,e)}yt=!1}function _t(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Pt(n,It,e)}),(function(e){if(!(e instanceof Vt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Pt(n,Ct,e)}))}catch(e){Pt(this,Ct,e)}}var Et=0,It=2,Ct=3;function Tt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Tt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var St=new F((function(){return new Tt}),(function(e){e.reset()}));function xt(e,t,n){var r=St.get();return r.g=e,r.b=t,r.f=n,r}function kt(e){if(e instanceof _t)return e;var t=new _t(f);return Pt(t,It,e),t}function Nt(e){return new _t((function(t,n){n(e)}))}function At(e,t,n){Rt(e,t,n,null)||vt(I(t,e))}function Dt(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)At(e[o],I(i,o,!0),I(i,o,!1));else t(r)}))}function Mt(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Et&&1==r?Mt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ft(n),Ut(n,i,Ct,t)))}e.c=null}else Pt(e,Ct,t)}function Lt(e,t){e.b||e.a!=It&&e.a!=Ct||jt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Ot(e,t,n,r){var i=xt(null,null,null);return i.a=new _t((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Vt?o(t):e(i)}catch(e){o(e)}}:o})),i.a.c=e,Lt(e,i),i.a}function Pt(e,t,n){e.a==Et&&(e===n&&(t=Ct,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Rt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,jt(e),t!=Ct||n instanceof Vt||function(e,t){e.g=!0,vt((function(){e.g&&Bt.call(null,t)}))}(e,n)))}function Rt(e,t,n,r){if(e instanceof _t)return Lt(e,xt(t||f,n||null,r)),!0;if(O(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(m(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function jt(e){e.h||(e.h=!0,vt(e.gc,e))}function Ft(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==Ct&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,zt(t,n,r);else try{t.c?t.g.call(t.f):zt(t,n,r)}catch(e){Bt.call(null,e)}U(St,t)}function zt(e,t,n){t==It?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return Ot(this,m(e)?e:null,m(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(e=_t.prototype).oa=function(e,t){return(e=xt(e,e,t)).c=!0,Lt(this,e),this},e.o=function(e,t){return Ot(this,null,e,t)},e.cancel=function(e){if(this.a==Et){var t=new Vt(e);vt((function(){Mt(this,t)}),this)}},e.$c=function(e){this.a=Et,Pt(this,It,e)},e.ad=function(e){this.a=Et,Pt(this,Ct,e)},e.gc=function(){for(var e;e=Ft(this);)Ut(this,e,this.a,this.i);this.h=!1};var Bt=gt;function Vt(e){P.call(this,e)}function qt(){0!=Gt&&(Wt[v(this)]=this),this.xa=this.xa,this.pa=this.pa}T(Vt,P),Vt.prototype.name="cancel";var Gt=0,Wt={};function Ht(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=Gt)){var t=v(e);if(0!=Gt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Wt[t]}}qt.prototype.xa=!1,qt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Yt=Object.freeze||function(e){return e},Kt=!Qe||9<=Number(st),Qt=Qe&&!at("9"),Zt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",f,t),u.removeEventListener("test",f,t)}catch(e){}return e}();function Jt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function $t(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if($e){e:{try{He(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Xt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jt.prototype.preventDefault=function(){this.defaultPrevented=!0},T($t,Jt);var Xt=Yt({2:"touch",3:"pen",4:"mouse"});$t.prototype.preventDefault=function(){$t.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Qt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},$t.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++tn,this.va=this.Pa=!1}function rn(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&Z(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new nn(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(e,t,n,r,i){if(r&&r.once)fn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=_n(n),e&&e[en]?In(e,t,n,g(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=yn,t=Kt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function fn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=_n(n),e&&e[en]?Cn(e,t,n,g(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=_n(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!=typeof e&&e&&!e.va){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function mn(e){return e in cn?cn[e]:cn[e]="on"+e}function gn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&pn(e),n.call(r,t)}function yn(e,t){if(e.va)return!0;if(!Kt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new $t(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=gn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=gn(r[i],e,!1,t),n=n&&o}return n}return vn(e,new $t(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(e){return m(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function En(){qt.call(this),this.v=new on(this),this.ac=this,this.gb=null}function In(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Cn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Tn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(e,t,n){if(m(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function xn(e){var t=null;return new _t((function(n,r){-1==(t=Sn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function kn(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"==typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Nn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(p(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function An(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof An)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Mn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Mn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(En,qt),En.prototype[en]=!0,En.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.gb;if(n)for(t=[];n;n=n.gb)t.push(n);n=this.ac;var r=e.type||e;if("string"==typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var i=e;ye(e=new Jt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Tn(a,r,!0,e)&&i}if(i=Tn(a=e.b=n,r,!0,e)&&i,i=Tn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Tn(a=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=An.prototype).W=function(){Dn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Dn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Mn(this.b,e)?this.b[e]:t},e.set=function(e,t){Mn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ln=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof On?(this.i=void 0!==t?t:e.i,Pn(this,e.c),this.l=e.l,this.a=e.a,Rn(this,e.g),this.f=e.f,jn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(Ln))?(this.i=!!t,Pn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Rn(this,n[4]),this.f=Vn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!t,this.b=new Zn(null,this.i))}function Pn(e,t,n){e.c=n?Vn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Rn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function jn(e,t,n){t instanceof Zn?(e.b=t,function(e,t){t&&!e.f&&(Jn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xn(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=qn(t,Kn)),e.b=new Zn(t,e.i))}function Fn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function zn(e){return e instanceof On?new On(e):new On(e,void 0)}function Bn(e,t,n,r){var i=new On(null,void 0);return e&&Pn(i,e),t&&(i.a=t),n&&Rn(i,n),r&&(i.f=r),i}function Vn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Gn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}On.prototype.toString=function(){var e=[],t=this.c;t&&e.push(qn(t,Wn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(qn(t,Wn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(qn(n,"/"==n.charAt(0)?Yn:Hn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",qn(n,Qn)),e.join("")},On.prototype.resolve=function(e){var t=new On(this),n=!!e.c;n?Pn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Rn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ce(i,"./")||ce(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?jn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Wn=/[#\/\?@]/g,Hn=/[#\?:]/g,Yn=/[#\?]/g,Kn=/[#\?@]/g,Qn=/#/g;function Zn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jn(e){e.a||(e.a=new An,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $n(e){var t=Nn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Zn(null,void 0);e=kn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Xn(e,t){Jn(e),t=rr(e,t),Mn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Mn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Dn(e)))}function er(e,t){return Jn(e),t=rr(e,t),Mn(e.a.b,t)}function tr(e,t,n){Xn(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),X(n)),e.b+=n.length)}function nr(e){var t=new Zn;return t.c=e.c,e.a&&(t.a=new An(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return ar(new or,e,t),t.join("")}function or(){}function ar(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ar(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),cr(r,n),n.push(":"),ar(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":cr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Zn.prototype).add=function(e,t){Jn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Jn(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Jn(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){Jn(this);var t=[];if("string"==typeof e)er(this,e)&&(t=$(t,this.a.get(rr(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=$(t,e[n])}return t},e.set=function(e,t){return Jn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(e,t){t.push('"',e.replace(ur,(function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t})),'"')}function lr(){var e=Ar();return Qe&&!!st&&11==st||/Edge\/\d+/.test(e)}function hr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function fr(e,t){t=t||u.window;var n="about:blank";e&&(n=Le(je(e)||ze)),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function pr(e){return!!((e=(e||Ar()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function mr(e){e=e||u.window;try{e.close()}catch(e){}}function gr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(t.target=r,ce(n,"crios/")&&(t.target="_blank")),xr(Ar())==Tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Me?n:je(void 0!==n.href?n.href:String(n))||ze,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=mt(document,"A"),"HTMLAnchorElement"),t=t instanceof Me?t:Fe(t),a.href=Le(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=qe("",r,n,a),e=Le(t),a&&(Je&&ce(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new Be(e=(r=Te())?r.createHTML(e):e,null,Ve),r=a.document)&&(r.write(function(e){return e instanceof Be&&e.constructor===Be?e.a:(j("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(a=qe(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function br(){var e=null;return new _t((function(t){"complete"==u.document.readyState?t():(e=function(){t()},fn(window,"load",e))})).o((function(t){throw dn(window,"load",e),t}))}function wr(e){return e=e||Ar(),!("file:"!==Pr()&&"ionic:"!==Pr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var e=u.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Er(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function Ir(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Cr(){var e=Ir();return"ReactNative"===e||"Node"===e}var Tr="Firefox",Sr="Chrome";function xr(e){var t=e.toLowerCase();return ce(t,"opera/")||ce(t,"opr/")||ce(t,"opios/")?"Opera":ce(t,"iemobile")?"IEMobile":ce(t,"msie")||ce(t,"trident/")?"IE":ce(t,"edge/")?"Edge":ce(t,"firefox/")?Tr:ce(t,"silk/")?"Silk":ce(t,"blackberry")?"Blackberry":ce(t,"webos")?"Webos":!ce(t,"safari/")||ce(t,"chrome/")||ce(t,"crios/")||ce(t,"android")?!ce(t,"chrome/")&&!ce(t,"crios/")||ce(t,"edge/")?ce(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Sr:"Safari"}var kr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Nr(e,t){t=t||[];var n,r=[],i={};for(n in kr)i[kr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=xr(i=Ar()):"Worker"===r&&(r=xr(i=Ar())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ar(){return u.navigator&&u.navigator.userAgent||""}function Dr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Mr(){try{var e=u.localStorage,t=zr();if(e)return e.setItem(t,"1"),e.removeItem(t),!lr()||!!u.indexedDB}catch(e){return Er()&&!!u.indexedDB}return!1}function Lr(){return(Or()||"chrome-extension:"===Pr()||wr())&&!Cr()&&Mr()&&!Er()}function Or(){return"http:"===Pr()||"https:"===Pr()}function Pr(){return u.location&&u.location.protocol||null}function Rr(e){return!pr(e=e||Ar())&&xr(e)!=Tr}function jr(e){return void 0===e?null:ir(e)}function Fr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ur(e){if(null!==e)return JSON.parse(e)}function zr(e){return e||Math.floor(1e9*Math.random()).toString()}function Br(e){return"Safari"!=xr(e=e||Ar())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function qr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ar(),t=Ir(),this.b=pr(e)||"ReactNative"===t}function Gr(){var e=u.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Wr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Hr(){return!(!Dr("fireauth.oauthhelper",u)&&!Dr("fireauth.iframe",u))}qr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!=typeof e.onLine||!Or()&&"chrome-extension:"!==Pr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,Kr={};function Qr(e){Kr[e]||(Kr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Zr={};Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==Zr.abcd}catch(e){Yr=!1}function Jr(e,t,n){Yr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function $r(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Jr(e,n,t[n])}function Xr(e){var t={};return $r(t,e),t}function ei(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Jr(t,n,ei(e[n]));return t}function ti(e){var t=e&&(e[ai]?"phone":null);if(!(t&&e&&e[oi]))throw new x("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",e[oi]),Jr(this,"displayName",e[ri]||null);var n=null;e[ii]&&(n=new Date(e[ii]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",t)}function ni(e){try{var t=new si(e)}catch(e){t=null}return t}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ri="displayName",ii="enrolledAt",oi="mfaEnrollmentId",ai="phoneInfo";function si(e){ti.call(this,e),Jr(this,"phoneNumber",e[ai])}function ui(e){var t={},n=e[fi],r=e[pi],i=e[mi];if(e=ni(e[di]),!i||i!=li&&i!=hi&&!n||i==hi&&!r||i==ci&&!e)throw Error("Invalid checkActionCode response!");i==hi?(t[vi]=n||null,t[bi]=n||null,t[gi]=r):(t[vi]=r||null,t[bi]=r||null,t[gi]=n||null),t[yi]=e||null,Jr(this,_i,i),Jr(this,wi,ei(t))}T(si,ti),si.prototype.w=function(){var e=si.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ci="REVERT_SECOND_FACTOR_ADDITION",li="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",fi="email",di="mfaInfo",pi="newEmail",mi="requestType",gi="email",vi="fromEmail",yi="multiFactorInfo",bi="previousEmail",wi="data",_i="operation";function Ei(e){var t=Un(e=zn(e),Ii)||null,n=Un(e,Ci)||null,r=Un(e,xi)||null;if(r=r&&Ni[r]||null,!t||!n||!r)throw new x("argument-error",Ii+", "+Ci+"and "+xi+" are required in a valid action code URL.");$r(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Ti)||null,languageCode:Un(e,Si)||null,tenantId:Un(e,ki)||null})}var Ii="apiKey",Ci="oobCode",Ti="continueUrl",Si="languageCode",xi="mode",ki="tenantId",Ni={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ci,signIn:li,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function Ai(e){try{return new Ei(e)}catch(e){return null}}function Di(e){var t=e[Ri];if(void 0===t)throw new x("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new x("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Mi];if(n&&"object"==typeof n){t=n[Ui];var r=n[ji];if(n=n[Fi],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new x("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new x("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new x("argument-error",Ui+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new x("missing-android-pkg-name")}}else if(void 0!==n)throw new x("argument-error",Mi+" property must be a non null object when specified.");if(this.f=null,(t=e[Pi])&&"object"==typeof t){if("string"==typeof(t=t[zi])&&t.length)this.f=t;else if(void 0!==t)throw new x("argument-error",zi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new x("argument-error",Pi+" property must be a non null object when specified.");if(void 0!==(t=e[Oi])&&"boolean"!=typeof t)throw new x("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Li])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new x("argument-error",Li+" property must be a non empty string when specified.");this.i=e||null}var Mi="android",Li="dynamicLinkDomain",Oi="handleCodeInApp",Pi="iOS",Ri="url",ji="installApp",Fi="minimumVersion",Ui="packageName",zi="bundleId";function Bi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Vi=null;function qi(e){var t=Wi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Gi(e){try{return new qi(e)}catch(e){return null}}function Wi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Vi){Vi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(e){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],Ki={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Yi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Yi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Yi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Hi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Qi(e){for(var t in Ki)if(Ki[t].fa==e)return Ki[t];return null}function Zi(e){var t={};t["facebook.com"]=to,t["google.com"]=ro,t["github.com"]=no,t["twitter.com"]=io;var n=e&&e[$i];try{if(n)return t[n]?new t[n](e):new eo(e);if(void 0!==e[Ji])return new Xi(e)}catch(e){}return null}var Ji="idToken",$i="providerId";function Xi(e){var t=e[$i];if(!t&&e[Ji]){var n=Gi(e[Ji]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Jr(this,"providerId",t),Jr(this,"isNewUser",n)}function eo(e){Xi.call(this,e),Jr(this,"profile",ei((e=Ur(e.rawUserInfo||"{}"))||{}))}function to(e){if(eo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(e){if(eo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function ro(e){if(eo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(e){if(eo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",e.screenName||null)}function oo(e){var t=zn(e),n=Un(t,"link"),r=Un(zn(n),"link");return t=Un(t,"deep_link_id"),Un(zn(t),"link")||t||r||n||e}function ao(e,t){if(!e&&!t)throw new x("internal-error","Internal assert: no raw session string available");if(e&&t)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?so:uo}T(eo,Xi),T(to,eo),T(no,eo),T(ro,eo),T(io,eo);var so="enroll",uo="signin";function co(){}function lo(e,t){return e.then((function(e){if(e[$a]){var n=Gi(e[$a]);if(!n||t!=n.i)throw new x("user-mismatch");return e}throw new x("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==A+"user-not-found"?new x("user-mismatch"):e}))}function ho(e,t){if(!t)throw new x("internal-error","failed to construct a credential");this.a=t,Jr(this,"providerId",e),Jr(this,"signInMethod",e)}function fo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function po(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new ho(e.providerId,e.pendingToken)}catch(e){}return null}function mo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Jr(this,"idToken",t.idToken),t.accessToken&&Jr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Jr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new x("internal-error","failed to construct a credential");Jr(this,"accessToken",t.oauthToken),Jr(this,"secret",t.oauthTokenSecret)}Jr(this,"providerId",e),Jr(this,"signInMethod",n)}function go(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:$n(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function vo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new mo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function yo(e,t){this.Qc=t||[],$r(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(Qi(e)||{}).Ja||null,this.ob=null}function bo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,e,[])}function wo(e){yo.call(this,e,Yi),this.a=[]}function _o(){wo.call(this,"facebook.com")}function Eo(e){if(!e)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new _o).credential({accessToken:t})}function Io(){wo.call(this,"github.com")}function Co(e){if(!e)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new Io).credential({accessToken:t})}function To(){wo.call(this,"google.com"),this.Ca("profile")}function So(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new To).credential({idToken:n,accessToken:t})}function xo(){yo.call(this,"twitter.com",Hi)}function ko(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",n,"twitter.com")}function No(e,t,n){this.a=e,this.f=t,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(e){return e&&e.email&&e.password?new No(e.email,e.password,e.signInMethod):null}function Do(){$r(this,{providerId:"password",isOAuthProvider:!1})}function Mo(e,t){if(!(t=Lo(t)))throw new x("argument-error","Invalid email link!");return new No(e,t.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Lo(e){return(e=Ai(e=oo(e)))&&e.operation===li?e:null}function Oo(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new x("internal-error");this.a=e,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function Po(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Oo(t)}return null}function Ro(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function jo(e){try{this.a=e||r.Z.auth()}catch(e){throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(e,t){if(!e)throw new x("missing-verification-id");if(!t)throw new x("missing-verification-code");return new Oo({eb:e,cb:t})}function Uo(e){if(e.temporaryProof&&e.phoneNumber)return new Oo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return So(o,n);case"facebook.com":return Eo(n);case"github.com":return Co(n);case"twitter.com":return ko(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new ho(t,a):new mo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new wo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function zo(e){if(!e.isOAuthProvider)throw new x("invalid-oauth-provider")}function Bo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new x("invalid-auth-event");if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}function Vo(e){return(e=e||{}).type?new Bo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&k(e.error),e.postBody,e.tenantId):null}function qo(){this.b=null,this.a=[]}ao.prototype.Ha=function(){return this.a?kt(this.a):kt(this.b)},ao.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},co.prototype.ka=function(){},co.prototype.b=function(){},co.prototype.c=function(){},co.prototype.w=function(){},ho.prototype.ka=function(e){return bs(e,fo(this))},ho.prototype.b=function(e,t){var n=fo(this);return n.idToken=t,ws(e,n)},ho.prototype.c=function(e,t){return lo(_s(e,fo(this)),t)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mo.prototype.ka=function(e){return bs(e,go(this))},mo.prototype.b=function(e,t){var n=go(this);return n.idToken=t,ws(e,n)},mo.prototype.c=function(e,t){return lo(_s(e,go(this)),t)},mo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},yo.prototype.Ka=function(e){return this.Ib=ge(e),this},T(bo,yo),T(wo,yo),wo.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},wo.prototype.Qb=function(){return X(this.a)},wo.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,n,this.providerId)},T(_o,wo),Jr(_o,"PROVIDER_ID","facebook.com"),Jr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(Io,wo),Jr(Io,"PROVIDER_ID","github.com"),Jr(Io,"GITHUB_SIGN_IN_METHOD","github.com"),T(To,wo),Jr(To,"PROVIDER_ID","google.com"),Jr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),T(xo,yo),Jr(xo,"PROVIDER_ID","twitter.com"),Jr(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(e,Ns,{email:this.a,oobCode:this.f}):nu(e,Js,{email:this.a,password:this.f})},No.prototype.b=function(e,t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(e,As,{idToken:t,email:this.a,oobCode:this.f}):nu(e,qs,{idToken:t,email:this.a,password:this.f})},No.prototype.c=function(e,t){return lo(this.ka(e),t)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Do,{PROVIDER_ID:"password"}),$r(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ka=function(e){return e.fb(Ro(this))},Oo.prototype.b=function(e,t){var n=Ro(this);return n.idToken=t,nu(e,Xs,n)},Oo.prototype.c=function(e,t){var n=Ro(this);return n.operation="REAUTH",lo(e=nu(e,eu,n),t)},Oo.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},jo.prototype.fb=function(e,t){var n=this.a.a;return kt(t.verify()).then((function(r){if("string"!=typeof r)throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=g(e)?e.session:null,o=g(e)?e.phoneNumber:e;return(i&&i.type==so?i.Ha().then((function(e){return function(e,t){return nu(e,Ws,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==uo?i.Ha().then((function(t){return function(e,t){return nu(e,Hs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return nu(e,Bs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},$r(jo,{PROVIDER_ID:"phone"}),$r(jo,{PHONE_SIGN_IN_METHOD:"phone"}),Bo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Bo.prototype.T=function(){return this.h},Bo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Go,Wo=null;function Ho(e){var t="unauthorized-domain",n=void 0,r=zn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ge("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ge("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",x.call(this,t,n)}function Yo(e,t,n){x.call(this,e,n),(e=t||{}).Jb&&Jr(this,"email",e.Jb),e.ea&&Jr(this,"phoneNumber",e.ea),e.credential&&Jr(this,"credential",e.credential),e.Zb&&Jr(this,"tenantId",e.Zb)}function Ko(e){if(e.code){var t=e.code||"";0==t.indexOf(A)&&(t=t.substring(A.length));var n={credential:Uo(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new x(t,e.message||void 0);return new Yo(t,n,e.message)}return null}function Qo(){}function Zo(e){return e.c||(e.c=e.b())}function Jo(){}function $o(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Xo(){}function ea(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Sb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ta(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function na(e,t,n){this.reset(e,t,n,void 0,void 0)}function ra(e){this.f=e,this.b=this.c=this.a=null}function ia(e,t){this.name=e,this.value=t}T(Ho,x),T(Yo,x),Yo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},Yo.prototype.toJSON=function(){return this.w()},Qo.prototype.c=null,T(Jo,Qo),Jo.prototype.a=function(){var e=$o(this);return e?new ActiveXObject(e):new XMLHttpRequest},Jo.prototype.b=function(){var e={};return $o(this)&&(e[0]=!0,e[1]=!0),e},Go=new Jo,T(Xo,Qo),Xo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ea;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(e=ea.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ta(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",ta(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,ta(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},na.prototype.a=null,na.prototype.reset=function(e,t,n,r,i){r||C(),delete this.a},ia.prototype.toString=function(){return this.name};var oa=new ia("SEVERE",1e3),aa=new ia("WARNING",900),sa=new ia("CONFIG",700),ua=new ia("FINE",500);function ca(e){return e.c?e.c:e.a?ca(e.a):(j("Root logger has no level set."),null)}ra.prototype.log=function(e,t,n){if(e.value>=ca(this).value)for(m(t)&&(t=t()),e=new na(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var la={},ha=null;function fa(e){var t;if(ha||(ha=new ra(""),la[""]=ha,ha.c=sa),!(t=la[e])){t=new ra(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=fa(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,la[e]=t}return t}function da(e,t){e&&e.log(ua,t,void 0)}function pa(e){this.f=e}function ma(e){En.call(this),this.u=e,this.h=void 0,this.readyState=ga,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=fa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(pa,Qo),pa.prototype.a=function(){return new ma(this.f)},pa.prototype.b=function(e){return function(){return e}}({}),T(ma,En);var ga=0;function va(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function ya(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ba(e)}function ba(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function wa(e){En.call(this),this.headers=new An,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=_a,this.u=this.S=!1}(e=ma.prototype).open=function(e,t){if(this.readyState!=ga)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ba(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ya(this)),this.readyState=ga},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ba(this)),this.a&&(this.readyState=3,ba(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,va(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ya(this):ba(this),3==this.readyState&&va(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ya(this))},e.sc=function(e){this.a&&(this.response=e,ya(this))},e.Ua=function(e){var t=this.i;t&&t.log(aa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ya(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(aa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(aa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),T(wa,En);var _a="";wa.prototype.b=fa("goog.net.XhrIo");var Ea=/^https?$/i,Ia=["POST","PUT"];function Ca(e){return"content-type"==e.toLowerCase()}function Ta(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Sa(e),ka(e)}function Sa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function xa(e){if(e.c&&void 0!==s)if(e.C[1]&&4==Aa(e)&&2==Da(e))da(e.b,Ma(e,"Local request error detected and ignored"));else if(e.i&&4==Aa(e))Sn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==Aa(e)){da(e.b,Ma(e,"Request complete")),e.c=!1;try{var t,n=Da(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Ln)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ea.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Aa(e)?e.a.statusText:""}catch(t){da(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Da(e)+"]",Sa(e)}}finally{ka(e)}}}function ka(e,t){if(e.a){Na(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(oa,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Na(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function Aa(e){return e.a?e.a.readyState:0}function Da(e){try{return 2<Aa(e)?e.a.status:-1}catch(e){return-1}}function Ma(e,t){return t+" ["+e.R+" "+e.l+" "+Da(e)+"]"}function La(e){var t=Ga;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Oa(e,t,n){e.a=!0,e.c=n,e.f=!t,Fa(e)}function Pa(e){if(e.a){if(!e.v)throw new Ua(e);e.v=!1}}function Ra(e,t,n,r){e.g.push([t,n,r]),e.a&&Fa(e)}function ja(e){return K(e.g,(function(e){return m(e[1])}))}function Fa(e){if(e.h&&e.a&&ja(e)){var t=e.h,n=Va[t];n&&(u.clearTimeout(n.a),delete Va[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(O(t)||"function"==typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,ja(e)||(n=!0)}}e.c=t,r&&(s=E(e.m,e,!0),r=E(e.m,e,!1),t instanceof La?(Ra(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new Ba(t),Va[t.a]=t,e.h=t.a)}function Ua(){P.call(this)}function za(){P.call(this)}function Ba(e){this.a=u.setTimeout(E(this.c,this),0),this.b=e}(e=wa.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",da(this.b,Ma(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(da(this.b,Ma(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ka(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ka(this,!0)),wa.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?xa(this):this.Jc())},e.Jc=function(){xa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _a:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(oa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return da(this.b,"Can not get response: "+e.message),null}},La.prototype.cancel=function(e){if(this.a)this.c instanceof La&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new za(this),Pa(this),Oa(this,!1,e))}},La.prototype.m=function(e,t){this.i=!1,Oa(this,e,t)},La.prototype.then=function(e,t,n){var r,i,o=new _t((function(e,t){r=e,i=t}));return Ra(this,r,(function(e){e instanceof za?o.cancel():i(e)})),o.then(e,t,n)},La.prototype.$goog_Thenable=!0,T(Ua,P),Ua.prototype.message="Deferred has already fired",Ua.prototype.name="AlreadyCalledError",T(za,P),za.prototype.message="Deferred was canceled",za.prototype.name="CanceledError",Ba.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function qa(e){var t={},n=t.document||document,r=xe(e).toString(),i=mt(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new La(o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Wa(i,!0);var e=new Ka(Ya,"Timeout reached for loading script "+r);Pa(a),Oa(a,!1,e)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Wa(i,t.xd||!1,s),Pa(a),Oa(a,!0,null))},i.onerror=function(){Wa(i,!0,s);var e=new Ka(Ha,"Error while loading script "+r);Pa(a),Oa(a,!1,e)},ye(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=xe(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=h(t.document):(null===l&&(l=h(u.document)),t=l),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Ga(){if(this&&this.Wb){var e=this.Wb;e&&"SCRIPT"==e.tagName&&Wa(e,!0,this.Ma)}}function Wa(e,t,n){null!=n&&u.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ha=0,Ya=1;function Ka(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),P.call(this,n),this.code=e}function Qa(e){this.f=e}function Za(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Xa,this.g=ge(e.secureTokenHeaders||es),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ts,this.a=ge(e.firebaseHeaders||ns),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=u.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest)&&!Er())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new pa(self):Cr()?this.f=new Qa(n):this.f=new Xo,this.b=null}T(Ka,P),T(Qa,Qo),Qa.prototype.a=function(){return new this.f},Qa.prototype.b=function(){return{}};var Ja,$a="idToken",Xa=new qr(3e4,6e4),es={"Content-Type":"application/x-www-form-urlencoded"},ts=new qr(3e4,6e4),ns={"Content-Type":"application/json"};function rs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function is(e,t){t&&(e.l=os("https://securetoken.googleapis.com/v1/token",t),e.h=os("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=os("https://identitytoolkit.googleapis.com/v2/",t))}function os(e,t){return e=zn(e),t=zn(t.url),e.f=e.a+e.f,Pn(e,t.c),e.a=t.a,Rn(e,t.g),e.toString()}function as(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ss(e,t,n,r,i,o,a){(function(){var e=Ar();return!((e=xr(e)!=Sr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Qe&&st&&!(9<st))})()||Er()?e=E(e.u,e):(Ja||(Ja=new _t((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(u[cs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ra(e,null,t,void 0)}(qa(ke(us,{onload:cs})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=E(e.s,e)),e(t,n,r,i,o,a)}Za.prototype.T=function(){return this.b},Za.prototype.u=function(e,t,n,r,i,o){if(Er()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new wa(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return da(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),Cn(a,"ready",(function(){s&&clearTimeout(s),Ht(this)})),Cn(a,"timeout",(function(){s&&clearTimeout(s),Ht(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Go.a(),e.C=e.D?Zo(e.D):Zo(Go),e.a.onreadystatechange=E(e.Vb,e);try{da(e.b,Ma(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return da(e.b,Ma(e,"Error opening Xhr: "+t.message)),void Ta(e,t)}t=r||"";var o=new An(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"==typeof e)W(e,t,void 0);else for(var n=Nn(e),r=kn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Ca,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=u.FormData&&t instanceof u.FormData,!Q(Ia,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Na(e),0<e.g&&(e.u=function(e){return Qe&&at(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),da(e.b,Ma(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ma,e)):e.s=Sn(e.Ma,e.g,e)),da(e.b,Ma(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){da(e.b,Ma(e,"Send error: "+t.message)),Ta(e,t)}}(a,e,n,r,i)};var us=new we(Ce,"https://apis.google.com/js/client.js?onload=%{onload}"),cs="__fcb"+Math.floor(1e6*Math.random()).toString();function ls(e){if("string"!=typeof(e=e.email)||!yr.test(e))throw new x("invalid-email")}function hs(e){"email"in e&&ls(e)}function fs(e){if(!e[$a]){if(e.mfaPendingCredential)throw new x("multi-factor-auth-required",null,ge(e));throw new x("internal-error")}}function ds(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new x("internal-error")}else{if(!e.sessionInfo)throw new x("missing-verification-id");if(!e.code)throw new x("missing-verification-code")}}Za.prototype.s=function(e,t,n,r,i){var o=this;Ja.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Za.prototype.zb=function(){return nu(this,Gs,{})},Za.prototype.Bb=function(e,t){return nu(this,Vs,{idToken:e,email:t})},Za.prototype.Cb=function(e,t){return nu(this,qs,{idToken:e,password:t})};var ps={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ms(e){if(!e.phoneVerificationInfo)throw new x("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new x("missing-verification-code")}function gs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new x("internal-error")}function vs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&er(e=new Zn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function ys(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ko(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ko(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ko(e)):e.errorMessage&&(t=ru(e.errorMessage)),t)throw t;fs(e)}function bs(e,t){return t.returnIdpCredential=!0,nu(e,Ys,t)}function ws(e,t){return t.returnIdpCredential=!0,nu(e,Qs,t)}function _s(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,nu(e,Ks,t)}function Es(e){if(!e.oobCode)throw new x("invalid-action-code")}(e=Za.prototype).Db=function(e,t){var n={idToken:e},r=[];return pe(ps,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Vs,n)},e.vb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),nu(this,js,e)},e.wb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),nu(this,Os,e)},e.ub=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),nu(this,Ps,e)},e.Eb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),nu(this,Rs,e)},e.fb=function(e){return nu(this,$s,e)},e.nb=function(e,t){return nu(this,zs,{oobCode:e,newPassword:t})},e.Ra=function(e){return nu(this,Cs,{oobCode:e})},e.jb=function(e){return nu(this,Is,{oobCode:e})};var Is={endpoint:"setAccountInfo",A:Es,Z:"email",B:!0},Cs={endpoint:"resetPassword",A:Es,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new x("internal-error")},B:!0},Ts={endpoint:"signupNewUser",A:function(e){if(ls(e),!e.password)throw new x("weak-password")},G:fs,V:!0,B:!0},Ss={endpoint:"createAuthUri",B:!0},xs={endpoint:"deleteAccount",N:["idToken"]},ks={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new x("internal-error")}},Ns={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ls,G:fs,V:!0,B:!0},As={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ls,G:fs,V:!0},Ds={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ms,G:fs,B:!0,Na:!0},Ms={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ms,G:fs,B:!0,Na:!0},Ls={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new x("internal-error");ls(e)},Z:"email",B:!0},Ps={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new x("internal-error")},Z:"email",B:!0},Rs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new x("internal-error")},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new x("internal-error");ls(e)},Z:"email",B:!0},Fs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Us={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new x("internal-error")}},zs={endpoint:"resetPassword",A:Es,Z:"email",B:!0},Bs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Vs={endpoint:"setAccountInfo",N:["idToken"],A:hs,V:!0},qs={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(hs(e),!e.password)throw new x("weak-password")},G:fs,V:!0},Gs={endpoint:"signupNewUser",G:fs,V:!0,B:!0},Ws={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new x("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},Ys={endpoint:"verifyAssertion",A:gs,Ya:vs,G:ys,V:!0,B:!0},Ks={endpoint:"verifyAssertion",A:gs,Ya:vs,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new x("user-not-found");if(e.errorMessage)throw ru(e.errorMessage);fs(e)},V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:function(e){if(gs(e),!e.idToken)throw new x("internal-error")},Ya:vs,G:ys,V:!0},Zs={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new x("invalid-custom-token")},G:fs,V:!0,B:!0},Js={endpoint:"verifyPassword",A:function(e){if(ls(e),!e.password)throw new x("wrong-password")},G:fs,V:!0,B:!0},$s={endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},Xs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new x("internal-error");ds(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ko(e);fs(e)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[$a]^!!e.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function nu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.N))return Nt(new x("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return kt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=zn(t+n);Fn(s,"key",e.c),a&&Fn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(s,c,i[c]);return new _t((function(t,n){ss(e,s.toString(),(function(e){e?e.error?n(iu(e,o||{})):t(e):n(new x("network-request-failed"))}),r,u?void 0:ir(Fr(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new x("internal-error");return r[t.Z]}))}function ru(e){return iu({error:{errors:[{message:e}],code:400,message:e}})}function iu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new x(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new x(r[i],t);return!t&&e&&(t=jr(e)),new x("internal-error",t)}function ou(e){this.b=e,this.a=null,this.rb=function(e){return(cu||(cu=new _t((function(e,t){function n(){Vr(),Dr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Vr(),t(Error("Network Error"))},timeout:su.get()})}if(Dr("gapi.iframes.Iframe"))e();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Dr("gapi.load")?n():t(Error("Network Error"))},kt(qa(r=ke(au,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw cu=null,e})))).then((function(){return new _t((function(t,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new we(Ce,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new qr(3e4,6e4),uu=new qr(5e3,15e3),cu=null;function lu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?Bn((e=zn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):Bn("https",this.l,null,"/__/auth/iframe"),this.a=e,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fu(e){try{return r.Z.app(e).auth().Ga()}catch(e){return[]}}function du(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pu(e){var t=hr();return function(e){return nu(e,Fs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=zn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=zn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ho(hr())}))}function mu(e){return e.m||(e.m=br().then((function(){if(!e.u){var t=e.c,n=e.i,r=fu(e.b),i=new lu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=X(r||[]),e.u=i.toString()}e.v=new ou(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Vo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",kt(n)}return n.status="ERROR",kt(n)}))}(e)}))),e.m}function gu(e){return e.l||(e.C=e.c?Nr(e.c,fu(e.b)):null,e.l=new Za(e.g,L(e.i),e.C),e.f&&is(e.l,e.f)),e.l}function vu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new hu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ge(u||null),e.f=c,e.yb(l).toString()}function yu(e){if(this.a=e||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(e){this.b=e,this.a={},this.f=E(this.c,this)}lu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},hu.prototype.yb=function(e){return this.h=e,this},hu.prototype.toString=function(){if(this.v){var e=zn(this.v.url);e=Bn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Bn("https",this.u,null,"/__/auth/handler");if(Fn(e,"apiKey",this.s),Fn(e,"appName",this.c),Fn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(e){n=null}for(var i in t.ob=n,Fn(e,"providerId",this.a.providerId),t=Fr((n=this.a).Ib))t[i]=t[i].toString();i=n.Qc,t=ge(t);for(var o=0;o<i.length;o++){var a=i[o];a in t&&delete t[a]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),me(t)||Fn(e,"customParameters",jr(t))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Fn(e,"scopes",n.join(",")),this.l?Fn(e,"redirectUrl",this.l):Xn(e.b,"redirectUrl"),this.g?Fn(e,"eventId",this.g):Xn(e.b,"eventId"),this.i?Fn(e,"v",this.i):Xn(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(e,s)&&Fn(e,s,this.b[s]);return this.h?Fn(e,"tid",this.h):Xn(e.b,"tid"),this.f?Fn(e,"eid",this.f):Xn(e.b,"eid"),(s=fu(this.c)).length&&Fn(e,"fw",s.join(",")),e.toString()},(e=du.prototype).Ob=function(e,t,n){var r=new x("popup-closed-by-user"),i=new x("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return mu(e).then((function(){return function(e,t){return e.rb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&mr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new _t((function(t){return function n(){xn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return xn(n).then((function(){t(r)}))}))},e.Xb=function(){var e=Ar();return!Rr(e)&&!Br(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,a,s){if(!e)return Nt(new x("popup-blocked"));if(a&&!Rr())return this.ma().o((function(t){mr(e),i(t)})),r(),kt();this.a||(this.a=pu(gu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw mr(e),i(t),t}));return r(),t})).then((function(){zo(n),a||fr(vu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=pu(gu(this)));var i=this;return this.a.then((function(){zo(t),fr(vu(i.s,i.g,i.b,e,t,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return mu(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new x("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){J(this.h,(function(t){return t==e}))},(e=yu.prototype).get=function(e){return kt(this.a.getItem(e)).then((function(e){return e&&Ur(e)}))},e.set=function(e,t){return kt(this.a.setItem(e,jr(t)))},e.U=function(e){return kt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var wu,_u=[];function Eu(e,t,n){me(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Iu(e){this.a=e}function Cu(e){this.c=e,this.b=!1,this.a=[]}function Tu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Nt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Su(e,c),t})).o((function(t){throw Su(e,c),t}))}function Su(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),J(e.a,(function(e){return e==t}))}}function xu(){if(!Du())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Er()&&self?(this.v=function(){var e=Er()?self:null;if(W(_u,(function(n){n.b==e&&(t=n)})),!t){var t=new bu(e);_u.push(t)}return t}(),Eu(this.v,"keyChanged",(function(t,n){return Ru(e).then((function(t){return 0<t.length&&W(e.a,(function(e){e(t)})),{keyProcessed:Q(t,n.key)}}))})),Eu(this.v,"ping",(function(){return kt(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?kt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):kt(null)}().then((function(t){(e.h=t)&&(e.g=new Cu(new Iu(t)),Tu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function ku(e){return new _t((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new _t((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return ku(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Nu(e){return e.i||(e.i=ku(e)),e.i}function Au(e,t){var n=0;return new _t((function r(i,o){Nu(e).then(t).then(i).o((function(t){if(!(3<++n))return Nu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Du(){try{return!!u.indexedDB}catch(e){return!1}}function Mu(e){return e.objectStore("firebaseLocalStorage")}function Lu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Ou(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Pu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Tu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):kt()}function Ru(e){return Nu(e).then((function(e){var t=Mu(Lu(e,!1));return t.getAll?Ou(t.getAll()):new _t((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r}))}function ju(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Fu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=kt().then((function(){if(Du()){var e=zr(),r="__sak"+e;return wu||(wu=new xu),(n=wu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){W(t.a,(function(t){t(e)}))})),e}))}function Uu(){this.a={},this.type="inMemory"}function zu(){if(!function(){var e="Node"==Ir();if(!(e=Bu()||e&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new x("internal-error","The LocalStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Bu()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var e=u.localStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Vu(){this.type="nullStorage"}function qu(){if(!function(){var e="Node"==Ir();if(!(e=Gu()||e&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new x("internal-error","The SessionStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Gu()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Gu(){try{var e=u.sessionStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Wu(){var e={};e.Browser=Ku,e.Node=Qu,e.ReactNative=Zu,e.Worker=Ju,this.a=e[Ir()]}bu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];W(r,(function(t){i.push(kt().then((function(){return t(e.origin,e.data.data)})))})),Dt(i).then((function(r){var i=[];W(r,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),W(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Iu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Cu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(e=xu.prototype).set=function(e,t){var n=this,r=!1;return Au(this,(function(t){return Ou((t=Mu(Lu(t,!0))).get(e))})).then((function(i){return Au(n,(function(o){if(o=Mu(Lu(o,!0)),i)return i.value=t,Ou(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Ou(o.add(a))}))})).then((function(){return n.c[e]=t,Pu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Au(this,(function(t){return Ou(Mu(Lu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Au(this,(function(r){return n=!0,t.b++,Ou(Mu(Lu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Pu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){ju(e),function t(){e.f=setTimeout((function(){e.l=Ru(e).then((function(t){0<t.length&&W(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ia=function(e){J(this.a,(function(t){return t==e})),0==this.a.length&&ju(this)},(e=Fu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){J(this.a,(function(t){return t==e}))},(e=Uu.prototype).get=function(e){return kt(this.a[e])},e.set=function(e,t){return this.a[e]=t,kt()},e.U=function(e){return delete this.a[e],kt()},e.ca=function(){},e.ia=function(){},(e=zu.prototype).get=function(e){var t=this;return kt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return kt().then((function(){var r=jr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return kt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){u.window&&ln(u.window,"storage",e)},e.ia=function(e){u.window&&dn(u.window,"storage",e)},(e=Vu.prototype).get=function(){return kt(null)},e.set=function(){return kt()},e.U=function(){return kt()},e.ca=function(){},e.ia=function(){},(e=qu.prototype).get=function(e){var t=this;return kt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return kt().then((function(){var r=jr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return kt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Hu,Yu,Ku={F:zu,bb:qu},Qu={F:zu,bb:qu},Zu={F:yu,bb:Vu},Ju={F:zu,bb:Vu},$u={rd:"local",NONE:"none",td:"session"};function Xu(){var e=!(Br(Ar())||!_r()),t=Rr(),n=Mr();this.m=e,this.h=t,this.l=n,this.a={},Hu||(Hu=new Wu),e=Hu;try{this.g=!lr()&&Hr()||!u.indexedDB?new e.a.F:new Fu(Er()?new Uu:new e.a.F)}catch(e){this.g=new Uu,this.h=!0}try{this.i=new e.a.bb}catch(e){this.i=new Uu}this.v=new Uu,this.f=E(this.Yb,this),this.b={}}function ec(){return Yu||(Yu=new Xu),Yu}function tc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function nc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function rc(e,t,n){return n=nc(t,n),"local"==t.F&&(e.b[n]=null),tc(e,t.F).U(n)}function ic(e){e.c&&(clearInterval(e.c),e.c=null)}function oc(e){this.a=e,this.b=ec()}(e=Xu.prototype).get=function(e,t){return tc(this,e.F).get(nc(e,t))},e.set=function(e,t,n){var r=nc(e,n),i=this,o=tc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=nc(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),me(this.a)&&(tc(this,"local").ca(this.f),this.h||(lr()||!Hr())&&u.indexedDB||!this.l||function(e){ic(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new $t({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Yb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=nc(e,t),this.a[e]&&(J(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),me(this.a)&&(tc(this,"local").ia(this.f),ic(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?tc(this,"local").ia(this.f):ic(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.mb(t))},Qe&&st&&10==st&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else W(e,E(this.mb,this))},e.mb=function(e){this.a[e]&&W(this.a[e],(function(e){e()}))};var ac,sc={name:"authEvent",F:"local"};function uc(){this.a=ec()}function cc(e,t){this.b=lc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=u.Int32Array?new Int32Array(vc):vc),this.reset()}T(cc,(function(){this.b=-1}));for(var lc=64,hc=lc-1,fc=[],dc=0;dc<hc;dc++)fc[dc]=0;var pc=$(128,fc);function mc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ac[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function gc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(mc(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(mc(e),i=0)}}e.c=i,e.g+=n}cc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):X(this.h)};var vc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yc(){cc.call(this,8,bc)}T(yc,cc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new uc,this.g=new oc(this.h),this.f=null,this.b=[],this.a=this.c=null}function _c(e){return new x("invalid-cordova-configuration",e)}function Ec(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Ic(e){return e.f||(e.f=e.ma().then((function(){return new _t((function(t){e.Ea((function n(r){return t(r),e.Sa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Cc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=oo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ur(Un(o=zn(i),"firebaseError")||null))?k(o):null)?new Bo(r.c,r.b,null,null,o,null,r.T()):new Bo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(e,i)}))}var n=new Bo("unknown",null,null,null,new x("no-auth-event")),r=!1,i=xn(500).then((function(){return Cc(e).then((function(){r||Ec(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Dr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Wo||(Wo=new qo),function(e){var t=Wo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Dr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Cc(e){var t=null;return function(e){return e.b.get(sc,e.a).then((function(e){return Vo(e)}))}(e.g).then((function(n){return t=n,rc((n=e.g).b,sc,n.a)})).then((function(){return t}))}function Tc(e){this.a=e,this.b=ec()}(e=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?br().then((function(){return new _t((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Nt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Dr("universalLinks.subscribe",u))throw _c("cordova-universal-links-plugin-fix is not installed");if(void 0===Dr("BuildInfo.packageName",u))throw _c("cordova-plugin-buildinfo is not installed");if("function"!=typeof Dr("cordova.plugins.browsertab.openUrl",u))throw _c("cordova-plugin-browsertab is not installed");if("function"!=typeof Dr("cordova.InAppBrowser.open",u))throw _c("cordova-plugin-inappbrowser is not installed")}),(function(){throw new x("cordova-not-ready")}))},e.Ob=function(e,t){return t(new x("operation-not-supported-in-this-environment")),kt()},e.Mb=function(){return Nt(new x("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return Nt(new x("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=kt().then((function(){return zo(t),Ic(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Bo(t,r,null,o,new x("no-auth-event"),null,i),s=Dr("BuildInfo.packageName",u);if("string"!=typeof s)throw new x("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",u),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Ar().toLowerCase().match(/android/))return Nt(new x("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=function(e){var t=new yc;gc(t,e),e=[];var n=8*t.g;56>t.c?gc(t,pc,56-t.c):gc(t,pc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(mc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return Y(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),l.sessionId=o;var h=vu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(sc,a.w(),t)})).then((function(){var t=Dr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof t)throw new x("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Dr("cordova.plugins.browsertab.openUrl",u)))throw new x("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Dr("cordova.InAppBrowser.open",u)))throw new x("invalid-cordova-configuration");t=Ar(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new _t((function(e,t){s=function(){var t=Dr("cordova.plugins.browsertab.close",u);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=xn(2e3).then((function(){t(new x("redirect-cancelled-by-user"))})))},l=function(){Gr()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Cc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null}))},e.Ea=function(e){this.b.push(e),Ic(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Bo("unknown",null,null,null,new x("no-auth-event")),e(t))}))},e.Sa=function(e){J(this.b,(function(t){return t==e}))};var Sc={name:"pendingRedirect",F:"session"};function xc(e){return rc(e.b,Sc,e.a)}function kc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new qc,this.C=new Kc,this.g=new Tc(Bc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Nc(this.D,this.v,this.m,N,this.J)}function Nc(e,t,n,i,o){var a=r.Z.SDK_VERSION||null;return wr()?new wc(e,t,n,a,i,o):new du(e,t,n,a,i,o)}function Ac(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Dc(e){e.a.Xb()&&Ac(e).o((function(t){var n=new Bo("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));jc(t)&&e.s(n)})),e.a.Tb()||Gc(e.b)}function Mc(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Sc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?xc(e.g).then((function(){Ac(e).o((function(t){var n=new Bo("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));jc(t)&&e.s(n)}))})):Dc(e)})).o((function(){Dc(e)}))}function Lc(e,t){J(e.h,(function(e){return e==t}))}kc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Nc(this.D,this.v,this.m,null,this.J),this.i={}},kc.prototype.s=function(e){if(!e)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Gc(this.b),t};var Oc=new qr(2e3,1e4),Pc=new qr(3e4,6e4);function Rc(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function jc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Fc(e,t,n,r,i){var o;return function(e){return e.b.set(Sc,"pending",e.a)}(e.g).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(jc(t))throw new x("operation-not-supported-in-this-environment");return o=t,xc(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new _t((function(){})):xc(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Uc(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),Oc.get())}kc.prototype.qa=function(){return this.b.qa()};var zc={};function Bc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Vc(e,t,n,r){var i=Bc(t,n,r);return zc[i]||(zc[i]=new kc(e,t,n,r)),zc[i]}function qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(e){e.g||(e.g=!0,Yc(e,!1,null,null))}function Wc(e){e.g&&!e.i&&Yc(e,!1,null,null)}function Hc(e,t){if(e.b=function(){return kt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Yc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Nt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Hc(e,n):Hc(e,{user:null}),e.f=[],e.c=[]}function Kc(){}function Qc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function Zc(e,t){this.a=t,Jr(this,"verificationId",e)}function Jc(e,t,n,r){return new jo(e).fb(t,n).then((function(e){return new Zc(e,r)}))}function $c(e){var t=Wi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:e,expirationTime:Wr(1e3*t.exp),authTime:Wr(1e3*t.auth_time),issuedAtTime:Wr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Xc(e,t,n){var r=t&&t[tl];if(!r)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ge(t),this.g=n,this.c=new ao(null,r),this.b=[];var i=this;W(t[el]||[],(function(e){(e=ni(e))&&i.b.push(e)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Yc(this,!0,null,e.a),kt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Yc(e,s,t,null)})).o((function(t){Yc(e,s,null,t)}))}(this,e,t):Nt(new x("invalid-auth-event")):(Yc(this,!1,null,null),kt())}else Nt(new x("invalid-auth-event"))},qc.prototype.qa=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new x("timeout");e.a&&e.a.cancel(),e.a=xn(Pc.get()).then((function(){e.b||(e.g=!0,Yc(e,!0,null,t))}))}(e))}))},Kc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),kt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Nt(new x("invalid-auth-event"))}else Nt(new x("invalid-auth-event"))},Zc.prototype.confirm=function(e){return e=Fo(this.verificationId,e),this.a(e)};var el="mfaInfo",tl="mfaPendingCredential";function nl(e,t,n,r){x.call(this,"multi-factor-auth-required",r,t),this.b=new Xc(e,t,n),Jr(this,"resolver",this.b)}function rl(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new nl(t,e.serverResponse,n,e.message)}catch(e){}return null}function il(){}function ol(e){Jr(this,"factorId",e.fa),this.a=e}function al(e){if(ol.call(this,e),this.a.fa!=jo.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function sl(e,t){for(var n in Jt.call(this,e),t)this[n]=t[n]}function ul(e,t){this.a=e,this.b=[],this.c=E(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&W(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[oi]=e.uid),e.displayName&&(r[ri]=e.displayName),e.enrollmentTime&&(r[ii]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ai]=e.phoneNumber);try{t=new si(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),cl(this,n)}function cl(e,t){e.b=t,Jr(e,"enrolledFactors",t)}function ll(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function hl(e,t){e.stop(),e.b=xn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return Gr()||!e?kt():new _t((function(n){t=function(){Gr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){hl(e,!0)})).o((function(t){e.i(t)&&hl(e,!1)}))}function fl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function dl(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function pl(e,t){e.b=Gi(t[$a]||""),e.a=t.refreshToken,dl(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function ml(e,t){this.a=e||null,this.b=t||null,$r(this,{lastSignInTime:Wr(t||null),creationTime:Wr(e||null)})}function gl(e,t,n,r,i,o){$r(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function vl(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION):null;this.a=new Za(this.l,L(N),i),e.emulatorConfig&&is(this.a,e.emulatorConfig),this.b=new fl(this.a),Tl(this,t[$a]),pl(this.b,t),Jr(this,"refreshToken",this.b.a),kl(this,n||{}),En.call(this),this.R=!1,this.s&&Lr()&&(this.i=Vc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(e){return new ll((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.aa=E(this.hb,this);var o=this;this.ya=null,this.Oa=function(e){o.wa(e.h)},this.ja=null,this.Aa=function(e){is(o.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){wl(o,e.f)},this.ba=null,this.O=new ul(this,n),Jr(this,"multiFactor",this.O)}function yl(e,t){e.ja&&dn(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&ln(t,"languageCodeChanged",e.Oa)}function bl(e,t){e.X&&dn(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&ln(t,"emulatorConfigChanged",e.Aa)}function wl(e,t){e.$=t,as(e.a,r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION,e.$):null)}function _l(e,t){e.ba&&dn(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&ln(t,"frameworkChanged",e.Ba)}function El(e){try{return r.Z.app(e.m).auth()}catch(t){throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Il(e){e.D||e.u.b||(e.u.start(),dn(e,"tokenChanged",e.aa),ln(e,"tokenChanged",e.aa))}function Cl(e){dn(e,"tokenChanged",e.aa),e.u.stop()}function Tl(e,t){e.za=t,Jr(e,"_lat",t)}function Sl(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Dt(t).then((function(){return e}))}function xl(e){e.i&&!e.R&&(e.R=!0,Mc(e.i,e))}function kl(e,t){$r(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new ml(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Nl(){}function Al(e){return kt().then((function(){if(e.D)throw new x("app-deleted")}))}function Dl(e){return Y(e.providerData,(function(e){return e.providerId}))}function Ml(e,t){t&&(Ll(e,t.providerId),e.providerData.push(t))}function Ll(e,t){J(e.providerData,(function(e){return e.providerId==t}))}function Ol(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Jr(e,t,n)}function Pl(e,t){e!=t&&($r(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Jr(e,"metadata",function(e){return new ml(e.a,e.b)}(t.metadata)):Jr(e,"metadata",new ml),W(t.providerData,(function(t){Ml(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Jr(e,"refreshToken",e.b.a),cl(e.O,t.O.b))}function Rl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return nu(e.a,Ls,{idToken:t}).then(E(e.Kc,e))}(e,t).then((function(){return n||Ol(e,"isAnonymous",!1),t}))}))}function jl(e,t){t[$a]&&e.za!=t[$a]&&(pl(e.b,t),e.dispatchEvent(new sl("tokenChanged")),Tl(e,t[$a]),Ol(e,"refreshToken",e.b.a))}function Fl(e,t){return Rl(e).then((function(){if(Q(Dl(e),t))return Sl(e).then((function(){throw new x("provider-already-linked")}))}))}function Ul(e,t,n){return Xr({user:e,credential:Uo(t),additionalUserInfo:t=Zi(t),operationType:n})}function zl(e,t){return jl(e,t),e.reload().then((function(){return e}))}function Bl(e,t,n,i,o){if(!Lr())return Nt(new x("operation-not-supported-in-this-environment"));if(e.h&&!o)return Nt(e.h);var a=Qi(n.providerId),s=zr(e.uid+":::"),u=null;(!Rr()||_r())&&e.s&&n.isOAuthProvider&&(u=vu(e.s,e.l,e.m,t,n,null,s,r.Z.SDK_VERSION||null,null,null,e.tenantId));var c=gr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(ql(e),!o)return e.I().then((function(){}))})).then((function(){return Rc(e.i,c,t,n,s,!!u,e.tenantId)})).then((function(){return new _t((function(n,r){e.na(t,null,new x("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=s,e.c=Uc(e.i,e,t,c,s)}))})).then((function(e){return c&&mr(c),e?Xr(e):null})).o((function(e){throw c&&mr(c),e})),Gl(e,i,o)}function Vl(e,t,n,r,i){if(!Lr())return Nt(new x("operation-not-supported-in-this-environment"));if(e.h&&!i)return Nt(e.h);var o=null,a=zr(e.uid+":::");return r=r().then((function(){if(ql(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Sl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Yl,e.w(),t.a)),t})).then((function(){return Fc(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Kl(e.ha);throw o})).then((function(){if(o)throw o})),Gl(e,r,i)}function ql(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new x("internal-error");throw new x("auth-domain-config-required")}}function Gl(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),Nt(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new sl("userInvalidated")),e.h=t),t}))}(e,t,n);return e.J.push(r),r.oa((function(){Z(e.J,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=rl(t.w(),El(e),E(e.jc,e))),n||t}))}function Wl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[$a]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new vl(t,n,e);return e.providerData&&W(e.providerData,(function(e){e&&Ml(i,Xr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Hl(e){this.a=e,this.b=ec()}Xc.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=ge(t.f);return delete n[el],delete n[tl],ye(n,e),t.g(n)}))},T(nl,x),il.prototype.sb=function(e,t,n){return t.type==so?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ye(n,{phoneVerificationInfo:Ro(e.a)}),nu(t,Ds,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(e.a)}),nu(t,Ms,n)}))}(this,e,t)},T(ol,il),T(al,ol),T(sl,Jt),(e=ul.prototype).yc=function(e){cl(this,function(e){var t=[];return W(e.mfaInfo||[],(function(e){(e=ni(e))&&t.push(e)})),t}(e.hd))},e.Rb=function(){return this.a.I().then((function(e){return new ao(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return jl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return nu(r,tu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=H(t.b,(function(e){return e.uid!=n}));return cl(t,r),jl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:Y(this.b,(function(e){return e.w()}))}}},ll.prototype.start=function(){this.a=this.c,hl(this,!0)},ll.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},fl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},fl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Nt(new x("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ss(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(iu(e)):e.access_token&&e.refresh_token?n(e):r(new x("internal-error")):r(new x("network-request-failed"))}),"POST",$n(t).toString(),e.g,e.m.get()):r(new x("internal-error"))}))}(e.f,t).then((function(t){return e.b=Gi(t.access_token),e.a=t.refresh_token,dl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):kt(null):kt({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(vl,En),vl.prototype.wa=function(e){this.ya=e,rs(this.a,e)},vl.prototype.la=function(){return this.ya},vl.prototype.Ga=function(){return X(this.$)},vl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Jr(vl.prototype,"providerId","firebase"),(e=vl.prototype).reload=function(){var e=this;return Gl(this,Al(this).then((function(){return Rl(e).then((function(){return Sl(e)})).then(Nl)})))},e.oc=function(e){return this.I(e).then((function(e){return new $c(e)}))},e.I=function(e){var t=this;return Gl(this,Al(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new x("internal-error");return e.accessToken!=t.za&&(Tl(t,e.accessToken),t.dispatchEvent(new sl("tokenChanged"))),Ol(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new x("internal-error");kl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?Y(e,(function(e){return new gl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Ml(this,t[n]);Ol(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new sl("userReloaded",{hd:e}))},e.Lc=function(e){return Qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return Gl(this,e.c(this.a,this.uid).then((function(e){return jl(t,e),n=Ul(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return Gl(this,Fl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Ul(t,e,"link"),zl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Gl(this,Fl(this,"phone").then((function(){return Jc(El(n),e,t,E(n.qb,n))})))},e.Mc=function(e,t){var n=this;return Gl(this,kt().then((function(){return Jc(El(n),e,t,E(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return Gl(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return jl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Gl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return jl(t,e),t.reload()})))},e.Cb=function(e){var t=this;return Gl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return jl(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Al(this);var t=this;return Gl(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return jl(t,e),Ol(t,"displayName",e.displayName||null),Ol(t,"photoURL",e.photoUrl||null),W(t.providerData,(function(e){"password"===e.providerId&&(Jr(e,"displayName",t.displayName),Jr(e,"photoURL",t.photoURL))})),Sl(t)})).then(Nl))},e.cd=function(e){var t=this;return Gl(this,Rl(this).then((function(n){return Q(Dl(t),e)?function(e,t,n){return nu(e,ks,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return W(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),W(Dl(t),(function(e){n[e]||Ll(t,e)})),n[jo.PROVIDER_ID]||Jr(t,"phoneNumber",null),Sl(t)})):Sl(t).then((function(){throw new x("no-such-provider")}))})))},e.delete=function(){var e=this;return Gl(this,this.I().then((function(t){return nu(e.a,xs,{idToken:t})})).then((function(){e.dispatchEvent(new sl("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");yl(e,null),bl(e,null),_l(e,null),e.J=[],e.D=!0,Cl(e),Jr(e,"refreshToken",null),e.i&&Lc(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?E(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?E(this.Lb,this):null},e.Ec=function(e){var t=this;return Bl(this,"linkViaPopup",e,(function(){return Fl(t,e.providerId).then((function(){return Sl(t)}))}),!1)},e.Nc=function(e){return Bl(this,"reauthViaPopup",e,(function(){return kt()}),!0)},e.Fc=function(e){var t=this;return Vl(this,"linkViaRedirect",e,(function(){return Fl(t,e.providerId)}),!1)},e.Oc=function(e){return Vl(this,"reauthViaRedirect",e,(function(){return kt()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gl(this,this.I().then((function(n){return ws(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Ul(i,e,"link"),zl(i,e)})).then((function(){return o})))},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gl(this,kt().then((function(){return lo(_s(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Ul(i,e,"reauthenticate"),jl(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.ub=function(e){var t=this,n=null;return Gl(this,this.I().then((function(t){return n=t,void 0===e||me(e)?{}:Bi(new Di(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return Gl(this,this.I().then((function(e){return r=e,void 0===t||me(t)?{}:Bi(new Di(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Gl(this,e=lo(kt(e),n.uid).then((function(e){return t=Ul(n,e,"reauthenticate"),jl(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),W(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ye(e,this.O.w()),e};var Yl={name:"redirectUser",F:"session"};function Kl(e){return rc(e.b,Yl,e.a)}function Ql(e){this.a=e,this.b=ec(),this.c=null,this.f=function(e){var t=$l("local"),n=$l("session"),r=$l("none");return function(e,t,n){var r=nc(t,n),i=tc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Ur(u.localStorage.getItem(r))}catch(e){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(Jl,e.a).then((function(e){return e?$l(e):t}))}))}))})).then((function(t){return e.c=t,Zl(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener($l("local"),this.a,E(this.g,this))}function Zl(e,t){var n,r=[];for(n in $u)$u[n]!==t&&r.push(rc(e.b,$l($u[n]),e.a));return r.push(rc(e.b,Jl,e.a)),function(e){return new _t((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)At(e[s],I(o,s),a);else t(i)}))}(r)}Ql.prototype.g=function(){var e=this,t=$l("local");nh(this,(function(){return kt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Zl(e,"local").then((function(){e.c=t}))}))}))};var Jl={name:"persistence",F:"session"};function $l(e){return{name:"authUser",F:e}}function Xl(e,t){return nh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function eh(e){return nh(e,(function(){return rc(e.b,e.c,e.a)}))}function th(e,t,n){return nh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Wl(e||{})}))}))}function nh(e,t){return e.f=e.f.then(t,t),e.f}function rh(e){if(this.l=!1,Jr(this,"settings",new Qc),Jr(this,"app",e),!hh(this).options||!hh(this).options.apiKey)throw new x("invalid-api-key");e=r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION):null,this.a=new Za(hh(this).options&&hh(this).options.apiKey,L(N),e),this.R=[],this.s=[],this.O=[],this.hb=r.Z.INTERNAL.createSubscribe(E(this.zc,this)),this.X=void 0,this.bc=r.Z.INTERNAL.createSubscribe(E(this.Ac,this)),ch(this,null),this.i=new Ql(hh(this).options.apiKey+":"+hh(this).name),this.D=new Hl(hh(this).options.apiKey+":"+hh(this).name),this.$=mh(this,function(e){var t=hh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Yl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Wl(e||{})}))}(e.D,hh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Kl(e.D)}));return mh(e,t)}(e).then((function(){return th(e.i,t,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Xl(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:eh(e.i)}))):null})).then((function(t){ch(e,t||null)}));return mh(e,n)}(this)),this.h=mh(this,function(e){return e.$.then((function(){return uh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener($l("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.ya=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(e){var t=hh(e).options.authDomain,n=hh(e).options.apiKey;t&&Lr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Vc(t,n,hh(e).name,e.P),Mc(e.b,e),fh(e)&&xl(fh(e)),e.m){xl(e.m);var r=e.m;r.wa(e.la()),yl(r,e),wl(r=e.m,e.J),_l(r,e),is((r=e.m).a,e.P),bl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.P){var e=zn(this.P.url);e=Xr({protocol:e.c,host:e.a,port:e.g,options:Xr({disableWarnings:this.P.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.P=null}function ih(e){Jt.call(this,"languageCodeChanged"),this.h=e}function oh(e){Jt.call(this,"emulatorConfigChanged"),this.c=e}function ah(e){Jt.call(this,"frameworkChanged"),this.f=e}function sh(e){return e.Oa||Nt(new x("auth-domain-config-required"))}function uh(e){if(!Lr())return Nt(new x("operation-not-supported-in-this-environment"));var t=sh(e).then((function(){return e.b.qa()})).then((function(e){return e?Xr(e):null}));return mh(e,t)}function ch(e,t){fh(e)&&(function(e,t){J(e.S,(function(e){return e==t}))}(fh(e),e.Ba),dn(fh(e),"tokenChanged",e.ya),dn(fh(e),"userDeleted",e.za),dn(fh(e),"userInvalidated",e.Aa),Cl(fh(e))),t&&(t.S.push(e.Ba),ln(t,"tokenChanged",e.ya),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&Il(t)),Jr(e,"currentUser",t),t&&(t.wa(e.la()),yl(t,e),wl(t,e.J),_l(t,e),is(t.a,e.P),bl(t,e))}function lh(e,t){var n=null,r=null;return mh(e,t.then((function(t){return n=Uo(t),r=Zi(t),function(e,t){var n={};return n.apiKey=hh(e).options.apiKey,n.authDomain=hh(e).options.authDomain,n.appName=hh(e).name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return function(e,t,n,r){var i=new vl(e,t);return n&&(i.ha=n),r&&wl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return fh(e)&&t.uid==fh(e).uid?(Pl(fh(e),t),e.da(t)):(ch(e,t),xl(t),e.da(t))})).then((function(){ph(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=rl(t.w(),e,E(e.kc,e))),n||t})).then((function(){return Xr({user:fh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function hh(e){return e.app}function fh(e){return e.currentUser}function dh(e){return fh(e)&&fh(e)._lat||null}function ph(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](dh(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](dh(e))}}function mh(e,t){return e.R.push(t),t.oa((function(){Z(e.R,t)})),t}function gh(){}function vh(){this.a={},this.b=1e12}Ql.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new x("invalid-persistence-type"),n=new x("unsupported-persistence-type");e:{for(r in $u)if($u[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(Ir()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Du()&&"none"!==e)throw n;break;default:if(!Mr()&&"none"!==e)throw n}}(e),nh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Zl(n,e)})).then((function(){if(n.c=$l(e),t)return n.b.set(n.c,t,n.a)})):kt()}))},T(rh,En),T(ih,Jt),T(oh,Jt),T(ah,Jt),(e=rh.prototype).xb=function(e){return mh(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,rs(this.a,this.aa),this.dispatchEvent(new ih(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=u.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&br().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.P={url:e,ec:t},this.settings.ib=!0,is(this.a,this.P),this.dispatchEvent(new oh(this.P))}},e.Gc=function(e){this.J.push(e),as(this.a,r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new ah(this.J))},e.Ga=function(){return X(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:hh(this).options.apiKey,authDomain:hh(this).options.authDomain,appName:hh(this).name,currentUser:fh(this)&&fh(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return lh(i,bs(i.a,o))}))},e.Xc=function(e){if(!Lr())return Nt(new x("operation-not-supported-in-this-environment"));var t=this,n=Qi(e.providerId),i=zr(),o=null;(!Rr()||_r())&&hh(this).options.authDomain&&e.isOAuthProvider&&(o=vu(hh(this).options.authDomain,hh(this).options.apiKey,hh(this).name,"signInViaPopup",e,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.P));var a=gr(o,n&&n.ua,n&&n.ta);return mh(this,n=sh(this).then((function(n){return Rc(n,a,"signInViaPopup",e,i,!!o,t.T())})).then((function(){return new _t((function(e,n){t.na("signInViaPopup",null,new x("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=i,t.c=Uc(t.b,t,"signInViaPopup",a,i)}))})).then((function(e){return a&&mr(a),e?Xr(e):null})).o((function(e){throw a&&mr(a),e})))},e.Yc=function(e){if(!Lr())return Nt(new x("operation-not-supported-in-this-environment"));var t=this;return mh(this,sh(this).then((function(){return function(e){return nh(e,(function(){return e.b.set(Jl,e.c.F,e.a)}))}(t.i)})).then((function(){return Fc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.qa=function(){var e=this;return uh(this).then((function(t){return e.b&&Wc(e.b.b),t})).o((function(t){throw e.b&&Wc(e.b.b),t}))},e.dd=function(e){if(!e)return Nt(new x("null-user"));if(this.S!=e.tenantId)return Nt(new x("tenant-id-mismatch"));var t=this,n={};n.apiKey=hh(this).options.apiKey,n.authDomain=hh(this).options.authDomain,n.appName=hh(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[$a]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new vl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&wl(t,r),Pl(t,e),t}(e,n,t.D,t.Ga());return mh(this,this.h.then((function(){if(hh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return fh(t)&&e.uid==fh(t).uid?(Pl(fh(t),e),t.da(e)):(ch(t,r),xl(r),t.da(r))})).then((function(){ph(t)})))},e.Ab=function(){var e=this;return mh(this,this.h.then((function(){return e.b&&Wc(e.b.b),fh(e)?(ch(e,null),eh(e.i).then((function(){ph(e)}))):kt()})))},e.Zc=function(){var e=this;return th(this.i,hh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=fh(e)&&t){n=fh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Pl(fh(e),t),fh(e).I();(fh(e)||t)&&(ch(e,t),t&&(xl(t),t.ha=e.D),e.b&&Mc(e.b,e),ph(e))}}))},e.da=function(e){return Xl(this.i,e)},e.mc=function(){ph(this),this.da(fh(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return lh(t,kt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(fh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.O.push(t),mh(e,e.h.then((function(){!e.l&&Q(e.O,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(dh(e)))})))}(this,(function(){e.next(fh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(fh(r)):"function"==typeof e.next&&e.next(fh(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof e?e(fh(r)):"function"==typeof e.next&&e.next(fh(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this;return mh(this,this.h.then((function(){return fh(t)?fh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return lh(t,nu(t.a,Zs,{token:e}))})).then((function(e){var n=e.user;return Ol(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return lh(n,nu(n.a,Js,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return lh(n,nu(n.a,Ts,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return lh(t,e.ka(t.a))}))},e.Sc=function(e){return Qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=fh(e);if(t&&t.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return lh(e,e.a.zb()).then((function(t){var n=t.user;return Ol(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return fh(this)&&fh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&fh(this)&&Il(fh(this))},e.Pc=function(e){var t=this;W(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&fh(this)&&Cl(fh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),mh(this,this.h.then((function(){t.l||Q(t.s,e)&&e(dh(t))})))},e.removeAuthTokenListener=function(e){J(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener($l("local"),e.a,this.ja),this.b&&(Lc(this.b,this),Wc(this.b.b)),Promise.resolve()},e.hc=function(e){return mh(this,function(e,t){return nu(e,Ss,{identifier:t,continueUri:Or()?hr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Lo(e)},e.wb=function(e,t){var n=this;return mh(this,kt().then((function(){var e=new Di(t);if(!e.c)throw new x("argument-error",Oi+" must be true when sending sign in link to email");return Bi(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return mh(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return mh(this,this.a.Ra(e).then((function(e){return new ui(e)})))},e.jb=function(e){return mh(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return mh(this,kt().then((function(){return void 0===t||me(t)?{}:Bi(new Di(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return mh(this,Jc(this,e,t,E(this.$a,this)))},e.Vc=function(e,t){var n=this;return mh(this,kt().then((function(){var r=t||hr(),i=Mo(e,r);if(!(r=Lo(r)))throw new x("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new x("tenant-id-mismatch");return n.$a(i)})))},gh.prototype.render=function(){},gh.prototype.reset=function(){},gh.prototype.getResponse=function(){},gh.prototype.execute=function(){};var yh=null;function bh(e,t){return(t=wh(t))&&e.a[t]||null}function wh(e){return(e=void 0===e?1e12:e)?e.toString():null}function _h(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Eh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Ih(){}function Ch(){}vh.prototype.render=function(e,t){return this.a[this.b.toString()]=new _h(e,t),this.b++},vh.prototype.reset=function(e){var t=bh(this,e);e=wh(e),t&&e&&(t.delete(),delete this.a[e])},vh.prototype.getResponse=function(e){return(e=bh(this,e))?e.getResponse():null},vh.prototype.execute=function(e){(e=bh(this,e))&&e.execute()},_h.prototype.getResponse=function(){return Eh(this),this.b},_h.prototype.execute=function(){Eh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},_h.prototype.delete=function(){Eh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Jr(Ih,"FACTOR_ID","phone"),Ch.prototype.g=function(){return yh||(yh=new vh),kt(yh)},Ch.prototype.c=function(){};var Th=null;function Sh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xh=new we(Ce,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),kh=new qr(3e4,6e4);Sh.prototype.g=function(e){var t=this;return new _t((function(n,r){var i=setTimeout((function(){r(new x("network-request-failed"))}),kh.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new x("internal-error"));delete u[t.a]},kt(qa(ke(xh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Sh.prototype.c=function(){this.b--};var Nh=null;function Ah(e,t,n,r,i,o,a){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,a?(Th||(Th=new Ch),a=Th):(Nh||(Nh=new Sh),a=Nh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Lh])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Oh],!u.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Za(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Dh];this.a[Dh]=function(e){if(Ph(s,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Dr(c,u);"function"==typeof t&&t(e)}};var l=this.a[Mh];this.a[Mh]=function(){if(Ph(s,null),"function"==typeof l)l();else if("string"==typeof l){var e=Dr(l,u);"function"==typeof e&&e()}}}var Dh="callback",Mh="expired-callback",Lh="sitekey",Oh="size";function Ph(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Rh(e,t){return e.h.push(t),t.oa((function(){Z(e.h,t)})),t}function jh(e){if(e.D)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}function Fh(e,t,n){var i=!1;try{this.b=n||r.Z.app()}catch(e){throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new x("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=r.Z.SDK_VERSION?Nr(r.Z.SDK_VERSION,a):null,Ah.call(this,n,e,t,(function(){try{var e=o.b.auth().la()}catch(t){e=null}return e}),a,L(N),i)}function Uh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=zh.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");n=zh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new x("argument-error",e+" failed: "+r)}(e=Ah.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Rh(this,kt().then((function(){if(Or()&&!Er())return br();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,nu(e.s,Us,{})})).then((function(t){e.a[Lh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){jh(this);var e=this;return Rh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',We(a.name),'"'),a.type){o.push(' type="',We(a.type),'"');var s={};ye(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=mt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):lt(o,a)),2<r.length&&pt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){jh(this);var e=this;return Rh(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){J(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){jh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){jh(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Fh,Ah);var zh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Vh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function qh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function Gh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Wh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Hh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Yh(e,t){return g(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Kh(e){return g(e)&&"string"==typeof e.uid}function Qh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Zh(e,t){for(var n in t){var r=t[n].name;e[r]=Xh(r,e[n],t[n].j)}}function Jh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:I((function(e){return this[e]}),n),set:I((function(e,t,n,r){Uh(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function $h(e,t,n,r){e[t]=Xh(t,n,r)}function Xh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Uh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Zh(rh.prototype,{jb:{name:"applyActionCode",j:[Bh("code")]},Ra:{name:"checkActionCode",j:[Bh("code")]},nb:{name:"confirmPasswordReset",j:[Bh("code"),Bh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Bh("email"),Bh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Bh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Bh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Qh(qh(),Gh(),"nextOrObserver"),Gh("opt_error",!0),Gh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Qh(qh(),Gh(),"nextOrObserver"),Gh("opt_error",!0),Gh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Bh("email"),Qh(qh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Bh("email"),qh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Bh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Hh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Hh()]},Tc:{name:"signInWithCustomToken",j:[Bh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Bh("email"),Bh("password")]},Vc:{name:"signInWithEmailLink",j:[Bh("email"),Bh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Qh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof vl)}},Wh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Bh("url"),qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Bh("code")]}}),Jh(rh.prototype,{lc:{name:"languageCode",kb:Qh(Bh(),Wh(),"languageCode")},ti:{name:"tenantId",kb:Qh(Bh(),Wh(),"tenantId")}}),rh.Persistence=$u,rh.Persistence.LOCAL="local",rh.Persistence.SESSION="session",rh.Persistence.NONE="none",Zh(vl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Vh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Vh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Hh()]},qb:{name:"linkWithCredential",j:[Hh()]},Dc:{name:"linkWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hh()]},tb:{name:"reauthenticateWithCredential",j:[Hh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Qh(qh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bh(null,!0)]},cd:{name:"unlink",j:[Bh("provider")]},Bb:{name:"updateEmail",j:[Bh("email")]},Cb:{name:"updatePassword",j:[Bh("password")]},ed:{name:"updatePhoneNumber",j:[Hh("phone")]},Db:{name:"updateProfile",j:[qh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Bh("email"),Qh(qh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]}}),Zh(vh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zh(_t.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Jh(Qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Vh("appVerificationDisabledForTesting")}}),Zh(Zc.prototype,{confirm:{name:"confirm",j:[Bh("verificationCode")]}}),$h(co,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[vo,Ao,Po,po],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Qh(Bh(),qh(),"json")]),$h(Do,"credential",(function(e,t){return new No(e,t)}),[Bh("email"),Bh("password")]),Zh(No.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Zh(_o.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),$h(_o,"credential",Eo,[Qh(Bh(),qh(),"token")]),$h(Do,"credentialWithLink",Mo,[Bh("email"),Bh("emailLink")]),Zh(Io.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),$h(Io,"credential",Co,[Qh(Bh(),qh(),"token")]),Zh(To.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),$h(To,"credential",So,[Qh(Bh(),Qh(qh(),Wh()),"idToken"),Qh(Bh(),Wh(),"accessToken",!0)]),Zh(xo.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),$h(xo,"credential",ko,[Qh(Bh(),qh(),"token"),Bh("secret",!0)]),Zh(wo.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},credential:{name:"credential",j:[Qh(Bh(),Qh(qh(),Wh()),"optionsOrIdToken"),Qh(Bh(),Wh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Zh(mo.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Zh(ho.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),$h(jo,"credential",Fo,[Bh("verificationId"),Bh("verificationCode")]),Zh(jo.prototype,{fb:{name:"verifyPhoneNumber",j:[Qh(Bh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Yh(e.session,so)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Yh(e.session,uo)&&Kh(e.multiFactorHint):e.session&&e.multiFactorUid?Yh(e.session,uo)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),Zh(Oo.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Zh(x.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Zh(Yo.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Zh(Ho.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Zh(nl.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Zh(Xc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),Zh(ul.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},Bh("displayName",!0)]},bd:{name:"unenroll",j:[Qh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Kh},Bh(),"multiFactorInfoIdentifier")]}}),Zh(Fh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),$h(Ei,"parseLink",Ai,[Bh("link")]),$h(Ih,"assertion",(function(e){return new al(e)}),[Hh("phone")]),function(){if(void 0===r.Z||!r.Z.INTERNAL||!r.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:li,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ci,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:rh,AuthCredential:co,Error:x};$h(e,"EmailAuthProvider",Do,[]),$h(e,"FacebookAuthProvider",_o,[]),$h(e,"GithubAuthProvider",Io,[]),$h(e,"GoogleAuthProvider",To,[]),$h(e,"TwitterAuthProvider",xo,[]),$h(e,"OAuthProvider",wo,[Bh("providerId")]),$h(e,"SAMLAuthProvider",bo,[Bh("providerId")]),$h(e,"PhoneAuthProvider",jo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof rh)}}]),$h(e,"RecaptchaVerifier",Fh,[Qh(Bh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.Z.app.App)}}]),$h(e,"ActionCodeURL",Ei,[]),$h(e,"PhoneMultiFactorGenerator",Ih,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new rh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:E((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:E(e.nc,e),addAuthTokenListener:E(e.cc,e),removeAuthTokenListener:E(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.5"),r.Z.INTERNAL.extendNamespace({User:vl})}()}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Td="firebasestorage.googleapis.com",Sd=function(e){function t(n,r){var i=e.call(this,xd(n),"Firebase Storage: "+r+" ("+xd(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,fr.ZT)(t,e),t.prototype._codeEquals=function(e){return xd(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(i.ZR);function xd(e){return"storage/"+e}function kd(){return new Sd("unknown","An unknown error occurred, please check the error payload for server response.")}function Nd(){return new Sd("canceled","User canceled the upload/download.")}function Ad(){return new Sd("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Dd(e){return new Sd("invalid-argument",e)}function Md(){return new Sd("app-deleted","The Firebase app was deleted.")}function Ld(e){return new Sd("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Od(e,t){return new Sd("invalid-format","String does not match format '"+e+"': "+t)}function Pd(e){throw new Sd("internal-error","Internal error: "+e)}var Rd={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},jd=function(e,t){this.data=e,this.contentType=t||null};function Fd(e,t){switch(e){case Rd.RAW:return new jd(Ud(t));case Rd.BASE64:case Rd.BASE64URL:return new jd(zd(e,t));case Rd.DATA_URL:return new jd((n=new Vd(t)).base64?zd(Rd.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw Od(Rd.DATA_URL,"Malformed data URL.")}return Ud(t)}(n.rest),new Vd(t).contentType)}var n;throw kd()}function Ud(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function zd(e,t){switch(e){case Rd.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Od(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Rd.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Od(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw Od(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Bd,Vd=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Od(Rd.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=t[1]||null;null!=i&&(this.base64=(r=";base64",(n=i).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=e.substring(e.indexOf(",")+1)},qd={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gd(e){switch(e){case"running":case"pausing":case"canceling":return qd.RUNNING;case"paused":return qd.PAUSED;case"success":return qd.SUCCESS;case"canceled":return qd.CANCELED;case"error":default:return qd.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Bd||(Bd={}));var Wd=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Bd.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Bd.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Bd.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Pd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Pd("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Pd("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Pd("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Hd=function(){function e(){}return e.prototype.createXhrIo=function(){return new Wd},e}(),Yd=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(n){return new e(t,"")}if(""===r.path)return r;throw new Sd("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Td?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new Sd("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Kd=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function Qd(e){return"string"==typeof e||e instanceof String}function Zd(e){return Jd()&&e instanceof Blob}function Jd(){return"undefined"!=typeof Blob}function $d(e,t,n,r){if(r<t)throw Dd("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Dd("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Xd(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function ep(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var tp=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(e){o(e)}else null!==a?((r=kd()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Md():Nd()):o(r=new Sd("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new np(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c||(c=!0,n.apply(null,e))}function h(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new np(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===Bd.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new np(a,n))}else{var s=n.getErrorCode()===Bd.ABORT;t(!1,new np(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}(f,u())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,(0,fr.ev)([null,e],t));else{var r;u()||a?l.call.apply(l,(0,fr.ev)([null,e],t)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(e){d||(d=!0,c||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),np=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function rp(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ip(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=rp();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Jd())return new Blob(e);throw new Sd("unsupported-environment","This browser doesn't seem to support creating Blobs")}var op=function(){function e(e,t){var n=0,r="";Zd(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Zd(this.data_)){var r=(i=this.data_,o=t,a=n,i.webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Jd()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(ip.apply(null,r))}var i=t.map((function(e){return Qd(e)?Fd(Rd.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function ap(e){var t;try{t=JSON.parse(e)}catch(e){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function sp(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function up(e,t){return t}var cp=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||up},lp=null;function hp(){if(lp)return lp;var e=[];e.push(new cp("bucket")),e.push(new cp("generation")),e.push(new cp("metageneration")),e.push(new cp("name","fullPath",!0));var t=new cp("name");t.xform=function(e,t){return function(e){return!Qd(e)||e.length<2?e:sp(e)}(t)},e.push(t);var n=new cp("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new cp("timeCreated")),e.push(new cp("updated")),e.push(new cp("md5Hash",null,!0)),e.push(new cp("cacheControl",null,!0)),e.push(new cp("contentDisposition",null,!0)),e.push(new cp("contentEncoding",null,!0)),e.push(new cp("contentLanguage",null,!0)),e.push(new cp("contentType",null,!0)),e.push(new cp("metadata","customMetadata",!0)),lp=e}function fp(e,t,n){var r=ap(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Yd(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}function dp(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var pp=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function mp(e){if(!e)throw kd()}function gp(e,t){return function(n,r){var i=fp(e,r,t);return mp(null!==i),i}}function vp(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Sd("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Sd("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Sd("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Sd("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function yp(e){var t=vp(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Sd("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function bp(e,t,n){var r=Xd(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new pp(r,"GET",gp(e,n),i);return o.errorHandler=yp(t),o}function wp(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Xd(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new pp(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=ap(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Yd(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Yd(t,l.name)),r.items.push(s)}return r}(e,t,r)}(e,t,r);return mp(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=vp(t),u}function _p(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var Ep=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Ip(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){mp(!1)}return mp(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Cp=262144;var Tp=function(e,t,n){if(function(e){return"function"==typeof e}(e)||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function Sp(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var xp=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=hp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=_p(t,r,i),s={name:a.fullPath},u=Xd(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=dp(a,n),h=e.maxUploadRetryTime,f=new pp(u,"POST",(function(e){var t;Ip(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){mp(!1)}return mp(Qd(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=vp(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new pp(n,"POST",(function(e){var t=Ip(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){mp(!1)}n||mp(!1);var i=Number(n);return mp(!isNaN(i)),new Ep(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=vp(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Cp*this._chunkMultiplier,n=new Ep(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=function(e,t,n,r,i,o,a,s){var u=new Ep(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Sd("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,f);if(null===p)throw Ad();var m=t.maxUploadRetryTime,g=new pp(n,"POST",(function(e,n){var i,a=Ip(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?gp(t,o)(e,n):null,new Ep(s,c,"final"===a,i)}),m);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=vp(e),g}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){return e._error=t,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Cp*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=bp(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=_p(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+dp(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=op.getBlob(c,r,l);if(null===h)throw Ad();var f={name:u.fullPath},d=Xd(o,e.host),p=e.maxUploadRetryTime,m=new pp(d,"POST",gp(e,n),p);return m.urlParams=f,m.headers=a,m.body=h.uploadData(),m.errorHandler=vp(t),m}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Nd(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Gd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Tp(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Gd(this._state)){case qd.SUCCESS:Sp(this._resolve.bind(null,this.snapshot))();break;case qd.CANCELED:case qd.ERROR:Sp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Gd(this._state)){case qd.RUNNING:case qd.PAUSED:e.next&&Sp(e.next.bind(e,this.snapshot))();break;case qd.SUCCESS:e.complete&&Sp(e.complete.bind(e))();break;case qd.CANCELED:case qd.ERROR:e.error&&Sp(e.error.bind(e,this._error))();break;default:e.error&&Sp(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),kp=function(){function e(e,t){this._service=e,this._location=t instanceof Yd?t:Yd.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Yd(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return sp(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Yd(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Ld(e)},e}();function Np(e){var t={prefixes:[],items:[]};return Ap(e,t).then((function(){return t}))}function Ap(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:return[4,Dp(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Ap(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Dp(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&$d("options.maxResults",1,1e3,t.maxResults),n=t||{},r=wp(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Mp(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Xd(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new pp(r,"GET",function(e,t){return function(n,r){var i=fp(e,r,t);return mp(null!==i),function(e,t,n){var r=ap(t);if(null===r)return null;if(!Qd(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Xd("/b/"+o(r)+"/o/"+o(i),n)+ep({alt:"media",token:t})}))[0]}(i,r,e.host)}}(e,n),i);return o.errorHandler=yp(t),o}(e.storage,e._location,hp()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Sd("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Lp(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Yd(e._location.bucket,n);return new kp(e.storage,r)}function Op(e){return/^[A-Za-z]+:\/\//.test(e)}function Pp(e,t){if(e instanceof Fp){var n=e;if(null==n._bucket)throw new Sd("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new kp(n,n._bucket);return null!=t?Pp(r,t):r}if(void 0!==t){if(t.includes(".."))throw Dd('`path` param cannot contain ".."');return Lp(e,t)}return e}function Rp(e,t){if(t&&Op(t)){if(e instanceof Fp)return new kp(e,t);throw Dd("To use ref(service, url), the first argument must be a Storage instance.")}return Pp(e,t)}function jp(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:Yd.makeFromBucketSpec(n,e)}var Fp=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Td,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Yd.makeFromBucketSpec(i,this._host):jp(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Yd.makeFromBucketSpec(this._url,e):this._bucket=jp(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){$d("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){$d("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e;return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new kp(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Kd(Md());var i=function(e,t,n,r,i,o){var a=ep(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new tp(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,fr.Jh)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function Up(e,t){return Rp(e=(0,i.m9)(e),t)}var zp,Bp,Vp=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),qp=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Vp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Vp(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new Vp(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Vp(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Gp=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Wp(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Wp(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Wp=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return Lp(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new qp(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new xp(e,new op(t),n)}(e=(0,i.m9)(e),t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Rd.RAW),this._throwIfRoot("putString");var r=Fd(t,e),i=(0,fr.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new qp(new xp(this._delegate,new op(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return Np(e=(0,i.m9)(e))}(this._delegate).then((function(t){return new Gp(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return Dp(e=(0,i.m9)(e),t)}(this._delegate,e||void 0).then((function(e){return new Gp(e,t.storage)}))},e.prototype.getMetadata=function(){return function(e){return function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=bp(e.storage,e._location,hp()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,i.m9)(e))}(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Xd(t.fullServerUrl(),e.host),o=dp(n,r),a=e.maxOperationRetryTime,s=new pp(i,"PATCH",gp(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=yp(t),s}(e.storage,e._location,t,hp()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(e=(0,i.m9)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return Mp(e=(0,i.m9)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return function(e){return(0,fr.mG)(this,void 0,void 0,(function(){var t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Xd(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new pp(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=yp(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,i.m9)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Ld(e)},e}(),Hp=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Op(e))throw Dd("ref() expected a child path but got a URL, use refFromURL instead.");return new Wp(Up(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Op(e))throw Dd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Yd.makeFromUrl(e,this._delegate.host)}catch(e){throw Dd("refFromUrl() expected a valid full URL but got an invalid one.")}return new Wp(Up(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();zp=r.Z,Bp={TaskState:qd,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Rd,Storage:Fp,Reference:Wp},zp.INTERNAL.registerComponent(new Id.wA("storage",(function(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Hp(i,new Fp(i,o,a,new Hd,n,r.Z.SDK_VERSION))}),"PUBLIC").setServiceProps(Bp).setMultipleInstances(!0)),zp.registerVersion("@firebase/storage","0.5.2");var Yp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Kp=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,fr.ZT)(t,e),t}(Error),Qp=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e;return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,fr.mG)(this,void 0,void 0,(function(){return(0,fr.Jh)(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e,t;return(0,fr.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function Zp(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Jp=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return Zp(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?Zp(e,(function(e){return t.decode(e)})):e},e}(),$p=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Jp,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Qp(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,fr.Jh)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,fr.mG)(this,void 0,void 0,(function(){var e;return(0,fr.Jh)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,fr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return(0,fr.Jh)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new Kp("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Xp(c,this.postJSON(r,i,o)),l,Xp(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new Kp("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!Yp[s])return new Kp("internal","internal");r=Yp[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(e){}return"ok"===r?null:new Kp(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new Kp("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new Kp("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function Xp(e,t){return(0,fr.mG)(this,void 0,void 0,(function(){var n;return(0,fr.Jh)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:$p};e.INTERNAL.registerComponent(new Id.wA("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new $p(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(r.Z,fetch.bind(self)),r.Z.registerVersion("@firebase/functions","0.6.8"),r.Z.initializeApp({apiKey:"AIzaSyBXXtJkgddDtDNxIDFueSLnpWn0S9ktZt4",authDomain:"bracael-burger.firebaseapp.com",databaseURL:"https://bracael-burger.firebaseio.com",projectId:"bracael-burger",storageBucket:"bracael-burger.appspot.com",messagingSenderId:"734837434311",appId:"1:734837434311:web:44b05454e0c8bcf6e81be2"}),r.Z.firestore,r.Z.database;const em=r.Z.storage,tm=(r.Z.auth,r.Z.functions);function nm(e,t){return(nm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nm(e,t)}var im=n(74),om=n.n(im);function am(){return(am=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sm(e){return"/"===e.charAt(0)}function um(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var cm=function(e,t){if(!e)throw new Error("Invariant failed")};function lm(e){return"/"===e.charAt(0)?e:"/"+e}function hm(e){return"/"===e.charAt(0)?e.substr(1):e}function fm(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function dm(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function pm(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function mm(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=am({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&sm(e),a=t&&sm(t),s=o||a;if(e&&sm(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var h=i[l];"."===h?um(i,l):".."===h?(um(i,l),c++):c&&(um(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&sm(i[0])||i.unshift("");var f=i.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function gm(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var vm=!("undefined"==typeof window||!window.document||!window.document.createElement);function ym(e,t){t(window.confirm(e))}var bm="hashchange",wm={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+hm(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:hm,decodePath:lm},slash:{encodePath:lm,decodePath:lm}};function _m(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Em(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Im(e){window.location.replace(_m(window.location.href)+"#"+e)}function Cm(e){void 0===e&&(e={}),vm||cm(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?ym:r,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?dm(lm(e.basename)):"",u=wm[a],c=u.encodePath,l=u.decodePath;function h(){var e=l(Em());return s&&(e=fm(e,s)),mm(e)}var f=gm();function d(e){am(T,e),T.length=t.length,f.notifyListeners(T.location,T.action)}var p=!1,m=null;function g(){var e=Em(),t=c(e);if(e!==t)Im(t);else{var n=h(),r=T.location;if(!p&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===pm(n))return;m=null,function(e){if(p)p=!1,d();else{f.confirmTransitionTo(e,"POP",i,(function(t){t?d({action:"POP",location:e}):function(e){var t=T.location,n=w.lastIndexOf(pm(t));-1===n&&(n=0);var r=w.lastIndexOf(pm(e));-1===r&&(r=0);var i=n-r;i&&(p=!0,_(i))}(e)}))}}(n)}}var v=Em(),y=c(v);v!==y&&Im(y);var b=h(),w=[pm(b)];function _(e){t.go(e)}var E=0;function I(e){1===(E+=e)&&1===e?window.addEventListener(bm,g):0===E&&window.removeEventListener(bm,g)}var C=!1,T={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=_m(window.location.href)),n+"#"+c(s+pm(e))},push:function(e,t){var n="PUSH",r=mm(e,void 0,void 0,T.location);f.confirmTransitionTo(r,n,i,(function(e){if(e){var t=pm(r),i=c(s+t);if(Em()!==i){m=t,function(e){window.location.hash=e}(i);var o=w.lastIndexOf(pm(T.location)),a=w.slice(0,o+1);a.push(t),w=a,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=mm(e,void 0,void 0,T.location);f.confirmTransitionTo(r,n,i,(function(e){if(e){var t=pm(r),i=c(s+t);Em()!==i&&(m=t,Im(i));var o=w.indexOf(pm(T.location));-1!==o&&(w[o]=t),d({action:n,location:r})}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return C||(I(1),C=!0),function(){return C&&(C=!1,I(-1)),t()}},listen:function(e){var t=f.appendListener(e);return I(1),function(){I(-1),t()}}};return T}var Tm=1073741823,Sm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};function xm(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var km=e.createContext||function(t,n){var r,i,o,a="__create-react-context-"+((Sm[o="__global_unique_id__"]=(Sm[o]||0)+1)+"__"),s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=xm(t.props.value),t}rm(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(t="function"==typeof n?n(r,i):Tm,0!=(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);s.childContextTypes=((r={})[a]=om().object.isRequired,r);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}rm(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?Tm:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?Tm:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return u.contextTypes=((i={})[a]=om().object,i),{Provider:s,Consumer:u}},Nm=n(508),Am=n.n(Nm),Dm=n(972);function Mm(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Lm=n(773),Om=n.n(Lm),Pm=function(e){var t=km();return t.displayName="Router-History",t}(),Rm=function(e){var t=km();return t.displayName="Router",t}(),jm=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}rm(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return e.createElement(Rm.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(Pm.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component,e.Component;var Fm={},Um=0;function zm(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Fm[n]||(Fm[n]={});if(r[e])return r[e];var i=[],o={regexp:Am()(e,i,t),keys:i};return Um<1e4&&(r[e]=o,Um++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var Bm=function(t){function n(){return t.apply(this,arguments)||this}return rm(n,t),n.prototype.render=function(){var t=this;return e.createElement(Rm.Consumer,null,(function(n){n||cm(!1);var r=t.props.location||n.location,i=am({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?zm(r.pathname,t.props):n.match}),o=t.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&0===a.length&&(a=null),e.createElement(Rm.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:s?e.createElement(s,i):u?u(i):null:"function"==typeof a?a(i):null)}))},n}(e.Component);e.Component;var Vm=function(t){function n(){return t.apply(this,arguments)||this}return rm(n,t),n.prototype.render=function(){var t=this;return e.createElement(Rm.Consumer,null,(function(n){n||cm(!1);var r,i,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var a=t.props.path||t.props.from;i=a?zm(o.pathname,am({},t.props,{path:a})):n.match}})),i?e.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(e.Component),qm=e.useContext;function Gm(){return qm(Pm)}function Wm(){return qm(Rm).location}e.Component;var Hm=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Cm(e.props),e}return rm(n,t),n.prototype.render=function(){return e.createElement(jm,{history:this.history,children:this.props.children})},n}(e.Component),Ym=function(e,t){return"function"==typeof e?e(t):e},Km=function(e,t){return"string"==typeof e?mm(e,null,null,t):e},Qm=function(e){return e},Zm=e.forwardRef;void 0===Zm&&(Zm=Qm);var Jm=Zm((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,a=Mm(t,["innerRef","navigate","onClick"]),s=a.target,u=am({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=Qm!==Zm&&n||r,e.createElement("a",u)})),$m=Zm((function(t,n){var r=t.component,i=void 0===r?Jm:r,o=t.replace,a=t.to,s=t.innerRef,u=Mm(t,["component","replace","to","innerRef"]);return e.createElement(Rm.Consumer,null,(function(t){t||cm(!1);var r=t.history,c=Km(Ym(a,t.location),t.location),l=c?r.createHref(c):"",h=am({},u,{href:l,navigate:function(){var e=Ym(a,t.location);(o?r.replace:r.push)(e)}});return Qm!==Zm?h.ref=n||s:h.innerRef=s,e.createElement(i,h)}))})),Xm=function(e){return e},eg=e.forwardRef;void 0===eg&&(eg=Xm),eg((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.activeClassName,a=void 0===o?"active":o,s=t.activeStyle,u=t.className,c=t.exact,l=t.isActive,h=t.location,f=t.sensitive,d=t.strict,p=t.style,m=t.to,g=t.innerRef,v=Mm(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(Rm.Consumer,null,(function(t){t||cm(!1);var r=h||t.location,o=Km(Ym(m,r),r),y=o.pathname,b=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?zm(r.pathname,{path:b,exact:c,sensitive:f,strict:d}):null,_=!!(l?l(w,r):w),E=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(u,a):u,I=_?am({},p,{},s):p,C=am({"aria-current":_&&i||null,className:E,style:I,to:o},v);return Xm!==eg?C.ref=n||g:C.innerRef=g,e.createElement($m,C)}))}));var tg=n(555);const ng=(0,e.createContext)();function rg({children:t,useConn:n,setConn:r,useSwipe:i,setSwipe:o,useBag:a,setBag:s,useCart:u,setCart:c,useWhere:l,setWhere:h,layoutRef:f}){return e.createElement(ng.Provider,{value:{useConn:n,setConn:r,useSwipe:i,setSwipe:o,useBag:a,setBag:s,useCart:u,setCart:c,useWhere:l,setWhere:h,layoutRef:f}},t)}function ig(){const t=(0,e.useContext)(ng),{useConn:n,setConn:r}=t;return{useConn:n,setConn:r}}function og(){const t=(0,e.useContext)(ng),{useSwipe:n,setSwipe:r}=t;return{useSwipe:n,setSwipe:r}}function ag(){const t=(0,e.useContext)(ng),{useBag:n,setBag:r}=t;return{useBag:n,setBag:r}}function sg(){const t=(0,e.useContext)(ng),{useCart:n,setCart:r}=t;return{useCart:n,setCart:r}}function ug(){const t=(0,e.useContext)(ng),{useWhere:n,setWhere:r}=t;return{useWhere:n,setWhere:r}}const{jQuery:cg}=window;var lg={u:{a:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],c:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],d:["sun","mon","tue","wed","thu","fri","sat"],e:(new Date).getDay()},category_routers:{"001":"/hamburguer","002":"/porcoes","003":"/bebidas","004":"/combos","005":"/promocoes","006":"/bomboniere"},category_names:{"001":"Hambúrguer","002":"Porções","003":"Bebidas","004":"Combos","005":"Promoções","006":"Bomboniere"},isValid:function({usePost:e,data:t,useAmount:n,useComment:r,useSelector:i,useAdditional:o,useMoment:a,useCart:s}){const{amount:u=1,comment:c="",additional:l={},selector:h={}}=e,{category:f,description:d,favorite:p,grams:m,price:g,published:v,purchase:y,thumb:b,title:w,weight:_,extra:E={},pick:I={}}=t;return(!Object.keys(I).length||!Object.entries(I).map((e=>e[1].important)).includes(!0)||Object.entries(I).filter((e=>e[1].important)).map((e=>{const t=e[0],{important:n,limit:r}=e[1],i=h[t]||[];return n&&i.length===r})).every((e=>!!e)))&&(n!==u||r!==c||(()=>{const e=e=>{const t=e[0],{amount:n}=e[1],{amount:r=0}=JSON.parse(o)[t]||{};return n===r};return Object.entries(l).length!==Object.entries(JSON.parse(o)).length||(Object.entries(l).length<Object.entries(JSON.parse(o)).length?Object.entries(JSON.parse(o)).map(e).includes(!1):Object.entries(l).map(e).includes(!1))})()||!!Object.keys(h).length&&Object.entries(h).map((e=>{const t=e[0],n=e[1],r=JSON.parse(i)[t]||[];return n.length<r.length?r.map((e=>n.includes(e))).every((e=>!!e)):n.map((e=>r.includes(e))).every((e=>!!e))})).includes(!1)||!s.find((e=>e.moment===a)))},PushAlert:function(e){document.body.contains(document.querySelector(".push-alert"))||(document.body.insertAdjacentHTML("beforeend",`\n          <div class="push-alert">\n              <p>${e}</p>\n          </div>`),cg(".push-alert").animate({transform:"70"},{step:function(e,t){cg(this).css({transform:"translate3d(-50%, "+e+"px, 0px)"})},duration:150,easing:"linear",queue:!1,complete:function(){setTimeout((()=>{cg(this).animate({opacity:0},{duration:300,easing:"linear",queue:!1,complete:function(){this.remove()}})}),1300)}},"linear"))},unitSize:function({gm:e,ml:t,space:n=!1,str:r=!1}){return"number"==typeof e||"number"==typeof t?void 0===t?e>=1e3?(i=0,(o=e)>=1e3&&function e(){i=++i,(o-=1e3)>=1e3&&e()}(),0!==o?n?` ${Number(i+"."+o).toFixed(1).replace(".",",")}kg`:`${Number(i+"."+o).toFixed(1).replace(".",",")}kg`:n?` ${i}kg`:`${i}kg`):0!==e?` ${e}g`:r?"Peso não informado":"":t>=1e3?function(){var e=0,r=t;return r>=1e3&&function t(){e=++e,(r-=1e3)>=1e3&&t()}(),0!==r?n?` ${Number(e+"."+r).toFixed(1).replace(".",",")}L`:`${Number(e+"."+r).toFixed(1).replace(".",",")}L`:n?` ${e}L`:`${e}L`}():n?` ${t}ml`:`${t}ml`:r?"Peso indefinido":"";var i,o},btnAnimate:function({first:e,second:t,action:n,bolean:r=!0}){const i=r?e:t,o=r?t:e;cg(i).animate({opacity:0},{duration:400,easing:"linear",queue:!1}),cg(i).animate({transform:"26"},{step:function(e,t){cg(this).css({transform:"translate3d(0px, "+e+"px, 0px)"})},duration:400,easing:"linear",queue:!1,complete:function(){}},"linear"),setTimeout((function(){cg(o).fadeIn(400,(function(){n(),o.removeAttribute("style"),i.removeAttribute("style")}))}),200)}};const hg={cash:{brl:!0},credit:{amex:!0,diners:!0,elo:!0,hipercard:!0,mastercard:!0,visa:!0},debit:{banrisul:!0,elo:!0,maestro:!0,visa:!0},voucher:{alelo:!1,sodexo:!1,ticket:!1,vrref:!1}};var fg=function(){const{useConn:t,setConn:n}=ig(),{methods:r=hg}=t,i=e.createElement("div",null,e.createElement("img",{height:"20",src:"https://1.bp.blogspot.com/-P6ong_vSPo4/X2hJ-EcfzbI/AAAAAAAAHPA/uMHLrlxGR7IlXURS3yBhpva8gOYlIhlHwCLcBGAsYHQ/s320/banrisul.png",alt:"banrisul"})),o=e.createElement("div",null,e.createElement("img",{height:"20",src:"https://4.bp.blogspot.com/-yjRJamc055o/XzKLkgO8A1I/AAAAAAAAHGo/EKk1YWu8uTwFHZmqtsKa7Q5XI_eXsMo3gCLcBGAsYHQ/s320/visa.png",alt:"visa"})),a=e.createElement("div",null,e.createElement("img",{height:"20",src:"https://4.bp.blogspot.com/-cP673wyKTYY/XzKNpfTn-5I/AAAAAAAAHG4/TYatZb6b4u8kqSQd56uk-2hP25N_-UeQgCLcBGAsYHQ/s320/maestro.png",alt:"maestro"})),s=e.createElement("div",null,e.createElement("img",{height:"20",src:"https://2.bp.blogspot.com/-_cwtVG4dR1g/XzKRdsHr1BI/AAAAAAAAHHs/sz5v6dB6bYcjFd9aZFoEMF-RQQN59ATkQCLcBGAsYHQ/s320/elo.png",alt:"elo"})),u=e.createElement("div",null,e.createElement("img",{height:"20",src:"https://4.bp.blogspot.com/-c2qRtCccgFk/XzKOp6dtO3I/AAAAAAAAHHQ/bksycs51u6EbTaF8_FMm31fN6iV6Hul-gCLcBGAsYHQ/s320/mastercard.png",alt:"mastercard"})),c=e.createElement("div",null,e.createElement("img",{height:"20",src:"https://1.bp.blogspot.com/-Pxg-BfPny3o/X2hJ-NGAdpI/AAAAAAAAHO8/EepI7iQqVwEEi6Cf5RcDK2M2gzagl3HfwCLcBGAsYHQ/s320/hipercard.png",alt:"hipercard"})),l=e.createElement("div",null,e.createElement("img",{height:"20",src:"https://3.bp.blogspot.com/-sf2IZ3tnMjM/XzKNe8H_PmI/AAAAAAAAHG0/zyjZveMaCbUJUDlVGI0x-dsIFK73Ys2EACLcBGAsYHQ/s320/amex.png",alt:"amex"})),h=e.createElement("div",null,e.createElement("img",{height:"20",src:"https://3.bp.blogspot.com/-7W74XVvvqks/XzKPbSRz5jI/AAAAAAAAHHg/o4mhb7P8sR01FJkEhyWUUnsbS6Oy3Dd6QCLcBGAsYHQ/s320/diners.png",alt:"diners"})),f=e.createElement("div",null,e.createElement("img",{height:"20",src:"https://4.bp.blogspot.com/-oT3WobHsu4c/XzKUljudVSI/AAAAAAAAHII/FGkJNrJ6tbgDFwvH8EmxmrD20RNWjCiNwCLcBGAsYHQ/s320/alelo.png",alt:"alelo"})),d=e.createElement("div",null,e.createElement("img",{height:"20",src:"https://2.bp.blogspot.com/-romfsWuFvDc/XzKTG2L-nvI/AAAAAAAAHH8/bzPh5XSrwwk3ArbFXPr05fyGHGVseoHqgCLcBGAsYHQ/s1600/sodexo.png",alt:"sodexo"})),p=e.createElement("div",null,e.createElement("img",{height:"20",src:"https://1.bp.blogspot.com/-N3flCB8it7Q/XzKWCU4HUyI/AAAAAAAAHIU/hwICpw0fQMk_RHUAoXW45it0ZSxsya40wCLcBGAsYHQ/s320/ticket.png",alt:"ticket"})),m=e.createElement("div",null,e.createElement("img",{height:"20",src:"https://1.bp.blogspot.com/-UpUHmGhhdL8/XzKKMZk6rDI/AAAAAAAAHGY/Nxt-U6lXPHY_eROYrvRynCJoMnvLeke1gCLcBGAsYHQ/s320/vr-ref.png",alt:"vrref"})),g=r.cash.brl?r.cash.brl?e.createElement("small",null,"BRL (moeda do Brasil)"):null:e.createElement("small",null,"Não trabalhamos com dinheiro em espécie"),v=r.debit.visa||r.debit.maestro||r.debit.elo||r.debit.banrisul?e.createElement(e.Fragment,null,r.debit.visa?o:null,r.debit.maestro?a:null,r.debit.elo?s:null,r.debit.banrisul?i:null):e.createElement("small",null,"Não trabalhamos com débito"),y=r.credit.visa||r.credit.mastercard||r.credit.elo||r.credit.hipercard||r.credit.amex||r.credit.diners?e.createElement(e.Fragment,null,r.credit.visa?o:null,r.credit.mastercard?u:null,r.credit.elo?s:null,r.credit.hipercard?c:null,r.credit.amex?l:null,r.credit.diners?h:null):e.createElement("small",null,"Não trabalhamos com crédito"),b=r.voucher.alelo||r.voucher.sodexo||r.voucher.ticket||r.voucher.vrref?e.createElement(e.Fragment,null,r.voucher.alelo?f:null,r.voucher.sodexo?d:null,r.voucher.ticket?p:null,r.voucher.vrref?m:null):e.createElement("small",null,"Não trabalhamos com voucher");return e.createElement(e.Fragment,null,e.createElement("p",null,"Dinheiro"),e.createElement("div",null,g),e.createElement("p",null,"Cartão de Débito"),e.createElement("div",null,v),e.createElement("p",null,"Cartão de Crédito"),e.createElement("div",null,y),e.createElement("p",null,"Voucher"),e.createElement("div",null,b))};const dg=[[["",""]],[["18:00","23:30"]],[["19:00","23:30"]],[["19:00","23:30"]],[["19:00","23:30"]],[["19:00","23:30"]],[["19:00","23:30"]]];var pg=function(){const{useConn:t,setConn:n}=ig(),{action:r=dg}=t;return r.map((function(t,n){return r[n].map((function(t,r){return""===t[0]||""===t[1]?e.createElement("li",{key:n},e.createElement("span",null,lg.u.b[n]),e.createElement("span",{style:{color:"#ff0000"}},"Fechado")):0!==r?e.createElement("li",{key:n},e.createElement("span",null,"--"),e.createElement("span",null,t[0]," às ",t[1])):e.createElement("li",{key:`${n}__${r}`},e.createElement("span",null,lg.u.b[n]),e.createElement("span",null,t[0]," às ",t[1]))}))}))},mg=n(807),gg=n.n(mg),vg=n(414),yg=n(319),bg=n(916),wg=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,_g=(0,bg.Z)((function(e){return wg.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Eg(){return(Eg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ig=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Cg=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Dm.typeOf)(e)},Tg=Object.freeze([]),Sg=Object.freeze({});function xg(e){return"function"==typeof e}function kg(e){return e.displayName||e.name||"Component"}function Ng(e){return e&&"string"==typeof e.styledComponentId}var Ag="undefined"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",Dg="undefined"!=typeof window&&"HTMLElement"in window,Mg=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY);function Lg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Og=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Lg(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),Pg=new Map,Rg=new Map,jg=1,Fg=function(e){if(Pg.has(e))return Pg.get(e);for(;Rg.has(jg);)jg++;var t=jg++;return Pg.set(e,t),Rg.set(t,e),t},Ug=function(e){return Rg.get(e)},zg=function(e,t){Pg.set(e,t),Rg.set(t,e)},Bg="style["+Ag+'][data-styled-version="5.3.0"]',Vg=new RegExp("^"+Ag+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),qg=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},Gg=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(Vg);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(zg(c,u),qg(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},Wg=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Hg=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Ag))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(Ag,"active"),r.setAttribute("data-styled-version","5.3.0");var a=Wg();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},Yg=function(){function e(e){var t=this.element=Hg(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Lg(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Kg=function(){function e(e){var t=this.element=Hg(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Qg=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Zg=Dg,Jg={isServer:!Dg,useCSSOMInjection:!Mg},$g=function(){function e(e,t,n){void 0===e&&(e=Sg),void 0===t&&(t={}),this.options=Eg({},Jg,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&Dg&&Zg&&(Zg=!1,function(e){for(var t=document.querySelectorAll(Bg),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Ag)&&(Gg(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Fg(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Eg({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Qg(i):r?new Yg(i):new Kg(i),new Og(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Fg(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Fg(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Fg(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=Ug(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var u=Ag+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Xg=/(a)(d)/gi,ev=function(e){return String.fromCharCode(e+(e>25?39:97))};function tv(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=ev(t%52)+n;return(ev(t%52)+n).replace(Xg,"$1-$2")}var nv=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},rv=function(e){return nv(5381,e)};function iv(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(xg(n)&&!Ng(n))return!1}return!0}var ov=rv("5.3.0"),av=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&iv(e),this.componentId=t,this.baseHash=nv(ov,t),this.baseStyle=n,$g.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=Iv(this.rules,e,t,n).join(""),a=tv(nv(this.baseHash,o.length)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=nv(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=Iv(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=nv(c,p+h),l+=p}}if(l){var m=tv(c>>>0);if(!t.hasNameForId(r,m)){var g=n(l,"."+m,void 0,r);t.insertRules(r,m,g)}i.push(m)}}return i.join(" ")},e}(),sv=/^\s*\/\/.*$/gm,uv=[":","[",".","#"];function cv(e){var t,n,r,i,o=void 0===e?Sg:e,a=o.options,s=void 0===a?Sg:a,u=o.plugins,c=void 0===u?Tg:u,l=new vg.Z(s),h=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),d=function(e,r,o){return 0===r&&-1!==uv.indexOf(o[n.length])||o.match(i)?e:"."+t};function p(e,o,a,s){void 0===s&&(s="&");var u=e.replace(sv,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(a||!o?"":o,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},f,function(e){if(-2===e){var t=h;return h=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Lg(15),nv(e,t.name)}),5381).toString():"",p}var lv=e.createContext(),hv=(lv.Consumer,e.createContext()),fv=(hv.Consumer,new $g),dv=cv();function pv(){return(0,e.useContext)(lv)||fv}function mv(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],o=pv(),a=(0,e.useMemo)((function(){var e=o;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),s=(0,e.useMemo)((function(){return cv({options:{prefix:!t.disableVendorPrefixes},plugins:r})}),[t.disableVendorPrefixes,r]);return(0,e.useEffect)((function(){gg()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(lv.Provider,{value:a},e.createElement(hv.Provider,{value:s},t.children))}var gv=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=dv);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Lg(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=dv),this.name+e.hash},e}(),vv=/([A-Z])/,yv=/([A-Z])/g,bv=/^ms-/,wv=function(e){return"-"+e.toLowerCase()};function _v(e){return vv.test(e)?e.replace(yv,wv).replace(bv,"-ms-"):e}var Ev=function(e){return null==e||!1===e||""===e};function Iv(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=Iv(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return Ev(e)?"":Ng(e)?"."+e.styledComponentId:xg(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:Iv(e(t),t,n,r):e instanceof gv?n?(e.inject(n,r),e.getName(r)):e:Cg(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!Ev(t[a])&&(Cg(t[a])?o.push.apply(o,e(t[a],a)):xg(t[a])?o.push(_v(a)+":",t[a],";"):o.push(_v(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in yg.Z?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}function Cv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xg(e)||Cg(e)?Iv(Ig(Tg,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Iv(Ig(e,n))}new Set;var Tv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Sv=/(^-|-$)/g;function xv(e){return e.replace(Tv,"-").replace(Sv,"")}function kv(e){return"string"==typeof e&&!0}var Nv=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Av=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Dv(e,t,n){var r=e[n];Nv(t)&&Nv(r)?Mv(r,t):e[n]=t}function Mv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Nv(a))for(var s in a)Av(s)&&Dv(e,a[s],s)}return e}var Lv=e.createContext();Lv.Consumer;var Ov={};function Pv(t,n,r){var i=Ng(t),o=!kv(t),a=n.attrs,s=void 0===a?Tg:a,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":xv(e);Ov[n]=(Ov[n]||0)+1;var r=n+"-"+function(e){return tv(rv(e)>>>0)}("5.3.0"+n+Ov[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,h=void 0===l?function(e){return kv(e)?"styled."+e:"Styled("+kg(e)+")"}(t):l,f=n.displayName&&n.componentId?xv(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&t.shouldForwardProp&&(p=n.shouldForwardProp?function(e,r,i){return t.shouldForwardProp(e,r,i)&&n.shouldForwardProp(e,r,i)}:t.shouldForwardProp);var m,g=new av(r,f,i?t.componentStyle:void 0),v=g.isStatic&&0===s.length,y=function(t,n){return function(t,n,r,i){var o=t.attrs,a=t.componentStyle,s=t.defaultProps,u=t.foldedComponentIds,c=t.shouldForwardProp,l=t.styledComponentId,h=t.target,f=function(e,t,n){void 0===e&&(e=Sg);var r=Eg({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in xg(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(function(e,t,n){return void 0===n&&(n=Sg),e.theme!==n.theme&&e.theme||t||n.theme}(n,(0,e.useContext)(Lv),s)||Sg,n,o),d=f[0],p=f[1],m=function(t,n,r,i){var o=pv(),a=(0,e.useContext)(hv)||dv;return n?t.generateAndInjectStyles(Sg,o,a):t.generateAndInjectStyles(r,o,a)}(a,i,d),g=r,v=p.$as||n.$as||p.as||n.as||h,y=kv(v),b=p!==n?Eg({},n,{},p):n,w={};for(var _ in b)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?w.as=b[_]:(c?c(_,_g,v):!y||_g(_))&&(w[_]=b[_]));return n.style&&p.style!==n.style&&(w.style=Eg({},n.style,{},p.style)),w.className=Array.prototype.concat(u,l,m!==l?m:null,n.className,p.className).filter(Boolean).join(" "),w.ref=g,(0,e.createElement)(v,w)}(m,t,n,v)};return y.displayName=h,(m=e.forwardRef(y)).attrs=d,m.componentStyle=g,m.displayName=h,m.shouldForwardProp=p,m.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):Tg,m.styledComponentId=f,m.target=i?t.target:t,m.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),o=t&&t+"-"+(kv(e)?e:xv(kg(e)));return Pv(e,Eg({},i,{attrs:d,componentId:o}),r)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?Mv({},t.defaultProps,e):e}}),m.toString=function(){return"."+m.styledComponentId},o&&Om()(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var Rv=function(e){return function e(t,n,r){if(void 0===r&&(r=Sg),!(0,Dm.isValidElementType)(n))return Lg(1,String(n));var i=function(){return t(n,r,Cv.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Eg({},r,{},i))},i.attrs=function(i){return e(t,n,Eg({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Pv,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Rv[e]=Rv(e)})),function(){var e=function(e,t){this.rules=e,this.componentId=t,this.isStatic=iv(e),$g.registerId(this.componentId+1)}.prototype;e.createStyles=function(e,t,n,r){var i=r(Iv(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},e.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.renderStyles=function(e,t,n,r){e>2&&$g.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}(),function(){var t=function(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=Wg();return"<style "+[n&&'nonce="'+n+'"',Ag+'="true"','data-styled-version="5.3.0"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?Lg(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return Lg(2);var r=((n={})[Ag]="",n["data-styled-version"]="5.3.0",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=Wg();return i&&(r.nonce=i),[e.createElement("style",Eg({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new $g({isServer:!0}),this.sealed=!1}.prototype;t.collectStyles=function(t){return this.sealed?Lg(2):e.createElement(mv,{sheet:this.instance},t)},t.interleaveWithNodeStream=function(e){return Lg(3)}}();var jv=Rv;const Fv=jv.aside`
  width: 84vw;
  max-width: 320px;
  min-width: 290px;
  background-color: #ffffff;
  box-shadow: 5px 0 16px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease-in-out 0s;
  transform: translate3d(0px, 0px, 0px);
  position: relative;
  left: 0px;
  flex-direction: column;
  display: flex;
  height: 100%;
  z-index: 3;

  @media (max-width: 1080px) {
    position: fixed;
    transform: ${({useActive:e})=>e?"translate3d(0px, 0px, 0px)":"translate3d(-100vw, 0px, 0px)"};
  }

  & {
  -webkit-transition: all .3s ease-in-out;
  -moz-transition: all .3s ease-in-out;
  -ms-transition: all .3s ease-in-out;
  -o-transition: all .3s ease-in-out;
  transition: all .3s ease-in-out;
  }

  & article {
      display: flex;
      flex-direction: column;
      position: relative;
      height: calc(100vh - 56px);
  }

  & ol {
      border-bottom-width: 1px;
      border-bottom-style: solid;
      border-bottom-color: rgba(77, 77, 77, 0.30);
      padding: 12px 0;

      & > p {
          font-size: 15px;
          padding: 4px 20px 8px 20px;
          display: flex;
          align-items: center;

          & svg {
              margin-right: 8px;
          }
      }
  }

  li {
      position: relative;

      & button {
          width: 100%;
          color: #353535;
          text-decoration: none;
          display: flex;
          padding: 7px 10px 7px 26px;
          line-height: 26px;
          font-size: 1.75rem;
          -webkit-box-align: center;
          align-items: center;
          font-weight: 700;

          &:hover {
              background: rgba(0, 0, 0, 0.05);
          }

          & svg {
              margin-right: 2.25rem;
          }
      }
  }
`,Uv=jv.div`
    display: flex;
    flex-direction: column;

    & > * {
        width: 100%;
    }

    & article {
        display: flex;
        flex-direction: column;
        position: relative;
        height: calc(100vh - 56px);

        & ul {
            flex-grow: 1;
            overflow-x: hidden;
            overflow-y: overlay;
        }
    }
`,zv=jv.section`
    background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0iQWdydXBhcl8xX2NvcGlhciIgZGF0YS1uYW1lPSJBZ3J1cGFyIDEgY29waWFyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMzYuMDMxIiBoZWlnaHQ9IjQxLjk2OSIgdmlld0JveD0iMCAwIDIzNi4wMzEgNDEuOTY5Ij4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xLCAuY2xzLTIsIC5jbHMtMyB7CiAgICAgICAgZmlsbC1ydWxlOiBldmVub2RkOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICNjNjFlMTA7CiAgICAgIH0KCiAgICAgIC5jbHMtMyB7CiAgICAgICAgZmlsbDogI2ZmZjsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggaWQ9ImxvdmVyIiBjbGFzcz0iY2xzLTEiIGQ9Ik0xMDQuMzExLDI0LjIxOFYyMi4zODdoLTQuMDY5VjE3LjFhMy44NzgsMy44NzgsMCwwLDEsMS4yLTIuNzA2LDQuMDE0LDQuMDE0LDAsMCwxLDIuNzI3LTEuMTYsNC4xNzcsNC4xNzcsMCwwLDEsMS42NDguMzY2bDAuNTY5LTEuNjI4YTcuNDg0LDcuNDg0LDAsMCwwLTIuNC0uNDI3LDUuNDkxLDUuNDkxLDAsMCwwLTMuODQ2LDEuNTQ2LDUuODEsNS44MSwwLDAsMC0xLjcyOSwzLjg4NnY1LjQxMkg5Ni4zNzd2MS44MzFoMi4wMzVWNDIuMzY2aDEuODMxVjI0LjIxOGg0LjA2OVptMy4wNzUtLjM2NmExMC43ODIsMTAuNzgyLDAsMCwwLTMuMjc2LDcuOTE0LDExLjE3LDExLjE3LDAsMSwwLDIyLjMzOSwwQTExLjE2MywxMS4xNjMsMCwwLDAsMTA3LjM4NiwyMy44NTJabTcuODk0LTEuMzIzYTkuMjM5LDkuMjM5LDAsMCwxLDkuMjM2LDkuMjM3LDkuMjM3LDkuMjM3LDAsMSwxLTE1Ljc2Ny02LjUzMSw4LjksOC45LDAsMCwxLDYuNTMxLTIuNzA2aDBabTE1LjYwNywxLjMyM2ExMC43ODIsMTAuNzgyLDAsMCwwLTMuMjc2LDcuOTE0LDExLjE3LDExLjE3LDAsMSwwLDIyLjMzOSwwQTExLjE2MywxMS4xNjMsMCwwLDAsMTMwLjg4NywyMy44NTJabTcuODkzLTEuMzIzYTkuMjM5LDkuMjM5LDAsMCwxLDkuMjM3LDkuMjM3LDkuMjM3LDkuMjM3LDAsMSwxLTE1Ljc2Ny02LjUzMSw4LjksOC45LDAsMCwxLDYuNTMtMi43MDZoMFpNMTczLjksOS44MTRoLTEuODMxdjE1LjRhMTMuNywxMy43LDAsMCwwLTEuMTU5LTEuMzYzLDExLjE4LDExLjE4LDAsMCwwLTE5LjA4NCw3LjkxNCwxMS4xNzgsMTEuMTc4LDAsMCwwLDE5LjA4NCw3Ljg5NCwxMy42MzMsMTMuNjMzLDAsMCwwLDEuMTU5LTEuMzYzdjQuMDY5SDE3My45VjkuODE0Wm0tNC4zNzQsMjguNDYzYTkuMjMxLDkuMjMxLDAsMCwxLTE1Ljc2Ny02LjUxLDkuMjQ3LDkuMjQ3LDAsMCwxLDE4LjMxLTEuODExdjMuNjIxYTguOSw4LjksMCwwLDEtMi41NDMsNC43aDBaTTE4Mi4wNTIsOS40MjhWNDJoNC4yMzJWOS40MjhoLTQuMjMyWm0xMC4wMTIsMTMuMzI2YTExLjE3NCwxMS4xNzQsMCwwLDAtMy40LDguMiwxMS41NzcsMTEuNTc3LDAsMSwwLDIzLjE1MywwQTExLjU2NiwxMS41NjYsMCwwLDAsMTkyLjA2NCwyMi43NTRabTguMTc5LDAuOTM2YTcuMjc2LDcuMjc2LDAsMCwxLDcuMjYzLDcuMjYzLDcuMjY0LDcuMjY0LDAsMSwxLTEyLjQtNS4xMjcsNi45OCw2Ljk4LDAsMCwxLDUuMTM3LTIuMTM2aDBaTTIyMy42NjIsNDJsMTAuMDEtMjAuOTM1aC00Ljc2MUwyMjIuNiwzNC42NTVsLTYuMjg2LTEzLjU5aC00Ljc2MUwyMjEuNTQ2LDQyaDIuMTE2Wm0yOC43OTEtMTUuODI4LDIuMTE2LTIuMTM2cS0wLjk1Ny0xLjA3OC0xLjE2LTEuMjgyLTAuNDg3LS40ODgtMS0wLjkxNWExMS42LDExLjYsMCwwLDAtMTguNzc4LDkuMTE1LDExLjU4MSwxMS41ODEsMCwwLDAsMTkuNzc1LDguMiwyNy4yNiwyNy4yNiwwLDAsMCwyLjIzOC0yLjgyOGwtNC4yMTEtMS41MDZxLTAuODE1Ljk3Ny0xLjA3OSwxLjI2MUE3LjA0OSw3LjA0OSwwLDAsMSwyNDUuMjEsMzguMnEtMi43ODcsMC0zLjg0NS0uOTM2Wm0tMTMuOTM2LDcuOTc1YTYuMDEzLDYuMDEzLDAsMCwxLS41NS0zLjE5NCw3LjI1OSw3LjI1OSwwLDAsMSw3LjI0My03LjI2Myw1Ljk1Niw1Ljk1NiwwLDAsMSwzLjE5NC41NDlabTIzLjcyNC0xMy4wODJIMjU4LjAzVjQyaDQuMjExVjMxLjIzOGE2Ljg3Myw2Ljg3MywwLDAsMSwyLjEzNy00Ljg0Miw1LjM3Myw1LjM3MywwLDAsMSwzLjY2Mi0xLjQ4NVYyMC41MzZhNy40OCw3LjQ4LDAsMCwwLTUuOCwzLjM1N1YyMS4wNjVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzIgLTcuMDMxKSIvPgogIDxwYXRoIGlkPSJoZWFydCIgY2xhc3M9ImNscy0yIiBkPSJNNTUuOTg5LDE2LjJDNDkuNzc2LDEuNjQ1LDMyLjExNCw1LjA0LDMyLDIxLjkzMiwzMS45MywzMS42OTMsNTUsNDYuOTQ2LDU2LjAyNiw0OSw1Ny4wNjEsNDcsODAuMDcsMzEuNTI2LDgwLDIxLjgzMSw3OS44ODYsNC45LDYxLjkxNywyLjIyNSw1NS45ODksMTYuMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMiAtNy4wMzEpIi8+CiAgPHBhdGggaWQ9IlJldMOibmd1bG9fQXJyZWRvbmRhZG9fMiIgZGF0YS1uYW1lPSJSZXTDom5ndWxvIEFycmVkb25kYWRvIDIiIGNsYXNzPSJjbHMtMyIgZD0iTTY0LDI4SDQ4YTIsMiwwLDAsMS0yLTIsNS4zNjUsNS4zNjUsMCwwLDEsMy00LDE1LjkxMSwxNS45MTEsMCwwLDEsNy0yLDE0LjI5MywxNC4yOTMsMCwwLDEsNywyLDUuMjA4LDUuMjA4LDAsMCwxLDMsNEEyLDIsMCwwLDEsNjQsMjhaTTQ5LDMxYTEsMSwwLDAsMSwwLTJINjNhMSwxLDAsMCwxLDAsMkg0OVptLTEsMUg2NGEyLDIsMCwwLDEsMCw0SDQ4QTIsMiwwLDAsMSw0OCwzMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMiAtNy4wMzEpIi8+Cjwvc3ZnPgo=");
    /* background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0ibWFyY2EiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2NC4xODgiIGhlaWdodD0iNDAuODc1IiB2aWV3Qm94PSIwIDAgMTY0LjE4OCA0MC44NzUiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICNjMDA7CiAgICAgIH0KCiAgICAgIC5jbHMtMSwgLmNscy0yIHsKICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogIzIwMjAyMDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggaWQ9IkZvcm1hXzFfY29waWFyIiBkYXRhLW5hbWU9IkZvcm1hIDEgY29waWFyIiBjbGFzcz0iY2xzLTEiIGQ9Ik00Ny43MTYsMjYuNTIyYTUuOTc4LDUuOTc4LDAsMCwwLC41MjctMi45YzAtLjA5NCwwLTAuNDM3LDAtMC41MjcsMC0yLjYzOS0yLjYzMy00Ljc0LTQuMjItNC43NDctMC41MzIsMC02LjMyOSwwLTYuMzI5LDBMMjcuNDA5LDguMDYxSDQxLjM4NmMzLjEsMCw4LjEuNTYzLDEwLjI4NSw0Ljc0NywwLjkxMiwxLjQ4MiwxLjIwNyw1Ljc2MSwxLjIxMiw3Ljk4NywwLjAyMSwwLjcyNiwwLDUuMzY3LDAsNS43NDdDNTIuMzQsMjYuNTQxLDQ4LjEsMjYuNTIsNDcuNzE2LDI2LjUyMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNi40MDYgLTguMDYzKSIvPgogIDxwYXRoIGlkPSJGb3JtYV8xIiBkYXRhLW5hbWU9IkZvcm1hIDEiIGNsYXNzPSJjbHMtMSIgZD0iTTM2LjY5NCw0OC45MzlMMjYuNjczLDM4LjY1M3MxNi4wNjgsMCwxNi4zNTEsMGMxLjU4MiwwLDQuMjI1LTIuNjM5LDQuMjItNS4yNzQsMC0uMDk0LDAtMC40MzcsMC0wLjUyNywwLTIuNjM5LTIuNjMzLTQuNzQtNC4yMi00Ljc0Ny0wLjUzMiwwLTYuMzI5LDAtNi4zMjksMEwyNi40MDksMTcuODE5SDQzLjAyM2ExMy43NzEsMTMuNzcxLDAsMCwxLDEwLjAyMiw0Ljc0N2M0LjI4NSw0LjU0Nyw0LjQ4Myw4Ljk2Nyw0LjQ4Myw4Ljk2NywwLjAwNSwwLjc2MSwwLDMuNDI4LDAsMy40MjhhMTMuNDUsMTMuNDUsMCwwLDEtMy45NTYsOC45NjdjLTQuNjQ3LDQuNzUzLTguOTcxLDUuMDEtMTAuNTQ5LDUuMDExQzQyLjc1Niw0OC45NCwzNi42OTQsNDguOTM5LDM2LjY5NCw0OC45MzlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYuNDA2IC04LjA2MykiLz4KICA8cGF0aCBpZD0iQnJhY2FlbCIgY2xhc3M9ImNscy0yIiBkPSJNOTEuMzMsMzIuNzExYzAsMi4wMS0xLjQxLDMuMTgtMy43MiwzLjE4SDgyLjk5di02LjUxaDQuNUM4OS43NywyOS4zODEsOTEuMzMsMzAuNjQxLDkxLjMzLDMyLjcxMVptLTAuNTQtOS4wOWMwLDEuOTItMS4zNSwyLjk3LTMuNTcsMi45N0g4Mi45OXYtNS45N2g0LjIzQzg5LjQ0LDIwLjYyMiw5MC43OSwyMS43MzIsOTAuNzksMjMuNjIyWm0zLjk2LDkuNDVhNS4xODUsNS4xODUsMCwwLDAtNC4wMi01LjEsNC44NzgsNC44NzgsMCwwLDAsMy41NC00Ljc3YzAtMi45NC0yLjM0LTUuMzctNi43NS01LjM3SDc5LjU3VjM4LjY4MWg4LjM0QzkyLjE2OSwzOC42ODEsOTQuNzQ5LDM2LjI1MSw5NC43NDksMzMuMDcxWm03LjE0LTMuMDljMC0zLjUxLDEuNTYtNC41Niw0LjA4LTQuNTZoMC44N3YtMy41NGE1LjM4NCw1LjM4NCwwLDAsMC00Ljk1LDIuNjd2LTIuNEg5OC40N1YzOC42ODFoMy40MTl2LTguN1ptNi45NiwwLjM2YzAsNS4xLDMuNDUsOC42MSw3Ljc0LDguNjFhNy4xMTUsNy4xMTUsMCwwLDAsNS43OS0yLjczdjIuNDZoMy40NVYyMi4xNTJoLTMuNDV2Mi40YTcuMDM2LDcuMDM2LDAsMCwwLTUuNzMtMi42N0MxMTIuMywyMS44ODIsMTA4Ljg0OSwyNS4yNDEsMTA4Ljg0OSwzMC4zNDFabTEzLjUzLDAuMDZjMCwzLjU3LTIuNDMsNS41OC01LjAxLDUuNTgtMi41NSwwLTUuMDEtMi4wNy01LjAxLTUuNjRzMi40Ni01LjQ5LDUuMDEtNS40OUMxMTkuOTQ5LDI0Ljg1MSwxMjIuMzc5LDI2Ljg2MSwxMjIuMzc5LDMwLjRabTYuODEsMGMwLDUuMTksMy4zNiw4LjU1LDguMSw4LjU1YTcuNDIzLDcuNDIzLDAsMCwwLDcuNjE5LTUuNDloLTMuNjg5YTMuNzc1LDMuNzc1LDAsMCwxLTMuOTMsMi42MWMtMi43NiwwLTQuNTktMi4wNC00LjU5LTUuNjcsMC0zLjYsMS44My01LjY0LDQuNTktNS42NGEzLjg2MywzLjg2MywwLDAsMSwzLjkzLDIuNjFoMy42ODljLTAuOTI5LTMuNDgtMy41NjktNS40OS03LjYxOS01LjQ5QzEzMi41NDksMjEuODgyLDEyOS4xODksMjUuMjQxLDEyOS4xODksMzAuNFptMTgtLjA2YzAsNS4xLDMuNDUsOC42MSw3Ljc0LDguNjFhNy4xMTQsNy4xMTQsMCwwLDAsNS43ODktMi43M3YyLjQ2aDMuNDVWMjIuMTUyaC0zLjQ1djIuNGE3LjAzNiw3LjAzNiwwLDAsMC01LjcyOS0yLjY3QzE1MC42MzksMjEuODgyLDE0Ny4xODksMjUuMjQxLDE0Ny4xODksMzAuMzQxWm0xMy41MjksMC4wNmMwLDMuNTctMi40Myw1LjU4LTUuMDEsNS41OC0yLjU0OSwwLTUuMDA5LTIuMDctNS4wMDktNS42NHMyLjQ2LTUuNDksNS4wMDktNS40OUMxNTguMjg4LDI0Ljg1MSwxNjAuNzE4LDI2Ljg2MSwxNjAuNzE4LDMwLjRabTE0LjkxLTUuNjRhNC4yOTIsNC4yOTIsMCwwLDEsNC42Miw0LjE3SDE3MS4xQTQuNSw0LjUsMCwwLDEsMTc1LjYyOCwyNC43NjFabTcuNzQsOWgtMy42OWE0LDQsMCwwLDEtMy45LDIuMzEsNC41NDYsNC41NDYsMCwwLDEtNC43MDktNC4zOEgxODMuN2ExMC41NDgsMTAuNTQ4LDAsMCwwLC4xMi0xLjY4LDcuNzA5LDcuNzA5LDAsMCwwLTguMDQtOC4xM2MtNC44ODksMC04LjI0OSwzLjMzLTguMjQ5LDguNTJzMy41MSw4LjU1LDguMjQ5LDguNTVBNy41NTMsNy41NTMsMCwwLDAsMTgzLjM2OCwzMy43NjFabTMuODEsNC45MmgzLjQydi0yMi4yaC0zLjQydjIyLjJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYuNDA2IC04LjA2MykiLz4KPC9zdmc+Cg=="); */

    background-size: 116px;
    background-repeat: no-repeat;
    background-position: 26px center;
    height: 56px;

    box-shadow: inset 0 -1px rgba(77, 77, 77, 0.30);
    min-height: 56px;
    max-height: 56px;
`,Bv=jv.div`
    font-family: var(--font-open);

    & span {
        color: #717171;
        letter-spacing: 0.5px;
    }

    & > * {
        display: block;
    }
`,Vv=jv.div`
    padding: 0 20px 6px;
    display: inline-block;
    color: #717171;
`,qv=jv.span`
    padding: 0 20px 16px;
    font-size: 10px;
`,Gv=jv.span`
    padding: 32px 20px 16px;
`,Wv=jv.div`
    padding: 0 20px;

    & li:not(:last-child) {
        margin-bottom: 4px;
    }

    & li {
        display: grid;
        grid-gap: 1.6rem;
        grid-template-columns: minmax(80px, 0fr) 1fr;
        grid-template-rows: 1fr;
        position: relative;

        & span:first-child {
            text-align: right;
            font-weight: 700;
        }

        & span {
            width: 100%;
        }
    }
`,Hv=jv.div`
    padding: 0 20px;

    & > p {
        color: #000000;
        font-family: var(--font-open);
        font-weight: 900;
        font-size: 13px;
        padding: 4px 0;
    }

    & > div {
        display: flex;

        & > div {
            height: 20px;
            display: block;
            float: left;

            & img {
                border-radius: 3px;
            }
        }

        & > div:not(:last-child) {
            margin-right: 1.6rem;
        }
    }
`;var Yv=function(){const t=Gm(),{pathname:n}=Wm(),{useSwipe:r,setSwipe:i}=og(),{useConn:o,setConn:a}=ig(),{root:s}=o,{name:u="BRACAEL",update:c=(new Date).toISOString()}=s||{},{weekday:l,day:h,month:f,year:d,hour:p,minute:m,hour12:g}=function(e){const t=new Intl.DateTimeFormat("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0}),[{value:n},,{value:r},,{value:i},,{value:o},,{value:a},,{value:s},,{value:u}]=t.formatToParts(new Date(e));return{weekday:n,day:r,month:i,year:o,hour:a,minute:s,hour12:u}}(c),v=e=>{n!==e&&t.push(e),i("")};return e.createElement(Fv,{useActive:r},e.createElement(Uv,null,e.createElement(zv,null),e.createElement("article",null,e.createElement("ul",null,e.createElement("ol",null,e.createElement("li",null,e.createElement("button",{onClick:()=>v("/")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 16",fill:"#5F6368"},e.createElement("path",{fillRule:"evenodd",d:"M3,17V10H0L9,1l9,9H15v7H11V13H7v4H3Z",transform:"translate(0 -1)"})),e.createElement("span",null,"Página inicial"))),e.createElement("li",null,e.createElement("button",{onClick:()=>v("/sobre")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 511.999 511.999",fill:"#5F6368"},e.createElement("path",{d:"M438.09,273.32h-39.596c4.036,11.05,6.241,22.975,6.241,35.404v149.65c0,5.182-0.902,10.156-2.543,14.782h65.461 c24.453,0,44.346-19.894,44.346-44.346v-81.581C512,306.476,478.844,273.32,438.09,273.32z"}),e.createElement("path",{d:"M107.265,308.725c0-12.43,2.205-24.354,6.241-35.404H73.91c-40.754,0-73.91,33.156-73.91,73.91v81.581 c0,24.452,19.893,44.346,44.346,44.346h65.462c-1.641-4.628-2.543-9.601-2.543-14.783V308.725z"}),e.createElement("path",{d:"M301.261,234.815h-90.522c-40.754,0-73.91,33.156-73.91,73.91v149.65c0,8.163,6.618,14.782,14.782,14.782h208.778 c8.164,0,14.782-6.618,14.782-14.782v-149.65C375.171,267.971,342.015,234.815,301.261,234.815z"}),e.createElement("path",{d:"M256,38.84c-49.012,0-88.886,39.874-88.886,88.887c0,33.245,18.349,62.28,45.447,77.524 c12.853,7.23,27.671,11.362,43.439,11.362c15.768,0,30.586-4.132,43.439-11.362c27.099-15.244,45.447-44.28,45.447-77.524 C344.886,78.715,305.012,38.84,256,38.84z"}),e.createElement("path",{d:"M99.918,121.689c-36.655,0-66.475,29.82-66.475,66.475c0,36.655,29.82,66.475,66.475,66.475 c9.298,0,18.152-1.926,26.195-5.388c13.906-5.987,25.372-16.585,32.467-29.86c4.98-9.317,7.813-19.946,7.813-31.227 C166.393,151.51,136.573,121.689,99.918,121.689z"}),e.createElement("path",{d:"M412.082,121.689c-36.655,0-66.475,29.82-66.475,66.475c0,11.282,2.833,21.911,7.813,31.227 c7.095,13.276,18.561,23.874,32.467,29.86c8.043,3.462,16.897,5.388,26.195,5.388c36.655,0,66.475-29.82,66.475-66.475 C478.557,151.509,448.737,121.689,412.082,121.689z"})),e.createElement("span",null,"Sobre a empresa")))),e.createElement("ol",null,e.createElement("p",null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"12",height:"12",fill:"#000000"},e.createElement("path",{d:"m8 0c-4.41113 0-8 3.58887-8 8s3.58887 8 8 8 8-3.58887 8-8-3.58887-8-8-8zm1.41455 10.8286-2.41455-2.41455v-4.41406h2v3.58594l1.82861 1.82861z"})),e.createElement("span",null,"Horário de atendimento")),e.createElement(Wv,null,e.createElement(pg,null))),e.createElement("ol",null,e.createElement("p",null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"12",height:"12",fill:"#000000"},e.createElement("g",null,e.createElement("path",{d:"m512 163v-27c0-30.928-25.072-56-56-56h-400c-30.928 0-56 25.072-56 56v27c0 2.761 2.239 5 5 5h502c2.761 0 5-2.239 5-5z"}),e.createElement("path",{d:"m0 205v171c0 30.928 25.072 56 56 56h400c30.928 0 56-25.072 56-56v-171c0-2.761-2.239-5-5-5h-502c-2.761 0-5 2.239-5 5zm128 131c0 8.836-7.164 16-16 16h-16c-8.836 0-16-7.164-16-16v-16c0-8.836 7.164-16 16-16h16c8.836 0 16 7.164 16 16z"}))),e.createElement("span",null,"Formas de pagamento")),e.createElement(Hv,null,e.createElement(fg,null))),e.createElement("ol",null,e.createElement("li",null,e.createElement("button",{onClick:()=>v("/politica")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"18",viewBox:"0 0 16 18",fill:"#5F6368"},e.createElement("path",{fillRule:"evenodd",d:"M3,0H13c1,1.006,2.995,2.993,4,4V16a2,2,0,0,1-2,2H3a2,2,0,0,1-2-2V2A2,2,0,0,1,3,0ZM4,4h6a1,1,0,0,1,0,2H4A1,1,0,0,1,4,4ZM4,8H14a1,1,0,0,1,0,2H4A1,1,0,0,1,4,8Zm0,4H14a1,1,0,0,1,0,2H4A1,1,0,0,1,4,12Z",transform:"translate(-1)"})),e.createElement("span",null,"Política de cancelamento"))),e.createElement("li",null,e.createElement("button",{onClick:()=>v("/termos")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"18",viewBox:"0 0 16 18",fill:"#5F6368"},e.createElement("path",{fillRule:"evenodd",d:"M3,0H13c1,1.006,2.995,2.993,4,4V16a2,2,0,0,1-2,2H3a2,2,0,0,1-2-2V2A2,2,0,0,1,3,0ZM4,4h6a1,1,0,0,1,0,2H4A1,1,0,0,1,4,4ZM4,8H14a1,1,0,0,1,0,2H4A1,1,0,0,1,4,8Zm0,4H14a1,1,0,0,1,0,2H4A1,1,0,0,1,4,12Z",transform:"translate(-1)"})),e.createElement("span",null,"Termos de uso")))),e.createElement(Bv,null,e.createElement(Gv,null,u||"Bracael"," 2020 ©",e.createElement("br",null),"Todos os direitos reservados."),e.createElement(Vv,null,"Desenvolvido por Bracael.COM"),e.createElement(qv,null,"Last time updated ",f," ",h,", ",d))))))},Kv=function(e,t,n,r){const i=r?r.scrollLeft:window.scrollX||window.pageXOffset,o=r?r.scrollTop:window.scrollY||window.pageYOffset,a=e-i,s=t-o,u=(new Date).getTime();n=void 0!==n?n:400;const c=(e,t,n,r)=>(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t,l=setInterval((()=>{const e=(new Date).getTime()-u,t=c(e,i,a,n),h=c(e,o,s,n);e>=n&&clearInterval(l),r?r.scroll(t,h):window.scroll(t,h)}),1e3/60)};const Qv=e=>`\n  -webkit-border-radius: ${"number"==typeof e?e+"px":e};\n  -moz-border-radius: ${"number"==typeof e?e+"px":e};\n  -ms-border-radius: ${"number"==typeof e?e+"px":e};\n  -o-border-radius: ${"number"==typeof e?e+"px":e};\n  border-radius: ${"number"==typeof e?e+"px":e};\n`,Zv=e=>`\n  -webkit-box-sizing: ${e};\n  -moz-box-sizing: ${e};\n  -ms-box-sizing: ${e};\n  -o-box-sizing: ${e};\n  box-sizing: ${e};\n`,Jv=jv.div`
  display: flex;
  transition: all 0.3s ease-in-out 0s;
  height: 100%;

  transform: ${({useActive:e})=>e?"\n    translate3d(-320px, 0px, 0px);\n  ":"\n    translate3d(0px, 0px, 0px);\n  "};
`,$v=jv.div`
  overflow-x: hidden;
  overflow-y: overlay;
  scroll-behavior: smooth;
`,Xv=jv.main`
  width: 100%;
  overflow: hidden;
  display: flex;

  @media (max-width: 1080px) {
    min-width: 100vw;
    max-width: 100vw;
  }
`,ey=jv.div`
  width: 100%;
  flex-direction: column;
  display: flex;
  z-index: 1;

  & > * {
    height: 100%;
  }
`,ty=(jv.div`
  display: flex;
  flex-direction: column;
  padding: 0 1.6rem;
  margin-top: 1rem;

  @media (min-width: 1080px) {
    padding: 0 3rem;
  }
`,jv.div`
  height: 92px;
  width: 92px;
  justify-content: center;
  align-items: center;
  display: flex;

  & svg {
    width: 60%;
    height: 60%;
    animation: IGCoreSpinnerSpin12 1.2s steps(12) infinite;
  }
`),ny=jv.header`
  flex-direction: column;
  display: flex;
`,ry=jv.div`
    width: 100%;
    max-width: 1170px;
    margin: 0 auto;
    align-items: center;
    display: -ms-grid;
    display: grid;
    -ms-grid-columns: 0fr minmax(72%,0fr) 0fr;
    grid-template-columns: 0fr 1fr 0fr;
    grid-template-rows: 1fr;
    padding: 2.2rem 1.6rem 0;

    & button {
        position: relative;
        padding: 7px;
        width: 18px;
        height: 20px;
        ${Zv("initial")}

    }
`,iy=(jv.div`
    display: flex;
    padding: 0 3rem 1rem;
    margin-bottom: 1rem;
    overflow: hidden;
`,jv.section`
  background-size: 110px;
  background-repeat: no-repeat;
  background-position: center;
  height: 28px;

  background-image: url("${({url:e})=>e||"data:image/svg+xml;base64,PHN2ZyBpZD0ibWFyY2EiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2NC4xODgiIGhlaWdodD0iNDAuODc1IiB2aWV3Qm94PSIwIDAgMTY0LjE4OCA0MC44NzUiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICNjMDA7CiAgICAgIH0KCiAgICAgIC5jbHMtMSwgLmNscy0yIHsKICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7CiAgICAgIH0KCiAgICAgIC5jbHMtMiB7CiAgICAgICAgZmlsbDogIzIwMjAyMDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggaWQ9IkZvcm1hXzFfY29waWFyIiBkYXRhLW5hbWU9IkZvcm1hIDEgY29waWFyIiBjbGFzcz0iY2xzLTEiIGQ9Ik00Ny43MTYsMjYuNTIyYTUuOTc4LDUuOTc4LDAsMCwwLC41MjctMi45YzAtLjA5NCwwLTAuNDM3LDAtMC41MjcsMC0yLjYzOS0yLjYzMy00Ljc0LTQuMjItNC43NDctMC41MzIsMC02LjMyOSwwLTYuMzI5LDBMMjcuNDA5LDguMDYxSDQxLjM4NmMzLjEsMCw4LjEuNTYzLDEwLjI4NSw0Ljc0NywwLjkxMiwxLjQ4MiwxLjIwNyw1Ljc2MSwxLjIxMiw3Ljk4NywwLjAyMSwwLjcyNiwwLDUuMzY3LDAsNS43NDdDNTIuMzQsMjYuNTQxLDQ4LjEsMjYuNTIsNDcuNzE2LDI2LjUyMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNi40MDYgLTguMDYzKSIvPgogIDxwYXRoIGlkPSJGb3JtYV8xIiBkYXRhLW5hbWU9IkZvcm1hIDEiIGNsYXNzPSJjbHMtMSIgZD0iTTM2LjY5NCw0OC45MzlMMjYuNjczLDM4LjY1M3MxNi4wNjgsMCwxNi4zNTEsMGMxLjU4MiwwLDQuMjI1LTIuNjM5LDQuMjItNS4yNzQsMC0uMDk0LDAtMC40MzcsMC0wLjUyNywwLTIuNjM5LTIuNjMzLTQuNzQtNC4yMi00Ljc0Ny0wLjUzMiwwLTYuMzI5LDAtNi4zMjksMEwyNi40MDksMTcuODE5SDQzLjAyM2ExMy43NzEsMTMuNzcxLDAsMCwxLDEwLjAyMiw0Ljc0N2M0LjI4NSw0LjU0Nyw0LjQ4Myw4Ljk2Nyw0LjQ4Myw4Ljk2NywwLjAwNSwwLjc2MSwwLDMuNDI4LDAsMy40MjhhMTMuNDUsMTMuNDUsMCwwLDEtMy45NTYsOC45NjdjLTQuNjQ3LDQuNzUzLTguOTcxLDUuMDEtMTAuNTQ5LDUuMDExQzQyLjc1Niw0OC45NCwzNi42OTQsNDguOTM5LDM2LjY5NCw0OC45MzlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYuNDA2IC04LjA2MykiLz4KICA8cGF0aCBpZD0iQnJhY2FlbCIgY2xhc3M9ImNscy0yIiBkPSJNOTEuMzMsMzIuNzExYzAsMi4wMS0xLjQxLDMuMTgtMy43MiwzLjE4SDgyLjk5di02LjUxaDQuNUM4OS43NywyOS4zODEsOTEuMzMsMzAuNjQxLDkxLjMzLDMyLjcxMVptLTAuNTQtOS4wOWMwLDEuOTItMS4zNSwyLjk3LTMuNTcsMi45N0g4Mi45OXYtNS45N2g0LjIzQzg5LjQ0LDIwLjYyMiw5MC43OSwyMS43MzIsOTAuNzksMjMuNjIyWm0zLjk2LDkuNDVhNS4xODUsNS4xODUsMCwwLDAtNC4wMi01LjEsNC44NzgsNC44NzgsMCwwLDAsMy41NC00Ljc3YzAtMi45NC0yLjM0LTUuMzctNi43NS01LjM3SDc5LjU3VjM4LjY4MWg4LjM0QzkyLjE2OSwzOC42ODEsOTQuNzQ5LDM2LjI1MSw5NC43NDksMzMuMDcxWm03LjE0LTMuMDljMC0zLjUxLDEuNTYtNC41Niw0LjA4LTQuNTZoMC44N3YtMy41NGE1LjM4NCw1LjM4NCwwLDAsMC00Ljk1LDIuNjd2LTIuNEg5OC40N1YzOC42ODFoMy40MTl2LTguN1ptNi45NiwwLjM2YzAsNS4xLDMuNDUsOC42MSw3Ljc0LDguNjFhNy4xMTUsNy4xMTUsMCwwLDAsNS43OS0yLjczdjIuNDZoMy40NVYyMi4xNTJoLTMuNDV2Mi40YTcuMDM2LDcuMDM2LDAsMCwwLTUuNzMtMi42N0MxMTIuMywyMS44ODIsMTA4Ljg0OSwyNS4yNDEsMTA4Ljg0OSwzMC4zNDFabTEzLjUzLDAuMDZjMCwzLjU3LTIuNDMsNS41OC01LjAxLDUuNTgtMi41NSwwLTUuMDEtMi4wNy01LjAxLTUuNjRzMi40Ni01LjQ5LDUuMDEtNS40OUMxMTkuOTQ5LDI0Ljg1MSwxMjIuMzc5LDI2Ljg2MSwxMjIuMzc5LDMwLjRabTYuODEsMGMwLDUuMTksMy4zNiw4LjU1LDguMSw4LjU1YTcuNDIzLDcuNDIzLDAsMCwwLDcuNjE5LTUuNDloLTMuNjg5YTMuNzc1LDMuNzc1LDAsMCwxLTMuOTMsMi42MWMtMi43NiwwLTQuNTktMi4wNC00LjU5LTUuNjcsMC0zLjYsMS44My01LjY0LDQuNTktNS42NGEzLjg2MywzLjg2MywwLDAsMSwzLjkzLDIuNjFoMy42ODljLTAuOTI5LTMuNDgtMy41NjktNS40OS03LjYxOS01LjQ5QzEzMi41NDksMjEuODgyLDEyOS4xODksMjUuMjQxLDEyOS4xODksMzAuNFptMTgtLjA2YzAsNS4xLDMuNDUsOC42MSw3Ljc0LDguNjFhNy4xMTQsNy4xMTQsMCwwLDAsNS43ODktMi43M3YyLjQ2aDMuNDVWMjIuMTUyaC0zLjQ1djIuNGE3LjAzNiw3LjAzNiwwLDAsMC01LjcyOS0yLjY3QzE1MC42MzksMjEuODgyLDE0Ny4xODksMjUuMjQxLDE0Ny4xODksMzAuMzQxWm0xMy41MjksMC4wNmMwLDMuNTctMi40Myw1LjU4LTUuMDEsNS41OC0yLjU0OSwwLTUuMDA5LTIuMDctNS4wMDktNS42NHMyLjQ2LTUuNDksNS4wMDktNS40OUMxNTguMjg4LDI0Ljg1MSwxNjAuNzE4LDI2Ljg2MSwxNjAuNzE4LDMwLjRabTE0LjkxLTUuNjRhNC4yOTIsNC4yOTIsMCwwLDEsNC42Miw0LjE3SDE3MS4xQTQuNSw0LjUsMCwwLDEsMTc1LjYyOCwyNC43NjFabTcuNzQsOWgtMy42OWE0LDQsMCwwLDEtMy45LDIuMzEsNC41NDYsNC41NDYsMCwwLDEtNC43MDktNC4zOEgxODMuN2ExMC41NDgsMTAuNTQ4LDAsMCwwLC4xMi0xLjY4LDcuNzA5LDcuNzA5LDAsMCwwLTguMDQtOC4xM2MtNC44ODksMC04LjI0OSwzLjMzLTguMjQ5LDguNTJzMy41MSw4LjU1LDguMjQ5LDguNTVBNy41NTMsNy41NTMsMCwwLDAsMTgzLjM2OCwzMy43NjFabTMuODEsNC45MmgzLjQydi0yMi4yaC0zLjQydjIyLjJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYuNDA2IC04LjA2MykiLz4KPC9zdmc+Cg=="}");
`),oy=jv.button`
  width: 18px;
  height: 18px;
  display: block;
  ${Qv("initial")}
  ${Zv("50%")}
  position: relative;

  @media (min-width: 1080px) {
    display: none;
  }

`,ay=jv.i`
    top: 16px;
    left: 7px;

    &, &::before, &::after {
        position: absolute;
        width: 18px;
        height: 2px;
        -webkit-transition: transform .3s linear, top .3s linear, background .25s linear;
        -o-transition: transform .3s linear, top .3s linear, background .25s linear;
        transition: transform .3s linear, top .3s linear, background .25s linear;
        background: #777777;
    }

    &::before {
        top: 5px;
    }

    &::after {
        top: -5px;
    }

    &::before, &::after {
        content: '';
        left: 0;
    }

    ${({active:e})=>"Pushmenu"===e?"\n    background: none !IMPORTANT;\n\n    &::before, &::after {\n        top: 0;\n    }\n\n    &::before {\n        -webkit-transform: rotate(-45deg);\n        -ms-transform: rotate(-45deg);\n        transform: rotate(-45deg);\n    }\n\n    &::after {\n        -webkit-transform: rotate(45deg);\n        -ms-transform: rotate(45deg);\n        transform: rotate(45deg);\n    }\n\n    ":"\n\n    "}
`;var sy=function(){const{useConn:t,setConn:n}=ig(),{useSwipe:r,setSwipe:i}=og();return e.createElement(ny,null,e.createElement(ry,null,e.createElement("section",null,e.createElement("button",{type:"button",onClick:()=>alert("Por enquanto, não há nada por aqui.")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",viewBox:"0 0 18 20",fill:"#5F6368"},e.createElement("rect",{y:"14",width:"18",height:"3",rx:"1.5",ry:"1.5"}),e.createElement("path",{fillRule:"evenodd",d:"M8,18a2,2,0,0,0,4,0H8Z",transform:"translate(-1)"}),e.createElement("rect",{x:"7",width:"4",height:"6",rx:"2",ry:"2"}),e.createElement("path",{fillRule:"evenodd",d:"M3,14V8s0-5.995,7-6,7,6,7,6v6",transform:"translate(-1)"})))),e.createElement(iy,{url:t.logo}),e.createElement("section",null,e.createElement(oy,{type:"button",onClick:()=>i((e=>!e))},e.createElement(ay,{active:r})))))};const uy="object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g||"object"==typeof n.g&&n.g.GLOBAL===n.g?n.g:{};uy.__REACT_ASYNC__=uy.__REACT_ASYNC__||{};const cy=()=>{};class ly{constructor(){this.abort=cy,this.signal={}}}let hy;try{hy=n(74)}catch(wd){}const fy=hy&&hy.oneOfType([hy.node,hy.func]),dy=hy&&hy.shape({initialValue:hy.any,data:hy.any,error:hy.instanceOf(Error),value:hy.any,startedAt:hy.instanceOf(Date),finishedAt:hy.instanceOf(Date),status:hy.oneOf(["initial","pending","fulfilled","rejected"]),isInitial:hy.bool,isPending:hy.bool,isLoading:hy.bool,isFulfilled:hy.bool,isResolved:hy.bool,isRejected:hy.bool,isSettled:hy.bool,counter:hy.number,promise:hy.instanceOf(Promise),run:hy.func,reload:hy.func,cancel:hy.func,setData:hy.func,setError:hy.func});var py=hy&&{Async:{children:fy,promise:hy.instanceOf(Promise),promiseFn:hy.func,deferFn:hy.func,watch:hy.any,watchFn:hy.func,initialValue:hy.any,onResolve:hy.func,onReject:hy.func,reducer:hy.func,dispatcher:hy.func,debugLabel:hy.string,suspense:hy.bool},Initial:{children:fy,state:dy.isRequired,persist:hy.bool},Pending:{children:fy,state:dy.isRequired,initial:hy.bool},Fulfilled:{children:fy,state:dy.isRequired,persist:hy.bool},Rejected:{children:fy,state:dy.isRequired,persist:hy.bool},Settled:{children:fy,state:dy.isRequired,persist:hy.bool}};const my=(e,...t)=>"function"==typeof e?e(...t):e,gy=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isInitial||n&&!r.data?my(t,r):null),vy=({children:t,initial:n,state:r={}})=>e.createElement(e.Fragment,null,!r.isPending||n&&r.value?null:my(t,r)),yy=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isFulfilled||n&&r.data?my(t,r.data,r):null),by=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isRejected||n&&r.error?my(t,r.error,r):null),wy=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isSettled||n&&r.value?my(t,r):null);var _y;py&&(gy.propTypes=py.Initial,vy.propTypes=py.Pending,yy.propTypes=py.Fulfilled,by.propTypes=py.Rejected,wy.propTypes=py.Settled),function(e){e.initial="initial",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"}(_y||(_y={}));const Ey=(e,t)=>e instanceof Error?_y.rejected:void 0!==e?_y.fulfilled:t?_y.pending:_y.initial,Iy=e=>({status:e,isInitial:e===_y.initial,isPending:e===_y.pending,isLoading:e===_y.pending,isFulfilled:e===_y.fulfilled,isResolved:e===_y.fulfilled,isRejected:e===_y.rejected,isSettled:e===_y.fulfilled||e===_y.rejected}),Cy=function(){};Object.setPrototypeOf?Object.setPrototypeOf(Cy,Promise):Cy.__proto__=Promise,Cy.prototype=Object.assign(Object.create(Promise.prototype),{finally(){return this},catch(){return this},then(){return this}});const Ty=new Cy;var Sy;!function(e){e.start="start",e.cancel="cancel",e.fulfill="fulfill",e.reject="reject"}(Sy||(Sy={}));const xy=({initialValue:e,promise:t,promiseFn:n})=>({initialValue:e,data:e instanceof Error?void 0:e,error:e instanceof Error?e:void 0,value:e,startedAt:t||n?new Date:void 0,finishedAt:e?new Date:void 0,...Iy(Ey(e,t||n)),counter:0,promise:Ty}),ky=(e,t)=>{switch(t.type){case Sy.start:return{...e,startedAt:new Date,finishedAt:void 0,...Iy(_y.pending),counter:t.meta.counter,promise:t.meta.promise};case Sy.cancel:return{...e,startedAt:void 0,finishedAt:void 0,...Iy((n=e.error||e.data,n instanceof Error?_y.rejected:void 0!==n?_y.fulfilled:_y.initial)),counter:t.meta.counter,promise:t.meta.promise};case Sy.fulfill:return{...e,data:t.payload,value:t.payload,error:void 0,finishedAt:new Date,...Iy(_y.fulfilled),promise:t.meta.promise};case Sy.reject:return{...e,error:t.payload,value:t.payload,finishedAt:new Date,...Iy(_y.rejected),promise:t.meta.promise};default:return e}var n},Ny=e=>(t,...n)=>{e(t,...n),t.type===Sy.start&&"function"==typeof t.payload&&t.payload()};e.Component,function(t={},n="Async"){const{Consumer:r,Provider:i}=e.createContext(void 0);function o({children:t}){return e.createElement(r,null,(e=>{if(!e)throw new Error("this component should only be used within an associated <Async> component!");return t(e)}))}class a extends e.Component{constructor(e){super(e),this.mounted=!1,this.counter=0,this.args=[],this.promise=Ty,this.abortController=new ly,this.start=this.start.bind(this),this.load=this.load.bind(this),this.run=this.run.bind(this),this.cancel=this.cancel.bind(this),this.onResolve=this.onResolve.bind(this),this.onReject=this.onReject.bind(this),this.setData=this.setData.bind(this),this.setError=this.setError.bind(this);const n=e.promise,r=e.promiseFn||t.promiseFn,i=e.initialValue||t.initialValue;this.state={...xy({initialValue:i,promise:n,promiseFn:r}),cancel:this.cancel,run:this.run,reload:()=>{this.load(),this.run(...this.args)},setData:this.setData,setError:this.setError},this.debugLabel=e.debugLabel||t.debugLabel;const{devToolsDispatcher:o}=uy.__REACT_ASYNC__,a=e.reducer||t.reducer,s=e.dispatcher||t.dispatcher||o,u=a?(e,t)=>a(e,t,ky):ky,c=Ny(((e,t)=>{this.setState((t=>u(t,e)),t)}));this.dispatch=s?t=>s(t,c,e):c}componentDidMount(){this.mounted=!0,!this.props.promise&&this.state.initialValue||this.load()}componentDidUpdate(e){const{watch:n,watchFn:r=t.watchFn,promise:i,promiseFn:o}=this.props;return n!==e.watch||r&&r({...t,...this.props},{...t,...e})?(this.counter&&this.cancel(),this.load()):i!==e.promise&&(this.counter&&this.cancel(),i)||o!==e.promiseFn&&(this.counter&&this.cancel(),o)?this.load():void 0}componentWillUnmount(){this.cancel(),this.mounted=!1}getMeta(e){return{counter:this.counter,promise:this.promise,debugLabel:this.debugLabel,...e}}start(e){return"AbortController"in uy&&(this.abortController.abort(),this.abortController=new uy.AbortController),this.counter++,this.promise=new Promise(((t,n)=>{this.mounted&&this.dispatch({type:Sy.start,payload:()=>e().then(t,n),meta:this.getMeta()})}))}load(){const e=this.props.promise,n=this.props.promiseFn||t.promiseFn;if(e)this.start((()=>e)).then(this.onResolve(this.counter)).catch(this.onReject(this.counter));else if(n){const e={...t,...this.props};this.start((()=>n(e,this.abortController))).then(this.onResolve(this.counter)).catch(this.onReject(this.counter))}}run(...e){const n=this.props.deferFn||t.deferFn;if(n){this.args=e;const r={...t,...this.props};return this.start((()=>n(e,r,this.abortController))).then(this.onResolve(this.counter),this.onReject(this.counter))}}cancel(){const e=this.props.onCancel||t.onCancel;e&&e(),this.counter++,this.abortController.abort(),this.mounted&&this.dispatch({type:Sy.cancel,meta:this.getMeta()})}onResolve(e){return n=>{if(this.counter===e){const e=this.props.onResolve||t.onResolve;this.setData(n,(()=>e&&e(n)))}return n}}onReject(e){return n=>{if(this.counter===e){const e=this.props.onReject||t.onReject;this.setError(n,(()=>e&&e(n)))}return n}}setData(e,t){return this.mounted&&this.dispatch({type:Sy.fulfill,payload:e,meta:this.getMeta()},t),e}setError(e,t){return this.mounted&&this.dispatch({type:Sy.reject,payload:e,error:!0,meta:this.getMeta()},t),e}render(){const{children:t,suspense:n}=this.props;if(n&&this.state.isPending&&this.promise!==Ty)throw this.promise;if("function"==typeof t){const n=t;return e.createElement(i,{value:this.state},n(this.state))}return null!=t?e.createElement(i,{value:this.state},t):null}}py&&(a.propTypes=py.Async);const s=t=>e.createElement(o,null,(n=>e.createElement(gy,Object.assign({},t,{state:n})))),u=t=>e.createElement(o,null,(n=>e.createElement(vy,Object.assign({},t,{state:n})))),c=t=>e.createElement(o,null,(n=>e.createElement(yy,Object.assign({},t,{state:n})))),l=t=>e.createElement(o,null,(n=>e.createElement(by,Object.assign({},t,{state:n})))),h=t=>e.createElement(o,null,(n=>e.createElement(wy,Object.assign({},t,{state:n}))));s.displayName=`${n}.Initial`,u.displayName=`${n}.Pending`,c.displayName=`${n}.Fulfilled`,l.displayName=`${n}.Rejected`,h.displayName=`${n}.Settled`,Object.assign(a,{displayName:n,Initial:s,Pending:u,Loading:u,Fulfilled:c,Resolved:c,Rejected:l,Settled:h})}(),Error;var Ay=e.useEffect?function(t,n){const r="function"==typeof t?{...n,promiseFn:t}:t,i=(0,e.useRef)(0),o=(0,e.useRef)(!0),a=(0,e.useRef)(void 0),s=(0,e.useRef)(r),u=(0,e.useRef)(Ty),c=(0,e.useRef)(new ly),{devToolsDispatcher:l}=uy.__REACT_ASYNC__,{reducer:h,dispatcher:f=l}=r,[d,p]=(0,e.useReducer)(h?(e,t)=>h(e,t,ky):ky,r,xy),m=(0,e.useCallback)(f?e=>f(e,Ny(p),s.current):Ny(p),[f]),{debugLabel:g}=r,v=(0,e.useCallback)((e=>({counter:i.current,promise:u.current,debugLabel:g,...e})),[g]),y=(0,e.useCallback)(((e,t=cy)=>(o.current&&(m({type:Sy.fulfill,payload:e,meta:v()}),t()),e)),[m,v]),b=(0,e.useCallback)(((e,t=cy)=>(o.current&&(m({type:Sy.reject,payload:e,error:!0,meta:v()}),t()),e)),[m,v]),{onResolve:w,onReject:_}=r,E=(0,e.useCallback)((e=>t=>e===i.current&&y(t,(()=>w&&w(t)))),[y,w]),I=(0,e.useCallback)((e=>t=>e===i.current&&b(t,(()=>_&&_(t)))),[b,_]),C=(0,e.useCallback)((e=>("AbortController"in uy&&(c.current.abort(),c.current=new uy.AbortController),i.current++,u.current=new Promise(((t,n)=>{o.current&&m({type:Sy.start,payload:()=>e().then(t,n),meta:v()})})))),[m,v]),{promise:T,promiseFn:S,initialValue:x}=r,k=(0,e.useCallback)((()=>{const e=x&&0===i.current;T?C((()=>T)).then(E(i.current)).catch(I(i.current)):S&&!e&&C((()=>S(s.current,c.current))).then(E(i.current)).catch(I(i.current))}),[C,T,S,x,E,I]),{deferFn:N}=r,A=(0,e.useCallback)(((...e)=>{N&&(a.current=e,C((()=>N(e,s.current,c.current))).then(E(i.current)).catch(I(i.current)))}),[C,N,E,I]),D=(0,e.useCallback)((()=>{a.current?A(...a.current):k()}),[A,k]),{onCancel:M}=r,L=(0,e.useCallback)((()=>{M&&M(),i.current++,c.current.abort(),o.current&&m({type:Sy.cancel,meta:v()})}),[M,m,v]),{watch:O,watchFn:P}=r;if((0,e.useEffect)((()=>{P&&s.current&&P(r,s.current)&&(s.current=r,k())})),(0,e.useEffect)((()=>{s.current=r}),[r]),(0,e.useEffect)((()=>{i.current&&L(),(T||S)&&k()}),[T,S,O]),(0,e.useEffect)((()=>()=>{o.current=!1}),[]),(0,e.useEffect)((()=>()=>L()),[]),(0,e.useDebugValue)(d,(({status:e})=>`[${i.current}] ${e}`)),r.suspense&&d.isPending&&u.current!==Ty)throw u.current;return(0,e.useMemo)((()=>({...d,run:A,reload:D,cancel:L,setData:y,setError:b})),[d,A,D,L,y,b])}:()=>{throw new Error("useAsync requires React v16.8 or up. Upgrade your React version or use the <Async> component instead.")};const Dy=jv.div`
  padding: 1.6rem;
`,My=jv.div`
  width: 100%;
  display: flex;
  box-shadow: rgba(0,0,0,0.1) 0px 0px 7px 1px;
  background-color: rgb(255, 255, 255);
  overflow: hidden;
  padding: 1.2rem 1.6rem;
  position: relative;
  min-height: 134px;

  ${Qv(4)}

  &:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,Ly=jv.div`
  width: 100%;
  max-width: 30%;
  min-width: 82px;
  max-height: 88%;
  margin: auto 0;
  overflow: hidden;
  display: flex;
  align-items: center;
  background-size: cover;
  background-position: center center;
  background-color: rgb(232, 232, 232);
  position: relative;

  ${Qv(3)}

  & img {
    float: left;
  }
`,Oy=jv.div`
  width: 100%;
  display: inline-grid;
  flex-direction: column;
  align-items: baseline;
  justify-content: space-between;
  margin-right: 1.6rem;

  & > * {
    width: 100%;
  }

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }

  & h4 {
    font-weight: 600;
    font-size: 2rem;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  & span:not(:last-child) {
    margin-right: 1rem;
  }
`,Py=jv.div`
  display: -webkit-box;
  max-width: 200px;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
`,Ry=jv.div`
  display: flex;
  align-items: center;
`,jy=jv.span`
  font-weight: 900;
  color: #dc2020;
`,Fy=jv.button`
  inset: 0px;
  z-index: 1;
  width: 100%;
  height: 100%;
  position: absolute;
`,Uy=jv.span`
  color: #cc5a5a;
  box-shadow: inset rgb(181 0 0 / 47%) 0px 0px 0px 1px;
  font-size: 1.4rem;
  padding: 0.4rem 1rem;
  display: inline-flex;
  position: relative;
  border-radius: 3px;
`;var zy=function({data:t}){return e.createElement(Ly,{style:{backgroundImage:"url("+t+")"}},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"100%",width:"100%",alt:""}))},By=n(988);const Vy=jv.div`
  margin-bottom: ${({marginBottom:e})=>"number"==typeof e?`${e}px`:e};
  margin-left: ${({marginLeft:e})=>"number"==typeof e?`${e}px`:e};
  margin-right: ${({marginRight:e})=>"number"==typeof e?`${e}px`:e};

  width: ${({width:e})=>"number"==typeof e?`${e}px`:e};
  max-width: ${({maxWidth:e})=>"number"==typeof e?`${e}px`:e};
  min-width: ${({minWidth:e})=>"number"==typeof e?`${e}px`:e};
  height: ${({height:e})=>"number"==typeof e?`${e}px`:e};
  max-height: ${({maxHeight:e})=>"number"==typeof e?`${e}px`:e};
  min-height: ${({minHeight:e})=>"number"==typeof e?`${e}px`:e};

  display: ${({displayFlex:e})=>e&&"flex"};

  justify-content: ${({justifyContent:e})=>e&&e};
  align-items: ${({alignItems:e})=>e&&e};
  flex-direction: ${({flexDirection:e})=>e&&e};

  & > * {
    width: ${({widthChild:e})=>e&&"number"==typeof e?`${e}px`:e};
    height: ${({heightChild:e})=>e&&"number"==typeof e?`${e}px`:e};
  }

  & > *:not(:last-child) {
    margin-top: ${({spaceTopChild:e})=>e&&e};
    margin-right: ${({spaceRightChild:e})=>e&&e};
    margin-left: ${({spaceLeftChild:e})=>e&&e};
    margin-bottom: ${({spaceBottomChild:e})=>e&&e};
  }

  & > * {
    display: flex;
  }

  & * {
    float: ${({floatChild:e})=>e&&e};
  }
`;jv.div`
  display: flex;
`;var qy=function(){return e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left",maxWidth:"30%",minWidth:"82px",maxHeight:"88%",widthChild:"100%",heightChild:"94px",style:{width:"100%"}},e.createElement(By.ZP,{width:"100%",height:"100%"}))};const Gy="data:image/svg+xml;base64,PHN2ZyBpZD0iQWdydXBhcl8xIiBkYXRhLW5hbWU9IkFncnVwYXIgMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjUwIiBoZWlnaHQ9IjI1MCIgdmlld0JveD0iMCAwIDI1MCAyNTAiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICNjNWM1YzU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiwgLmNscy0zIHsKICAgICAgICBmaWxsOiAjZmZmOwogICAgICB9CgogICAgICAuY2xzLTMgewogICAgICAgIGZpbGwtcnVsZTogZXZlbm9kZDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHJlY3QgaWQ9IlJldMOibmd1bG9fMSIgZGF0YS1uYW1lPSJSZXTDom5ndWxvIDEiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjI1MCIgaGVpZ2h0PSIyNTAiLz4KICA8Y2lyY2xlIGlkPSJFbGlwc2VfMSIgZGF0YS1uYW1lPSJFbGlwc2UgMSIgY2xhc3M9ImNscy0yIiBjeD0iMTI1IiBjeT0iMTAzIiByPSI1NyIvPgogIDxwYXRoIGlkPSJGb3JtYV8xIiBkYXRhLW5hbWU9IkZvcm1hIDEiIGNsYXNzPSJjbHMtMyIgZD0iTTMxLDI1MHM0LjE1Mi03Ny4yMzIsNjktOTljMS42NjQtLjA0NCw0Ny40MDYtMC4wMDcsNTAsMCwzNy41MTEsOC4yODUsNzAuMTUxLDYxLjM3NSw2OSw5OUMyMTUuNzY5LDI0OS45MDUsMzEsMjUwLDMxLDI1MFoiLz4KPC9zdmc+Cg==",Wy=async({thumb:e,useWhere:t},{signal:n})=>{const[r]=e;return await(async(e,t)=>{const{image_name:n,image_size:r,image_format:i}=e;return await em().ref(`/${t}/products/thumbs`).child(n+"_320x320.jpeg").getDownloadURL().then((function(e){return async function(e){const t=new Image;return t.src=e,await t.decode(),t.src}(e)}),(function(e){return Gy})).catch((e=>Gy))})(r,t)};var Hy=function({thumb:t}){const{useWhere:n,setWhere:r}=ug(),{data:i,error:o}=Ay({promiseFn:Wy,thumb:t,useWhere:n});return o?o.message:i?e.createElement(zy,{data:i}):e.createElement(qy,null)},Yy=function({data:t}){const n=Gm(),r=t[0],{category:i,status:o,description:a,extra:s,favorite:u,grams:c,price:l,published:h,purchase:f,thumb:d=[],title:p,weight:m}=t[1];return e.createElement(My,null,e.createElement(Oy,null,e.createElement("h4",null,p),a?e.createElement(Py,null,a):null,e.createElement(Ry,null,e.createElement(jy,null,Number(l).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),403===o?e.createElement(Uy,null,"Indisponível"):null)),d.length?e.createElement(Hy,{thumb:d}):e.createElement(qy,null),403!==o?e.createElement(Fy,{type:"button",onClick:()=>n.push(`/p/${r}`)}):null)};const Ky=jv.section`
  margin: 1rem 4rem;
  padding: 2.2rem 1.6rem 0;
  text-align: center;

  & div {
    text-align: center;
  }

  & div:last-child {
    margin-top: 12px;
  }
`,Qy=jv.section`
  margin-bottom: 1.6rem;
  font-family: var(--font-lato);
  display: block;
  padding: 1rem 1.8rem;
  text-align: center;

  & > div {
    display: inline-block;
    line-height: 16px;
    padding: 4px;

    & button:hover {
        text-decoration: underline;
    }
  }
`,Zy=jv.div`
  padding: 1.6rem;
  margin-top: 1rem;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,Jy=jv.div`
  clear: both;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,$y=jv.div`
  clear: both;
`,Xy=jv.span`
  font-size: 2.4rem;
  font-weight: 100;
`,eb=jv.div`
  clear: both;
`,tb=jv.div`
  display: flex;
  justify-content: center;
  padding-top: 1rem;
`,nb=jv.button`
  font-weight: 600;
  text-transform: lowercase;
  font-family: var(--font-poopins);
  padding: 0.8rem 1.2rem;
  color: #cc0000;
  display: flex;
  flex-direction: column;

  border-left: 1px solid #cc0000;
  background: linear-gradient(90deg, #cc0000, rgba(255,255,255,0)) 0px 0px / 100% 1px no-repeat;
  position: relative;

  & small {
    font-weight: 100;
  }

  &::after {
    content: "";
    position: absolute;
    bottom: 0px;
    left: 0px;
    height: 1px;
    width: 60%;
    background: linear-gradient(9deg, #cc0000, rgba(255,255,255,0));
  }
`;var rb=function({id:t,data:n}){const r=Gm();return e.createElement(Jy,{"data-section":t},e.createElement($y,null,e.createElement(Xy,null,lg.category_names[t])),e.createElement(eb,null,Object.entries(n).filter((e=>e[1].category===t&&(200===e[1].status||403===e[1].status))).sort(((e,t)=>e[1].published<t[1].published?1:t[1].published<e[1].published?-1:0)).filter(((e,t)=>t<5)).map((t=>e.createElement(Yy,{key:t[0],data:t})))),Object.entries(n).filter((e=>200===e[1].status||403===e[1].status)).filter((e=>e[1].category===t)).length>5?e.createElement(tb,null,e.createElement(nb,{type:"button",onClick:()=>r.push(lg.category_routers[t])},e.createElement("span",null,lg.category_names[t]),e.createElement("small",null,"Mostrar tudo sobre"))):null)};const ib=jv.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 2rem 1.6rem;
`,ob=jv.h2`
  font-size: 3rem;
  font-weight: 500;
`,ab=jv.span`
  text-transform: uppercase;
  transition: box-shadow 0.3s ease 0s, color 0.3s ease 0s;
  white-space: nowrap;
  border-style: solid;
  align-items: center;
  display: flex;
  padding: 0.9rem 1.2rem 0.8rem;
  font-weight: 900;
  border-width: 2px;

  color: ${({status:e})=>e?"#39ce6d":"#f13636"};

  ${Qv(3)}
`;var sb=function({configGlobal:t}){const{name_content:n}=t,{useConn:r,setConn:i}=ig(),{status:o=!1}=r;return e.createElement(ib,null,e.createElement(ob,null,n),e.createElement(ab,{status:o},o?"Delivery aberto!":"Delivery fechado!"))};const ub=jv.div`
  width: 100%;
  overflow-y: hidden;
  overflow-x: scroll;
  white-space: nowrap;
  user-select: none;
  position: relative;

  background: #fff;
  position: -webkit-sticky;
  position: -webkit-sticky;
  position: sticky;
  top: 0;
  z-index: 2;

  &, & * {
    transition: all .15s ease-in-out;
  }

  & > *:first-child {
    margin-left: 2.5rem;
  }

  & > * {
    margin-right: 2.5rem;
  }

  &.active, &.active button {
    cursor: grabbing;
  }
`,cb=jv.button`
  color: #999;
  padding: 1.5rem 1.25rem;
  font-weight: 600;
  font-size: 1.8rem;
  position: relative;

  max-width: initial !IMPORTANT;
  min-width: initial !IMPORTANT;

  &::after {
    content: "";
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }

  ${({status:e})=>e&&"\n    color: #ea1d2c!important;\n\n    &::after {\n      border-bottom: 2px solid #ea1d2c!important;\n    }\n  "}

  &:hover {

    &::after {
      border-bottom: 2px solid #999;
    }
  }

  &:active {
    background: #ea1d2c14;
  }
`;var lb=function({id:t,screenRef:n,useMenuId:r,setMenuId:i}){return e.createElement(cb,{type:"button",status:r===t,onClick:e=>(e=>{const r=n.current.querySelector('[data-section="'+t+'"]').offsetTop-80;Kv(0,r,400,n.current)})()},lg.category_names[t])},hb=function({data:t,screenRef:n,swipeRef:r,useMenuId:i,setMenuId:o}){const[a,s]=(0,e.useState)({isDown:!1}),{isDown:u,startX:c,scrollLeft:l,active:h}=a;return e.createElement(ub,{draggable:"true",ref:r,onMouseDown:e=>{s((t=>Object({...t,isDown:!0,active:!0,scrollLeft:r.current.scrollLeft,startX:e.pageX-r.current.offsetLeft}))),h||r.current.classList.add("active")},onMouseLeave:e=>{s((e=>Object({...e,active:!1,isDown:!1}))),h&&r.current.classList.remove("active")},onMouseUp:e=>{s((e=>Object({...e,active:!1,isDown:!1}))),h&&r.current.classList.remove("active")},onMouseMove:e=>{const t=1.25*(e.pageX-r.current.offsetLeft-c);e.preventDefault(),u&&u&&(r.current.scrollLeft=l-t)}},Object.keys(lg.category_names).filter((e=>!!Object.entries(t).filter((e=>200===e[1].status||403===e[1].status)).filter((t=>t[1].category===e)).length)).map((t=>e.createElement(lb,{key:t,id:t,screenRef:n,useMenuId:i,setMenuId:o}))))},fb=function({data:t,configGlobal:n,screenRef:r,swipeRef:i,useMenuId:o,setMenuId:a}){return e.createElement(e.Fragment,null,e.createElement(sb,{configGlobal:n}),e.createElement(hb,{data:t,screenRef:r,swipeRef:i,useMenuId:o,setMenuId:a}),e.createElement(Zy,null,Object.keys(lg.category_names).filter((e=>!!Object.entries(t).filter((e=>200===e[1].status||403===e[1].status)).filter((t=>t[1].category===e)).length)).map((n=>e.createElement(rb,{key:n,id:n,data:t})))))},db=function(){const{useConn:t,setConn:n}=ig(),{status:r=!1}=t;return e.createElement(ib,null,e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left",style:{height:"35px"}},e.createElement(By.ZP,{width:114,height:18})),e.createElement(By.yB,{highlightColor:r?"#39ce6d":"#f13636"},e.createElement(Vy,{displayFlex:!0,floatChild:"left"},e.createElement(By.ZP,{width:r?136:147,height:35}))))},pb=function({data:t}){const[n,r]=t;return e.createElement(Vy,{alignItems:"center",floatChild:"left",style:{height:"45px",display:"inline-flex"}},e.createElement(By.ZP,{width:10*r.length,height:10}))},mb=function({swipeRef:t}){return e.createElement(ub,{draggable:"true",ref:t},Object.entries(lg.category_names).map((t=>e.createElement(pb,{key:t[0],data:t}))))},gb=function({data:t,i:n}){const{title:r,unavailable:i,description:o}=t;return e.createElement(My,null,e.createElement(Oy,null,e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left",style:{height:"25px"}},e.createElement(By.ZP,{width:r,height:12})),o?e.createElement(Vy,{displayFlex:!0,flexDirection:"column",spaceBottomChild:"1rem",floatChild:"left",style:{height:"54px"}},e.createElement(By.ZP,{width:175,height:9}),e.createElement(By.ZP,{width:168,height:9}),e.createElement(By.ZP,{width:61,height:9})):null,e.createElement(Vy,{displayFlex:!0,alignItems:"center",spaceRightChild:"1rem",floatChild:"left"},e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left",style:{height:"18px"}},e.createElement(By.ZP,{width:50,height:12})),i?e.createElement(By.yB,{highlightColor:"#dc2020"},e.createElement(Vy,{displayFlex:!0,floatChild:"left",widthChild:"100%",style:{width:"84px"}},e.createElement(By.ZP,{width:84,height:24}))):null)),e.createElement(qy,null))},vb=function(){return e.createElement(Jy,null,e.createElement($y,null,e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left",style:{height:"29px"}},e.createElement(By.ZP,{width:120,height:14}))),e.createElement(eb,null,[{title:168,unavailable:!1,description:!0},{title:128,unavailable:!0,description:!0},{title:78,unavailable:!1,description:!0},{title:94,unavailable:!1,description:!0},{title:102,unavailable:!1,description:!0},{title:134,unavailable:!1,description:!0}].filter(((e,t)=>t<5)).map(((t,n)=>e.createElement(gb,{key:n,data:t,i:n})))),e.createElement(tb,null,1&parseInt(7*Math.random())?e.createElement(By.yB,{highlightColor:"#dc2020"},e.createElement(Vy,{displayFlex:!0,floatChild:"left"},e.createElement(By.ZP,{width:122,height:47,style:{borderRadius:0}}))):null))},yb=function({swipeRef:t}){return e.createElement(e.Fragment,null,e.createElement(db,null),e.createElement(mb,{swipeRef:t}),e.createElement(Zy,null,Object.keys(lg.category_names).map((t=>e.createElement(vb,{key:t})))))};const bb=async({useWhere:e},{signal:t})=>await tm().httpsCallable("getPosts")({where:`${e}/feed`}).then((e=>e.data));var wb=function({configGlobal:t,screenRef:n,swipeRef:r,useMenuId:i,setMenuId:o}){const{useWhere:a,setWhere:s}=ug(),{data:u,error:c}=Ay({promiseFn:bb,useWhere:a});return c?c.message:u?e.createElement(fb,{data:u,configGlobal:t,screenRef:n,swipeRef:r,useMenuId:i,setMenuId:o}):e.createElement(yb,{swipeRef:r})};const _b=jv.nav`
    width: 100%;
    background: #fff;
    border-top-color: rgba(0, 0, 0, 0.15);
    box-shadow: 1px 0 0 1px rgba(0, 0, 0, 0.03);
    border-top-style: solid;
    border-top-width: 1px;
    padding: 0 2rem;
    display: flex;
    min-height: 48px;
    max-height: 48px;

    @media (min-width: 1081px) {
        display: none;
    }

    & li:not(:last-child) {
        margin-right: 1.6rem;
    }

    & li {
        width: 100%;
        align-items: center;
        justify-content: center;
        display: flex;

        & button {
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            align-items: center;
            width: 38px;
            height: 38px;

            & svg {
                margin-top: 2px;
            }
        }
    }
`,Eb=jv.button`
    position: relative;

    ${({active:e})=>e&&"\n        & svg {\n            fill: #000000;\n        }\n    "}

    & small {
        color: #5F6368;
        white-space: nowrap;
    }
`,Ib=jv.div`
    position: absolute;
    width: 32px;
    height: 32px;
    background-color: rgba(255, 255, 255, 0);
    margin-left: auto;
    margin-right: auto;
    z-index: 1;
`,Cb=jv.div`
    position: absolute;
    height: 100%;
    width: 100%;
    animation: shake 3s ease-out 0;
    animation-iteration-count: infinite;
    animation-fill-mode: both;

    & > div:nth-child(1) {
        position: absolute;
        top: 12%;
        left: -17%;
        width: 80%;
        height: 80%;
        background-color: #ef5a00;
        transform: scaleX(0.8) rotate(45deg);
        border-radius: 0 40% 60% 40%;
        filter: drop-shadow(0 0 10px #d43322);
    }

    & > div:nth-child(2) {
        position: absolute;
        top: 10%;
        left: 20%;
        width: 10%;
        height: 10%;
        background-color: #ef5a00;
        border-radius: 50%;
        filter: drop-shadow(0 0 10px #d43322);
        animation: particleUp 3s infinite ease-out 0;
        animation-fill-mode: both;
    }
`,Tb=jv.div`
    position: absolute;
    height: 100%;
    width: 100%;
    animation: scaleUpDown 3s ease-out;
    animation-iteration-count: infinite;
    animation-fill-mode: both;
    z-index: 1;
    opacity: .9;

    & > div:nth-child(1) {
        position: absolute;
        top: 5%;
        width: 100%;
        height: 100%;
        background-image: radial-gradient(farthest-corner at 10px 0, #d43300 0%, #ef5a00 70%);
        transform: scaleX(0.8) rotate(45deg);
        border-radius: 0 40% 60% 40%;
        filter: drop-shadow(0 0 10px #d43322);
    }

    & > div:nth-child(2) {
        position: absolute;
        top: 60%;
        left: 45%;
        width: 10px;
        height: 10px;
        background-color: #ef5a00;
        border-radius: 50%;
        filter: drop-shadow(0 0 10px #d43322);
        animation: particleUp 1.7s ease-out 0;
        animation-iteration-count: infinite;
        animation-fill-mode: both;
    }
`,Sb=jv.div`
    height: 100%;
    width: 100%;
    position: absolute;
    animation: shake 2s ease-out 0;
    animation-iteration-count: infinite;
    animation-fill-mode: both;

    & > div:nth-child(1) {
        position: absolute;
        top: 12%;
        right: -17%;
        width: 80%;
        height: 80%;
        background-color: #ef5a00;
        transform: scaleX(0.8) rotate(45deg);
        border-radius: 0 40% 60% 40%;
        filter: drop-shadow(0 0 10px #d43322);
    }

    & > div:nth-child(2) {
        position: absolute;
        top: 45%;
        left: 50%;
        width: 15px;
        height: 15px;
        background-color: #ef5a00;
        transform: scaleX(0.8) rotate(45deg);
        border-radius: 50%;
        filter: drop-shadow(0 0 10px #d43322);
        animation: particleUp 2s ease-out 0;
        animation-iteration-count: infinite;
        animation-fill-mode: both;
    }
`,xb=jv.div`

    & > div:nth-child(1) {
        position: absolute;
        top: 30%;
        left: 20%;
        width: 75%;
        height: 75%;
        background-color: #ff7800;
        transform: scaleX(0.8) rotate(45deg);
        border-radius: 0 40% 100% 40%;
        filter: blur(10px);
        animation: glow 2s ease-out 0;
        animation-iteration-count: infinite;
        animation-fill-mode: both;
    }

`,kb=jv.span`
    background: #c00;
    color: #fff;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    text-align: center;
    position: absolute;
    font-size: 1.3rem;
    line-height: 2.2rem;
    font-style: normal;
    z-index: 1;
    top: -2px;
    right: -2px;
`;var Nb=function(){const{useCart:t,setCart:n}=sg();return Object.keys(t).length?e.createElement(kb,null,Object.entries(t).map((e=>{const{amount:t=1}=e[1];return t})).reduce(((e,t)=>e+t),0)):null},Ab=function(){const{pathname:t}=Wm(),n=Gm(),{useBag:r,setBag:i}=ag(),o=e=>{t!==e&&n.push(e)};return e.createElement(_b,null,e.createElement("li",null,e.createElement(Eb,{active:"/"===t,type:"button",onClick:()=>o("/")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 16",fill:"#5F6368"},e.createElement("path",{fillRule:"evenodd",d:"M3,17V10H0L9,1l9,9H15v7H11V13H7v4H3Z",transform:"translate(0 -1)"})),e.createElement("small",null,"Início"))),e.createElement("li",null,e.createElement(Eb,{active:"/entregas"===t,type:"button",onClick:()=>o("/entregas")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 16 16",fill:"#5F6368"},e.createElement("path",{d:"m8 0c-4.41113 0-8 3.58887-8 8s3.58887 8 8 8 8-3.58887 8-8-3.58887-8-8-8zm1.41455 10.8286-2.41455-2.41455v-4.41406h2v3.58594l1.82861 1.82861z"})),e.createElement("small",null,"Entregas"))),e.createElement("li",null,e.createElement(Eb,{active:!1,type:"button",onClick:()=>o("/destaque")},e.createElement(Ib,null,e.createElement(Cb,null,e.createElement("div",null),e.createElement("div",null)),e.createElement(Tb,null,e.createElement("div",null),e.createElement("div",null)),e.createElement(Sb,null,e.createElement("div",null),e.createElement("div",null)),e.createElement(xb,null,e.createElement("div",null))))),e.createElement("li",null,e.createElement(Eb,{active:!1,type:"button",onClick:()=>i(!0)},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"#5F6368"},e.createElement("path",{fillRule:"evenodd",d:"M14,18H4a2,2,0,0,1-2-2L3,6A2,2,0,0,1,5,4a4,4,0,1,1,8,0,2,2,0,0,1,2,2l1,10A2,2,0,0,1,14,18ZM9,2A2,2,0,0,0,7,4h4A2,2,0,0,0,9,2Z"})),e.createElement("small",null,"Sacola"),e.createElement(Nb,null))),e.createElement("li",null,e.createElement(Eb,{active:"/bairros"===t,type:"button",onClick:()=>o("/bairros")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 512 512",fill:"#5F6368"},e.createElement("g",null,e.createElement("path",{d:"M256,0c-56.32,0-102.4,46.08-102.4,102.4c0,76.8,102.4,204.8,102.4,204.8s102.4-128,102.4-204.8 C358.4,46.08,312.32,0,256,0z M256,153.6c-28.16,0-51.2-23.04-51.2-51.2c0-28.16,23.04-51.2,51.2-51.2s51.2,23.04,51.2,51.2 C307.2,130.56,284.16,153.6,256,153.6z"})),e.createElement("g",null,e.createElement("path",{d:"M384,204.8l-12.8,2.56c-25.6,51.2-58.88,99.84-76.8,128l-40.96,61.44l-40.96-61.44c-17.92-28.16-51.2-76.8-76.8-128 L128,204.8L0,256v256l128-51.2L256,512l128-51.2L512,512V256L384,204.8z"}))),e.createElement("small",null,"Bairros"))))},Db=function(){const t=Gm(),n=(0,e.useRef)(null),r=(0,e.useRef)(null),[i,o]=(0,e.useState)(!!n.current&&n.current.scrollTop),[a,s]=(0,e.useState)("001"),u=function(t,n){const r=(0,e.useRef)(null);return function(...e){clearTimeout(r.current),r.current=setTimeout((()=>{t(...e)}),n)}}((e=>{let t=0;const n=e.querySelectorAll("[data-section]"),r=e=>Object({scrollHeight:e.scrollHeight,offsetTop:e.offsetTop,offsetBottom:e.offsetTop+e.offsetHeight,offsetHeight:e.offsetHeight,id:e.dataset.section}),i=e.scrollTop+120;for(;t<n.length;){const{scrollHeight:e,offsetTop:o,offsetBottom:a,offsetHeight:u,id:c}=r(n[t]);if(a>i&&o<i){s(c);break}if(o>i&&i<a){s(c);break}++t}}),200);return(0,e.useEffect)((()=>{r.current&&(i?r.current.style.boxShadow="rgba(153,150,150, 0.15) 0px 4px 4px":r.current&&(r.current.style.boxShadow=null))}),[i]),(0,e.useEffect)((()=>{r.current&&r.current.childNodes.forEach((e=>{a===Object.keys(lg.category_names)[Object.values(lg.category_names).indexOf(e.innerText)]&&Kv(e.offsetLeft-20,0,400,r.current)}))}),[a]),e.createElement(e.Fragment,null,e.createElement($v,{ref:n,onScroll:e=>{e.target.scrollTop>80?!0!==i&&o(!0):!1!==i&&o(!1),e.target.querySelectorAll("[data-section]").length&&u(e.target)}},e.createElement(sy,null),e.createElement(wb,{configGlobal:{name_content:"Cardápio",title_content:"Cardápio",id_feed:"001"},screenRef:n,swipeRef:r,useMenuId:a,setMenuId:s}),e.createElement(Ky,null,e.createElement("div",null,"Qualquer divergência de valores dos produtos ou taxa de entrega poderá ser ajustado direto com o estabelecimento."),e.createElement("div",null,"Todos os preços estão em BRL")),e.createElement(Qy,null,e.createElement("div",null,e.createElement("button",{onClick:()=>t.push("/termos")},"Termos & Condições")),e.createElement("div",null,e.createElement("button",{onClick:()=>t.push("/privacidade")},"Política de Privacidade")),e.createElement("div",null,e.createElement("button",{onClick:()=>t.push("/cookies")},"Política de cookies")),e.createElement("div",null,e.createElement("button",{onClick:()=>alert("Bracael.COM\nVersão Beta, 12.05.2020\nO Conteúdo para está página estará disponivel em breve.")},"Enviar feedback")))),e.createElement(Ab,null))},Mb=function({data:t,configGlobal:n}){const{id_feed:r}=n;return e.createElement(Dy,null,Object.entries(t).filter((e=>e[1].category===r&&(200===e[1].status||403===e[1].status))).sort(((e,t)=>e[1].published<t[1].published?1:t[1].published<e[1].published?-1:0)).map((t=>e.createElement(Yy,{key:t[0],data:t}))))},Lb=function(){return e.createElement(Dy,null,[{title:168,unavailable:!1,description:!0},{title:128,unavailable:!0,description:!0},{title:78,unavailable:!1,description:!0},{title:94,unavailable:!1,description:!0},{title:102,unavailable:!1,description:!0},{title:134,unavailable:!1,description:!0}].map(((t,n)=>e.createElement(gb,{key:n,data:t,i:n}))))};const Ob=async({useWhere:e},{signal:t})=>await tm().httpsCallable("getPosts")({where:`${e}/feed`}).then((e=>e.data));var Pb=function({configGlobal:t}){const{useWhere:n,setWhere:r}=ug(),{data:i,error:o}=Ay({promiseFn:Ob,useWhere:n});return o?o.message:i?e.createElement(Mb,{data:i,configGlobal:t}):e.createElement(Lb,null)},Rb=function(){const t={name_content:"Hambúrguer",title_content:"Cardápio",id_feed:"001"};return e.createElement(e.Fragment,null,e.createElement($v,null,e.createElement(sy,{configGlobal:t}),e.createElement(sb,{configGlobal:t}),e.createElement(Pb,{configGlobal:t})),e.createElement(Ab,null))},jb=function(){const t={name_content:"Promoções",title_content:"Cardápio",id_feed:"005"};return e.createElement(e.Fragment,null,e.createElement($v,null,e.createElement(sy,{configGlobal:t}),e.createElement(sb,{configGlobal:t}),e.createElement(Pb,{configGlobal:t})),e.createElement(Ab,null))},Fb=function(){const t={name_content:"Combos",title_content:"Cardápio",id_feed:"004"};return e.createElement(e.Fragment,null,e.createElement($v,null,e.createElement(sy,{configGlobal:t}),e.createElement(sb,{configGlobal:t}),e.createElement(Pb,{configGlobal:t})),e.createElement(Ab,null))},Ub=function(){const t={name_content:"Porções",title_content:"Cardápio",id_feed:"002"};return e.createElement(e.Fragment,null,e.createElement($v,null,e.createElement(sy,{configGlobal:t}),e.createElement(sb,{configGlobal:t}),e.createElement(Pb,{configGlobal:t})),e.createElement(Ab,null))},zb=function(){const t={name_content:"Bebidas",title_content:"Cardápio",id_feed:"003"};return e.createElement(e.Fragment,null,e.createElement($v,null,e.createElement(sy,{configGlobal:t}),e.createElement(sb,{configGlobal:t}),e.createElement(Pb,{configGlobal:t})),e.createElement(Ab,null))},Bb=function(){const t={name_content:"Bomboniere",title_content:"Cardápio",id_feed:"006"};return e.createElement(e.Fragment,null,e.createElement($v,null,e.createElement(sy,{configGlobal:t}),e.createElement(sb,{configGlobal:t}),e.createElement(Pb,{configGlobal:t})),e.createElement(Ab,null))},Vb=function({useStage:t,setStage:n}){return e.createElement("div",null,"Content")},qb=function(){const[t,n]=(0,e.useState)(1);return 1===t||3===t||3===t?e.createElement(Vb,{useStage:t,setStage:n}):e.createElement("div",null,"Algo saiu mal.")},Gb=function(){return e.createElement(e.Fragment,null,e.createElement($v,null,e.createElement(qb,null)),e.createElement(Ab,null))},Wb=function(){return e.createElement("div",null)},Hb=function(){return e.createElement("div",null)},Yb=function(){return e.createElement("div",null)},Kb=function(){return e.createElement("div",null)},Qb=function({data:t}){return console.log(t),e.createElement("div",null)};const Zb=jv.div`
  clear: both;
`,Jb=jv.div`
  width: 80%;
  display: flex;
  height: 30vh;
  justify-content: center;
  align-items: center;
  text-align: center;
  margin: 0 auto;
`;var $b=function({data:t}){const[n,r]=(0,e.useState)(t);return e.createElement(Zb,null,Object.keys(n).length?Object.entries(n).map((t=>e.createElement(Qb,{key:t[0],data:t}))):e.createElement(Jb,null,"Não há nenhum bairro publicado no momento."))};const Xb=async({useWhere:e},{signal:t})=>await tm().httpsCallable("getPosts")({where:`${e}/order`}).then((e=>e.data));var ew=function(){const{useWhere:t,setWhere:n}=ug(),{data:r,error:i}=Ay({promiseFn:Xb,useWhere:t});return i?i.message:r?e.createElement($b,{data:r}):e.createElement(Lb,null)},tw=function(){return e.createElement(e.Fragment,null,e.createElement($v,null,e.createElement(sy,null),e.createElement(sb,{configGlobal:{name_content:"Bairros"}}),e.createElement(ew,null)),e.createElement(Ab,null))};const nw=jv.div`
  z-index: 100001;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: none;
  overflow: hidden;
  outline: 0;

  &::after {
    content: "";
    background: rgba(255,255,255,0.5);
    width: 100vw;
    height: 100vh;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`,rw=jv.div`
  width: 100vw;
  justify-content: center;
  align-items: flex-end;
  display: flex;
  height: 100%;
  z-index: 2;
`,iw=jv.div`
  background: #fff;
  z-index: 99;
  position: relative;
  width: calc(100vw - 3.6rem);
  max-width: 300px;
  overflow: hidden;
  font-size: 1.43rem;
  padding: 2.6rem;
  box-shadow: 0 0 15px 0 rgba(0,0,0,0.24);
  margin-bottom: 4rem;

  ${Qv(5)}

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,ow=jv.span`
  font-size: 1.6rem;
  font-weight: 500;
  display: block;
`,aw=jv.span`
  display: block;
  font-size: 1.4rem;
  line-height: 1.45em;
  font-weight: 400;
  color: #717171;
`,sw=jv.div`
  display: flex;
  padding-top: 1.4rem;

  & > * {
    width: 100%;
  }

  & > *:not(:last-child) {
    margin-right: 1rem;
  }

  & button {

    padding: 0.6rem 1rem;
  }
`,uw=jv.button`
  color: #fff;
  background: #ea1d2c;

  ${Qv(4)}
`,cw=jv.button`
  color: #ea1d2c;
  border: 1px solid #ea1d2c;
  border-radius: 4px;
  min-height: 32px;

  ${Qv(4)}
`,lw=jv.span`
  white-space: nowrap;
  font-size: 1.5rem;
  font-weight: 400;
`,{jQuery:hw}=window;var fw=function({useUpdate:t,setUpdate:n,useStatus:r,useSucessLayout:i,useMoment:o,setMoment:a,usePost:s,setPost:u,setAmount:c,setComment:l,setSelector:h,setAdditional:f}){const{id:d,amount:p=1,comment:m="",additional:g={},selector:v={}}=s;return(0,e.useEffect)((()=>{r.current&&t&&hw(i.current).fadeIn(200)}),[r,i,t]),e.createElement(nw,{ref:i},e.createElement(rw,null,e.createElement(iw,null,e.createElement(ow,null,"Já esta na sacola!"),e.createElement(aw,null,"Certo, agora você quer continuar nessa compra ou deseja uma nova compra?"),e.createElement(sw,null,e.createElement(cw,{type:"button",onClick:()=>(n(!1),c(p),l(m),h(JSON.stringify(v)),void f(JSON.stringify(g)))},e.createElement(lw,null,"Continuar")),e.createElement(uw,{type:"button",onClick:()=>(n(!1),a((new Date).toISOString()),u({id:d}),c(1),l(""),h(JSON.stringify({})),void f(JSON.stringify({})))},e.createElement(lw,null,"Quero um novo"))))))},dw=n(411),pw=n(270),mw=n.n(pw);const gw=jv.div`
  width: 100%;
  background: #f3f3f3;
  position: sticky;
  min-height: 300px;
  max-height: 60%;
  top: 0;
`,vw=jv.button`
  background: rgba(0,0,0,0.2);
  position: absolute;
  padding: 1rem;
  top: 1rem;
  left: 1.6rem;
  right: 0px;
  z-index: 5;
  width: 34px;
  height: 34px;

  ${Qv("50%")}

  & svg {
    float: left;
  }
`,yw=jv.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;

  & img {
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center center;
    position: relative;
    cursor: pointer;
    float: left;
    z-index: 1;
  }
`,bw=jv.div`
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center center;
  background-color: rgba(232,232,232);
  transform: scale(0.85);
  position: absolute;
  opacity: 0.6;
  width: 100%;
  height: 100%;
  z-index: 0;
`,ww=jv.div`
  background: #fff;
  border-radius: 6px 6px 0 0;
  position: relative;
  margin-top: -1rem;
  padding: 1.6rem;
  z-index: 10;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,_w=jv.div`
  font-size: 2.2rem;
  justify-content: space-between;
  display: flex;
`,Ew=jv.div`
  margin-right: 1.6rem;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,Iw=jv.button`
  color: ${({amountActive:e})=>e?"#ea1d2c":"#efefef"};
  background: rgba(255, 255, 255, 0);
  border-style: solid;
  border-width: 1px;
  border-color: ${({amountActive:e})=>e?"#ea1d2c":"#efefef"};
  padding: 0.4rem 0.8rem;
  transition: all 0.2s;
  cursor: ${({amountActive:e})=>e?"pointer":"default"};

  ${Qv(3)}
`,Cw=jv.div`
  border-style: solid;
  border-width: 1px;
  border-color: #efefef;
  padding: 1rem 1.6rem;
  justify-content: space-between;
  display: flex;

  ${Qv(3)}
`,Tw=jv.div`
  font-weight: 300;
`,Sw=jv.div`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,xw=jv.textarea`
  padding: .8rem;
  border-radius: 3px;
  font-size: 1.6rem;
  min-width: -webkit-fill-available;
  transition: border-color 0.3s, box-shadow 0.3s;
  min-height: 76px;
  resize: none;

  width: 100%;
  border-style: solid;
  border-width: 1px;
  border-color: #efefef;
  float: left;

  &:focus {
    border-color: #f76c6c;
    box-shadow: 0 0 0 4px rgba(255, 0, 0, 0.15);
  }
`,kw=(jv.li`
  width: 50px;
  height: 50px;

  &:not(:last-child) {
    margin-right: 1.6rem;
  }

  & input ~ label::before {
    content: "";
    width: 100%;
    height: 100%;
    position: absolute;
    transition: all 250ms ease 0s;

    ${Qv("50%")}
  }

  & input:checked ~ label::before {
    box-shadow: rgba(43 214 96) 0px 0px 0px 3px inset;
  }

  & label {
    cursor: pointer;
    background: #efefef;
    text-transform: uppercase;
    letter-spacing: 0.2rem;
    font-weight: 600;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;

    ${Qv("50%")}

    ${({status:e})=>!e&&'\n      & {\n        color: #999;\n      }\n\n      &::after {\n        content: "";\n        display: block;\n        width: 60%;\n        height: 1px;\n        position: absolute;\n        background: #999;\n        opacity: 0.8;\n        z-index: 2;\n      }\n    '}
  }
`,jv.div`
  min-height: 68px;
  max-height: 68px;
  padding: 1.6rem;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #efefef;
  display: flex;
  align-items: center;

  & > * {
    width: 100%;
    height: 100%;
  }

  & > *:not(:last-child) {
    margin-right: 2rem;
  }
`),Nw=jv.button`
  color: #fff;
  transition: all 0.3s linear;

  ${({amountActive:e})=>e?"\n  background: #ea1d2c;\n\n  &:active {\n    background: #ca222e;\n  }\n\n  &:hover {\n    background: #ff2b3a;\n  }\n\n  &:focus {\n    background: #ea1d2c;\n    box-shadow: 0 0 8px -1px #ea1d2c;\n  }\n  ":"\n  background: #cacaca;\n  "}

  ${Qv(3)}

  & span:not(:last-child) {
    margin-right: 2rem;
  }
`,Aw=jv.div`
  width: 100%;
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;

  & span {
    color: #999;
    font-size: 1.2rem;
    font-family: var(--font-poopins);
    letter-spacing: 0.5px;
  }
`;var Dw=function({data:t,i:n}){const{original:r,thumbnail:i}=t,o={original:r.src,thumbnail:i.src,width:r.width,height:r.height,id:n};return e.createElement(tg.Item,o,(({ref:t,open:n})=>e.createElement(yw,{className:"keen-slider__slide"},e.createElement(bw,{style:{backgroundImage:"url("+i.src+")"}}),e.createElement("img",{ref:t,src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"100%",width:"100%",alt:"",style:{backgroundImage:"url("+i.src+")"},onClick:n}))))},Mw=function({data:t}){const{layoutRef:n}=function(){const t=(0,e.useContext)(ng),{layoutRef:n}=t;return{layoutRef:n}}(),[r]=(0,dw.useKeenSlider)();return e.createElement(tg.CustomGallery,{ui:mw(),layoutRef:n,id:"photo"},e.createElement("div",{ref:r,className:"keen-slider"},t.map(((t,n)=>e.createElement(Dw,{key:n,data:t,i:n})))))},Lw=function(){return e.createElement(Aw,null,e.createElement(ty,null,e.createElement("svg",{"aria-label":"Carregando...",viewBox:"0 0 100 100"},e.createElement("rect",{fill:"#555555",height:"6",opacity:"0",rx:"3",ry:"3",transform:"rotate(-90 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.08333333333333333",rx:"3",ry:"3",transform:"rotate(-60 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.16666666666666666",rx:"3",ry:"3",transform:"rotate(-30 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.25",rx:"3",ry:"3",transform:"rotate(0 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.3333333333333333",rx:"3",ry:"3",transform:"rotate(30 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.4166666666666667",rx:"3",ry:"3",transform:"rotate(60 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.5",rx:"3",ry:"3",transform:"rotate(90 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.5833333333333334",rx:"3",ry:"3",transform:"rotate(120 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.6666666666666666",rx:"3",ry:"3",transform:"rotate(150 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.75",rx:"3",ry:"3",transform:"rotate(180 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.8333333333333334",rx:"3",ry:"3",transform:"rotate(210 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.9166666666666666",rx:"3",ry:"3",transform:"rotate(240 50 50)",width:"25",x:"72",y:"47"}))),e.createElement("span",null,"Carregando..."))};const Ow="data:image/svg+xml;base64,PHN2ZyBpZD0iQWdydXBhcl8xIiBkYXRhLW5hbWU9IkFncnVwYXIgMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjUwIiBoZWlnaHQ9IjI1MCIgdmlld0JveD0iMCAwIDI1MCAyNTAiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICNjNWM1YzU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiwgLmNscy0zIHsKICAgICAgICBmaWxsOiAjZmZmOwogICAgICB9CgogICAgICAuY2xzLTMgewogICAgICAgIGZpbGwtcnVsZTogZXZlbm9kZDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHJlY3QgaWQ9IlJldMOibmd1bG9fMSIgZGF0YS1uYW1lPSJSZXTDom5ndWxvIDEiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjI1MCIgaGVpZ2h0PSIyNTAiLz4KICA8Y2lyY2xlIGlkPSJFbGlwc2VfMSIgZGF0YS1uYW1lPSJFbGlwc2UgMSIgY2xhc3M9ImNscy0yIiBjeD0iMTI1IiBjeT0iMTAzIiByPSI1NyIvPgogIDxwYXRoIGlkPSJGb3JtYV8xIiBkYXRhLW5hbWU9IkZvcm1hIDEiIGNsYXNzPSJjbHMtMyIgZD0iTTMxLDI1MHM0LjE1Mi03Ny4yMzIsNjktOTljMS42NjQtLjA0NCw0Ny40MDYtMC4wMDcsNTAsMCwzNy41MTEsOC4yODUsNzAuMTUxLDYxLjM3NSw2OSw5OUMyMTUuNzY5LDI0OS45MDUsMzEsMjUwLDMxLDI1MFoiLz4KPC9zdmc+Cg==",Pw=async({useWhere:e,thumb:t},{signal:n})=>await(async(e,t)=>{async function n(e){return await async function(e){const t=new Image;return t.src=e,await t.decode(),{width:String(t.width),height:String(t.height),src:t.src}}(e)}function r(e){return{error:!0}}return await Promise.all(e.map((async(e,i)=>{const{image_name:o,image_format:a}=e;return{thumbnail:await em().ref(`/${t}/products/thumbs`).child(o+"_640x640.jpeg").getDownloadURL().then(n,r).catch((e=>Ow)),original:await em().ref(`/${t}/products`).child(o+"."+a).getDownloadURL().then(n,r).catch((e=>Ow))}})))})(t,e);var Rw=function({thumb:t}){const{useWhere:n,setWhere:r}=ug(),{data:i,error:o}=Ay({promiseFn:Pw,useWhere:n,thumb:t});return o?o.message:i?e.createElement(Mw,{data:i}):e.createElement(Lw,null)};const jw=jv.div`
  display: flex;
  flex-direction: column;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,Fw=jv.h4`
  display: flex;
`,Uw=jv.div`
  display: flex;
  flex-direction: column;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,zw=jv.div`
  display: grid;
  grid-template-columns: 1fr minmax(30%, 0fr);
  grid-template-rows: 1fr;
  grid-gap: 1.6rem;

  background: #efefef;
  border-radius: 3px;
  padding: 1rem;
`,Bw=jv.div`
  display: flex;
  flex-direction: column;
  justify-content: center;

  & strong {
    color: #23b04f;
  }
`,Vw=jv.div`
  display: flex;
  align-items: center;
  height: 26px;
  margin: auto 0;
  border-radius: 3px;
  transition: background 0.2s;
  box-shadow: inset 0 -2px 0 0 rgba(0, 0, 0, 0.25);

  background: ${({animeBtn:e})=>e?"#d62b2b":"#2bd660"};

  & button, & input {
    width: 100%;
    height: 26px;
    color: #fff;
    font-weight: 100;
  }

  & input {
    text-align: center;
    font-family: var(--font-oswald);
    background: rgba(4, 4, 4, 0.18);
  }

  & button {
    max-width: 24px;
  }
`;var qw=function({data:t,i:n,usePost:r,setPost:i}){const o=t[0],{about:a,limit:s,name:u,value:c}=t[1],{additional:l={}}=r,{amount:h=0}=l[o]||{},[f,d]=(0,e.useState)(!1),p=()=>{d(!0),setTimeout((()=>d(!1)),500)},m=e=>{e?i((t=>{const n={...t};return n.additional={...l,[o]:{amount:e}},n})):Object.keys(l).includes(o)&&(Object.keys(l).length>1?i((e=>{const t={...e};return delete t.additional[o],t})):i((e=>{const t={...e};return delete t.additional,t})))};return e.createElement(zw,null,e.createElement(Bw,null,e.createElement("span",null,u," por ",e.createElement("strong",null,Number(c).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),e.createElement(Vw,{animeBtn:f},e.createElement("button",{type:"button",onClick:()=>h>0?m(h-1):p()},"-"),e.createElement("input",{type:"text",readOnly:!0,value:h}),e.createElement("button",{type:"button",onClick:()=>h<s?m(h+1):p()},"+")))},Gw=function({extra:t,usePost:n,setPost:r}){return e.createElement(jw,null,e.createElement(Fw,null,"Adicionais?"),e.createElement(Uw,null,Object.entries(t).map(((t,i)=>e.createElement(qw,{key:t[0],data:t,i:i,usePost:n,setPost:r})))))};const Ww=jv.div`
  display: flex;
  flex-direction: column;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,Hw=jv.div`
  background: #efefef;
  padding: 1.6rem;
  justify-content: space-between;
  align-items: center;
  display: flex;

  ${Qv(3)}
`,Yw=jv.h4`
  display: flex;
  flex-direction: column;
`,Kw=jv.div`
  font-size: 2rem;
  font-weight: 700;
`,Qw=jv.div`
  font-weight: 400;
`,Zw=jv.div`
  color: #fff;
  padding: 0.4rem 0.7rem;
  background: #303030;
  font-weight: 100;
  text-transform: uppercase;
  font-size: 1.4rem;

  ${Qv(3)}
`,Jw=jv.div`
  display: flex;
  flex-direction: column;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,$w=jv.div`
  display: flex;
  flex-direction: column;

  & > *:not(:last-child) {
  border-bottom: 1px solid #efefef;
  }
`,Xw=jv.input`

  & ~ label::after {
    content: '';
    background: #f4f4f4;
    border-radius: 100%;
    border: 1px solid #b4b4b4;
    display: inline-block;
    width: 1.4em;
    height: 1.4em;
    position: relative;
    vertical-align: top;
    cursor: pointer;
    text-align: center;
    -webkit-transition: all 250ms ease;
    transition: all 250ms ease;
  }

  &:checked ~ label::after {
    background-color: #3197EE;
    box-shadow: inset 0 0 0 3px #f4f4f4;
  }

  &:focus ~ label::after {
    outline: none;
    border-color: #3197EE;
  }

  &:disabled ~ label::after {
    box-shadow: inset 0 0 0 4px #f4f4f4;
    border-color: #b4b4b4;
    background: #b4b4b4;
  }

  & ~ label:empty::after {
    margin-right: 0;
  }
`,e_=jv.span``,t_=jv.label`
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 0;
`;var n_=function({item:t,i:n,data:r,id:i,usePost:o,setPost:a}){const{subname:s}=t,{name:u,limit:c,important:l,list:h}=r[1],{selector:f={}}=o,d=f[i]||[];return e.createElement(Jw,null,e.createElement(Xw,{type:"checkbox",readOnly:!0,checked:d.includes(s)}),e.createElement(t_,{onClick:()=>(()=>{if(d.length<c)if(d.includes(s)){const e={...o};e.selector[i].splice(e.selector[i].indexOf(s),1),a(e)}else a((e=>{const t={...e};return t.selector={...f,[i]:[...d,s]},t}));else if(d.includes(s)){const e={...o};e.selector[i].splice(e.selector[i].indexOf(s),1),a(e)}})()},e.createElement(e_,null,s)))},r_=function({data:t,i:n,usePost:r,setPost:i}){const o=t[0],{name:a,limit:s,important:u,list:c=[]}=t[1],{selector:l={}}=r,h=l[o]||[];return e.createElement(Ww,null,e.createElement(Hw,null,e.createElement(Yw,null,e.createElement(Kw,null,a),e.createElement(Qw,null,u?`${h.length} de ${s}`:`Escolha até ${s} ${1===s?"opção":"opções"}`)),u?h.length===s?e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 515.556 515.556",fill:"#23b04f"},e.createElement("path",{d:"m0 274.226 176.549 176.886 339.007-338.672-48.67-47.997-290.337 290-128.553-128.552z"})):e.createElement(Zw,null,"Obrigatório"):null),e.createElement($w,null,c.map(((n,a)=>e.createElement(n_,{key:a,item:n,i:a,data:t,id:o,usePost:r,setPost:i})))))};const i_=jv.div`
  display: flex;
  border-radius: 3px;
  box-shadow: inset 0 -2px 0 0 rgba(0,0,0,0.25);
  max-height: 32px;
  max-width: 38%;
  transition: background 0.2s;

  background: ${({useAnimate:e})=>e?"#d62b2b":"#2bd660"};

  & button, & input {
    width: 100%;
  }
`,o_=jv.input`
  color: #fff;
  background: rgba(4, 4, 4, 0.18);
  text-align: center;
  font-weight: 500;
`,a_=jv.button`
  width: 100%;
  min-width: 32px;
  background: rgba(0,0,0,0);
  justify-content: center;
  align-items: center;
  display: flex;
  height: 100%;
`;var s_=function({data:t,usePost:n,setPost:r}){const[i,o]=(0,e.useState)(!1),{amount:a=1}=n,s=()=>{o(!0),setTimeout((()=>o(!1)),500)},u=e=>r((t=>({...t,amount:Number(e)})));return e.createElement(i_,{useAnimate:i},e.createElement("div",null,e.createElement(a_,{type:"button",onClick:()=>a>1?u(a-1):s()},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"2",viewBox:"0 0 12 2",fill:"#ffffff"},e.createElement("rect",{width:"12",height:"2"})))),e.createElement(o_,{type:"text",disabled:"disabled",autoComplete:"off",readOnly:!0,value:a}),e.createElement("div",null,e.createElement(a_,{type:"button",onClick:()=>a<99?u(a+1):s()},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"#ffffff"},e.createElement("path",{fillRule:"evenodd",d:"M2,7H7V2H9V7h5V9H9v5H7V9H2V7Z",transform:"translate(-2 -2)"})))))};const{jQuery:u_}=window;var c_=function({data:t,id:n}){const r=(0,e.useRef)(!1),i=(0,e.useRef)(null),{useCart:o,setCart:a}=sg(),s=Gm(),{category:u,description:c,favorite:l,grams:h,price:f,published:d,purchase:p,thumb:m=[],title:g,weight:v,extra:y={},pick:b={}}=t,[w,_]=(0,e.useState)((new Date).toISOString()),[E,I]=(0,e.useState)({id:n}),[C,T]=(0,e.useState)(!1),{amount:S=1,comment:x="",additional:k={},selector:N={}}=E,[A,D]=(0,e.useState)(S),[M,L]=(0,e.useState)(x),[O,P]=(0,e.useState)(JSON.stringify(N)),[R,j]=(0,e.useState)(JSON.stringify(k));return(0,e.useEffect)((()=>{r.current?C||u_(i.current).fadeOut(300):r.current=!0}),[C]),e.createElement(e.Fragment,null,e.createElement(fw,{useUpdate:C,setUpdate:T,useStatus:r,useSucessLayout:i,useMoment:w,setMoment:_,usePost:E,setPost:I,setAmount:D,setComment:L,setSelector:P,setAdditional:j}),e.createElement($v,null,e.createElement(gw,null,e.createElement(vw,{type:"button",onClick:()=>s.goBack()},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 451.111 451.111",fill:"#000000"},e.createElement("path",{d:"m451.111 193.333h-322.222l112.778-112.777-48.333-48.333-193.334 193.333 193.333 193.333 48.333-48.333-112.777-112.778h322.222z"}))),e.createElement(Rw,{thumb:m})),e.createElement(ww,null,e.createElement(_w,null,e.createElement(Ew,null,g),e.createElement(Iw,{type:"button",amountActive:!!o.find((e=>e.moment===w)),onClick:()=>!!o.find((e=>e.moment===w))&&(()=>{const e=[...o];e.splice(e.map((e=>e.moment)).indexOf(w),1),a(e),I({id:n}),D(1),L(""),P(JSON.stringify({})),j(JSON.stringify({}))})()},"Remover")),e.createElement(Cw,null,e.createElement("span",null,lg.unitSize(v?{ml:v,str:!0}:{gm:h,str:!0})),e.createElement("span",null,Number(f).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),c?e.createElement(Tw,null,c):null,Object.keys(y).length?e.createElement(Gw,{extra:y,usePost:E,setPost:I}):null,Object.keys(b).length?Object.entries(b).map(((t,n)=>e.createElement(r_,{key:t[0],data:t,i:n,usePost:E,setPost:I}))):null,e.createElement(Sw,null,e.createElement("h4",null,"Alguma observação?"),e.createElement("div",null,e.createElement(xw,{maxLength:"140",placeholder:u.includes("Drinks")||u.includes("Dessert")?"Escrever sua obserção aqui.":"Ex: tirar a cebola, carne mal passada etc.",onChange:e=>{return t=e.target.value,I((e=>Object({...e,comment:t})));var t},value:x}))))),e.createElement(kw,null,e.createElement(s_,{usePost:E,setPost:I}),e.createElement(Nw,{type:"button",amountActive:lg.isValid({usePost:E,data:t,useAmount:A,useComment:M,useSelector:O,useAdditional:R,useMoment:w,useCart:o}),onClick:()=>lg.isValid({usePost:E,data:t,useAmount:A,useComment:M,useSelector:O,useAdditional:R,useMoment:w,useCart:o})&&void(o.find((e=>e.moment===w))?(T(!0),a((e=>{const t=[...e];return t[t.map((e=>e.moment)).indexOf(w)]={...E,moment:w},t}))):(T(!0),a((e=>{const t=[...e];return t.push({...E,moment:w}),t}))))},e.createElement("span",null,o.find((e=>e.moment===w))?"Atualizar!":"Eu quero!"),e.createElement("span",null,Number(f*S+Object.entries(k).map((e=>Number(e[1].amount*y[e[0]].value))).reduce(((e,t)=>e+t),0)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))))},l_=function(){const t=Gm();return e.createElement(e.Fragment,null,e.createElement($v,null,e.createElement(gw,null,e.createElement(vw,{type:"button",onClick:()=>t.goBack()},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 451.111 451.111",fill:"#000000"},e.createElement("path",{d:"m451.111 193.333h-322.222l112.778-112.777-48.333-48.333-193.334 193.333 193.333 193.333 48.333-48.333-112.777-112.778h322.222z"}))),e.createElement(Lw,null)),e.createElement(ww,null,e.createElement(_w,null,e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left"},e.createElement(By.ZP,{width:204,height:13})),e.createElement(Vy,{displayFlex:!0,floatChild:"left"},e.createElement(By.ZP,{width:72,height:26}))),e.createElement(Cw,null,e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left",style:{height:"18px"}},e.createElement(By.ZP,{width:130,height:10})),e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left",style:{height:"18px"}},e.createElement(By.ZP,{width:52,height:10}))),e.createElement(Vy,{displayFlex:!0,flexDirection:"column",widthChild:"100%",alignItems:"center",floatChild:"left",spaceBottomChild:"1rem",style:{height:"18px"}},e.createElement(By.ZP,{width:"96%",height:9}),e.createElement(By.ZP,{width:"82%",height:9}),e.createElement(By.ZP,{width:"89%",height:9}),e.createElement(By.ZP,{width:"42%",height:9})))),e.createElement(kw,null,e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left",widthChild:"100%",maxWidth:"38%",style:{width:"100%"}},e.createElement(By.yB,{color:"#2bd660",highlightColor:"#20a148"},e.createElement(Vy,{displayFlex:!0,floatChild:"left",heightChild:32,widthChild:"100%",style:{width:"100%"}},e.createElement(By.ZP,{width:"100%",height:32})))),e.createElement(Vy,{displayFlex:!0,floatChild:"left",widthChild:"100%",style:{width:"100%"}},e.createElement(By.yB,{highlightColor:"#ea1d2c"},e.createElement(Vy,{displayFlex:!0,floatChild:"left",widthChild:"100%",style:{width:"100%"}},e.createElement(By.ZP,{width:"100%",height:"100%"}))))))};const h_=e=>e.indexOf("&")>-1?e.substring(e.indexOf("&"),0):e,f_=async({useWhere:e,id:t},{signal:n})=>await tm().httpsCallable("getPosts")({where:`${e}/feed/${h_(t)}`}).then((e=>e.data));var d_=function(){const{useWhere:t,setWhere:n}=ug(),{id:r}=(i=qm(Rm).match)?i.params:{};var i;const{data:o,error:a}=Ay({promiseFn:f_,useWhere:t,id:r});return a?a.message:o?e.createElement(c_,{data:o,id:r}):e.createElement(l_,null)},p_=function(){return e.createElement(Vm,null,e.createElement(Bm,{path:"/",exact:!0,render:()=>e.createElement(Db,null)}),e.createElement(Bm,{path:"/hamburguer",render:()=>e.createElement(Rb,null)}),e.createElement(Bm,{path:"/promocoes",render:()=>e.createElement(jb,null)}),e.createElement(Bm,{path:"/combos",render:()=>e.createElement(Fb,null)}),e.createElement(Bm,{path:"/porcoes",render:()=>e.createElement(Ub,null)}),e.createElement(Bm,{path:"/bebidas",render:()=>e.createElement(zb,null)}),e.createElement(Bm,{path:"/bomboniere",render:()=>e.createElement(Bb,null)}),e.createElement(Bm,{path:"/confirma",render:()=>e.createElement(Gb,null)}),e.createElement(Bm,{path:"/sobre",render:()=>e.createElement(Wb,null)}),e.createElement(Bm,{path:"/termos",render:()=>e.createElement(Hb,null)}),e.createElement(Bm,{path:"/politica",render:()=>e.createElement(Yb,null)}),e.createElement(Bm,{path:"/destaque",render:()=>e.createElement(Kb,null)}),e.createElement(Bm,{path:"/bairros",render:()=>e.createElement(tw,null)}),e.createElement(Bm,{path:"/p/:id",render:()=>e.createElement(d_,null)}))},m_=function(){return e.createElement(ey,null,e.createElement(p_,null))};const g_=jv.div`
  width: 100vw;
  height: 100%;
  position: fixed;
  display: none;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;

  & {
    background: #fff;
  }
`,{jQuery:v_}=window;var y_=function(){const{useBag:t,setBag:n}=ag(),r=(0,e.useRef)(null),[i,o]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{const{current:e}=r;i&&v_(e).fadeIn(300)}),[i]),(0,e.useEffect)((()=>{const{current:e}=r;t?o(!0):v_(e).fadeOut(300,(()=>o(!1)))}),[t]),i&&e.createElement(g_,{ref:r,onClick:()=>n(!1)})},b_=function(){return e.createElement(Xv,null,e.createElement(Yv,null),e.createElement(m_,null),e.createElement(y_,null))};const w_=jv.div`
  width: 100%;
  background-color: #ffffff;
  box-shadow: -5px 0 16px rgba(0, 0, 0, 0.05);
  position: relative;
  right: 0px;
  height: 100%;
  z-index: 10001;
  display: flex;

  @media (max-width: 1080px) {
    min-width: 320px;
  }

  @media (min-width: 1080px) {
    max-width: 360px;
  }
`,__=jv.div`
  display: flex;
  width: 100%;
  flex-direction: column;
  padding: 1.6rem 0px;
  height: 100%;

  & > div {
    height: 100%;
  }
`,E_=jv.h3`
  max-height: 36px;
  color: rgb(228, 147, 89);
  display: flex;
  align-items: center;
  justify-content: center;
  text-transform: uppercase;
  padding: 0 1.6rem;
  height: 100%;
`,I_=jv.div`
  overflow: hidden;
  position: relative;

  ${"#ffffff","\n  &::before, &::after {\n    content: \"\";\n    width: 100%;\n    height: 1.6rem;\n    display: block;\n    position: absolute;\n    z-index: 5;\n    left: 0;\n    right: 0;\n  }\n\n  &::before {\n    top: 0;\n    background: #ffffff;\n    background: -moz-linear-gradient(bottom, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background: -webkit-linear-gradient(bottom, #ffffff 0%,rgba(255, 255, 255, 0) 100%);\n    background: linear-gradient(to bottom, #ffffff 0%,rgba(255, 255, 255, 0) 100%);\n    background-image: -moz-linear-gradient(bottom, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background-image: -webkit-linear-gradient(bottom, #ffffff 0%,rgba(255, 255, 255, 0) 100%);\n    background-image: linear-gradient(to bottom, #ffffff 0%,rgba(255, 255, 255, 0) 100%);\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#ffffff00',GradientType=0 );\n  }\n\n  &::after {\n    bottom: 0;\n    background: #ffffff;\n    background: -moz-linear-gradient(top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background: -webkit-linear-gradient(top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background: linear-gradient(to top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background-image: -moz-linear-gradient(top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background-image: -webkit-linear-gradient(top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background-image: linear-gradient(to top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#ffffff00',GradientType=0 );\n  }\n"}

  & > div {
    overflow-x: hidden;
    overflow-y: overlay;
    flex-direction: column;
    padding: 1.6rem 0;
    display: flex;
    height: 100%;

    ${"\n  &::-webkit-scrollbar {\n    width: 6px;\n    height: 6px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 6px;\n  }\n"}

    & > div {
      display: flex;
      margin: 0 1.6rem;
      position: relative;

      &:not(:last-child) {
        margin-bottom: 1.6rem;
      }
    }
  }
`;const C_=jv.section`
  overflow: hidden;
  border-radius: 3px;
  display: flex;
  align-items: center;
  height: 70px;
  width: 96px;
  max-width: 96px;
  min-width: 96px;

  & img {
    width: 100%;
    float: left;
    transform: scale(1.5);
    margin-top: 6px;
  }
`,T_=jv.section`
  width: 100%;
  display: inline-grid;
  flex-direction: column;
  align-items: center;
  margin-left: 1.6rem;

  & span:not(:first-child) {
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }
`,S_=jv.span`
  color: #0fc548;
  position: relative;
  font-weight: 500;

  & small {
    background: #c00;
    color: #fff;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    text-align: center;
    position: absolute;
    font-size: 1.3rem;
    line-height: 2.2rem;
    font-style: normal;
    z-index: 1;
    top: -4px;
    margin-left: 6px;
  }

  & div {
    float: right;
    display: flex;
    margin-top: -4px;

    & > *:not(:last-child) {
      margin-right: 0.6rem;
    }
  }
`,x_=jv.div`
  max-height: 60px;
  font-weight: 400;
  flex-direction: column;
  display: flex;
  justify-content: center;
  margin-bottom: 1.2rem;

  & strong {
    font-size: 1.6rem;
    text-align: center;
    font-weight: 100;
  }

  & p {
    font-size: 4.5rem;
    position: relative;
    line-height: 42px;
    display: flex;
    -webkit-box-pack: center;
    justify-content: center;
    left: 2.5px;
    font-weight: 500;

    & span {
      font-size: 18px;
      top: -10px;
      left: -4px;
      position: relative;
    }
  }
`,k_=jv.div`
  max-height: 48px;
  display: flex;
  justify-content: center;
  margin-top: 1.6rem;

  & button {
    color: #fff;
    overflow: hidden;
    position: relative;
    letter-spacing: 0.4px;
    transition: transform 0.3s ease 0s, box-shadow 0.3s ease 0s;
    width: 100%;
    max-width: 260px;
    border-width: 0px 0px 4px;
    border-style: solid;
    border-color: rgba(0, 0, 0, 0.2);
    text-transform: uppercase;
    background: rgb(76, 175, 80);
    ${Qv(3)}
    align-items: center;
    justify-content: center;
    display: flex;

    &:active {
      background-color: rgb(58, 167, 62);
      transition: all 0s ease 0s;
    }

    &:hover {
      background: rgb(74, 195, 79);
      transition: background 0.3s ease 0s;
    }

    & svg {
      margin-right: 12px;
    }

    & span {
      font-size: 2.2rem;
    }

    &::after {
      background: rgb(255, 255, 255);
      content: " ";
      height: 100%;
      width: 100px;
      left: -100%;
      opacity: 0;
      position: absolute;
      top: 0px;
      clip-path: polygon(35% 0%, 100% 0%, 65% 100%, 0% 100%);
      z-index: 2;
    }

    &::after {
      animation-duration: 4s;
      animation-name: changewidth;
      animation-iteration-count: infinite;
      animation-direction: normal;
      animation-delay: 4s;
    }
  }
`,N_=jv.small`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 500;
  height: 100%;
`;var A_=function({data:t}){return e.createElement(C_,null,e.createElement("img",{src:t,alt:""}))},D_=function(){return e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left"},e.createElement(By.ZP,{width:96,height:70}))};const M_="data:image/svg+xml;base64,PHN2ZyBpZD0iQWdydXBhcl8xIiBkYXRhLW5hbWU9IkFncnVwYXIgMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjUwIiBoZWlnaHQ9IjI1MCIgdmlld0JveD0iMCAwIDI1MCAyNTAiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICNjNWM1YzU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiwgLmNscy0zIHsKICAgICAgICBmaWxsOiAjZmZmOwogICAgICB9CgogICAgICAuY2xzLTMgewogICAgICAgIGZpbGwtcnVsZTogZXZlbm9kZDsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHJlY3QgaWQ9IlJldMOibmd1bG9fMSIgZGF0YS1uYW1lPSJSZXTDom5ndWxvIDEiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjI1MCIgaGVpZ2h0PSIyNTAiLz4KICA8Y2lyY2xlIGlkPSJFbGlwc2VfMSIgZGF0YS1uYW1lPSJFbGlwc2UgMSIgY2xhc3M9ImNscy0yIiBjeD0iMTI1IiBjeT0iMTAzIiByPSI1NyIvPgogIDxwYXRoIGlkPSJGb3JtYV8xIiBkYXRhLW5hbWU9IkZvcm1hIDEiIGNsYXNzPSJjbHMtMyIgZD0iTTMxLDI1MHM0LjE1Mi03Ny4yMzIsNjktOTljMS42NjQtLjA0NCw0Ny40MDYtMC4wMDcsNTAsMCwzNy41MTEsOC4yODUsNzAuMTUxLDYxLjM3NSw2OSw5OUMyMTUuNzY5LDI0OS45MDUsMzEsMjUwLDMxLDI1MFoiLz4KPC9zdmc+Cg==",L_=async({thumb:e,useWhere:t},{signal:n})=>{const[r]=e;return await(async(e,t)=>{const{image_name:n,image_size:r,image_format:i}=e;return await em().ref(`/${t}/products/thumbs`).child(n+"_160x160.jpeg").getDownloadURL().then((function(e){return async function(e){const t=new Image;return t.src=e,await t.decode(),t.src}(e)}),(function(e){return M_})).catch((e=>M_))})(r,t)};var O_=function({thumb:t}){const{useWhere:n,setWhere:r}=ug(),{data:i,error:o}=Ay({promiseFn:L_,thumb:t,useWhere:n});return o?o.message:i?e.createElement(A_,{data:i}):e.createElement(D_,null)},P_=function({assoc:t,i:n,data:r}){const i=Gm(),{id:o,amount:a=1,comment:s="",additional:u={},moment:c}=t,{title:l,weight:h,grams:f,price:d,thumb:p=[],extra:m={}}=r.find((e=>e.id===o)),g=Object.keys(u).length?Object.entries(u).map((e=>{const t=e[0],{amount:n}=e[1],{value:r}=m[t];return Number(r*n)})).reduce(((e,t)=>e+t),0):0;return e.createElement("div",{onDoubleClick:()=>i.push(`/p/${o}&timestamp=${c}`)},p.length?e.createElement(O_,{thumb:p}):e.createElement(D_,null),e.createElement(T_,null,e.createElement(S_,null,Number(d*a+g).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),a>1?e.createElement("small",null,a):null,g||s?e.createElement("div",null,g?e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"#e47a2e"},e.createElement("path",{fillRule:"evenodd","data-name":"Plus",d:"M14,10H10v4a2,2,0,0,1-4,0V10H2A2,2,0,1,1,2,6H6V2a2,2,0,1,1,4,0V6h4A2,2,0,0,1,14,10Z"})):null,s?e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"#e47a2e"},e.createElement("path",{fillRule:"evenodd","data-name":"Comment",d:"M14,12H7L3,16V12H2a2,2,0,0,1-2-2V2A2,2,0,0,1,2,0H14a2,2,0,0,1,2,2v8A2,2,0,0,1,14,12ZM3,3H13V5H3V3ZM3,7H13V9H3V7Z"})):null):null),e.createElement("span",null,l),e.createElement("span",null,lg.unitSize(void 0!==h?{ml:h,str:!0}:{gm:f,str:!0}))))},R_=function({data:t}){const{pathname:n}=Wm(),r=Gm(),{useBag:i,setBag:o}=ag(),{useCart:a,setCart:s}=sg(),u=a.map((function(e){const{id:n,amount:r=1,additional:i={}}=e,{price:o,extra:a={}}=t.find((e=>e.id===n));return Number(o*r+Object.entries(a).filter((e=>Object.keys(i).includes(e[0]))).map((e=>{const t=e[0],{value:n}=e[1],{amount:r=1}=i[t]||{};return Number(n*r)})).reduce(((e,t)=>e+t),0))})).reduce(((e,t)=>e+t),0);return e.createElement(__,null,e.createElement(E_,null,"Todos os seus pedidos"),e.createElement(x_,null,e.createElement("strong",null,"subtotal a pagar"),e.createElement("p",null,e.createElement("span",null,"R$"),Number(u).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}).replace("R$","").trim())),e.createElement(I_,null,e.createElement("div",null,a.map(((n,r)=>e.createElement(P_,{key:n.moment,assoc:n,i:r,data:t}))))),"/confirma"!==n?e.createElement(k_,null,e.createElement("button",{type:"button",onClick:()=>(r.push("/confirma"),void o(!1))},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 78.369 78.369",fill:"#fff"},e.createElement("path",{d:"M78.049,19.015L29.458,67.606c-0.428,0.428-1.121,0.428-1.548,0L0.32,40.015c-0.427-0.426-0.427-1.119,0-1.547l6.704-6.704 c0.428-0.427,1.121-0.427,1.548,0l20.113,20.112l41.113-41.113c0.429-0.427,1.12-0.427,1.548,0l6.703,6.704 C78.477,17.894,78.477,18.586,78.049,19.015z"})),e.createElement("span",null,"Confirmar"))):null)},j_=function({data:t,i:n}){return e.createElement("div",null,e.createElement(D_,null),e.createElement(T_,null,e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left",style:{height:"18px"}},e.createElement(By.ZP,{width:50,height:10})),e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left",style:{height:"18px"}},e.createElement(By.ZP,{width:100,height:9})),e.createElement(Vy,{displayFlex:!0,alignItems:"center",floatChild:"left",style:{height:"18px"}},e.createElement(By.ZP,{width:130,height:9}))))},F_=function(){const{useCart:t,setCart:n}=sg();return e.createElement(__,null,e.createElement(Vy,{displayFlex:!0,justifyContent:"center",alignItems:"center",floatChild:"left",width:"100%",maxHeight:"36px",minHeight:"36px"},e.createElement(By.ZP,{width:184,height:12})),e.createElement(Vy,{displayFlex:!0,flexDirection:"column",floatChild:"left",maxHeight:"60px",minHeight:"60px",marginBottom:"1.2rem"},e.createElement(Vy,{displayFlex:!0,justifyContent:"center",alignItems:"center",floatChild:"left",style:{height:"18px"}},e.createElement(By.ZP,{width:107,height:10})),e.createElement(Vy,{displayFlex:!0,justifyContent:"center",floatChild:"left",spaceRightChild:"1rem",style:{width:"100%",height:"42px"}},e.createElement(Vy,{displayFlex:!0,floatChild:"left",style:{height:"100%"}},e.createElement(By.ZP,{width:21,height:17})),e.createElement(Vy,{displayFlex:!0,floatChild:"left",style:{height:"100%"}},e.createElement(By.ZP,{width:84,height:27})))),e.createElement(I_,null,e.createElement("div",null,t.map(((t,n)=>e.createElement(j_,{key:t.moment,data:t,i:n}))))),e.createElement(k_,null,e.createElement(By.yB,{color:"#3d8c40",highlightColor:"#317033"},e.createElement(Vy,{displayFlex:!0,floatChild:"left",width:"100%",minWidth:"260px",widthChild:"100%"},e.createElement(By.ZP,{width:"100%",height:48})))))};const U_=({val:e,data:t})=>t.map((t=>t[e])).filter(((e,t,n)=>n.indexOf(e)===t)),z_=async({useWhere:e,useCart:t},{signal:n})=>await tm().httpsCallable("getProducts")({where:e,data:U_({val:"id",data:t})}).then((e=>e.data));var B_=function(){const{useWhere:t,setWhere:n}=ug(),{useCart:r,setCart:i}=sg(),{data:o,error:a}=Ay({promiseFn:z_,useWhere:t,useCart:r});return a?a.message:o?e.createElement(R_,{data:o}):e.createElement(F_,null)},V_=function(){const{useCart:t,setCart:n}=sg();return e.createElement(w_,null,Object.keys(t).length?1&t.length?e.createElement(B_,{key:1}):e.createElement(B_,{key:2}):e.createElement(N_,null,"Por enquanto, não há nada por aqui."))};const q_=jv.div`
  width: 100vw;
  height: 100%;
  position: fixed;
  display: none;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 2;

  & {
    background: rgba(0, 0, 0, 0.4);
  }
`,{jQuery:G_}=window;var W_=function(){const t=(0,e.useRef)(!1),n=(0,e.useRef)(null),{useSwipe:r,setSwipe:i}=og();return(0,e.useEffect)((()=>{n.current&&r&&(G_(n.current).fadeIn(200),t.current=!1)}),[r]),(0,e.useEffect)((()=>{t.current?r||G_(n.current).fadeOut(300):t.current=!0}),[r]),e.createElement(q_,{ref:n,onClick:()=>i(!1)})},H_=function(t){const n=(0,e.useRef)(),[r,i]=(0,e.useState)(t),[o,a]=(0,e.useState)(document.querySelector("[name=local]").content),[s,u]=(0,e.useState)(!1),[c,l]=(0,e.useState)(!1),[h,f]=(0,e.useState)((()=>{const{itemCart:e=JSON.stringify([])}=sessionStorage;return JSON.parse(e)}));return sessionStorage.setItem("itemCart",JSON.stringify(h)),e.createElement(Hm,null,e.createElement(rg,{useConn:r,setConn:i,useSwipe:s,setSwipe:u,useBag:c,setBag:l,useCart:h,setCart:f,useWhere:o,setWhere:a,layoutRef:n},e.createElement(tg.DefaultLayout,{shareButton:!1,fullscreenButton:!0,zoomButton:!0,ref:n}),e.createElement(Jv,{useActive:c},e.createElement(b_,null),e.createElement(V_,null),e.createElement(W_,null))))};Promise.resolve(async function(){return await tm().httpsCallable("App")({where:document.querySelector("[name=local]").content}).then((e=>e.data))}()).then((function(e){const{hostname:t,protocol:n}=new URL(window.location.href);return"delivery.bracael.com"===t&&"https:"===n&&void 0!==e?Promise.resolve(e):Promise.reject()})).then((function(n){t.render(e.createElement(e.StrictMode,null,e.createElement(H_,n)),document.getElementById("root"))})).catch((function(){t.render(e.createElement("div",null,"ERRO 500"),document.getElementById("root"))}))}()}();
//# sourceMappingURL=main.js.map