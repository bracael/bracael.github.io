/*! For license information please see main.js.LICENSE.txt */
!function(){var e={254:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,{CacheProvider:function(){return A},ClassNames:function(){return B},Global:function(){return F},ThemeContext:function(){return I},createElement:function(){return M},css:function(){return L},jsx:function(){return M},keyframes:function(){return U},withEmotionCache:function(){return P}});var i=n(466),o=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(e){}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),a=n(414),s="/*|*/";function u(e){e&&l.current.insert(e+"}")}var l={current:null},c=function(e,t,n,r,i,o,a,c,h,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return l.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===c)return t+s;break;case 3:switch(c){case 102:case 112:return l.current.insert(n[0]+t),"";default:return t+(0===f?s:"")}case-2:t.split("/*|*/}").forEach(u)}};function h(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}n(753);var f=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0),i=i.next}while(void 0!==i)}},d=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},p=n(319),m=n(916),g=/[A-Z]|^ms/g,v=/_EMO_([^_]+?)_([^]*?)_EMO_/g,y=function(e){return 45===e.charCodeAt(1)},b=function(e){return null!=e&&"boolean"!=typeof e},w=(0,m.Z)((function(e){return y(e)?e:e.replace(g,"-$&").toLowerCase()})),_=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(v,(function(e,t,n){return x={name:t,styles:n,next:x},t}))}return 1===p.Z[e]||y(e)||"number"!=typeof t||0===t?t:t+"px"};function E(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return x={name:n.name,styles:n.styles,next:x},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)x={name:i.name,styles:i.styles,next:x},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=E(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":b(a)&&(r+=w(o)+":"+_(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=E(e,t,a,!1);switch(o){case"animation":case"animationName":r+=w(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)b(a[u])&&(r+=w(o)+":"+_(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=x,a=n(e);return x=o,E(e,t,a,r)}}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var x,C=/label:\s*([^\s;\n{]+)\s*;/g,k=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";x=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=E(n,t,o,!1)):i+=o[0];for(var a=1;a<e.length;a++)i+=E(n,t,e[a],46===i.charCodeAt(i.length-1)),r&&(i+=o[a]);C.lastIndex=0;for(var s,u="";null!==(s=C.exec(i));)u+="-"+s[1];return{name:d(i)+u,styles:i,next:x}},T=Object.prototype.hasOwnProperty,S=(0,i.createContext)("undefined"!=typeof HTMLElement?function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r,i=new a.Z(t),s={};r=e.container||document.head;var u,h=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(h,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){s[e]=!0})),e.parentNode!==r&&r.appendChild(e)})),i.use(e.stylisPlugins)(c),u=function(e,t,n,r){var o=t.name;l.current=n,i(e,t.styles),r&&(f.inserted[o]=!0)};var f={key:n,sheet:new o({key:n,container:r,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:s,registered:{},insert:u};return f}():null),I=(0,i.createContext)({}),A=S.Provider,P=function(e){var t=function(t,n){return(0,i.createElement)(S.Consumer,null,(function(r){return e(t,r,n)}))};return(0,i.forwardRef)(t)},N="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",R=function(e,t){var n={};for(var r in t)T.call(t,r)&&(n[r]=t[r]);return n[N]=e,n},O=function(e,t,n,r){var o=null===n?t.css:t.css(n);"string"==typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var a=t[N],s=[o],u="";"string"==typeof t.className?u=h(e.registered,s,t.className):null!=t.className&&(u=t.className+" ");var l=k(s);f(e,l,"string"==typeof a),u+=e.key+"-"+l.name;var c={};for(var d in t)T.call(t,d)&&"css"!==d&&d!==N&&(c[d]=t[d]);return c.ref=r,c.className=u,(0,i.createElement)(a,c)},D=P((function(e,t,n){return"function"==typeof e.css?(0,i.createElement)(I.Consumer,null,(function(r){return O(t,e,r,n)})):O(t,e,null,n)})),L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k(t)},M=function(e,t){var n=arguments;if(null==t||!T.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=D,o[1]=R(e,t);for(var a=2;a<r;a++)o[a]=n[a];return i.createElement.apply(null,o)},F=P((function(e,t){var n=e.styles;if("function"==typeof n)return(0,i.createElement)(I.Consumer,null,(function(e){var r=k([n(e)]);return(0,i.createElement)(j,{serialized:r,cache:t})}));var r=k([n]);return(0,i.createElement)(j,{serialized:r,cache:t})})),j=function(e){var t,n;function i(t,n,r){return e.call(this,t,n,r)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var a=i.prototype;return a.componentDidMount=function(){this.sheet=new o({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},a.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},a.insertStyles=function(){if(void 0!==this.props.serialized.next&&f(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},a.componentWillUnmount=function(){this.sheet.flush()},a.render=function(){return null},i}(i.Component),U=function(){var e=L.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},z=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function q(e,t,n){var r=[],i=h(e,r,n);return r.length<2?n:i+t(r)}var B=P((function(e,t){return(0,i.createElement)(I.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=k(n,t.registered);return f(t,i,!1),t.key+"-"+i.name},i={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return q(t.registered,r,z(n))},theme:n};return e.children(i)}))}))},753:function(e,t,n){var r=n(540);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}},540:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t},916:function(e,t){"use strict";t.Z=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},414:function(e,t){"use strict";t.Z=function(e){function t(e,r,u,l,f){for(var d,p,m,g,w,E=0,x=0,C=0,k=0,T=0,R=0,D=m=d=0,M=0,F=0,j=0,U=0,z=u.length,q=z-1,B="",V="",W="",H="";M<z;){if(p=u.charCodeAt(M),M===q&&0!==x+k+C+E&&(0!==x&&(p=47===x?10:47),k=C=E=0,z++,q++),0===x+k+C+E){if(M===q&&(0<F&&(B=B.replace(h,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),m=1,U=++M;M<z;){switch(p=u.charCodeAt(M)){case 123:m++;break;case 125:m--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<q;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<q&&u.charCodeAt(M)!==p;);}if(0===m)break;M++}switch(m=u.substring(U,M),0===d&&(d=(B=B.replace(c,"").trim()).charCodeAt(0)),d){case 64:switch(0<F&&(B=B.replace(h,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=N}if(U=(m=t(r,F,m,p,f+1)).length,0<O&&(w=s(3,m,F=n(N,B,j),r,I,S,U,p,f,l),B=F.join(""),void 0!==w&&0===(U=(m=w.trim()).length)&&(p=0,m="")),0<U)switch(p){case 115:B=B.replace(_,a);case 100:case 109:case 45:m=B+"{"+m+"}";break;case 107:m=(B=B.replace(v,"$1 $2"))+"{"+m+"}",m=1===P||2===P&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=B+m,112===l&&(V+=m,m="")}else m="";break;default:m=t(r,n(r,B,j),m,l,f+1)}W+=m,m=j=F=D=d=0,B="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<F?B.replace(h,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<O&&void 0!==(w=s(1,B,r,e,I,S,V.length,l,f,l))&&0===(U=(B=w.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=B+u.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(V+=i(B,d,p,B.charCodeAt(2)))}j=F=D=d=0,B="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===x?x=0:0===1+d&&107!==l&&0<B.length&&(F=1,B+="\0"),0<O*L&&s(0,B,r,e,I,S,V.length,l,f,l),S=1,I++;break;case 59:case 125:if(0===x+k+C+E){S++;break}default:switch(S++,g=u.charAt(M),p){case 9:case 32:if(0===k+E+x)switch(T){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===k+x+E&&(F=j=1,g="\f"+g);break;case 108:if(0===k+x+E+A&&0<D)switch(M-D){case 2:112===T&&58===u.charCodeAt(M-3)&&(A=T);case 8:111===R&&(A=R)}break;case 58:0===k+x+E&&(D=M);break;case 44:0===x+C+k+E&&(F=1,g+="\r");break;case 34:case 39:0===x&&(k=k===p?0:0===k?p:k);break;case 91:0===k+x+C&&E++;break;case 93:0===k+x+C&&E--;break;case 41:0===k+x+E&&C--;break;case 40:if(0===k+x+E){if(0===d)switch(2*T+3*R){case 533:break;default:d=1}C++}break;case 64:0===x+C+k+E+D+m&&(m=1);break;case 42:case 47:if(!(0<k+E+C))switch(x){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:x=47;break;case 220:U=M,x=42}break;case 42:47===p&&42===T&&U+2!==M&&(33===u.charCodeAt(U+2)&&(V+=u.substring(U,M+1)),g="",x=0)}}0===x&&(B+=g)}R=T,T=p,M++}if(0<(U=V.length)){if(F=r,0<O&&void 0!==(w=s(2,V,F,e,I,S,U,l,f,l))&&0===(V=w).length)return H+V+W;if(V=F.join(",")+"{"+V+"}",0!=P*A){switch(2!==P||o(V,2)||(A=0),A){case 111:V=V.replace(b,":-moz-$1")+V;break;case 112:V=V.replace(y,"::-webkit-input-$1")+V.replace(y,"::-moz-$1")+V.replace(y,":-ms-input-$1")+V}A=0}}return H+V+W}function n(e,t,n){var i=t.trim().split(m);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var l=0;l<a;++l)t[u++]=r(e[l]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===P||2===P&&o(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(T,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(w,"tb");break;case 232:u=a.replace(w,"tb-rl");break;case 220:u=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(x,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(x,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(C,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,c){for(var h,f=0,d=t;f<O;++f)switch(h=R[f].call(l,e,d,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?P=1:(P=2,D=e):P=0),u}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,I,S,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=t(N,r,n,0,0);return 0<O&&void 0!==(i=s(-2,o,r,r,I,S,o.length,0,0,0))&&(o=i),A=0,S=I=1,o}var c=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,x=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,S=1,I=1,A=0,P=1,N=[],R=[],O=0,D=null,L=0;return l.use=function e(t){switch(t){case void 0:case null:O=R.length=0;break;default:if("function"==typeof t)R[O++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},l.set=u,void 0!==e&&u(e),l}},319:function(e,t){"use strict";t.Z={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},856:function(e,t,n){"use strict";var r,i,o=n(622),a=n(574),s=n(924),u=n(861),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new a.LL("app","Firebase",l),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),m=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(e),this.container=new s.H0(t.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=f),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if((0,a.r3)(t,s))throw c.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var l=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&l.push("and"),u&&l.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}o(new s.wA(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw c.create("invalid-log-argument");(0,u.Am)(e,t)},apps:null,SDK_VERSION:"8.6.5",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.r3)(t,e))throw c.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw c.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var l=0,h=Object.keys(t);l<h.length;l++){var f=h[l];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(m);return t.INTERNAL=(0,o.pi)((0,o.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.ZB)(t,e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=g;!function(e,t){e.INTERNAL.registerComponent(new s.wA("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion(h,"0.6.24",void 0),e.registerVersion("fire-js","")}(w),t.Z=w},924:function(e,t,n){"use strict";n.d(t,{wA:function(){return o},H0:function(){return u},zt:function(){return s}});var r=n(622),i=n(574),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e=a);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n,r=null!==(t=null==e?void 0:e.identifier)&&void 0!==t?t:a,i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n,o=this.normalizeInstanceIdentifier(r);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(e){if(i)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],l=s[1],c=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:c});l.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.instanceIdentifier,o=void 0===i?a:i,s=e.options,u=void 0===s?{}:s,l=this.normalizeInstanceIdentifier(o);if(this.isInitialized(l))throw Error(this.name+"("+l+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:l,options:u});try{for(var h=(0,r.XA)(this.instancesDeferred.entries()),f=h.next();!f.done;f=h.next()){var d=(0,r.CR)(f.value,2),p=d[0],m=d[1];l===this.normalizeInstanceIdentifier(p)&&m.resolve(c)}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(c,l),c},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i;try{for(var o=(0,r.XA)(this.onInitCallbacks),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},991:function(e,t,n){"use strict";var r=n(856),i=n(924),o=n(574),a=n(622),s=n(861);e=n.hmd(e);var u="";function l(e){u=e}var c,h=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),f=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h(t)}}catch(e){}return new f},p=d("localStorage"),m=d("sessionStorage"),g=new s.Yd("@firebase/database"),v=(c=1,function(){return c++}),y=function(e){var t=(0,o.dS)(e),n=new o.gQ;n.update(t);var r=n.digest();return o.US.encodeByteArray(r)},b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=b.apply(null,i):n+="object"==typeof i?(0,o.Pz)(i):i,n+=" "}return n},w=null,_=!0,E=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(g.logLevel=s.in.VERBOSE,w=g.log.bind(g),t&&m.set("logging_enabled",!0)):"function"==typeof e?w=e:(w=null,m.remove("logging_enabled"))},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===w&&!0===m.get("logging_enabled")&&E(!0)),w){var n=b.apply(null,e);w(n)}},C=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];x.apply(void 0,(0,a.ev)([e],(0,a.CR)(t)))}},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));g.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));throw g.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+b.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));g.warn(n)},I=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},A="[MIN_NAME]",P="[MAX_NAME]",N=function(e,t){if(e===t)return 0;if(e===A||t===P)return-1;if(t===A||e===P)return 1;var n=U(e),r=U(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},R=function(e,t){return e===t?0:e<t?-1:1},O=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},D=function(e){if("object"!=typeof e||null===e)return(0,o.Pz)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(t[i]),r+=":",r+=D(e[t[i]]);return r+"}"},L=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var F=function(e){(0,o.hu)(!I(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()},j=new RegExp("^-?(0*)\\d{1,10}$"),U=function(e){if(j.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},z=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw S("Exception was thrown by user callback.",t),e}),Math.floor(0))}},q=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},B=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){S('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),V=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(e)},e}(),W=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G="websocket",K="long_polling",$=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Z(e,t,n){var r;if((0,o.hu)("string"==typeof t,"typeof type must == string"),(0,o.hu)("object"==typeof n,"typeof params must == object"),t===G)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==K)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return M(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Q=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.p$)(this.counters_)},e}(),Y={},X={};function J(e){var t=e.toString();return Y[t]||(Y[t]=new Q),Y[t]}var ee=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&z((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),te="start",ne="close",re=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(e),this.stats_=J(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),Z(t,K,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ie((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===te)n.id=o,n.password=s;else{if(i!==ne)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!((0,o.Yr)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.h$)(t),r=L(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ie=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){x("frame writing exception"),e.stack&&x(e.stack),x(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||x("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){x("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),oe=null;"undefined"!=typeof MozWebSocket?oe=MozWebSocket:"undefined"!=typeof WebSocket&&(oe=WebSocket);var ae=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=J(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Z(e,G,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?i.headers.Authorization=this.authToken||"":i.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var a=process.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new oe(this.connURL,[],i)}else i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}},this.mySock=new oe(this.connURL,[],i)}catch(e){this.log_("Error instantiating WebSocket.");var l=e.message||e.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==oe&&!e.forceDisallow_},e.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=L(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),se=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[re,ae]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ae&&ae.isAvailable(),o=i&&!ae.previouslyFailed();if(t.webSocketOnly&&(i||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ae];else{var s=this.transports_=[];try{for(var u=(0,a.XA)(e.ALL_TRANSPORTS),l=u.next();!l.done;l=u.next()){var c=l.value;c&&c.isAvailable()&&s.push(c)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ue=function(){function e(e,t,n,r,i,o,a,s,u,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new se(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=q((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=O("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?k("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),q((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),le=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),ce=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.ev)([],(0,a.CR)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.hu)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),he=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(ce),fe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function de(){return new fe("")}function pe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function me(e){return e.pieces_.length-e.pieceNum_}function ge(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new fe(e.pieces_,t)}function ve(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ye(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function be(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new fe(t,0)}function we(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof fe)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new fe(n,0)}function _e(e){return e.pieceNum_>=e.pieces_.length}function Ee(e,t){var n=pe(e),r=pe(t);if(null===n)return t;if(n===r)return Ee(ge(e),ge(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function xe(e,t){for(var n=ye(e,0),r=ye(t,0),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ce(e,t){if(me(e)!==me(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ke(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(me(e)>me(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Te=function(e,t){this.errorPrefix_=t,this.parts_=ye(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);Se(this)};function Se(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ie(e))}function Ie(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ae,Pe,Ne=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(ce),Re=1e3,Oe=function(e){function t(n,r,i,a,s,u,l,c){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=l,h.authOverride_=c,h.id=t.nextPersistentConnectionId_++,h.log_=C("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Re,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,c&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ne.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&he.getInstance().on("online",h.onOnline_,h),h}return(0,a.ZT)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.BH,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&(0,o.r3)(e,"w")){var n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):k("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Re,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Re,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Re),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,n,r,i,s,u,l,c,h,f,d,p,m,g,v=this;return(0,a.Jh)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,r())},h=function(e){(0,o.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:c,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.CR.apply(void 0,[y.sent(),2]),p=d[0],m=d[1],u?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=m&&m.token,l=new ue(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){S(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),s)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&S(g),c()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){x("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){x("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Re,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return D(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new fe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){x("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){x("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.XA)(s.values())),l=u.next();!l.done;l=u.next()){var c=l.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=he.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(le),De=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Le=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new De(A,e),r=new De(A,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return De.MIN},e}(),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ae},set:function(e){Ae=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return N(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return De.MIN},t.prototype.maxPost=function(){return new De(P,Ae)},t.prototype.makePost=function(e,t){return(0,o.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new De(e,Ae)},t.prototype.toString=function(){return".key"},t}(Le),Fe=new Me,je=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ue=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:qe.EMPTY_NODE,this.right=null!=o?o:qe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return qe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return qe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),ze=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ue(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),qe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ue.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ue.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new je(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new je(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new je(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new je(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new ze,e}();function Be(e,t){return N(e.name,t.name)}function Ve(e,t){return N(e,t)}var We,He,Ge,Ke,$e,Ze=function(e){return"number"==typeof e?"number:"+F(e):"string:"+e},Qe=function(e){if(e.isLeafNode()){var t=e.val();(0,o.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===Pe||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===Pe||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ye=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Qe(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return We},set:function(e){We=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return _e(t)?this:".priority"===pe(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=pe(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===me(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ge(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ze(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?F(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Xe=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return De.MIN},t.prototype.maxPost=function(){return new De(P,new Ye("[PRIORITY-POST]",Ge))},t.prototype.makePost=function(e,t){var n=He(e);return new De(t,new Ye("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Le)),Je=Math.log(2),et=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Je,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),tt=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Ue(a,o.node,Ue.BLACK,null,null);var u=parseInt(s/2,10)+t,l=i(t,u),c=i(u+1,r);return o=e[u],a=n?n(o):o,new Ue(a,o.node,Ue.BLACK,l,c)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var l=i(o+1,s),c=e[o],h=n?n(c):c;u(new Ue(h,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(l+1));c?s(h,Ue.BLACK):(s(h,Ue.BLACK),s(h,Ue.RED))}return o}(new et(e.length));return new qe(r||t,o)},nt={},rt=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.hu)(nt&&Xe,"ChildrenNode.ts has not been loaded"),Ke=Ke||new e({".priority":nt},{".priority":Xe})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof qe?t:null},e.prototype.hasIndex=function(e){return(0,o.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.hu)(t!==Fe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(De.Wrap),l=u.getNext();l;)s=s||t.isDefinedOn(l.node),i.push(l),l=u.getNext();r=s?tt(i,t.getCompare()):nt;var c=t.toString(),h=(0,a.pi)({},this.indexSet_);h[c]=t;var f=(0,a.pi)({},this.indexes_);return f[c]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.UI)(this.indexes_,(function(e,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),e===nt){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(De.Wrap),l=u.getNext();l;)l.name!==t.name&&s.push(l),l=u.getNext();return s.push(t),tt(s,a.getCompare())}return nt}var c=n.get(t.name),h=e;return c&&(h=h.remove(new De(t.name,c))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.UI)(this.indexes_,(function(e){if(e===nt)return e;var r=n.get(t.name);return r?e.remove(new De(t.name,r)):e})),this.indexSet_)},e}(),it=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Qe(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return $e||($e=new e(new qe(Ve),null,rt.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||$e},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?$e:t},e.prototype.getChild=function(e){var t=pe(e);return null===t?this:this.getImmediateChild(t).getChild(ge(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new De(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?$e:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=pe(e);if(null===n)return t;(0,o.hu)(".priority"!==pe(e)||1===me(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ge(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Xe,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ze(this.getPriority().val())+":"),this.forEachChild(Xe,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new De(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new De(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new De(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,De.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,De.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ot?-1:0},e.prototype.withIndex=function(t){if(t===Fe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Fe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Xe),r=t.getIterator(Xe),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Fe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ot=new(function(e){function t(){return e.call(this,new qe(Ve),it.EMPTY_NODE,rt.Default)||this}return(0,a.ZT)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return it.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(it));function at(e,t){if(void 0===t&&(t=null),null===e)return it.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ye(e,at(t));if(e instanceof Array){var n=it.EMPTY_NODE;return M(e,(function(t,r){if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){var i=at(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(at(t))}var r=[],i=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=at(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new De(e,n)))}})),0===r.length)return it.EMPTY_NODE;var a=tt(r,Be,(function(e){return e.name}),Ve);if(i){var s=tt(r,Xe.getCompare());return new it(a,at(t),new rt({".priority":s},{".priority":Xe}))}return new it(a,at(t),rt.Default)}Object.defineProperties(De,{MIN:{value:new De(A,it.EMPTY_NODE)},MAX:{value:new De(P,ot)}}),Me.__EMPTY_NODE=it.EMPTY_NODE,Ye.__childrenNodeConstructor=it,Pe=ot,Ge=ot,function(e){He=e}(at);var st,ut,lt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.hu)(!_e(t)&&".priority"!==pe(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.ZT)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=at(e),r=it.EMPTY_NODE.updateChild(this.indexPath_,n);return new De(t,r)},t.prototype.maxPost=function(){var e=it.EMPTY_NODE.updateChild(this.indexPath_,ot);return new De(P,e)},t.prototype.toString=function(){return ye(this.indexPath_,0).join("/")},t}(Le),ct=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?N(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return De.MIN},t.prototype.maxPost=function(){return De.MAX},t.prototype.makePost=function(e,t){var n=at(e);return new De(t,n)},t.prototype.toString=function(){return".value"},t}(Le)),ht="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ft=(st=0,ut=[],function(e){var t,n=e===st;st=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=ht.charAt(e%64),e=Math.floor(e/64);(0,o.hu)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===ut[t];t--)ut[t]=0;ut[t]++}else for(t=0;t<12;t++)ut[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=ht.charAt(ut[t]);return(0,o.hu)(20===i.length,"nextPushId: Length should be 20."),i}),dt=function(e){if("2147483647"===e)return"-";var t=U(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return P;var o=n[i],a=ht.charAt(ht.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},pt=function(e){if("-2147483648"===e)return A;var t=U(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ht.charAt(ht.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function mt(e){return{type:"value",snapshotNode:e}}function gt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function vt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function yt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var bt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(vt(t,s)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(gt(t,n)):a.trackChildChange(yt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Xe,(function(e,r){t.hasChild(e)||n.trackChildChange(vt(e,r))})),t.isLeafNode()||t.forEachChild(Xe,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(yt(t,r,i))}else n.trackChildChange(gt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?it.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),wt=function(){function e(t){this.indexedFilter_=new bt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new De(t,n))||(n=it.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=it.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(it.EMPTY_NODE);var i=this;return t.forEachChild(Xe,(function(e,t){i.matches(new De(e,t))||(r=r.updateImmediateChild(e,it.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),_t=function(){function e(e){this.rangedFilter_=new wt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new De(t,n))||(n=it.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=it.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=it.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(it.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(s,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,it.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.hu)(u.numChildren()===this.limit_,"");var l=new De(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,l);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(yt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(vt(t,f));var m=u.updateImmediateChild(t,it.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(gt(d.name,d.node)),m.updateImmediateChild(d.name,d.node)):m}return n.isEmpty()?e:h&&a(c,l)>=0?(null!=i&&(i.trackChildChange(vt(c.name,c.node)),i.trackChildChange(gt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,it.EMPTY_NODE)):e},e}(),Et=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Xe},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function xt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ct(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function kt(e,t){var n=e.copy();return n.index_=t,n}function Tt(e){var t,n={};return e.isDefault()||(e.index_===Xe?t="$priority":e.index_===ct?t="$value":e.index_===Fe?t="$key":((0,o.hu)(e.index_ instanceof lt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.Pz)(t),e.startSet_&&(n.startAt=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function St(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Xe&&(t.i=e.index_.toString()),t}var It=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=C("p:rest:"),o.listens_={},o}return(0,a.ZT)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),l={};this.listens_[u]=l;var c=Tt(e._queryParams);this.restRequest_(s+".json",c,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,u)===l&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Tt(e._queryParams),r=e._path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.CR)(i,2),u=s[0],l=s[1];u&&u.accessToken&&(t.auth=u.accessToken),l&&l.token&&(t.ac=l.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.xO)(t);r.log_("Sending REST request for "+c);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=(0,o.cI)(h.responseText)}catch(e){S("Failed to parse JSON response for "+c+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&S("Got unsuccessful REST response for "+c+" Status: "+h.status),n(h.status);n=null}},h.open("GET",c,!0),h.send()}))},t}(le),At=function(){function e(){this.rootNode_=it.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Pt(){return{value:null,children:new Map}}function Nt(e,t,n){if(_e(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=pe(t);e.children.has(r)||e.children.set(r,Pt()),Nt(e.children.get(r),t=ge(t),n)}}function Rt(e,t){if(_e(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Xe,(function(t,n){Nt(e,new fe(t),n)})),Rt(e,t)}if(e.children.size>0){var r=pe(t);return t=ge(t),e.children.has(r)&&Rt(e.children.get(r),t)&&e.children.delete(r),0===e.children.size}return!0}function Ot(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Ot(r,new fe(t.toString()+"/"+e),n)}))}var Dt,Lt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.pi)({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Mt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Lt(e);var n=1e4+2e4*Math.random();q(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,i){i>0&&(0,o.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ft(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Dt||(Dt={}));var jt,Ut=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Dt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(_e(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new fe(t));return new e(de(),n,this.revert)}return(0,o.hu)(pe(this.path)===t,"operationForChild called for unrelated child."),new e(ge(this.path),this.affectedTree,this.revert)},e}(),zt=function(){function e(e,t){this.source=e,this.path=t,this.type=Dt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return _e(this.path)?new e(this.source,de()):new e(this.source,ge(this.path))},e}(),qt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Dt.OVERWRITE}return e.prototype.operationForChild=function(t){return _e(this.path)?new e(this.source,de(),this.snap.getImmediateChild(t)):new e(this.source,ge(this.path),this.snap)},e}(),Bt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Dt.MERGE}return e.prototype.operationForChild=function(t){if(_e(this.path)){var n=this.children.subtree(new fe(t));return n.isEmpty()?null:n.value?new qt(this.source,de(),n.value):new e(this.source,de(),n)}return(0,o.hu)(pe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ge(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Vt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(_e(e))return this.isFullyInitialized()&&!this.filtered_;var t=pe(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Wt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Ht(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new De(t.childName,t.snapshotNode),i=new De(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Gt(e,t){return{eventCache:e,serverCache:t}}function Kt(e,t,n,r){return Gt(new Vt(t,n,r),e.serverCache)}function $t(e,t,n,r){return Gt(e.eventCache,new Vt(t,n,r))}function Zt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Qt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Yt=function(){function e(e,t){void 0===t&&(jt||(jt=new qe(R)),t=jt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return M(t,(function(e,t){n=n.set(new fe(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:de(),value:this.value};if(_e(e))return null;var n=pe(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ge(e),t);return null!=i?{path:we(new fe(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(_e(t))return this;var n=pe(t),r=this.children.get(n);return null!==r?r.subtree(ge(t)):new e(null)},e.prototype.set=function(t,n){if(_e(t))return new e(n,this.children);var r=pe(t),i=(this.children.get(r)||new e(null)).set(ge(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(_e(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=pe(t),r=this.children.get(n);if(r){var i=r.remove(ge(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(_e(e))return this.value;var t=pe(e),n=this.children.get(t);return n?n.get(ge(e)):null},e.prototype.setTree=function(t,n){if(_e(t))return n;var r,i=pe(t),o=(this.children.get(i)||new e(null)).setTree(ge(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(de(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(we(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,de(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(_e(e))return null;var i=pe(e),o=this.children.get(i);return o?o.findOnPath_(ge(e),we(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,de(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(_e(t))return this;this.value&&r(n,this.value);var i=pe(t),o=this.children.get(i);return o?o.foreachOnPath_(ge(t),we(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(de(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(we(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Xt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Yt(null))},e}();function Jt(e,t,n){if(_e(t))return new Xt(new Yt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Ee(i,t);return o=o.updateChild(a,n),new Xt(e.writeTree_.set(i,o))}var s=new Yt(n),u=e.writeTree_.setTree(t,s);return new Xt(u)}function en(e,t,n){var r=e;return M(n,(function(e,n){r=Jt(r,we(t,e),n)})),r}function tn(e,t){if(_e(t))return Xt.empty();var n=e.writeTree_.setTree(t,new Yt(null));return new Xt(n)}function nn(e,t){return null!=rn(e,t)}function rn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ee(n.path,t)):null}function on(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Xe,(function(e,n){t.push(new De(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new De(e,n.value))})),t}function an(e,t){if(_e(t))return e;var n=rn(e,t);return new Xt(null!=n?new Yt(n):e.writeTree_.subtree(t))}function sn(e){return e.writeTree_.isEmpty()}function un(e,t){return ln(de(),e.writeTree_,t)}function ln(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ln(we(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(we(e,".priority"),r)),n}function cn(e,t){return _n(t,e)}function hn(e,t){if(e.snap)return ke(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ke(we(e.path,n),t))return!0;return!1}function fn(e){return e.visible}function dn(e,t,n){for(var r=Xt.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)ke(n,s)?r=Jt(r,u=Ee(n,s),a.snap):ke(s,n)&&(u=Ee(s,n),r=Jt(r,de(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(ke(n,s))r=en(r,u=Ee(n,s),a.children);else if(ke(s,n))if(_e(u=Ee(s,n)))r=en(r,de(),a.children);else{var l=(0,o.DV)(a.children,pe(u));if(l){var c=l.getChild(ge(u));r=Jt(r,de(),c)}}}}}return r}function pn(e,t,n,r,i){if(r||i){var o=an(e.visibleWrites,t);return!i&&sn(o)?n:i||null!=n||nn(o,de())?un(dn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ke(e.path,t)||ke(t,e.path))}),t),n||it.EMPTY_NODE):null}var a=rn(e.visibleWrites,t);if(null!=a)return a;var s=an(e.visibleWrites,t);return sn(s)?n:null!=n||nn(s,de())?un(s,n||it.EMPTY_NODE):null}function mn(e,t,n,r){return pn(e.writeTree,e.treePath,t,n,r)}function gn(e,t){return function(e,t,n){var r=it.EMPTY_NODE,i=rn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Xe,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=an(e.visibleWrites,t);return n.forEachChild(Xe,(function(e,t){var n=un(an(o,new fe(e)),t);r=r.updateImmediateChild(e,n)})),on(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return on(an(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function vn(e,t,n,r){return function(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=we(t,n);if(nn(e.visibleWrites,a))return null;var s=an(e.visibleWrites,a);return sn(s)?i.getChild(n):un(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function yn(e,t){return function(e,t){return rn(e.visibleWrites,t)}(e.writeTree,we(e.treePath,t))}function bn(e,t,n){return function(e,t,n,r){var i=we(t,n),o=rn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?un(an(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function wn(e,t){return _n(we(e.treePath,t),e.writeTree)}function _n(e,t){return{treePath:e,writeTree:t}}var En=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,yt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,vt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,gt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,yt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),xn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Cn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Vt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qt(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=an(e.visibleWrites,t),l=rn(u,de());if(null!=l)s=l;else{if(null==n)return[];s=un(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var c=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&c.length<i;)0!==h(d,r)&&c.push(d),d=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function kn(e,t,n,r,i,a){var s=t.eventCache;if(null!=yn(r,n))return t;var u=void 0,l=void 0;if(_e(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Qt(t),h=gn(r,c instanceof it?c:it.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=mn(r,Qt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=pe(n);if(".priority"===d){(0,o.hu)(1===me(n),"Can't have a priority with additional path components");var p=s.getNode(),m=vn(r,n,p,l=t.serverCache.getNode());u=null!=m?e.filter.updatePriority(p,m):s.getNode()}else{var g=ge(n),v=void 0;if(s.isCompleteForChild(d)){l=t.serverCache.getNode();var y=vn(r,n,s.getNode(),l);v=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else v=bn(r,d,t.serverCache);u=null!=v?e.filter.updateChild(s.getNode(),d,v,g,i,a):s.getNode()}}return Kt(t,u,s.isFullyInitialized()||_e(n),e.filter.filtersNodes())}function Tn(e,t,n,r,i,o,a,s){var u,l=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(_e(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{var f=pe(n);if(!l.isCompleteForPath(n)&&me(n)>1)return t;var d=ge(n),p=l.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),f,p,d,xn,null)}var m=$t(t,u,l.isFullyInitialized()||_e(n),c.filtersNodes());return kn(e,m,n,i,new Cn(i,m,o),s)}function Sn(e,t,n,r,i,o,a){var s,u,l=t.eventCache,c=new Cn(i,t,o);if(_e(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Kt(t,u,!0,e.filter.filtersNodes());else{var h=pe(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Kt(t,u,l.isFullyInitialized(),l.isFiltered());else{var f=ge(n),d=l.getNode().getImmediateChild(h),p=void 0;if(_e(f))p=r;else{var m=c.getCompleteChild(h);p=null!=m?".priority"===ve(f)&&m.getChild(be(f)).isEmpty()?m:m.updateChild(f,r):it.EMPTY_NODE}s=d.equals(p)?t:Kt(t,e.filter.updateChild(l.getNode(),h,p,f,c,a),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function In(e,t){return e.eventCache.isCompleteForChild(t)}function An(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Pn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=_e(n)?r:new Yt(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=An(0,t.serverCache.getNode().getImmediateChild(n),r);l=Tn(e,l,new fe(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var h=An(0,t.serverCache.getNode().getImmediateChild(n),r);l=Tn(e,l,new fe(n),h,i,o,a,s)}})),l}var Nn,Rn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new bt(r.getIndex()),o=(n=r).loadsAllData()?new bt(n.getIndex()):n.hasLimit()?new _t(n):new wt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(it.EMPTY_NODE,a.getNode(),null),l=o.updateFullNode(it.EMPTY_NODE,s.getNode(),null),c=new Vt(u,a.isFullyInitialized(),i.filtersNodes()),h=new Vt(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Gt(h,c),this.eventGenerator_=new Wt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function On(e,t){var n=Qt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!_e(t)&&!n.getImmediateChild(pe(t)).isEmpty())?n.getChild(t):null}function Dn(e){return 0===e.eventRegistrations_.length}function Ln(e,t,n){var r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Mn(e,t,n,r){t.type===Dt.MERGE&&null!==t.source.queryId&&((0,o.hu)(Qt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(Zt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=function(e,t,n,r,i){var a,s,u=new En;if(n.type===Dt.OVERWRITE){var l=n;l.source.fromUser?a=Sn(e,t,l.path,l.snap,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!_e(l.path),a=Tn(e,t,l.path,l.snap,r,i,s,u))}else if(n.type===Dt.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var l=we(n,r);In(t,pe(l))&&(s=Sn(e,s,l,u,i,o,a))})),r.foreach((function(r,u){var l=we(n,r);In(t,pe(l))||(s=Sn(e,s,l,u,i,o,a))})),s}(e,t,c.path,c.children,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered(),a=Pn(e,t,c.path,c.children,r,i,s,u))}else if(n.type===Dt.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=yn(r,n))return t;var u=new Cn(r,t,i),l=t.eventCache.getNode(),c=void 0;if(_e(n)||".priority"===pe(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=mn(r,Qt(t));else{var f=t.serverCache.getNode();(0,o.hu)(f instanceof it,"serverChildren would be complete if leaf node"),h=gn(r,f)}h=h,c=e.filter.updateFullNode(l,h,a)}else{var d=pe(n),p=bn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=l.getImmediateChild(d)),(c=null!=p?e.filter.updateChild(l,d,p,ge(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(l,d,it.EMPTY_NODE,ge(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=mn(r,Qt(t))).isLeafNode()&&(c=e.filter.updateFullNode(c,s,a))}return s=t.serverCache.isFullyInitialized()||null!=yn(r,de()),Kt(t,c,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=yn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(_e(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Tn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(_e(n)){var l=new Yt(null);return u.getNode().forEachChild(Fe,(function(e,t){l=l.set(new fe(e),t)})),Pn(e,t,n,l,i,o,s,a)}return t}var c=new Yt(null);return r.foreach((function(e,t){var r=we(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Pn(e,t,n,c,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Dt.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return kn(e,$t(t,o.getNode(),o.isFullyInitialized()||_e(n),o.isFiltered()),n,r,xn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Zt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(mt(Zt(t)))}}(t,a,f),{viewCache:a,changes:f}}(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.hu)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Fn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Fn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Ht(e,i,"child_removed",t,r,n),Ht(e,i,"child_added",t,r,n),Ht(e,i,"child_moved",o,r,n),Ht(e,i,"child_changed",t,r,n),Ht(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var jn,Un=function(){this.views=new Map};function zn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var l=e.views.get(u);return(0,o.hu)(null!=l,"SyncTree gave us an op for an invalid query."),Mn(l,t,n,r)}var c=[];try{for(var h=(0,a.XA)(e.views.values()),f=h.next();!f.done;f=h.next())l=f.value,c=c.concat(Mn(l,t,n,r))}catch(e){i={error:e}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}function qn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=mn(n,i?r:null),u=!1;s?u=!0:r instanceof it?(s=gn(n,r),u=!1):(s=it.EMPTY_NODE,u=!1);var l=Gt(new Vt(s,u,!1),new Vt(r,i,!1));return new Rn(t,l)}return a}function Bn(e){var t,n,r=[];try{for(var i=(0,a.XA)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Vn(e,t){var n,r,i=null;try{for(var o=(0,a.XA)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||On(u,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Wn(e,t){if(t._queryParams.loadsAllData())return Kn(e);var n=t._queryIdentifier;return e.views.get(n)}function Hn(e,t){return null!=Wn(e,t)}function Gn(e){return null!=Kn(e)}function Kn(e){var t,n;try{for(var r=(0,a.XA)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var $n=1,Zn=function(e){this.listenProvider_=e,this.syncPointTree_=new Yt(null),this.pendingWriteTree_={visibleWrites:Xt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Qn(e,t,n,r,i){return function(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Jt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?nr(e,new qt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Yn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&hn(u,r.path)?i=!1:ke(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(e){e.visibleWrites=dn(e.allWrites,fn,de()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=tn(e.visibleWrites,r.path):M(r.children,(function(t){e.visibleWrites=tn(e.visibleWrites,we(r.path,t))})),!0))}(e.pendingWriteTree_,t)){var i=new Yt(null);return null!=r.snap?i=i.set(de(),!0):M(r.children,(function(e){i=i.set(new fe(e),!0)})),nr(e,new Ut(r.path,i,n))}return[]}function Xn(e,t,n){return nr(e,new qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Jn(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),u=[];if(s&&("default"===t._queryIdentifier||Hn(s,t))){var l=function(e,t,n,r){var i,s,u=t._queryIdentifier,l=[],c=[],h=Gn(e);if("default"===u)try{for(var f=(0,a.XA)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,a.CR)(d.value,2),m=p[0],g=p[1];c=c.concat(Ln(g,n,r)),Dn(g)&&(e.views.delete(m),g.query._queryParams.loadsAllData()||l.push(g.query))}}catch(e){i={error:e}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(g=e.views.get(u))&&(c=c.concat(Ln(g,n,r)),Dn(g)&&(e.views.delete(u),g.query._queryParams.loadsAllData()||l.push(g.query)));return h&&!Gn(e)&&l.push(new((0,o.hu)(Nn,"Reference.ts has not been loaded"),Nn)(t._repo,t._path)),{removed:l,events:c}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;u=l.events;var h=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(i,(function(e,t){return Gn(t)}));if(h&&!f){var d=e.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&Gn(t))return[Kn(t)];var r=[];return t&&(r=Bn(t)),M(n,(function(e,t){r=r.concat(t)})),r}))}(d),m=0;m<p.length;++m){var g=p[m],v=g.query,y=or(e,g);e.listenProvider_.startListening(hr(v),ar(e,v),y.hashFn,y.onComplete)}}!f&&c.length>0&&!r&&(h?e.listenProvider_.stopListening(hr(t),null):c.forEach((function(t){var n=e.queryToTagMap.get(sr(t));e.listenProvider_.stopListening(hr(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=sr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,c)}return u}function er(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Ee(e,r);i=i||Vn(t,n),a=a||Gn(t)}));var s,u=e.syncPointTree_.get(r);u?(a=a||Gn(u),i=i||Vn(u,de())):(u=new Un,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=it.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Vn(t,de());n&&(i=i.updateImmediateChild(e,n))})));var l=Hn(u,t);if(!l&&!t._queryParams.loadsAllData()){var c=sr(t);(0,o.hu)(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=$n++;e.queryToTagMap.set(c,h),e.tagToQueryMap.set(h,c)}var f=function(e,t,n,r,i,o){var a=qn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Xe,(function(e,t){r.push(gt(e,t))})),n.isFullyInitialized()&&r.push(mt(n.getNode())),Fn(e,r,n.getNode(),t)}(a,n)}(u,t,n,cn(e.pendingWriteTree_,r),i,s);if(!l&&!a){var d=Wn(u,t);f=f.concat(function(e,t,n){var r=t._path,i=ar(e,t),a=or(e,n),s=e.listenProvider_.startListening(hr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!Gn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=u.fold((function(e,t,n){if(!_e(e)&&t&&Gn(t))return[Kn(t).query];var r=[];return t&&(r=r.concat(Bn(t).map((function(e){return e.query})))),M(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<l.length;++c){var h=l[c];e.listenProvider_.stopListening(hr(h),ar(e,h))}return s}(e,t,d))}return f}function tr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Vn(n,Ee(e,t));if(r)return r}));return pn(r,t,i,n,!0)}function nr(e,t){return rr(t,e.syncPointTree_,null,cn(e.pendingWriteTree_,de()))}function rr(e,t,n,r){if(_e(e.path))return ir(e,t,n,r);var i=t.get(de());null==n&&null!=i&&(n=Vn(i,de()));var o=[],a=pe(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=wn(r,a);o=o.concat(rr(s,u,l,c))}return i&&(o=o.concat(zn(i,e,r,n))),o}function ir(e,t,n,r){var i=t.get(de());null==n&&null!=i&&(n=Vn(i,de()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=wn(r,t),u=e.operationForChild(t);u&&(o=o.concat(ir(u,i,a,s)))})),i&&(o=o.concat(zn(i,e,r,n))),o}function or(e,t){var n=t.query,r=ar(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||it.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=ur(e,n);if(r){var i=lr(r),o=i.path,a=i.queryId,s=Ee(o,t);return cr(e,o,new zt(Ft(a),s))}return[]}(e,n._path,r):function(e,t){return nr(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Jn(e,n,null,i)}}}function ar(e,t){var n=sr(t);return e.queryToTagMap.get(n)}function sr(e){return e._path.toString()+"$"+e._queryIdentifier}function ur(e,t){return e.tagToQueryMap.get(t)}function lr(e){var t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new fe(e.substr(0,t))}}function cr(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),zn(r,n,cn(e.pendingWriteTree_,t),null)}function hr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.hu)(jn,"Reference.ts has not been loaded"),jn)(e._repo,e._path):e}var fr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),dr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=we(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return tr(this.syncTree_,this.path_)},e}(),pr=function(e,t,n){return e&&"object"==typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?mr(e[".sv"],t,n):"object"==typeof e[".sv"]?gr(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},mr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,o.hu)(!1,"Unexpected server value: "+e)}},gr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},vr=function(e,t,n,r){return br(t,new dr(n,e),r)},yr=function(e,t,n){return br(e,new fr(t),n)};function br(e,t,n){var r,i=e.getPriority().val(),o=pr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=pr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ye(s,at(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ye(o))),u.forEachChild(Xe,(function(e,i){var o=br(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var wr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function _r(e,t){for(var n=t instanceof fe?t:new fe(t),r=e,i=pe(n);null!==i;){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new wr(i,r,a),i=pe(n=ge(n))}return r}function Er(e){return e.node.value}function xr(e,t){e.node.value=t,Ir(e)}function Cr(e){return e.node.childCount>0}function kr(e,t){M(e.node.children,(function(n,r){t(new wr(n,e,r))}))}function Tr(e,t,n,r){n&&!r&&t(e),kr(e,(function(e){Tr(e,t,!0,r)})),n&&r&&t(e)}function Sr(e){return new fe(null===e.parent?e.name:Sr(e.parent)+"/"+e.name)}function Ir(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Er(e)&&!Cr(e)}(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Ir(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Ir(e))}(e.parent,e.name,e)}var Ar=/[\[\].#$\/\u0000-\u001F\u007F]/,Pr=/[\[\].#$\u0000-\u001F\u007F]/,Nr=10485760,Rr=function(e){return"string"==typeof e&&0!==e.length&&!Ar.test(e)},Or=function(e){return"string"==typeof e&&0!==e.length&&!Pr.test(e)},Dr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!I(e)||e&&"object"==typeof e&&(0,o.r3)(e,".sv")},Lr=function(e,t,n,r){r&&void 0===t||Mr((0,o.gK)(e,"value"),t,n)},Mr=function(e,t,n){var r=n instanceof fe?new Te(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ie(r));if("function"==typeof t)throw new Error(e+"contains a function "+Ie(r)+" with contents = "+t.toString());if(I(t))throw new Error(e+"contains "+t.toString()+" "+Ie(r));if("string"==typeof t&&t.length>Nr/3&&(0,o.ug)(t)>Nr)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+Ie(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,a=!1;if(M(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Rr(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ie(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.ug)(t),Se(e)}(r,t),Mr(e,n,r),u=(s=r).parts_.pop(),s.byteLength_-=(0,o.ug)(u),s.parts_.length>0&&(s.byteLength_-=1)})),i&&a)throw new Error(e+' contains ".value" child '+Ie(r)+" in addition to actual children.")}},Fr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];M(t,(function(e,t){var r=new fe(e);if(Mr(i,t,we(n,r)),".priority"===ve(r)&&!Dr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=ye(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Rr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(xe);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&ke(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},jr=function(e,t,n){if(!n||void 0!==t){if(I(t))throw new Error((0,o.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Dr(t))throw new Error((0,o.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ur=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},zr=function(e,t,n,r){if(!(r&&void 0===n||Rr(n)))throw new Error((0,o.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},qr=function(e,t,n,r){if(!(r&&void 0===n||Or(n)))throw new Error((0,o.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Br=function(e,t){if(".info"===pe(t))throw new Error(e+" failed = Can't modify data under /.info/")},Vr=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Rr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Or(e)}(n))throw new Error((0,o.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Wr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.gK)(e,t)+"must be a boolean.")},Hr=function(){this.eventLists_=[],this.recursionDepth_=0};function Gr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ce(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Kr(e,t,n){Gr(e,n),Zr(e,(function(e){return Ce(e,t)}))}function $r(e,t,n){Gr(e,n),Zr(e,(function(e){return ke(e,t)||ke(t,e)}))}function Zr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(Qr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Qr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();w&&x("event: "+n.toString()),z(r)}}}var Yr="repo_interrupt",Xr=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pt(),this.transactionQueueTree_=new wr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Jr(e){var t=e.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ei(e){return(t=(t={timestamp:Jr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ti(e,t,n,r,i){e.dataUpdateCount++;var a=new fe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.UI)(n,(function(e){return at(e)}));s=function(e,t,n,r){var i=ur(e,r);if(i){var o=lr(i),a=o.path,s=o.queryId,u=Ee(a,t),l=Yt.fromObject(n);return cr(e,a,new Bt(Ft(s),u,l))}return[]}(e.serverSyncTree_,a,u,i)}else{var l=at(n);s=function(e,t,n,r){var i=ur(e,r);if(null!=i){var o=lr(i),a=o.path,s=o.queryId,u=Ee(a,t);return cr(e,a,new qt(Ft(s),u,n))}return[]}(e.serverSyncTree_,a,l,i)}else if(r){var c=(0,o.UI)(n,(function(e){return at(e)}));s=function(e,t,n){var r=Yt.fromObject(n);return nr(e,new Bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var h=at(n);s=Xn(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=pi(e,a)),$r(e.eventQueue_,f,s)}function ni(e,t){ri(e,"connected",t),!1===t&&function(e){ci(e,"onDisconnectEvents");var t=ei(e),n=Pt();Ot(e.onDisconnect_,de(),(function(r,i){var o=vr(r,i,e.serverSyncTree_,t);Nt(n,r,o)}));var r=[];Ot(n,de(),(function(t,n){r=r.concat(Xn(e.serverSyncTree_,t,n));var i=bi(e,t);pi(e,i)})),e.onDisconnect_=Pt(),$r(e.eventQueue_,de(),r)}(e)}function ri(e,t,n){var r=new fe("/.info/"+t),i=at(n);e.infoData_.updateSnapshot(r,i);var o=Xn(e.infoSyncTree_,r,i);$r(e.eventQueue_,r,o)}function ii(e){return e.nextWriteId_++}function oi(e,t,n,r,i){ci(e,"set",{path:t.toString(),value:n,priority:r});var o=ei(e),a=at(n,r),s=tr(e.serverSyncTree_,t),u=yr(a,s,o),l=ii(e),c=Qn(e.serverSyncTree_,t,u,l,!0);Gr(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||S("set at "+t+" failed: "+n);var a=Yn(e.serverSyncTree_,l,!o);$r(e.eventQueue_,t,a),hi(0,i,n,r)}));var h=bi(e,t);pi(e,h),$r(e.eventQueue_,h,[])}function ai(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Rt(e.onDisconnect_,t),hi(0,n,r,i)}))}function si(e,t,n,r){var i=at(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Nt(e.onDisconnect_,t,i),hi(0,r,n,o)}))}function ui(e,t,n){var r;r=".info"===pe(t._path)?Jn(e.infoSyncTree_,t,n):Jn(e.serverSyncTree_,t,n),Kr(e.eventQueue_,t._path,r)}function li(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Yr)}function ci(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),x.apply(void 0,(0,a.ev)([r],(0,a.CR)(t)))}function hi(e,t,n,r){t&&z((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function fi(e,t,n){return tr(e.serverSyncTree_,t,n)||it.EMPTY_NODE}function di(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||yi(e,t),Er(t)){var n=gi(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=fi(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var l=n[u];(0,o.hu)(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var c=Ee(t,l.path);a=a.updateChild(c,l.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){ci(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Yn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);for(yi(e,_r(e.transactionQueueTree_,t)),di(e,e.transactionQueueTree_),$r(e.eventQueue_,t,i),s=0;s<o.length;s++)z(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else for(S("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;pi(e,t)}}),s)}(e,Sr(t),n)}else Cr(t)&&kr(t,(function(t){di(e,t)}))}function pi(e,t){var n=mi(e,t),r=Sr(n);return function(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,l,c=t[s],h=Ee(n,c.path),f=!1;if((0,o.hu)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,u=c.abortReason,i=i.concat(Yn(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)f=!0,u="maxretry",i=i.concat(Yn(e.serverSyncTree_,c.currentWriteId,!0));else{var d=fi(e,c.path,a);c.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Mr("transaction failed: Data returned ",p,c.path);var m=at(p);"object"==typeof p&&null!=p&&(0,o.r3)(p,".priority")||(m=m.updatePriority(d.getPriority()));var g=c.currentWriteId,v=ei(e),y=yr(m,d,v);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=y,c.currentWriteId=ii(e),a.splice(a.indexOf(g),1),i=(i=i.concat(Qn(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(Yn(e.serverSyncTree_,g,!0))}else f=!0,u="nodata",i=i.concat(Yn(e.serverSyncTree_,c.currentWriteId,!0))}$r(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,l=t[s].unwatcher,setTimeout(l,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);for(yi(e,e.transactionQueueTree_),u=0;u<r.length;u++)z(r[u]);di(e,e.transactionQueueTree_)}}(e,gi(e,n),r),r}function mi(e,t){var n,r=e.transactionQueueTree_;for(n=pe(t);null!==n&&void 0===Er(r);)r=_r(r,n),n=pe(t=ge(t));return r}function gi(e,t){var n=[];return vi(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function vi(e,t,n){var r=Er(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);kr(t,(function(t){vi(e,t,n)}))}function yi(e,t){var n=Er(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,xr(t,n.length>0?n:void 0)}kr(t,(function(t){yi(e,t)}))}function bi(e,t){var n=Sr(mi(e,t)),r=_r(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){wi(e,t)})),wi(e,r),Tr(r,(function(t){wi(e,t)})),n}function wi(e,t){var n=Er(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Yn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?xr(t,void 0):n.length=a+1,$r(e.eventQueue_,Sr(t),i),s=0;s<r.length;s++)z(r[s])}}var _i=function(e,t){var n=Ei(e),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new $(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new fe(n.pathString)}},Ei=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",l=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.XA)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,l=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},xi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},e}(),Ci=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ki=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Ti=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.BH;return ai(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Br("OnDisconnect.remove",this._path);var e=new o.BH;return si(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Br("OnDisconnect.set",this._path),Lr("OnDisconnect.set",e,this._path,!1);var t=new o.BH;return si(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Br("OnDisconnect.setWithPriority",this._path),Lr("OnDisconnect.setWithPriority",e,this._path,!1),jr("OnDisconnect.setWithPriority",t,!1);var n=new o.BH;return function(e,t,n,r,i){var o=at(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Nt(e.onDisconnect_,t,o),hi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Br("OnDisconnect.update",this._path),Fr("OnDisconnect.update",e,this._path,!1);var t=new o.BH;return function(e,t,n,r){if((0,o.xb)(n))return x("onDisconnect().update() called with empty data.  Don't do anything."),void hi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&M(n,(function(n,r){var i=at(r);Nt(e.onDisconnect_,we(t,n),i)})),hi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Si=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return _e(this._path)?null:ve(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ni(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=St(this._queryParams),t=D(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return St(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.m9)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ce(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Ii(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ai(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Fe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==A)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==P)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Xe){if(null!=t&&!Dr(t)||null!=n&&!Dr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof lt||e.getIndex()===ct,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Pi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ni=function(e){function t(t,n){return e.call(this,t,n,new Et,!1)||this}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=be(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Si),Ri=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new fe(t),r=Li(this.ref,t);return new e(this._node.getChild(n),r,Xe)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Li(n.ref,r),Xe))}))},e.prototype.hasChild=function(e){var t=new fe(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Oi(e,t){return(e=(0,o.m9)(e))._checkNotDeleted("ref"),void 0!==t?Li(e._root,t):e._root}function Di(e,t){(e=(0,o.m9)(e))._checkNotDeleted("refFromURL");var n=_i(t,e._repo.repoInfo_.nodeAdmin);Vr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||T("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Oi(e,n.path.toString())}function Li(e,t){var n;return null===pe((e=(0,o.m9)(e))._path)?("child","path",!1,(n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qr("child","path",n,false)):qr("child","path",t,!1),new Ni(e._repo,we(e._path,t))}function Mi(e,t){e=(0,o.m9)(e),Br("push",e._path),Lr("push",t,e._path,!0);var n,r=Jr(e._repo),i=ft(r),a=Li(e,i),s=Li(e,i);return n=null!=t?ji(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Fi(e){return Br("remove",e._path),ji(e,null)}function ji(e,t){e=(0,o.m9)(e),Br("set",e._path),Lr("set",t,e._path,!1);var n=new o.BH;return oi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Ui(e,t){e=(0,o.m9)(e),Br("setPriority",e._path),jr("setPriority",t,!1);var n=new o.BH;return oi(e._repo,we(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function zi(e,t,n){if(Br("setWithPriority",e._path),Lr("setWithPriority",t,e._path,!1),jr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.BH;return oi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function qi(e,t){Fr("update",t,e._path,!1);var n=new o.BH;return function(e,t,n,r){ci(e,"update",{path:t.toString(),value:n});var i=!0,a=ei(e),s={};if(M(n,(function(n,r){i=!1,s[n]=vr(we(t,n),at(r),e.serverSyncTree_,a)})),i)x("update() called with empty data.  Don't do anything."),hi(0,r,"ok",void 0);else{var u=ii(e),l=function(e,t,n,r){!function(e,t,n,r){(0,o.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=en(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Yt.fromObject(n);return nr(e,new Bt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,u);Gr(e.eventQueue_,l),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||S("update at "+t+" failed: "+n);var a=Yn(e.serverSyncTree_,u,!o),s=a.length>0?pi(e,t):t;$r(e.eventQueue_,s,a),hi(0,r,n,i)})),M(n,(function(n){var r=bi(e,we(t,n));pi(e,r)})),$r(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Bi(e){return function(e,t){var n=function(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Ee(e,n);r=r||Vn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Vn(i,de()):(i=new Un,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Vt(r,!0,!1):null;return Zt(qn(i,t,cn(e.pendingWriteTree_,t._path),o?a.getNode():it.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=at(n).withIndex(t._queryParams.getIndex()),i=Xn(e.serverSyncTree_,t._path,r);return Kr(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return ci(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.m9)(e))._repo,e).then((function(t){return new Ri(t,new Ni(e._repo,e._path),e._queryParams.getIndex())}))}var Vi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new xi("value",this,new Ri(e.snapshotNode,new Ni(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ci(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Wi=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ci(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");var n=Li(new Ni(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new xi(e.type,this,new Ri(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Hi(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){ui(e._repo,e,l),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new ki(n,o||void 0),l="value"===t?new Vi(u):new Wi(t,u);return function(e,t,n){var r;r=".info"===pe(t._path)?er(e.infoSyncTree_,t,n):er(e.serverSyncTree_,t,n),Kr(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return ui(e._repo,e,l)}}function Gi(e,t,n,r){return Hi(e,"value",t,n,r)}function Ki(e,t,n,r){return Hi(e,"child_added",t,n,r)}function $i(e,t,n,r){return Hi(e,"child_changed",t,n,r)}function Zi(e,t,n,r){return Hi(e,"child_moved",t,n,r)}function Qi(e,t,n,r){return Hi(e,"child_removed",t,n,r)}function Yi(e,t,n){var r=null,i=n?new ki(n):null;"value"===t?r=new Vi(i):t&&(r=new Wi(t,i)),ui(e._repo,e,r)}var Xi=function(){},Ji=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Lr("endAt",this._value,e._path,!0);var t=Ct(e._queryParams,this._value,this._key);if(Pi(t),Ai(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Si(e._repo,e._path,t,e._orderByCalled)},t}(Xi);function eo(e,t){return zr("endAt","key",t,!0),new Ji(e,t)}var to=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Lr("endBefore",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===Fe?("string"==typeof n&&(n=pt(n)),i=Ct(t,n,r)):i=Ct(t,n,null==r?A:pt(r)),i.endBeforeSet_=!0,i);if(Pi(o),Ai(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Si(e._repo,e._path,o,e._orderByCalled)},t}(Xi);function no(e,t){return zr("endBefore","key",t,!0),new to(e,t)}var ro=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Lr("startAt",this._value,e._path,!0);var t=xt(e._queryParams,this._value,this._key);if(Pi(t),Ai(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Si(e._repo,e._path,t,e._orderByCalled)},t}(Xi);function io(e,t){return void 0===e&&(e=null),zr("startAt","key",t,!0),new ro(e,t)}var oo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Lr("startAfter",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===Fe?("string"==typeof n&&(n=dt(n)),i=xt(t,n,r)):i=xt(t,n,null==r?P:dt(r)),i.startAfterSet_=!0,i);if(Pi(o),Ai(o),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Si(e._repo,e._path,o,e._orderByCalled)},t}(Xi);function ao(e,t){return zr("startAfter","key",t,!0),new oo(e,t)}var so=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Si(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled);var t,n,r},t}(Xi);function uo(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new so(e)}var lo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Si(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled);var t,n,r},t}(Xi);function co(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new lo(e)}var ho=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Ii(e,"orderByChild");var t=new fe(this._path);if(_e(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new lt(t),r=kt(e._queryParams,n);return Ai(r),new Si(e._repo,e._path,r,!0)},t}(Xi);function fo(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qr("orderByChild","path",e,!1),new ho(e)}var po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Ii(e,"orderByKey");var t=kt(e._queryParams,Fe);return Ai(t),new Si(e._repo,e._path,t,!0)},t}(Xi);function mo(){return new po}var go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Ii(e,"orderByPriority");var t=kt(e._queryParams,Xe);return Ai(t),new Si(e._repo,e._path,t,!0)},t}(Xi);function vo(){return new go}var yo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Ii(e,"orderByValue");var t=kt(e._queryParams,ct);return Ai(t),new Si(e._repo,e._path,t,!0)},t}(Xi);function bo(){return new yo}var wo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(Lr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ji(this._value,this._key)._apply(new ro(this._value,this._key)._apply(e))},t}(Xi);function _o(e,t){return zr("equalTo","key",t,!0),new wo(e,t)}function Eo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.m9)(e);try{for(var u=(0,a.XA)(r),l=u.next();!l.done;l=u.next()){var c=l.value;s=c._apply(s)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.hu)(!Nn,"__referenceConstructor has already been defined"),Nn=e}(Ni),function(e){(0,o.hu)(!jn,"__referenceConstructor has already been defined"),jn=e}(Ni);var xo={},Co=!1;function ko(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),x("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=_i(o,i),u=s.repoInfo,l=void 0;"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(a=!0,o="http://"+l+"?ns="+u.namespace,u=(s=_i(o,i)).repoInfo):a=!s.repoInfo.secure;var c=i&&a?new W(W.OWNER):new V(e.name,e.options,t);Vr("Invalid Firebase Database URL",s),_e(s.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=xo[t.name];i||(i={},xo[t.name]=i);var o=i[e.toURLString()];return o&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Xr(e,Co,n,r),i[e.toURLString()]=o,o}(u,e,c,new B(e.name,n));return new To(h,e)}var To=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){if(e.stats_=J(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new It(e.repoInfo_,(function(t,n,r,i){ti(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return ni(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Oe(e.repoInfo_,t,(function(t,n,r,i){ti(e,t,n,r,i)}),(function(t){ni(e,t)}),(function(t){!function(e,t){M(t,(function(t,n){ri(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=function(){return new Mt(e.stats_,e.server_)},i=e.repoInfo_.toString(),X[i]||(X[i]=r()),X[i]),e.infoData_=new At,e.infoSyncTree_=new Zn({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Xn(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),ri(e,"connected",!1),e.serverSyncTree_=new Zn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);$r(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ni(this._repo,de())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=xo[t])&&n[e.key]===e||T("Database "+t+"("+e.repoInfo_+") has already been deleted."),li(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&T("Cannot call "+e+" on a deleted database.")},e}();function So(e){(e=(0,o.m9)(e))._checkNotDeleted("goOffline"),li(e._repo)}function Io(e){var t;(e=(0,o.m9)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Yr)}var Ao={".sv":"timestamp"},Po=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function No(e,t,n){var r;if(e=(0,o.m9)(e),Br("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new o.BH,s=Gi(e,(function(){}));return function(t,n,r,i,s,u){ci(t,"transaction on "+n);var l={path:n,update:r,onComplete:function(t,n,r){var i=null;t?a.reject(t):(i=new Ri(r,new Ni(e._repo,e._path),Xe),a.resolve(new Po(n,i)))},status:null,order:v(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=fi(t,n,void 0);l.currentInputSnapshot=c;var h=l.update(c.val());if(void 0===h)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Mr("transaction failed: Data returned ",h,l.path),l.status=0;var f=_r(t.transactionQueueTree_,n),d=Er(f)||[];d.push(l),xr(f,d);var p=void 0;"object"==typeof h&&null!==h&&(0,o.r3)(h,".priority")?(p=(0,o.DV)(h,".priority"),(0,o.hu)(Dr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(tr(t.serverSyncTree_,n)||it.EMPTY_NODE).getPriority().val();var m=ei(t),g=at(h,p),y=yr(g,c,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=y,l.currentWriteId=ii(t);var b=Qn(t.serverSyncTree_,n,y,l.currentWriteId,l.applyLocally);$r(t.eventQueue_,n,b),di(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,s,i),a.promise}var Ro=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Oo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Do=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),qr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),qr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Mo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Lo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),l=function(e,t){n.call(u.context,new Do(s.database,e),t)};l.userCallback=n,l.context=u.context;var c=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Gi(this._delegate,l,c),n;case"child_added":return Ki(this._delegate,l,c),n;case"child_removed":return Qi(this._delegate,l,c),n;case"child_changed":return $i(this._delegate,l,c),n;case"child_moved":return Zi(this._delegate,l,c),n;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.Dv)("Query.off",0,3,arguments.length),Ur("Query.off",e,!0),(0,o.Wj)("Query.off","callback",t,!0),(0,o.lb)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Yi(this._delegate,e,r)}else Yi(this._delegate,e)},e.prototype.get=function(){var e=this;return Bi(this._delegate).then((function(t){return new Do(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.BH,l=function(e,t){var r=new Do(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};l.userCallback=n,l.context=s.context;var c=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":Gi(this._delegate,l,c,{onlyOnce:!0});break;case"child_added":Ki(this._delegate,l,c,{onlyOnce:!0});break;case"child_removed":Qi(this._delegate,l,c,{onlyOnce:!0});break;case"child_changed":$i(this._delegate,l,c,{onlyOnce:!0});break;case"child_moved":Zi(this._delegate,l,c,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Eo(this._delegate,uo(t)))},e.prototype.limitToLast=function(t){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new e(this.database,Eo(this._delegate,co(t)))},e.prototype.orderByChild=function(t){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new e(this.database,Eo(this._delegate,fo(t)))},e.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new e(this.database,Eo(this._delegate,mo()))},e.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Eo(this._delegate,vo()))},e.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new e(this.database,Eo(this._delegate,bo()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new e(this.database,Eo(this._delegate,io(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new e(this.database,Eo(this._delegate,ao(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new e(this.database,Eo(this._delegate,eo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new e(this.database,Eo(this._delegate,no(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new e(this.database,Eo(this._delegate,_o(t,n)))},e.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,o.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Mo(this.database,new Ni(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Mo=function(e){function t(t,n){var r=e.call(this,t,new Si(n._repo,n._path,new Et,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.ZT)(t,e),t.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,Li(this._delegate,e))},t.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",t,!0);var n=ji(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Br("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",t,!0);var i=qi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=zi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",e,!0);var t=Fi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,o.Wj)("Reference.transaction","onComplete",t,!0),Wr("Reference.transaction","applyLocally",n,!0);var i=No(this._delegate,e,{applyLocally:n}).then((function(e){return new Oo(e.committed,new Do(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",t,!0);var n=Ui(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",n,!0);var i=Mi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Br("Reference.onDisconnect",this._delegate._path),new Ro(new Ti(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Lo),Fo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={}),(e=(0,o.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new W(W.OWNER);else if(r.mockUserToken){var s=(0,o.Sg)(r.mockUserToken,e.app.options.projectId);a=new W(s)}!function(e,t,n,r){e.repoInfo_=new $(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.Dv)("database.ref",0,1,arguments.length),e instanceof Mo){var t=Di(this._delegate,e.toString());return new Mo(this,t)}return t=Oi(this._delegate,e),new Mo(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.Dv)(t,1,1,arguments.length);var n=Di(this._delegate,e);return new Mo(this,n)},e.prototype.goOffline=function(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),So(this._delegate)},e.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),Io(this._delegate)},e.ServerValue={TIMESTAMP:Ao,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}(),jo=Object.freeze({__proto__:null,forceLongPolling:function(){ae.forceDisallow(),re.forceAllow()},forceWebSockets:function(){re.forceDisallow()},isWebSocketsAvailable:function(){return ae.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Lt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);M(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n;e.stats_.incrementCounter(t),n=t,e.statsReporter_.statsToReport_[n]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;l(r);var c=new i.zt("auth-internal",new i.H0("database-standalone"));return c.setComponent(new i.wA("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Fo(ko(t,c,void 0,n,u),t),namespace:a}}}),Uo=Oe;Oe.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Oe.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var zo=ue,qo=$,Bo=Object.freeze({__proto__:null,DataConnection:Uo,RealTimeConnection:zo,hijackHash:function(e){var t=Oe.prototype.put;return Oe.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Oe.prototype.put=t}},ConnectionTarget:qo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Co=e}(e)}}),Vo=Fo.ServerValue;!function(t){l(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.wA("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Fo(ko(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Mo,Query:Lo,Database:Fo,DataSnapshot:Do,enableLogging:E,INTERNAL:jo,ServerValue:Vo,TEST_ACCESS:Bo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.10.3"),(0,o.Yr)()&&(e.exports=n)}(r.Z)},861:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,{in:function(){return o},Yd:function(){return h},Ub:function(){return f},Am:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=l[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},574:function(e,t,n){"use strict";n.d(t,{BH:function(){return f},LL:function(){return k},ZR:function(){return C},gQ:function(){return j},hu:function(){return i},g5:function(){return o},US:function(){return s},h$:function(){return u},r3:function(){return O},Sg:function(){return d},ne:function(){return U},p$:function(){return c},ZB:function(){return h},gK:function(){return V},m9:function(){return $},z$:function(){return p},GJ:function(){return R},jU:function(){return v},ru:function(){return y},d:function(){return w},xb:function(){return L},w1:function(){return _},uI:function(){return m},UG:function(){return g},Yr:function(){return x},b$:function(){return b},Mn:function(){return E},w9:function(){return N},cI:function(){return I},UI:function(){return M},xO:function(){return F},DV:function(){return D},ug:function(){return K},dS:function(){return G},Pz:function(){return A},Dv:function(){return B},Wj:function(){return W},lb:function(){return H}});var r=n(622),i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,d=63&l;u||(d=64,a||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var l=o<<2|a>>4;if(r.push(l),64!==s){var c=a<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=a(e);return s.encodeByteArray(t,!0)},l=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),s.encodeString(JSON.stringify(a),!1),""].join(".")}function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function g(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function v(){return"object"==typeof self&&self.self===self}function y(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return p().indexOf("Electron/")>=0}function _(){var e=p();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return p().indexOf("MSAppHost/")>=0}function x(){return!1}var C=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,k.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),k=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?T(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new C(i,s,r);return u},e}();function T(e,t){return e.replace(S,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var S=/\{\$([^}]+)}/g;function I(e){return JSON.parse(e)}function A(e){return JSON.stringify(e)}var P=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=I(l(o[0])||""),n=I(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},N=function(e){var t=P(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},R=function(e){var t=P(e).claims;return"object"==typeof t&&!0===t.admin};function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function L(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function F(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var j=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):r<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function U(e,t){var n=new z(e,t);return n.subscribe.bind(n)}var z=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=q),void 0===r.error&&(r.error=q),void 0===r.complete&&(r.complete=q);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function q(){}var B=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function V(e,t){return e+" failed: "+t+" argument "}function W(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(V(e,t)+"must be a valid function.")}function H(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(V(e,t)+"must be a valid context object.")}var G=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},K=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function $(e){return e&&e._delegate?e._delegate:e}},773:function(e,t,n){"use strict";var r=n(972),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=u(t),m=u(n),g=0;g<a.length;++g){var v=a[g];if(!(o[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=f(n,v);try{l(t,v,y)}catch(e){}}}}return t}},411:function(e,t,n){!function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t,n,r,o,s,u,l,c,d,p,m,g,v,y,b,w,_,E,x,C,k,T,S,I,A,P,N,R,O,D,L,M,F,j,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z="data-keen-slider-moves",q="data-keen-slider-v",B=[],V=null,W=!1,H=!1,G=0,K=[];function $(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.addEventListener(t,n,r),B.push([e,t,n,r])}function Z(e){if(E&&x===J(e)&&le()){var n=te(e).x;if(!re(e)&&I)return Y(e);I&&(We(),C=n,I=!1),e.cancelable&&e.preventDefault();var r=C-n;A+=Math.abs(r),!P&&A>5&&(P=!0,t.setAttribute(z,!0)),Me(S(r,Qe)*(he()?-1:1),e.timeStamp),C=n}}function Q(e){E||!le()||ne(e.target)||(E=!0,I=!0,x=J(e),P=!1,A=0,re(e),me(),_=p,C=te(e).x,Me(0,e.timeStamp),se("dragStart"))}function Y(e){E&&x===J(e,!0)&&le()&&(t.removeAttribute(z),E=!1,ye(),se("dragEnd"))}function X(e){return e.changedTouches}function J(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?X(e):ee(e);return t?t[0]?t[0].identifier:"error":"default"}function ee(e){return e.targetTouches}function te(e){var t=ee(e);return{x:de()?t?t[0].screenY:e.pageY:t?t[0].screenX:e.pageX,timestamp:e.timeStamp}}function ne(e){return e.hasAttribute(w.preventEvent)}function re(e){var t=ee(e);if(!t)return!0;var n=t[0],r=de()?n.clientY:n.clientX,i=de()?n.clientX:n.clientY,o=void 0!==k&&void 0!==T&&Math.abs(T-i)<=Math.abs(k-r);return k=r,T=i,o}function ie(e){le()&&E&&e.preventDefault()}function oe(){$(window,"orientationchange",Ne),$(window,"resize",(function(){return Pe()})),$(t,"dragstart",(function(e){le()&&e.preventDefault()})),$(t,"mousedown",Q),$(w.cancelOnLeave?t:window,"mousemove",Z),w.cancelOnLeave&&$(t,"mouseleave",Y),$(window,"mouseup",Y),$(t,"touchstart",Q,{passive:!0}),$(t,"touchmove",Z,{passive:!1}),$(t,"touchend",Y,{passive:!0}),$(t,"touchcancel",Y,{passive:!0}),$(window,"wheel",ie,{passive:!1})}function ae(){B.forEach((function(e){e[0].removeEventListener(e[1],e[2],e[3])})),B=[]}function se(e){w[e]&&w[e](Qe)}function ue(){return w.centered}function le(){return void 0!==n?n:w.controls}function ce(){return w.loop&&r>1}function he(){return w.rtl}function fe(){return!w.loop&&w.rubberband}function de(){return!!w.vertical}function pe(){N=window.requestAnimationFrame(ge)}function me(){N&&(window.cancelAnimationFrame(N),N=null),R=null}function ge(e){R||(R=e);var t=e-R,n=ve(t);if(t>=D)return Me(O-M,!1),j?j():void se("afterChange");var r=Fe(n);if(0===r||ce()||fe()||F){if(0!==r&&fe()&&!F)return xe();M+=n,Me(n,!1),pe()}else Me(n-r,!1)}function ve(e){return O*L(e/D)-M}function ye(){switch(se("beforeChange"),w.mode){case"free":_e();break;case"free-snap":Ee();break;case"snap":default:be()}}function be(){we((1===l&&0!==m?_:p)+Math.sign(m))}function we(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.duration,r=function(e){return 1+--e*e*e*e*e};Ce(qe(e=ze(e,arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4])),n,r,t)}function _e(){if(0===v)return!(!Fe(0)||ce())&&we(p);var e=w.friction/Math.pow(Math.abs(v),-.5);Ce(Math.pow(v,2)/e*Math.sign(v),6*Math.abs(v/e),(function(e){return 1-Math.pow(1-e,5)}))}function Ee(){if(0===v)return we(p);var e=w.friction/Math.pow(Math.abs(v),-.5),t=Math.pow(v,2)/e*Math.sign(v),n=6*Math.abs(v/e),r=(G+t)/(u/l);Ce((-1===m?Math.floor(r):Math.ceil(r))*(u/l)-G,n,(function(e){return 1-Math.pow(1-e,5)}))}function xe(){if(me(),0===v)return we(p,!0);var e=.04/Math.pow(Math.abs(v),-.5),t=Math.pow(v,2)/e*Math.sign(v),n=function(e){return--e*e*e+1},r=v;Ce(t,3*Math.abs(r/e),n,!0,(function(){Ce(qe(ze(p)),500,n,!0)}))}function Ce(e,t,n,r,i){me(),O=e,M=0,D=t,L=n,F=r,j=i,R=null,pe()}function ke(n){var r=h(e);r.length&&(t=r[0],Pe(n),oe(),se("mounted"))}function Te(){var e,t=U.breakpoints||[];for(var n in t)window.matchMedia(n).matches&&(e=n);if(e===V)return!0;var r=(V=e)?t[V]:U;r.breakpoints&&V&&delete r.breakpoints,w=i(i(i({},Ze),U),r),W=!0,d=null,se("optionsChanged"),Ae()}function Se(e){return"function"==typeof e?e():f(e,1,Math.max(ce()?r-1:r,1))}function Ie(){Te(),H=!0,se("created")}function Ae(e,t){e&&(U=e),t&&(V=null),Re(),ke(t)}function Pe(e){var n=window.innerWidth;if(Te()&&(n!==d||e)){d=n;var i=w.slides;"number"==typeof i?(s=null,r=i):(s=h(i,t),r=s?s.length:0);var a=w.dragSpeed;S="function"==typeof a?a:function(e){return e*a},u=de()?t.offsetHeight:t.offsetWidth,l=Se(w.slidesPerView),c=f(w.spacing,0,u/(l-1)-1),u+=c,o=ue()?(u/2-u/l/2)/u:0,De();var m=!H||W&&w.resetSlide?w.initial:p;$e(ce()?m:je(m)),de()&&t.setAttribute(q,!0),W=!1}}function Ne(e){Pe(),setTimeout(Pe,500),setTimeout(Pe,2e3)}function Re(){ae(),Le(),t&&t.hasAttribute(q)&&t.removeAttribute(q),se("destroyed")}function Oe(){s&&s.forEach((function(e,t){var n=y[t].distance*u-t*(u/l-c/l-c/l*(l-1)),r=de()?0:n,i=de()?n:0,o="translate3d(".concat(r,"px, ").concat(i,"px, 0)");e.style.transform=o,e.style["-webkit-transform"]=o}))}function De(){s&&s.forEach((function(e){var t="calc(".concat(100/l,"% - ").concat(c/l*(l-1),"px)");de()?(e.style["min-height"]=t,e.style["max-height"]=t):(e.style["min-width"]=t,e.style["max-width"]=t)}))}function Le(){if(s){var e=["transform","-webkit-transform"];e=[].concat(a(e),de?["min-height","max-height"]:["min-width","max-width"]),s.forEach((function(t){e.forEach((function(e){t.style.removeProperty(e)}))}))}}function Me(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ve(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now()),t&&(e=Ge(e)),G+=e,He()}function Fe(e){var t=u*(r-1*(ue()?1:l))/l,n=G+e;return n>t?n-t:n<0?n:0}function je(e){return f(e,0,r-1-(ue()?0:l-1))}function Ue(){var e=Math.abs(b),t=G<0?1-e:e;return{direction:m,progressTrack:t,progressSlides:t*r/(r-1),positions:y,position:G,speed:v,relativeSlide:(p%r+r)%r,absoluteSlide:p,size:r,slidesPerView:l,widthOrHeight:u}}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ce()?t?Be(e,n):e:je(e)}function qe(e){return-(-u/l*e+G)}function Be(e,t){var n=(p%r+r)%r,i=n<(e=(e%r+r)%r)?-n-r+e:-(n-e),o=n>e?r-n+e:e-n,a=t?Math.abs(i)<=o?i:o:e<n?i:o;return p+a}function Ve(e,t){clearTimeout(g);var n=Math.sign(e);if(n!==m&&We(),m=n,K.push({distance:e,time:t}),g=setTimeout((function(){K=[],v=0}),50),(K=K.slice(-6)).length<=1||0===m)return v=0;var r=K.slice(0,-1).reduce((function(e,t){return e+t.distance}),0),i=K[K.length-1].time,o=K[0].time;v=f(r/(i-o),-10,10)}function We(){K=[]}function He(){b=ce()?G%(u*r/l)/(u*r/l):G/(u*r/l),Ke();for(var e=[],t=0;t<r;t++){var n=(1/r*t-(b<0&&ce()?b+1:b))*r/l+o;ce()&&(n+=n>(r-1)/l?-r/l:n<-r/l+1?r/l:0);var i=1/l,a=n+i,s=a<i?a/i:a>1?1-(a-1)*l/1:1;e.push({portion:s<0||s>1?0:s,distance:he()?-1*n+1-i:n})}y=e,Oe(),se("move")}function Ge(e){if(ce())return e;var t,n=Fe(e);return fe()?0===n?e:e*(t=n/u,(1-Math.abs(t))*(1-Math.abs(t))):e-n}function Ke(){var e=Math.round(G/(u/l));e!==p&&(!ce()&&(e<0||e>r-1)||(p=e,se("slideChanged")))}function $e(e){se("beforeChange"),Me(qe(e),!1),se("afterChange")}var Ze={centered:!1,breakpoints:null,controls:!0,dragSpeed:1,friction:.0025,loop:!1,initial:0,duration:500,preventEvent:"data-keen-slider-pe",slides:".keen-slider__slide",vertical:!1,resetSlide:!1,slidesPerView:1,spacing:0,mode:"snap",rtl:!1,rubberband:!0,cancelOnLeave:!0},Qe={controls:function(e){n=e},destroy:Re,refresh:function(e){Ae(e,!0)},next:function(){we(p+1,!0)},prev:function(){we(p-1,!0)},moveToSlide:function(e,t){we(e,!0,t)},moveToSlideRelative:function(e){we(e,!0,arguments.length>2?arguments[2]:void 0,!0,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},resize:function(){Pe(!0)},details:function(){return Ue()},options:function(){var e=i({},w);return delete e.breakpoints,e}};return Ie(),Qe}function c(e){return Array.prototype.slice.call(e)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"function"==typeof e?c(e()):"string"==typeof e?c(t.querySelectorAll(e)):e instanceof HTMLElement!=0?[e]:e instanceof NodeList!=0?e:[]}function f(e,t,n){return Math.min(Math.max(e,t),n)}Math.sign||(Math.sign=function(e){return(e>0)-(e<0)||+e});var d=function e(t,n){var r=Object.prototype.toString.call(t);if(r!==Object.prototype.toString.call(n))return!1;if(["[object Array]","[object Object]"].indexOf(r)<0)return!1;var i="[object Array]"===r?t.length:Object.keys(t).length;if(i!==("[object Array]"===r?n.length:Object.keys(n).length))return!1;var o=function(t,n){var r=Object.prototype.toString.call(t);if(["[object Array]","[object Object]"].indexOf(r)>=0){if(!e(t,n))return!1}else{if(r!==Object.prototype.toString.call(n))return!1;if("[object Function]"===r){if(t.toString()!==n.toString())return!1}else if(t!==n)return!1}};if("[object Array]"===r){for(var a=0;a<i;a++)if(!1===o(t[a],n[a]))return!1}else for(var s in t)if(t.hasOwnProperty(s)&&!1===o(t[s],n[s]))return!1;return!0};e.default=l,e.useKeenSlider=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=t.useRef();function i(e){return d(r.current,e)||(r.current=e),r.current}var a=o(t.useState(null),2),s=a[0],u=a[1];return t.useEffect((function(){var e=new l(n.current,r.current);return u(e),function(){e.destroy()}}),[i(e)]),[n,s]},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(466))},347:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(u[c]=a[c]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},508:function(e,t,n){var r=n(710);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return c(new RegExp("(?:"+i.join("|")+")",h(r)),n)}(t,n,i):function(e,t,n){return f(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=p&&p!==m,E="+"===b||"*"===b,x="?"===b||"*"===b,C=n[2]||c,k=v||y;r.push({name:g||o++,prefix:m||"",delimiter:C,optional:x,repeat:E,partial:_,asterisk:!!w,pattern:k?l(k):w?".*":"[^"+u(C)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!=typeof c){var h,f=s[c.name];if(null==f){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[l].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[l].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');o+=c.prefix+h}}else o+=c}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)a+=u(l);else{var f=u(l.prefix),d="(?:"+l.pattern+")";t.push(l),l.repeat&&(d+="(?:"+f+d+")*"),a+=d=l.optional?l.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",c(new RegExp("^"+a,h(n)),t)}},710:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},270:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";return function(e,t){var n,r,i,o,a,s,u,l,c,h,f,d,p,m,g,v,y,b,w=this,_=!1,E=!0,x=!0,C={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},k=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!c&&D();for(var n,r,i=(e.target||e.srcElement).getAttribute("class")||"",o=0;o<j.length;o++)(n=j[o]).onTap&&i.indexOf("pswp__"+n.name)>-1&&(n.onTap(),r=!0);if(r){e.stopPropagation&&e.stopPropagation(),v=!0;var a=t.features.isOldAndroid?600:30;setTimeout((function(){v=!1}),a)}},T=function(e,n,r){t[(r?"add":"remove")+"Class"](e,"pswp__"+n)},S=function(){var e=1===g.getNumItemsFn();e!==m&&(T(r,"ui--one-slide",e),m=e)},I=function(){T(u,"share-modal--hidden",x)},A=function(){return(x=!x)?(t.removeClass(u,"pswp__share-modal--fade-in"),setTimeout((function(){x&&I()}),300)):(I(),setTimeout((function(){x||t.addClass(u,"pswp__share-modal--fade-in")}),30)),x||N(),!1},P=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),x||A(),1))},N=function(){for(var e,t,n,r,i="",o=0;o<g.shareButtons.length;o++)e=g.shareButtons[o],t=g.getImageURLForShare(e),n=g.getPageURLForShare(e),r=g.getTextForShare(e),i+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(r))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(i=g.parseShareButtonOut(e,i));u.children[0].innerHTML=i,u.children[0].onclick=P},R=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},O=0,D=function(){clearTimeout(b),O=0,c&&w.setIdle(!1)},L=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(b),b=setTimeout((function(){w.setIdle(!0)}),g.timeToIdleOutside))},M=function(e){d!==e&&(T(f,"preloader--active",!e),d=e)},F=function(n){var a=n.vGap;if(!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth){var s=g.barsSize;if(g.captionEl&&"auto"===s.bottom)if(o||((o=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),r.insertBefore(o,i),t.addClass(r,"pswp__ui--fit")),g.addCaptionHTMLFn(n,o,!0)){var u=o.clientHeight;a.bottom=parseInt(u,10)||44}else a.bottom=s.top;else a.bottom="auto"===s.bottom?0:s.bottom;a.top=s.top}else a.top=a.bottom=0},j=[{name:"caption",option:"captionEl",onInit:function(e){i=e}},{name:"share-modal",option:"shareEl",onInit:function(e){u=e},onTap:function(){A()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){A()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){a=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){f=e}}];w.init=function(){var a;t.extend(e.options,C,!0),g=e.options,r=t.getChildByClass(e.scrollWrap,"pswp__ui"),(h=e.listen)("onVerticalDrag",(function(e){E&&e<.95?w.hideControls():!E&&e>=.95&&w.showControls()})),h("onPinchClose",(function(e){E&&e<.9?(w.hideControls(),a=!0):a&&!E&&e>.9&&w.showControls()})),h("zoomGestureEnded",(function(){(a=!1)&&!E&&w.showControls()})),h("beforeChange",w.update),h("doubleTap",(function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)})),h("preventDragEvent",(function(e,t,n){var r=e.target||e.srcElement;r&&r.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(r.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(r.tagName))&&(n.prevent=!1)})),h("bindEvents",(function(){t.bind(r,"pswpTap click",k),t.bind(e.scrollWrap,"pswpTap",w.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",w.onMouseOver)})),h("unbindEvents",(function(){x||A(),y&&clearInterval(y),t.unbind(document,"mouseout",L),t.unbind(document,"mousemove",D),t.unbind(r,"pswpTap click",k),t.unbind(e.scrollWrap,"pswpTap",w.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",w.onMouseOver),n&&(t.unbind(document,n.eventK,w.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)})),h("destroy",(function(){g.captionEl&&(o&&r.removeChild(o),t.removeClass(i,"pswp__caption--empty")),u&&(u.children[0].onclick=null),t.removeClass(r,"pswp__ui--over-close"),t.addClass(r,"pswp__ui--hidden"),w.setIdle(!1)})),g.showAnimationDuration||t.removeClass(r,"pswp__ui--hidden"),h("initialZoomIn",(function(){g.showAnimationDuration&&t.removeClass(r,"pswp__ui--hidden")})),h("initialZoomOut",(function(){t.addClass(r,"pswp__ui--hidden")})),h("parseVerticalMargin",F),function(){var e,n,i,o=function(r){if(r)for(var o=r.length,a=0;a<o;a++){e=r[a],n=e.className;for(var s=0;s<j.length;s++)i=j[s],n.indexOf("pswp__"+i.name)>-1&&(g[i.option]?(t.removeClass(e,"pswp__element--disabled"),i.onInit&&i.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};o(r.children);var a=t.getChildByClass(r,"pswp__top-bar");a&&o(a.children)}(),g.shareEl&&s&&u&&(x=!0),S(),g.timeToIdle&&h("mouseUsed",(function(){t.bind(document,"mousemove",D),t.bind(document,"mouseout",L),y=setInterval((function(){2==++O&&w.setIdle(!0)}),g.timeToIdle/2)})),g.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=w.getFullscreenAPI()),n?(t.bind(document,n.eventK,w.updateFullscreen),w.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),g.preloaderEl&&(M(!0),h("beforeChange",(function(){clearTimeout(p),p=setTimeout((function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&M(!1):M(!0)}),g.loadingIndicatorDelay)})),h("imageLoadComplete",(function(t,n){e.currItem===n&&M(!0)})))},w.setIdle=function(e){c=e,T(r,"ui--idle",e)},w.update=function(){E&&e.currItem?(w.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,i),T(i,"caption--empty",!e.currItem.title)),_=!0):_=!1,x||A(),S()},w.updateFullscreen=function(r){r&&setTimeout((function(){e.setScrollOffset(0,t.getScrollY())}),50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},w.updateIndexIndicator=function(){g.counterEl&&(a.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},w.onGlobalTap=function(n){var r=(n=n||window.event).target||n.srcElement;if(!v)if(n.detail&&"mouse"===n.detail.pointerType){if(R(r))return void e.close();t.hasClass(r,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(E?w.hideControls():w.showControls()),g.tapToClose&&(t.hasClass(r,"pswp__img")||R(r)))return void e.close()},w.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;T(r,"ui--over-close",R(t))},w.hideControls=function(){t.addClass(r,"pswp__ui--hidden"),E=!1},w.showControls=function(){E=!0,_||w.update(),t.removeClass(r,"pswp__ui--hidden")},w.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},w.getFullscreenAPI=function(){var t,n=document.documentElement,r="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:r}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+r}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+r}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(l=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=l,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}})?r.call(t,n,t,e):r)||(e.exports=i)},357:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";return function(e,t,n,r){var i={features:null,bind:function(e,t,n,r){var i=(r?"remove":"add")+"EventListener";t=t.split(" ");for(var o=0;o<t.length;o++)t[o]&&e[i](t[o],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){i.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(i.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var r=e.length;r--;)if(e[r][n]===t)return r;return-1},extend:function(e,t,n){for(var r in t)if(t.hasOwnProperty(r)){if(n&&e.hasOwnProperty(r))continue;e[r]=t[r]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(i.features)return i.features;var e=i.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!n.pointerEvent){var r=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var o=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);o&&o.length>0&&(o=parseInt(o[1],10))>=1&&o<8&&(n.isOldIOSPhone=!0)}var a=r.match(/Android\s([0-9\.]*)/),s=a?a[1]:0;(s=parseFloat(s))>=1&&(s<4.4&&(n.isOldAndroid=!0),n.androidVersion=s),n.isMobileOpera=/opera mini|opera mobi/i.test(r)}for(var u,l,c=["transform","perspective","animationName"],h=["","webkit","Moz","ms","O"],f=0;f<4;f++){t=h[f];for(var d=0;d<3;d++)u=c[d],l=t+(t?u.charAt(0).toUpperCase()+u.slice(1):u),!n[u]&&l in e&&(n[u]=l);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var p=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-p)),r=window.setTimeout((function(){e(t+n)}),n);return p=t+n,r},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=n,n}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,n,r){t=t.split(" ");for(var i,o=(r?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(i=t[s])if("object"==typeof n&&n.handleEvent){if(r){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=a;e[o]("on"+i,n["oldIE"+i])}else e[o]("on"+i,n)});var o=this,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};i.extend(a,r);var s,u,l,c,h,f,d,p,m,g,v,y,b,w,_,E,x,C,k,T,S,I,A,P,N,R,O,D,L,M,F,j,U,z,q,B,V,W,H,G,K,$,Z,Q,Y,X,J,ee,te,ne,re,ie,oe,ae,se,ue,le={x:0,y:0},ce={x:0,y:0},he={x:0,y:0},fe={},de=0,pe={},me={x:0,y:0},ge=0,ve=!0,ye=[],be={},we=!1,_e=function(e,t){i.extend(o,t.publicMethods),ye.push(e)},Ee=function(e){var t=qt();return e>t-1?e-t:e<0?t+e:e},xe={},Ce=function(e,t){return xe[e]||(xe[e]=[]),xe[e].push(t)},ke=function(e){var t=xe[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var r=0;r<t.length;r++)t[r].apply(o,n)}},Te=function(){return(new Date).getTime()},Se=function(e){ae=e,o.bg.style.opacity=e*a.bgOpacity},Ie=function(e,t,n,r,i){(!we||i&&i!==o.currItem)&&(r/=i?i.fitRatio:o.currItem.fitRatio),e[I]=y+t+"px, "+n+"px"+b+" scale("+r+")"},Ae=function(e){te&&(e&&(g>o.currItem.fitRatio?we||(Qt(o.currItem,!1,!0),we=!0):we&&(Qt(o.currItem),we=!1)),Ie(te,he.x,he.y,g))},Pe=function(e){e.container&&Ie(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Ne=function(e,t){t[I]=y+e+"px, 0px"+b},Re=function(e,t){if(!a.loop&&t){var n=c+(me.x*de-e)/me.x,r=Math.round(e-ct.x);(n<0&&r>0||n>=qt()-1&&r<0)&&(e=ct.x+r*a.mainScrollEndFriction)}ct.x=e,Ne(e,h)},Oe=function(e,t){var n=ht[e]-pe[e];return ce[e]+le[e]+n-n*(t/v)},De=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Le=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Me=null,Fe=function(){Me&&(i.unbind(document,"mousemove",Fe),i.addClass(e,"pswp--has_mouse"),a.mouseUsed=!0,ke("mouseUsed")),Me=setTimeout((function(){Me=null}),100)},je=function(e,t){var n=Gt(o.currItem,fe,e);return t&&(ee=n),n},Ue=function(e){return e||(e=o.currItem),e.initialZoomLevel},ze=function(e){return e||(e=o.currItem),e.w>0?a.maxSpreadZoom:1},qe=function(e,t,n,r){return r===o.currItem.initialZoomLevel?(n[e]=o.currItem.initialPosition[e],!0):(n[e]=Oe(e,r),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Be=function(e){var t="";a.escKey&&27===e.keyCode?t="close":a.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,o[t]()))},Ve=function(e){e&&($||K||ne||V)&&(e.preventDefault(),e.stopPropagation())},We=function(){o.setScrollOffset(0,i.getScrollY())},He={},Ge=0,Ke=function(e){He[e]&&(He[e].raf&&R(He[e].raf),Ge--,delete He[e])},$e=function(e){He[e]&&Ke(e),He[e]||(Ge++,He[e]={})},Ze=function(){for(var e in He)He.hasOwnProperty(e)&&Ke(e)},Qe=function(e,t,n,r,i,o,a){var s,u=Te();$e(e);var l=function(){if(He[e]){if((s=Te()-u)>=r)return Ke(e),o(n),void(a&&a());o((n-t)*i(s/r)+t),He[e].raf=N(l)}};l()},Ye={shout:ke,listen:Ce,viewportSize:fe,options:a,isMainScrollAnimating:function(){return ne},getZoomLevel:function(){return g},getCurrentIndex:function(){return c},isDragging:function(){return H},isZooming:function(){return X},setScrollOffset:function(e,t){pe.x=e,M=pe.y=t,ke("updateScrollOffset",pe)},applyZoomPan:function(e,t,n,r){he.x=t,he.y=n,g=e,Ae(r)},init:function(){if(!s&&!u){var n;o.framework=i,o.template=e,o.bg=i.getChildByClass(e,"pswp__bg"),O=e.className,s=!0,F=i.detectFeatures(),N=F.raf,R=F.caf,I=F.transform,L=F.oldIE,o.scrollWrap=i.getChildByClass(e,"pswp__scroll-wrap"),o.container=i.getChildByClass(o.scrollWrap,"pswp__container"),h=o.container.style,o.itemHolders=E=[{el:o.container.children[0],wrap:0,index:-1},{el:o.container.children[1],wrap:0,index:-1},{el:o.container.children[2],wrap:0,index:-1}],E[0].el.style.display=E[2].el.style.display="none",function(){if(I){var t=F.perspective&&!P;return y="translate"+(t?"3d(":"("),void(b=F.perspective?", 0px)":")")}I="left",i.addClass(e,"pswp--ie"),Ne=function(e,t){t.left=e+"px"},Pe=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,r=t*e.w,i=t*e.h;n.width=r+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Ae=function(){if(te){var e=te,t=o.currItem,n=t.fitRatio>1?1:t.fitRatio,r=n*t.w,i=n*t.h;e.width=r+"px",e.height=i+"px",e.left=he.x+"px",e.top=he.y+"px"}}}(),m={resize:o.updateSize,orientationchange:function(){clearTimeout(j),j=setTimeout((function(){fe.x!==o.scrollWrap.clientWidth&&o.updateSize()}),500)},scroll:We,keydown:Be,click:Ve};var r=F.isOldIOSPhone||F.isOldAndroid||F.isMobileOpera;for(F.animationName&&F.transform&&!r||(a.showAnimationDuration=a.hideAnimationDuration=0),n=0;n<ye.length;n++)o["init"+ye[n]]();t&&(o.ui=new t(o,i)).init(),ke("firstUpdate"),c=c||a.index||0,(isNaN(c)||c<0||c>=qt())&&(c=0),o.currItem=zt(c),(F.isOldIOSPhone||F.isOldAndroid)&&(ve=!1),e.setAttribute("aria-hidden","false"),a.modal&&(ve?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),void 0===M&&(ke("initialLayout"),M=D=i.getScrollY());var l="pswp--open ";for(a.mainClass&&(l+=a.mainClass+" "),a.showHideOpacity&&(l+="pswp--animate_opacity "),l+=P?"pswp--touch":"pswp--notouch",l+=F.animationName?" pswp--css_animation":"",l+=F.svg?" pswp--svg":"",i.addClass(e,l),o.updateSize(),f=-1,ge=null,n=0;n<3;n++)Ne((n+f)*me.x,E[n].el.style);L||i.bind(o.scrollWrap,p,o),Ce("initialZoomInEnd",(function(){o.setContent(E[0],c-1),o.setContent(E[2],c+1),E[0].el.style.display=E[2].el.style.display="block",a.focus&&e.focus(),i.bind(document,"keydown",o),F.transform&&i.bind(o.scrollWrap,"click",o),a.mouseUsed||i.bind(document,"mousemove",Fe),i.bind(window,"resize scroll orientationchange",o),ke("bindEvents")})),o.setContent(E[1],c),o.updateCurrItem(),ke("afterInit"),ve||(w=setInterval((function(){Ge||H||X||g!==o.currItem.initialZoomLevel||o.updateSize()}),1e3)),i.addClass(e,"pswp--visible")}},close:function(){s&&(s=!1,u=!0,ke("close"),i.unbind(window,"resize scroll orientationchange",o),i.unbind(window,"scroll",m.scroll),i.unbind(document,"keydown",o),i.unbind(document,"mousemove",Fe),F.transform&&i.unbind(o.scrollWrap,"click",o),H&&i.unbind(window,d,o),clearTimeout(j),ke("unbindEvents"),Bt(o.currItem,null,!0,o.destroy))},destroy:function(){ke("destroy"),Mt&&clearTimeout(Mt),e.setAttribute("aria-hidden","true"),e.className=O,w&&clearInterval(w),i.unbind(o.scrollWrap,p,o),i.unbind(window,"scroll",o),pt(),Ze(),xe=null},panTo:function(e,t,n){n||(e>ee.min.x?e=ee.min.x:e<ee.max.x&&(e=ee.max.x),t>ee.min.y?t=ee.min.y:t<ee.max.y&&(t=ee.max.y)),he.x=e,he.y=t,Ae()},handleEvent:function(e){e=e||window.event,m[e.type]&&m[e.type](e)},goTo:function(e){var t=(e=Ee(e))-c;ge=t,c=e,o.currItem=zt(c),de-=t,Re(me.x*de),Ze(),ne=!1,o.updateCurrItem()},next:function(){o.goTo(c+1)},prev:function(){o.goTo(c-1)},updateCurrZoomItem:function(e){if(e&&ke("beforeChange",0),E[1].el.children.length){var t=E[1].el.children[0];te=i.hasClass(t,"pswp__zoom-wrap")?t.style:null}else te=null;ee=o.currItem.bounds,v=g=o.currItem.initialZoomLevel,he.x=ee.center.x,he.y=ee.center.y,e&&ke("afterChange")},invalidateCurrItems:function(){_=!0;for(var e=0;e<3;e++)E[e].item&&(E[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ge){var t,n=Math.abs(ge);if(!(e&&n<2)){o.currItem=zt(c),we=!1,ke("beforeChange",ge),n>=3&&(f+=ge+(ge>0?-3:3),n=3);for(var r=0;r<n;r++)ge>0?(t=E.shift(),E[2]=t,f++,Ne((f+2)*me.x,t.el.style),o.setContent(t,c-n+r+1+1)):(t=E.pop(),E.unshift(t),f--,Ne(f*me.x,t.el.style),o.setContent(t,c+n-r-1-1));if(te&&1===Math.abs(ge)){var i=zt(x);i.initialZoomLevel!==g&&(Gt(i,fe),Qt(i),Pe(i))}ge=0,o.updateCurrZoomItem(),x=c,ke("afterChange")}}},updateSize:function(t){if(!ve&&a.modal){var n=i.getScrollY();if(M!==n&&(e.style.top=n+"px",M=n),!t&&be.x===window.innerWidth&&be.y===window.innerHeight)return;be.x=window.innerWidth,be.y=window.innerHeight,e.style.height=be.y+"px"}if(fe.x=o.scrollWrap.clientWidth,fe.y=o.scrollWrap.clientHeight,We(),me.x=fe.x+Math.round(fe.x*a.spacing),me.y=fe.y,Re(me.x*de),ke("beforeResize"),void 0!==f){for(var r,s,u,l=0;l<3;l++)r=E[l],Ne((l+f)*me.x,r.el.style),u=c+l-1,a.loop&&qt()>2&&(u=Ee(u)),(s=zt(u))&&(_||s.needsUpdate||!s.bounds)?(o.cleanSlide(s),o.setContent(r,u),1===l&&(o.currItem=s,o.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===r.index&&u>=0&&o.setContent(r,u),s&&s.container&&(Gt(s,fe),Qt(s),Pe(s));_=!1}v=g=o.currItem.initialZoomLevel,(ee=o.currItem.bounds)&&(he.x=ee.center.x,he.y=ee.center.y,Ae(!0)),ke("resize")},zoomTo:function(e,t,n,r,o){t&&(v=g,ht.x=Math.abs(t.x)-he.x,ht.y=Math.abs(t.y)-he.y,De(ce,he));var a=je(e,!1),s={};qe("x",a,s,e),qe("y",a,s,e);var u=g,l=he.x,c=he.y;Le(s);var h=function(t){1===t?(g=e,he.x=s.x,he.y=s.y):(g=(e-u)*t+u,he.x=(s.x-l)*t+l,he.y=(s.y-c)*t+c),o&&o(t),Ae(1===t)};n?Qe("customZoomTo",0,1,n,r||i.easing.sine.inOut,h):h(1)}},Xe={},Je={},et={},tt={},nt={},rt=[],it={},ot=[],at={},st=0,ut={x:0,y:0},lt=0,ct={x:0,y:0},ht={x:0,y:0},ft={x:0,y:0},dt=function(e,t){return at.x=Math.abs(e.x-t.x),at.y=Math.abs(e.y-t.y),Math.sqrt(at.x*at.x+at.y*at.y)},pt=function(){Z&&(R(Z),Z=null)},mt=function(){H&&(Z=N(mt),At())},gt=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:gt(e.parentNode,t))},vt={},yt=function(e,t){return vt.prevent=!gt(e.target,a.isClickableElement),ke("preventDragEvent",e,t,vt),vt.prevent},bt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},wt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},_t=function(){var e=he.y-o.currItem.initialPosition.y;return 1-Math.abs(e/(fe.y/2))},Et={},xt={},Ct=[],kt=function(e){for(;Ct.length>0;)Ct.pop();return A?(ue=0,rt.forEach((function(e){0===ue?Ct[0]=e:1===ue&&(Ct[1]=e),ue++}))):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Ct[0]=bt(e.touches[0],Et),e.touches.length>1&&(Ct[1]=bt(e.touches[1],xt))):(Et.x=e.pageX,Et.y=e.pageY,Et.id="",Ct[0]=Et),Ct},Tt=function(e,t){var n,r,i,s,u=he[e]+t[e],l=t[e]>0,c=ct.x+t.x,h=ct.x-it.x;if(n=u>ee.min[e]||u<ee.max[e]?a.panEndFriction:1,u=he[e]+t[e]*n,(a.allowPanToNext||g===o.currItem.initialZoomLevel)&&(te?"h"!==re||"x"!==e||K||(l?(u>ee.min[e]&&(n=a.panEndFriction,ee.min[e],r=ee.min[e]-ce[e]),(r<=0||h<0)&&qt()>1?(s=c,h<0&&c>it.x&&(s=it.x)):ee.min.x!==ee.max.x&&(i=u)):(u<ee.max[e]&&(n=a.panEndFriction,ee.max[e],r=ce[e]-ee.max[e]),(r<=0||h>0)&&qt()>1?(s=c,h>0&&c<it.x&&(s=it.x)):ee.min.x!==ee.max.x&&(i=u))):s=c,"x"===e))return void 0!==s&&(Re(s,!0),Q=s!==it.x),ee.min.x!==ee.max.x&&(void 0!==i?he.x=i:Q||(he.x+=t.x*n)),void 0!==s;ne||Q||g>o.currItem.fitRatio&&(he[e]+=t[e]*n)},St=function(e){if(!("mousedown"===e.type&&e.button>0))if(Ut)e.preventDefault();else if(!W||"mousedown"!==e.type){if(yt(e,!0)&&e.preventDefault(),ke("pointerDown"),A){var t=i.arraySearch(rt,e.pointerId,"id");t<0&&(t=rt.length),rt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=kt(e),r=n.length;Y=null,Ze(),H&&1!==r||(H=ie=!0,i.bind(window,d,o),B=se=oe=V=Q=$=G=K=!1,re=null,ke("firstTouchStart",n),De(ce,he),le.x=le.y=0,De(tt,n[0]),De(nt,tt),it.x=me.x*de,ot=[{x:tt.x,y:tt.y}],z=U=Te(),je(g,!0),pt(),mt()),!X&&r>1&&!ne&&!Q&&(v=g,K=!1,X=G=!0,le.y=le.x=0,De(ce,he),De(Xe,n[0]),De(Je,n[1]),wt(Xe,Je,ft),ht.x=Math.abs(ft.x)-he.x,ht.y=Math.abs(ft.y)-he.y,J=dt(Xe,Je))}},It=function(e){if(e.preventDefault(),A){var t=i.arraySearch(rt,e.pointerId,"id");if(t>-1){var n=rt[t];n.x=e.pageX,n.y=e.pageY}}if(H){var r=kt(e);if(re||$||X)Y=r;else if(ct.x!==me.x*de)re="h";else{var o=Math.abs(r[0].x-tt.x)-Math.abs(r[0].y-tt.y);Math.abs(o)>=10&&(re=o>0?"h":"v",Y=r)}}},At=function(){if(Y){var e=Y.length;if(0!==e)if(De(Xe,Y[0]),et.x=Xe.x-tt.x,et.y=Xe.y-tt.y,X&&e>1){if(tt.x=Xe.x,tt.y=Xe.y,!et.x&&!et.y&&function(e,t){return e.x===t.x&&e.y===t.y}(Y[1],Je))return;De(Je,Y[1]),K||(K=!0,ke("zoomGestureStarted"));var t=dt(Xe,Je),n=Dt(t);n>o.currItem.initialZoomLevel+o.currItem.initialZoomLevel/15&&(se=!0);var r=1,i=Ue(),s=ze();if(n<i)if(a.pinchToClose&&!se&&v<=o.currItem.initialZoomLevel){var u=1-(i-n)/(i/1.2);Se(u),ke("onPinchClose",u),oe=!0}else(r=(i-n)/i)>1&&(r=1),n=i-r*(i/3);else n>s&&((r=(n-s)/(6*i))>1&&(r=1),n=s+r*i);r<0&&(r=0),wt(Xe,Je,ut),le.x+=ut.x-ft.x,le.y+=ut.y-ft.y,De(ft,ut),he.x=Oe("x",n),he.y=Oe("y",n),B=n>g,g=n,Ae()}else{if(!re)return;if(ie&&(ie=!1,Math.abs(et.x)>=10&&(et.x-=Y[0].x-nt.x),Math.abs(et.y)>=10&&(et.y-=Y[0].y-nt.y)),tt.x=Xe.x,tt.y=Xe.y,0===et.x&&0===et.y)return;if("v"===re&&a.closeOnVerticalDrag&&"fit"===a.scaleMode&&g===o.currItem.initialZoomLevel){le.y+=et.y,he.y+=et.y;var l=_t();return V=!0,ke("onVerticalDrag",l),Se(l),void Ae()}(function(e,t,n){if(e-z>50){var r=ot.length>2?ot.shift():{};r.x=t,r.y=n,ot.push(r),z=e}})(Te(),Xe.x,Xe.y),$=!0,ee=o.currItem.bounds,Tt("x",et)||(Tt("y",et),Le(he),Ae())}}},Pt=function(e){if(F.isOldAndroid){if(W&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(W),W=setTimeout((function(){W=0}),600))}var t;if(ke("pointerUp"),yt(e,!1)&&e.preventDefault(),A){var n=i.arraySearch(rt,e.pointerId,"id");if(n>-1)if(t=rt.splice(n,1)[0],navigator.msPointerEnabled){t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}else t.type=e.pointerType||"mouse"}var r,s=kt(e),u=s.length;if("mouseup"===e.type&&(u=0),2===u)return Y=null,!0;1===u&&De(nt,s[0]),0!==u||re||ne||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),ke("touchRelease",e,t));var l=-1;if(0===u&&(H=!1,i.unbind(window,d,o),pt(),X?l=0:-1!==lt&&(l=Te()-lt)),lt=1===u?Te():-1,r=-1!==l&&l<150?"zoom":"swipe",X&&u<2&&(X=!1,1===u&&(r="zoomPointerUp"),ke("zoomGestureEnded")),Y=null,$||K||ne||V)if(Ze(),q||(q=Nt()),q.calculateSwipeSpeed("x"),V)if(_t()<a.verticalDragRange)o.close();else{var c=he.y,h=ae;Qe("verticalDrag",0,1,300,i.easing.cubic.out,(function(e){he.y=(o.currItem.initialPosition.y-c)*e+c,Se((1-h)*e+h),Ae()})),ke("onVerticalDrag",1)}else{if((Q||ne)&&0===u){if(Ot(r,q))return;r="zoomPointerUp"}ne||("swipe"===r?!Q&&g>o.currItem.fitRatio&&Rt(q):Lt())}},Nt=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(r){ot.length>1?(e=Te()-z+50,t=ot[ot.length-2][r]):(e=Te()-U,t=nt[r]),n.lastFlickOffset[r]=tt[r]-t,n.lastFlickDist[r]=Math.abs(n.lastFlickOffset[r]),n.lastFlickDist[r]>20?n.lastFlickSpeed[r]=n.lastFlickOffset[r]/e:n.lastFlickSpeed[r]=0,Math.abs(n.lastFlickSpeed[r])<.1&&(n.lastFlickSpeed[r]=0),n.slowDownRatio[r]=.95,n.slowDownRatioReverse[r]=1-n.slowDownRatio[r],n.speedDecelerationRatio[r]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(he[e]>ee.min[e]?n.backAnimDestination[e]=ee.min[e]:he[e]<ee.max[e]&&(n.backAnimDestination[e]=ee.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,Qe("bounceZoomPan"+e,he[e],n.backAnimDestination[e],t||300,i.easing.sine.out,(function(t){he[e]=t,Ae()})))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,he[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(He.zoomPan&&(He.zoomPan.raf=N(n.panAnimLoop),n.now=Te(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Ae(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return he.x=Math.round(he.x),he.y=Math.round(he.y),Ae(),void Ke("zoomPan")}};return n},Rt=function(e){if(e.calculateSwipeSpeed("y"),ee=o.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;$e("zoomPan"),e.lastNow=Te(),e.panAnimLoop()},Ot=function(e,t){var n,r,s;if(ne||(st=c),"swipe"===e){var u=tt.x-nt.x,l=t.lastFlickDist.x<10;u>30&&(l||t.lastFlickOffset.x>20)?r=-1:u<-30&&(l||t.lastFlickOffset.x<-20)&&(r=1)}r&&((c+=r)<0?(c=a.loop?qt()-1:0,s=!0):c>=qt()&&(c=a.loop?0:qt()-1,s=!0),s&&!a.loop||(ge+=r,de-=r,n=!0));var h,f=me.x*de,d=Math.abs(f-ct.x);return n||f>ct.x==t.lastFlickSpeed.x>0?(h=Math.abs(t.lastFlickSpeed.x)>0?d/Math.abs(t.lastFlickSpeed.x):333,h=Math.min(h,400),h=Math.max(h,250)):h=333,st===c&&(n=!1),ne=!0,ke("mainScrollAnimStart"),Qe("mainScroll",ct.x,f,h,i.easing.cubic.out,Re,(function(){Ze(),ne=!1,st=-1,(n||st!==c)&&o.updateCurrItem(),ke("mainScrollAnimComplete")})),n&&o.updateCurrItem(!0),n},Dt=function(e){return 1/J*e*v},Lt=function(){var e=g,t=Ue(),n=ze();g<t?e=t:g>n&&(e=n);var r,a=ae;return oe&&!B&&!se&&g<t?(o.close(),!0):(oe&&(r=function(e){Se((1-a)*e+a)}),o.zoomTo(e,0,200,i.easing.cubic.out,r),!0)};_e("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,r,i){C=e+t,k=e+n,T=e+r,S=i?e+i:""};(A=F.pointerEvent)&&F.touch&&(F.touch=!1),A?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):F.touch?(e("touch","start","move","end","cancel"),P=!0):e("mouse","down","move","up"),d=k+" "+T+" "+S,p=C,A&&!P&&(P=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),o.likelyTouchDevice=P,m[C]=St,m[k]=It,m[T]=Pt,S&&(m[S]=m[T]),F.touch&&(p+=" mousedown",d+=" mousemove mouseup",m.mousedown=m[C],m.mousemove=m[k],m.mouseup=m[T]),P||(a.allowPanToNext=!1)}}});var Mt,Ft,jt,Ut,zt,qt,Bt=function(t,n,r,s){var u;Mt&&clearTimeout(Mt),Ut=!0,jt=!0,t.initialLayout?(u=t.initialLayout,t.initialLayout=null):u=a.getThumbBoundsFn&&a.getThumbBoundsFn(c);var h,f,d=r?a.hideAnimationDuration:a.showAnimationDuration,p=function(){Ke("initialZoom"),r?(o.template.removeAttribute("style"),o.bg.removeAttribute("style")):(Se(1),n&&(n.style.display="block"),i.addClass(e,"pswp--animated-in"),ke("initialZoom"+(r?"OutEnd":"InEnd"))),s&&s(),Ut=!1};if(!d||!u||void 0===u.x)return ke("initialZoom"+(r?"Out":"In")),g=t.initialZoomLevel,De(he,t.initialPosition),Ae(),e.style.opacity=r?0:1,Se(1),void(d?setTimeout((function(){p()}),d):p());h=l,f=!o.currItem.src||o.currItem.loadError||a.showHideOpacity,t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),r||(g=u.w/t.w,he.x=u.x,he.y=u.y-D,o[f?"template":"bg"].style.opacity=.001,Ae()),$e("initialZoom"),r&&!h&&i.removeClass(e,"pswp--animated-in"),f&&(r?i[(h?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout((function(){i.addClass(e,"pswp--animate_opacity")}),30)),Mt=setTimeout((function(){if(ke("initialZoom"+(r?"Out":"In")),r){var n=u.w/t.w,o={x:he.x,y:he.y},a=g,s=ae,l=function(t){1===t?(g=n,he.x=u.x,he.y=u.y-M):(g=(n-a)*t+a,he.x=(u.x-o.x)*t+o.x,he.y=(u.y-M-o.y)*t+o.y),Ae(),f?e.style.opacity=1-t:Se(s-t*s)};h?Qe("initialZoom",0,1,d,i.easing.cubic.out,l,p):(l(1),Mt=setTimeout(p,d+20))}else g=t.initialZoomLevel,De(he,t.initialPosition),Ae(),Se(1),f?e.style.opacity=1:Se(1),Mt=setTimeout(p,d+20)}),r?25:90)},Vt={},Wt=[],Ht={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ft.length}},Gt=function(e,t,n){if(e.src&&!e.loadError){var r=!n;if(r&&(e.vGap||(e.vGap={top:0,bottom:0}),ke("parseVerticalMargin",e)),Vt.x=t.x,Vt.y=t.y-e.vGap.top-e.vGap.bottom,r){var i=Vt.x/e.w,o=Vt.y/e.h;e.fitRatio=i<o?i:o;var s=a.scaleMode;"orig"===s?n=1:"fit"===s&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return function(e,t,n){var r=e.bounds;r.center.x=Math.round((Vt.x-t)/2),r.center.y=Math.round((Vt.y-n)/2)+e.vGap.top,r.max.x=t>Vt.x?Math.round(Vt.x-t):r.center.x,r.max.y=n>Vt.y?Math.round(Vt.y-n)+e.vGap.top:r.center.y,r.min.x=t>Vt.x?0:r.center.x,r.min.y=n>Vt.y?e.vGap.top:r.center.y}(e,e.w*n,e.h*n),r&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds},Kt=function(e,t,n,r,i,a){t.loadError||r&&(t.imageAppended=!0,Qt(t,r,t===o.currItem&&we),n.appendChild(r),a&&setTimeout((function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)}),500))},$t=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Zt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=a.errorMsg.replace("%url%",e.src),!0},Qt=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var r=n?e.w:Math.round(e.w*e.fitRatio),i=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=r+"px",e.placeholder.style.height=i+"px"),t.style.width=r+"px",t.style.height=i+"px"}},Yt=function(){if(Wt.length){for(var e,t=0;t<Wt.length;t++)(e=Wt[t]).holder.index===e.index&&Kt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Wt=[]}};_e("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ee(e);var t=zt(e);t&&(!t.loaded&&!t.loading||_)&&(ke("gettingData",e,t),t.src&&$t(t))},initController:function(){i.extend(a,Ht,!0),o.items=Ft=n,zt=o.getItemAt,qt=a.getNumItemsFn,a.loop,qt()<3&&(a.loop=!1),Ce("beforeChange",(function(e){var t,n=a.preload,r=null===e||e>=0,i=Math.min(n[0],qt()),s=Math.min(n[1],qt());for(t=1;t<=(r?s:i);t++)o.lazyLoadItem(c+t);for(t=1;t<=(r?i:s);t++)o.lazyLoadItem(c-t)})),Ce("initialLayout",(function(){o.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(c)})),Ce("mainScrollAnimComplete",Yt),Ce("initialZoomInEnd",Yt),Ce("destroy",(function(){for(var e,t=0;t<Ft.length;t++)(e=Ft[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Wt=null}))},getItemAt:function(e){return e>=0&&void 0!==Ft[e]&&Ft[e]},allowProgressiveImg:function(){return a.forceProgressiveLoading||!P||a.mouseUsed||screen.width>1200},setContent:function(e,t){a.loop&&(t=Ee(t));var n=o.getItemAt(e.index);n&&(n.container=null);var r,u=o.getItemAt(t);if(u){ke("gettingData",t,u),e.index=t,e.item=u;var l=u.container=i.createEl("pswp__zoom-wrap");if(!u.src&&u.html&&(u.html.tagName?l.appendChild(u.html):l.innerHTML=u.html),Zt(u),Gt(u,fe),!u.src||u.loadError||u.loaded)u.src&&!u.loadError&&((r=i.createEl("pswp__img","img")).style.opacity=1,r.src=u.src,Qt(u,r),Kt(0,u,l,r));else{if(u.loadComplete=function(n){if(s){if(e&&e.index===t){if(Zt(n,!0))return n.loadComplete=n.img=null,Gt(n,fe),Pe(n),void(e.index===c&&o.updateCurrZoomItem());n.imageAppended?!Ut&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):F.transform&&(ne||Ut)?Wt.push({item:n,baseDiv:l,img:n.img,index:t,holder:e,clearPlaceholder:!0}):Kt(0,n,l,n.img,0,!0)}n.loadComplete=null,n.img=null,ke("imageLoadComplete",t,n)}},i.features.transform){var h="pswp__img pswp__img--placeholder";h+=u.msrc?"":" pswp__img--placeholder--blank";var f=i.createEl(h,u.msrc?"img":"");u.msrc&&(f.src=u.msrc),Qt(u,f),l.appendChild(f),u.placeholder=f}u.loading||$t(u),o.allowProgressiveImg()&&(!jt&&F.transform?Wt.push({item:u,baseDiv:l,img:u.img,index:t,holder:e}):Kt(0,u,l,u.img,0,!0))}jt||t!==c?Pe(u):(te=l.style,Bt(u,r||u.img)),e.el.innerHTML="",e.el.appendChild(l)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var Xt,Jt,en={},tn=function(e,t,n){var r=document.createEvent("CustomEvent"),i={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};r.initCustomEvent("pswpTap",!0,!0,i),e.target.dispatchEvent(r)};_e("Tap",{publicMethods:{initTap:function(){Ce("firstTouchStart",o.onTapStart),Ce("touchRelease",o.onTapRelease),Ce("destroy",(function(){en={},Xt=null}))},onTapStart:function(e){e.length>1&&(clearTimeout(Xt),Xt=null)},onTapRelease:function(e,t){if(t&&!$&&!G&&!Ge){var n=t;if(Xt&&(clearTimeout(Xt),Xt=null,r=n,o=en,Math.abs(r.x-o.x)<25&&Math.abs(r.y-o.y)<25))return void ke("doubleTap",n);if("mouse"===t.type)return void tn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||i.hasClass(e.target,"pswp__single-tap"))return void tn(e,t);De(en,n),Xt=setTimeout((function(){tn(e,t),Xt=null}),300)}var r,o}}}),_e("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(P?Ce("mouseUsed",(function(){o.setupDesktopZoom()})):o.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Jt={};var n="wheel mousewheel DOMMouseScroll";Ce("bindEvents",(function(){i.bind(e,n,o.handleMouseWheel)})),Ce("unbindEvents",(function(){Jt&&i.unbind(e,n,o.handleMouseWheel)})),o.mouseZoomedIn=!1;var r,a=function(){o.mouseZoomedIn&&(i.removeClass(e,"pswp--zoomed-in"),o.mouseZoomedIn=!1),g<1?i.addClass(e,"pswp--zoom-allowed"):i.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){r&&(i.removeClass(e,"pswp--dragging"),r=!1)};Ce("resize",a),Ce("afterChange",a),Ce("pointerDown",(function(){o.mouseZoomedIn&&(r=!0,i.addClass(e,"pswp--dragging"))})),Ce("pointerUp",s),t||a()},handleMouseWheel:function(e){if(g<=o.currItem.fitRatio)return a.modal&&(!a.closeOnScroll||Ge||H?e.preventDefault():I&&Math.abs(e.deltaY)>2&&(l=!0,o.close())),!0;if(e.stopPropagation(),Jt.x=0,"deltaX"in e)1===e.deltaMode?(Jt.x=18*e.deltaX,Jt.y=18*e.deltaY):(Jt.x=e.deltaX,Jt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Jt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Jt.y=-.16*e.wheelDeltaY:Jt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Jt.y=e.detail}je(g,!0);var t=he.x-Jt.x,n=he.y-Jt.y;(a.modal||t<=ee.min.x&&t>=ee.max.x&&n<=ee.min.y&&n>=ee.max.y)&&e.preventDefault(),o.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:fe.x/2+pe.x,y:fe.y/2+pe.y};var n=a.getDoubleTapZoom(!0,o.currItem),r=g===n;o.mouseZoomedIn=!r,o.zoomTo(r?o.currItem.initialZoomLevel:n,t,333),i[(r?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var nn,rn,on,an,sn,un,ln,cn,hn,fn,dn,pn,mn={history:!0,galleryUID:1},gn=function(){return dn.hash.substring(1)},vn=function(){nn&&clearTimeout(nn),on&&clearTimeout(on)},yn=function(){var e=gn(),t={};if(e.length<5)return t;var n,r=e.split("&");for(n=0;n<r.length;n++)if(r[n]){var i=r[n].split("=");i.length<2||(t[i[0]]=i[1])}if(a.galleryPIDs){var o=t.pid;for(t.pid=0,n=0;n<Ft.length;n++)if(Ft[n].pid===o){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},bn=function(){if(on&&clearTimeout(on),Ge||H)on=setTimeout(bn,500);else{an?clearTimeout(rn):an=!0;var e=c+1,t=zt(c);t.hasOwnProperty("pid")&&(e=t.pid);var n=ln+"&gid="+a.galleryUID+"&pid="+e;cn||-1===dn.hash.indexOf(n)&&(fn=!0);var r=dn.href.split("#")[0]+"#"+n;pn?"#"+n!==window.location.hash&&history[cn?"replaceState":"pushState"]("",document.title,r):cn?dn.replace(r):dn.hash=n,cn=!0,rn=setTimeout((function(){an=!1}),60)}};_e("History",{publicMethods:{initHistory:function(){if(i.extend(a,mn,!0),a.history){dn=window.location,fn=!1,hn=!1,cn=!1,ln=gn(),pn="pushState"in history,ln.indexOf("gid=")>-1&&(ln=(ln=ln.split("&gid=")[0]).split("?gid=")[0]),Ce("afterChange",o.updateURL),Ce("unbindEvents",(function(){i.unbind(window,"hashchange",o.onHashChange)}));var e=function(){un=!0,hn||(fn?history.back():ln?dn.hash=ln:pn?history.pushState("",document.title,dn.pathname+dn.search):dn.hash=""),vn()};Ce("unbindEvents",(function(){l&&e()})),Ce("destroy",(function(){un||e()})),Ce("firstUpdate",(function(){c=yn().pid}));var t=ln.indexOf("pid=");t>-1&&"&"===(ln=ln.substring(0,t)).slice(-1)&&(ln=ln.slice(0,-1)),setTimeout((function(){s&&i.bind(window,"hashchange",o.onHashChange)}),40)}},onHashChange:function(){if(gn()===ln)return hn=!0,void o.close();an||(sn=!0,o.goTo(yn().pid),sn=!1)},updateURL:function(){vn(),sn||(cn?nn=setTimeout(bn,800):bn())}}}),i.extend(o,Ye)}})?r.call(t,n,t,e):r)||(e.exports=i)},433:function(e,t,n){"use strict";var r=n(642);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},74:function(e,t,n){e.exports=n(433)()},642:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},748:function(e,t,n){"use strict";var r=n(466),i=n(347),o=n(767);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,x=60106,C=60107,k=60108,T=60114,S=60109,I=60110,A=60112,P=60113,N=60120,R=60115,O=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),x=U("react.portal"),C=U("react.fragment"),k=U("react.strict_mode"),T=U("react.profiler"),S=U("react.provider"),I=U("react.context"),A=U("react.forward_ref"),P=U("react.suspense"),N=U("react.suspense_list"),R=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var z,q="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function V(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function G(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return H(e.type,!1);case 11:return H(e.type.render,!1);case 22:return H(e.type._render,!1);case 1:return H(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case T:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return K(e.type);case D:return K(e._render);case O:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function le(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Se=null,Ie=null;function Ae(e){if(e=Jr(e)){if("function"!=typeof Te)throw Error(a(280));var t=e.stateNode;t&&(t=ti(t),Te(e.stateNode,e.type,t))}}function Pe(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function Ne(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Re(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Re,Me=!1,Fe=!1;function je(){null===Se&&null===Ie||(De(),Ne())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(h)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){ze=!1}function Be(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Ve=!1,We=null,He=!1,Ge=null,Ke={onError:function(e){Ve=!0,We=e}};function $e(e,t,n,r,i,o,a,s,u){Ve=!1,We=null,Be.apply(Ke,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ye(e){if(Ze(e)!==e)throw Error(a(188))}function Xe(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ye(i),e;if(o===r)return Ye(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Je(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,lt=new Map,ct=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=Jr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Xr(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Jr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Jr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&vt(at)&&(at=null),null!==st&&vt(st)&&(st=null),null!==ut&&vt(ut)&&(ut=null),lt.forEach(yt),ct.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),lt.forEach(t),ct.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Ct={},kt={};function Tt(e){if(Ct[e])return Ct[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Ct[e]=n[t];return e}h&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var St=Tt("animationend"),It=Tt("animationiteration"),At=Tt("animationstart"),Pt=Tt("transitionend"),Nt=new Map,Rt=new Map,Ot=["abort","abort",St,"animationEnd",It,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Nt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!=(s&=o)&&(r=Mt(s),i=Lt)}else 0!=(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Ut(10,t):e;case 10:return 0===(e=zt(192&~t))?Ut(8,t):e;case 8:return 0===(e=zt(3584&~t))&&0===(e=zt(4186112&~t))&&(e=512),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function zt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2,Gt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,$t=!0;function Zt(e,t,n,r){Me||De();var i=Yt,o=Me;Me=!0;try{Oe(i,e,t,n,r)}finally{(Me=o)||je()}}function Qt(e,t,n,r){Kt(Gt,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var i;if($t)if((i=0==(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Nr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=ke(r);if(null!==(i=Xr(i))){var o=Ze(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Qe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Nr(e,t,r,i,n),null}var Jt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,ln,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(hn),dn=i({},hn,{view:0,detail:0}),pn=sn(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(un=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=un=0,cn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=sn(mn),vn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},dn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Tn(){return kn}var Sn=sn(i({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),In=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=sn(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],On=h&&"CompositionEvent"in window,Dn=null;h&&"documentMode"in document&&(Dn=document.documentMode);var Ln=h&&"TextEvent"in window&&!Dn,Mn=h&&(!On||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1,Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){Pe(r),0<(t=Or(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Kn(e){kr(e,0)}function $n(e){if(Y(ei(e)))return e}function Zn(e,t){if("change"===e)return t}var Qn=!1;if(h){var Yn;if(h){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"==typeof Jn.oninput}Yn=Xn}else Yn=!1;Qn=Yn&&(!document.documentMode||9<document.documentMode)}function er(){Hn&&(Hn.detachEvent("onpropertychange",tr),Gn=Hn=null)}function tr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];if(Wn(t,Gn,e,ke(e)),e=Kn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,je()}}}}function nr(e,t,n){"focusin"===e?(er(),Gn=n,(Hn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ir(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==X(r)||(r="selectionStart"in(r=mr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Or(gr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Ot,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<wr.length;_r++)Rt.set(wr[_r],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if($e.apply(this,arguments),Ve){if(!Ve)throw Error(a(198));var c=We;Ve=!1,We=null,He||(He=!0,Ge=c)}}(r,t,void 0,e),e.currentTarget=null}function kr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,l),o=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Tr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Sr="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){e[Sr]||(e[Sr]=!0,s.forEach((function(t){xr.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&xr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ni(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Pr(o,e,i,t),a.add(s))}function Pr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Zt;break;case 1:i=Qt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Xr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,je()}}((function(){var r=o,i=ke(n),a=[];e:{var s=Nt.get(e);if(void 0!==s){var u=fn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Sn;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case St:case It:case At:u=bn;break;case Pt:u=Pn;break;case"scroll":u=pn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&null!=(m=Ue(p,f))&&c.push(Rr(p,m,d))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!Xr(l)&&!l[Qr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Xr(l):null)&&(l!==(h=Ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=gn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ei(u),d=null==l?s:ei(l),(s=new c(m,p+"leave",u,n,i)).target=h,s.relatedTarget=d,m=null,Xr(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,m=c),h=m,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Dr(d))p++;for(d=0,m=f;m;m=Dr(m))d++;for(;0<p-d;)c=Dr(c),p--;for(;0<d-p;)f=Dr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Dr(c),f=Dr(f)}c=null}else c=null;null!==u&&Lr(a,s,u,c,!1),null!==l&&null!==h&&Lr(a,h,l,c,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Zn;else if(Vn(s))if(Qn)g=or;else{g=rr;var v=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ei(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(mr=v,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=nn()):(en="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(v=Or(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:v}),(y||null!==(y=zn(n)))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&Un(e,t)?(e=nn(),tn=en=Jt=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Or(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}kr(a,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Or(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Rr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Rr(e,o,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ue(n,o))&&a.unshift(Rr(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(Rr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Mr(){}var Fr=null,jr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,Br="function"==typeof clearTimeout?clearTimeout:void 0;function Vr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Hr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0,Kr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Kr,Zr="__reactProps$"+Kr,Qr="__reactContainer$"+Kr,Yr="__reactEvents$"+Kr;function Xr(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Hr(e);null!==e;){if(n=e[$r])return n;e=Hr(e)}return t}n=(e=n).parentNode}return null}function Jr(e){return!(e=e[$r]||e[Qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ti(e){return e[Zr]||null}function ni(e){var t=e[Yr];return void 0===t&&(t=e[Yr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function ai(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function si(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},li=oi(ui),ci=oi(!1),hi=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function di(e){return null!=e.childContextTypes}function pi(){ai(ci),ai(li)}function mi(e,t,n){if(li.current!==ui)throw Error(a(168));si(li,t),si(ci,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,K(t)||"Unknown",o));return i({},n,r)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,hi=li.current,si(li,e),si(ci,ci.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ai(ci),ai(li),si(li,e)):ai(ci),si(ci,n)}var bi=null,wi=null,_i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,xi=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,ki=o.unstable_requestPaint,Ti=o.unstable_now,Si=o.unstable_getCurrentPriorityLevel,Ii=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,Ni=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Oi={},Di=void 0!==ki?ki:function(){},Li=null,Mi=null,Fi=!1,ji=Ti(),Ui=1e4>ji?Ti:function(){return Ti()-ji};function zi(){switch(Si()){case Ii:return 99;case Ai:return 98;case Pi:return 97;case Ni:return 96;case Ri:return 95;default:throw Error(a(332))}}function qi(e){switch(e){case 99:return Ii;case 98:return Ai;case 97:return Pi;case 96:return Ni;case 95:return Ri;default:throw Error(a(332))}}function Bi(e,t){return e=qi(e),_i(e,t)}function Vi(e,t,n){return e=qi(e),Ei(e,t,n)}function Wi(){if(null!==Mi){var e=Mi;Mi=null,xi(e)}Hi()}function Hi(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;Bi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Ei(Ii,Wi),t}finally{Fi=!1}}}var Gi=_.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=oi(null),Zi=null,Qi=null,Yi=null;function Xi(){Yi=Qi=Zi=null}function Ji(e){var t=$i.current;ai($i),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Zi=e,Yi=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Oa=!0),e.firstContext=null)}function no(e,t){if(Yi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Yi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===Zi)throw Error(a(308));Qi=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,r){var o=e.updateQueue;ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=l)}}if(null!==a){for(f=o.baseState,s=0,h=c=l=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(u=t,d=n,m.tag){case 1:if("function"==typeof(p=m.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(d,f,u):p))break e;f=i({},f,u);break e;case 2:ro=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=d,l=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Ls|=s,e.lanes=s,e.memoizedState=f}}function co(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new r.Component).refs;function fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=au(),r=su(e),i=ao(n,r);i.tag=2,null!=t&&(i.callback=t),so(e,i),uu(e,r,n)}};function mo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function go(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=di(t)?hi:li.current,o=(r=null!=(r=t.contextTypes))?fi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=di(t)?hi:li.current,i.context=fi(e,o)),lo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),lo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=qu(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Bu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Wu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=qu(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case x:return(t=Hu(t,e.mode,n)).return=e,t}if(bo(t)||B(t))return(t=Bu(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===C?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null}if(bo(n)||B(n))return null!==i?null:h(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===C?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function m(i,a,s,u){for(var l=null,c=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,s[m],u);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v,h=g}if(m===s.length)return n(i,h),l;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(a=o(h,a,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),l}function g(i,s,u,l){var c=B(u);if("function"!=typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=d(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===h?c=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,l))&&(s=o(y,s,g),null===h?c=y:h.sibling=y,h=y);return c}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"==typeof o&&null!==o&&o.type===C&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case E:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===C){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=wo(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===C?((r=Bu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=qu(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return s(e);case x:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Hu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Wu(o,e.mode,u)).return=e,e=r),s(e);if(bo(o))return m(e,r,o,u);if(B(o))return g(e,r,o,u);if(c&&_o(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return n(e,r)}}var xo=Eo(!0),Co=Eo(!1),ko={},To=oi(ko),So=oi(ko),Io=oi(ko);function Ao(e){if(e===ko)throw Error(a(174));return e}function Po(e,t){switch(si(Io,t),si(So,e),si(To,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(To),si(To,t)}function No(){ai(To),ai(So),ai(Io)}function Ro(e){Ao(Io.current);var t=Ao(To.current),n=de(t,e.type);t!==n&&(si(So,e),si(To,n))}function Oo(e){So.current===e&&(ai(To),ai(So))}var Do=oi(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Fo=null,jo=!1;function Uo(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function qo(e){if(jo){var t=Fo;if(t){var n=t;if(!zo(e,t)){if(!(t=Wr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,jo=!1,void(Mo=e);Uo(Mo,n)}Mo=e,Fo=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,jo=!1,Mo=e}}function Bo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function Vo(e){if(e!==Mo)return!1;if(!jo)return Bo(e),jo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Fo;t;)Uo(e,t),t=Wr(t.nextSibling);if(Bo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Mo?Wr(e.stateNode.nextSibling):null;return!0}function Wo(){Fo=Mo=null,jo=!1}var Ho=[];function Go(){for(var e=0;e<Ho.length;e++)Ho[e]._workInProgressVersionPrimary=null;Ho.length=0}var Ko=_.ReactCurrentDispatcher,$o=_.ReactCurrentBatchConfig,Zo=0,Qo=null,Yo=null,Xo=null,Jo=!1,ea=!1;function ta(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){if(Zo=o,Qo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=null===e||null===e.memoizedState?Aa:Pa,e=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Xo=Yo=null,t.updateQueue=null,Ko.current=Na,e=n(r,i)}while(ea)}if(Ko.current=Ia,t=null!==Yo&&null!==Yo.next,Zo=0,Xo=Yo=Qo=null,Jo=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xo?Qo.memoizedState=Xo=e:Xo=Xo.next=e,Xo}function oa(){if(null===Yo){var e=Qo.alternate;e=null!==e?e.memoizedState:null}else e=Yo.next;var t=null===Xo?Qo.memoizedState:Xo.next;if(null!==t)Xo=t,Yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Yo=e).memoizedState,baseState:Yo.baseState,baseQueue:Yo.baseQueue,queue:Yo.queue,next:null},null===Xo?Qo.memoizedState=Xo=e:Xo=Xo.next=e}return Xo}function aa(e,t){return"function"==typeof t?t(e):t}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if((Zo&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,Qo.lanes|=c,Ls|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,ar(r,t.memoizedState)||(Oa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(Oa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function la(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,Ho.push(t))),e)return n(t._source);throw Ho.push(t),Error(a(350))}function ca(e,t,n,r){var i=Ss;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Ko.current,l=u.useState((function(){return la(i,t,n)})),c=l[1],h=l[0];l=Xo;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,m=f.source;f=f.subscribe;var g=Qo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=o(t._source);if(!ar(s,e)){e=n(t._source),ar(h,e)||(c(e),e=su(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Vt(a),l=1<<u;r[u]|=e,a&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=su(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(p,n)&&ar(m,t)&&ar(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:h}).dispatch=c=Sa.bind(null,Qo,e),l.queue=e,l.baseQueue=null,h=la(i,t,n),l.memoizedState=l.baseState=h),h}function ha(e,t,n){return ca(oa(),e,t,n)}function fa(e){var t=ia();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e}).dispatch=Sa.bind(null,Qo,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qo.updateQueue)?(t={lastEffect:null},Qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function ma(){return oa().memoizedState}function ga(e,t,n,r){var i=ia();Qo.flags|=e,i.memoizedState=da(1|t,n,void 0,void 0===r?null:r)}function va(e,t,n,r){var i=oa();r=void 0===r?null:r;var o=void 0;if(null!==Yo){var a=Yo.memoizedState;if(o=a.destroy,null!==r&&na(r,a.deps))return void da(t,n,o,r)}Qo.flags|=e,i.memoizedState=da(1|t,n,o,r)}function ya(e,t){return ga(516,4,e,t)}function ba(e,t){return va(516,4,e,t)}function wa(e,t){return va(4,2,e,t)}function _a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(e,t,n){return n=null!=n?n.concat([e]):null,va(4,2,_a.bind(null,t,e),n)}function xa(){}function Ca(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ka(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ta(e,t){var n=zi();Bi(98>n?98:n,(function(){e(!0)})),Bi(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{e(!1),t()}finally{$o.transition=n}}))}function Sa(e,t,n){var r=au(),i=su(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Qo||null!==a&&a===Qo)ea=Jo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,ar(u,s))return}catch(e){}uu(e,i,r)}}var Ia={readContext:no,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Aa={readContext:no,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ga(4,2,_a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Sa.bind(null,Qo,e),[r.memoizedState,e]},useRef:pa,useState:fa,useDebugValue:xa,useDeferredValue:function(e){var t=fa(e),n=t[0],r=t[1];return ya((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=fa(!1),t=e[0];return pa(e=Ta.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ca(r,e,t,n)},useOpaqueIdentifier:function(){if(jo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(a(355))})),n=fa(t)[1];return 0==(2&Qo.mode)&&(Qo.flags|=516,da(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return fa(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},Pa={readContext:no,useCallback:Ca,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:ka,useReducer:sa,useRef:ma,useState:function(){return sa(aa)},useDebugValue:xa,useDeferredValue:function(e){var t=sa(aa),n=t[0],r=t[1];return ba((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=sa(aa)[0];return[ma().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return sa(aa)[0]},unstable_isNewReconciler:!1},Na={readContext:no,useCallback:Ca,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:ka,useReducer:ua,useRef:ma,useState:function(){return ua(aa)},useDebugValue:xa,useDeferredValue:function(e){var t=ua(aa),n=t[0],r=t[1];return ba((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=ua(aa)[0];return[ma().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(aa)[0]},unstable_isNewReconciler:!1},Ra=_.ReactCurrentOwner,Oa=!1;function Da(e,t,n,r){t.child=null===e?Co(t,null,n,r):xo(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=ra(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ja(e,t,i))}function Ma(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Uu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?Ja(e,t,o):(t.flags|=1,(e=zu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Oa=!1,0==(o&i))return t.lanes=e.lanes,Ja(e,t,o);0!=(16384&e.flags)&&(Oa=!0)}return za(e,t,n,r,o)}function ja(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},gu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gu(0,e),null;t.memoizedState={baseLanes:0},gu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,gu(0,r);return Da(e,t,i,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=di(n)?hi:li.current;return o=fi(t,o),to(t,i),n=ra(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ja(e,t,i))}function qa(e,t,n,r,i){if(di(n)){var o=!0;vi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;l="object"==typeof l&&null!==l?no(l):fi(t,l=di(n)?hi:li.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&vo(t,a,r,l),ro=!1;var f=t.memoizedState;a.state=f,lo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||ci.current||ro?("function"==typeof c&&(fo(t,n,c,r),u=t.memoizedState),(s=ro||mo(t,n,s,r,f,u,l))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,oo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Ki(t.type,s),a.props=l,h=t.pendingProps,f=a.context,u="object"==typeof(u=n.contextType)&&null!==u?no(u):fi(t,u=di(n)?hi:li.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==u)&&vo(t,a,r,u),ro=!1,f=t.memoizedState,a.state=f,lo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||ci.current||ro?("function"==typeof d&&(fo(t,n,d,r),p=t.memoizedState),(l=ro||mo(t,n,l,r,f,p,u))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ba(e,t,n,r,o,i)}function Ba(e,t,n,r,i,o){Ua(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&yi(t,n,!1),Ja(e,t,o);r=t.stateNode,Ra.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):Da(e,t,s,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function Va(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Po(e,t.containerInfo)}var Wa,Ha,Ga,Ka={dehydrated:null,retryLane:0};function $a(e,t,n){var r,i=t.pendingProps,o=Do.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),si(Do,1&o),null===e?(void 0!==i.fallback&&qo(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ka,e):"number"==typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ka,t.lanes=33554432,e):((n=Vu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zu(a,s),null!==e?r=zu(e,r):(r=Bu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ka,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=zu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Vu(t,i,0,null),n=Bu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Qa(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Ya(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Xa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Da(e,t,r.children,n),0!=(2&(r=Do.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qa(e,n);else if(19===e.tag)Qa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Do,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ya(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ya(t,!0,n,null,o,t.lastEffect);break;case"together":Ya(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ja(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!jo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(t.type)&&pi(),null;case 3:return No(),ai(ci),ai(li),Go(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Vo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Oo(t);var o=Ao(Io.current);if(n=t.type,null!==e&&null!=t.stateNode)Ha(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ao(To.current),Vo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Zr]=s,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Tr(Er[e],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":ee(r,s),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tr("invalid",r);break;case"textarea":ue(r,s),Tr("invalid",r)}for(var l in xe(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Tr("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),ce(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[$r]=t,e[Zr]=r,Wa(e,t),t.stateNode=e,l=Ce(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),o=r;break;case"iframe":case"object":case"embed":Tr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Tr(Er[o],e);o=r;break;case"source":Tr("error",e),o=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),o=r;break;case"details":Tr("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Tr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Tr("invalid",e);break;default:o=r}xe(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?_e(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"==typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Tr("scroll",e):null!=h&&w(e,s,h,l))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Mr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Ao(Io.current),Ao(To.current),Vo(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ai(Do),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Do.current)?0===Rs&&(Rs=3):(0!==Rs&&3!==Rs||(Rs=4),null===Ss||0==(134217727&Ls)&&0==(134217727&Ms)||fu(Ss,As))),(r||n)&&(t.flags|=4),null);case 4:return No(),null===e&&Ir(t.stateNode.containerInfo),null;case 10:return Ji(t),null;case 17:return di(t.type)&&pi(),null;case 19:if(ai(Do),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(l=r.rendering))if(s)es(r,!1);else{if(0!==Rs||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Lo(e))){for(t.flags|=64,es(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>zs&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!jo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>zs&&1073741824!==n&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Do.current,si(Do,s?1&t|2:1&t),n):null;case 23:case 24:return vu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ns(e){switch(e.tag){case 1:di(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(No(),ai(ci),ai(li),Go(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Oo(e),null;case 13:return ai(Do),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Do),null;case 4:return No(),null;case 10:return Ji(e),null;case 23:case 24:return vu(),null;default:return null}}function rs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function is(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ha=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ao(To.current);var a,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Mr)}for(h in xe(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var l=o[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Tr("scroll",e),s||l===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ga=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function as(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Hs=r),is(0,t)},n}function ss(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return is(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var us="function"==typeof WeakSet?WeakSet:Set;function ls(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Du(e,t)}else t.current=null}function cs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Vr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Nu(n,e),Pu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&co(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}co(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function fs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ds(e,t){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Nu(t,n);else{r=t;try{i()}catch(e){Du(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ls(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Du(t,e)}break;case 5:ls(t);break;case 4:bs(e,t)}}function ps(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function gs(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?vs(e,n,t):ys(e,n,t)}function vs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(vs(e,t,n),e=e.sibling;null!==e;)vs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(ds(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ds(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ve(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Us=Ui(),fs(t.child,!0)),void _s(t);case 19:return void _s(t);case 17:return;case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(a(163))}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Es(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var xs=Math.ceil,Cs=_.ReactCurrentDispatcher,ks=_.ReactCurrentOwner,Ts=0,Ss=null,Is=null,As=0,Ps=0,Ns=oi(0),Rs=0,Os=null,Ds=0,Ls=0,Ms=0,Fs=0,js=null,Us=0,zs=1/0;function qs(){zs=Ui()+500}var Bs,Vs=null,Ws=!1,Hs=null,Gs=null,Ks=!1,$s=null,Zs=90,Qs=[],Ys=[],Xs=null,Js=0,eu=null,tu=-1,nu=0,ru=0,iu=null,ou=!1;function au(){return 0!=(48&Ts)?Ui():-1!==tu?tu:tu=Ui()}function su(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===zi()?1:2;if(0===nu&&(nu=Ds),0!==Gi.transition){0!==ru&&(ru=null!==js?js.pendingLanes:0),e=nu;var t=4186112&~ru;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),e=Ut(0!=(4&Ts)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nu)}function uu(e,t,n){if(50<Js)throw Js=0,eu=null,Error(a(185));if(null===(e=lu(e,t)))return null;Bt(e,t,n),e===Ss&&(Ms|=t,4===Rs&&fu(e,As));var r=zi();1===t?0!=(8&Ts)&&0==(48&Ts)?du(e):(cu(e,n),0===Ts&&(qs(),Wi())):(0==(4&Ts)||98!==r&&99!==r||(null===Xs?Xs=new Set([e]):Xs.add(e)),cu(e,n)),js=e}function lu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Vt(s),l=1<<u,c=o[u];if(-1===c){if(0==(l&r)||0!=(l&i)){c=t,Mt(l);var h=Lt;o[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Ft(e,e===Ss?As:0),t=Lt,0===r)null!==n&&(n!==Oi&&xi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Oi&&xi(n)}15===t?(n=du.bind(null,e),null===Li?(Li=[n],Mi=Ei(Ii,Hi)):Li.push(n),n=Oi):n=14===t?Vi(99,du.bind(null,e)):Vi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),hu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(tu=-1,ru=nu=0,0!=(48&Ts))throw Error(a(327));var t=e.callbackNode;if(Au()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ss?As:0);if(0===n)return null;var r=n,i=Ts;Ts|=16;var o=wu();for(Ss===e&&As===r||(qs(),yu(e,r));;)try{xu();break}catch(t){bu(e,t)}if(Xi(),Cs.current=o,Ts=i,null!==Is?r=0:(Ss=null,As=0,r=Rs),0!=(Ds&Ms))yu(e,0);else if(0!==r){if(2===r&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(n=jt(e))&&(r=_u(e,n))),1===r)throw t=Os,yu(e,0),fu(e,n),cu(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Tu(e);break;case 3:if(fu(e,n),(62914560&n)===n&&10<(r=Us+500-Ui())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){au(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qr(Tu.bind(null,e),r);break}Tu(e);break;case 4:if(fu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Vt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xs(n/1960))-n)){e.timeoutHandle=qr(Tu.bind(null,e),n);break}Tu(e);break;case 5:Tu(e);break;default:throw Error(a(329))}}return cu(e,Ui()),e.callbackNode===t?hu.bind(null,e):null}function fu(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!=(48&Ts))throw Error(a(327));if(Au(),e===Ss&&0!=(e.expiredLanes&As)){var t=As,n=_u(e,t);0!=(Ds&Ms)&&(n=_u(e,t=Ft(e,t)))}else n=_u(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(t=jt(e))&&(n=_u(e,t))),1===n)throw n=Os,yu(e,0),fu(e,t),cu(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tu(e),cu(e,Ui()),null}function pu(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(qs(),Wi())}}function mu(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&(qs(),Wi())}}function gu(e,t){si(Ns,Ps),Ps|=t,Ds|=t}function vu(){Ps=Ns.current,ai(Ns)}function yu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==Is)for(n=Is.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:No(),ai(ci),ai(li),Go();break;case 5:Oo(r);break;case 4:No();break;case 13:case 19:ai(Do);break;case 10:Ji(r);break;case 23:case 24:vu()}n=n.return}Ss=e,Is=zu(e.current,null),As=Ps=Ds=t,Rs=0,Os=null,Fs=Ms=Ls=0}function bu(e,t){for(;;){var n=Is;try{if(Xi(),Ko.current=Ia,Jo){for(var r=Qo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Jo=!1}if(Zo=0,Xo=Yo=Qo=null,ea=!1,ks.current=null,null===n||null===n.return){Rs=1,Os=t,Is=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=As,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Do.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var v=new Set;v.add(l),f.updateQueue=v}else g.add(l);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(-1,1);y.tag=2,so(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new os,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var w=Lu.bind(null,o,l,s);l.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Rs&&(Rs=2),u=rs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,uo(f,as(0,o,t));break e;case 1:o=u;var _=f.type,E=f.stateNode;if(0==(64&f.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Gs||!Gs.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,uo(f,ss(f,o,t));break e}}f=f.return}while(null!==f)}ku(n)}catch(e){t=e,Is===n&&null!==n&&(Is=n=n.return);continue}break}}function wu(){var e=Cs.current;return Cs.current=Ia,null===e?Ia:e}function _u(e,t){var n=Ts;Ts|=16;var r=wu();for(Ss===e&&As===t||yu(e,t);;)try{Eu();break}catch(t){bu(e,t)}if(Xi(),Ts=n,Cs.current=r,null!==Is)throw Error(a(261));return Ss=null,As=0,Rs}function Eu(){for(;null!==Is;)Cu(Is)}function xu(){for(;null!==Is&&!Ci();)Cu(Is)}function Cu(e){var t=Bs(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?ku(e):Is=t,ks.current=null}function ku(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ts(n,t,Ps)))return void(Is=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ps)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(Is=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Is=t);Is=t=e}while(null!==t);0===Rs&&(Rs=5)}function Tu(e){var t=zi();return Bi(99,Su.bind(null,e,t)),null}function Su(e,t){do{Au()}while(null!==$s);if(0!=(48&Ts))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-Vt(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==Xs&&0==(24&r)&&Xs.has(e)&&Xs.delete(e),e===Ss&&(Is=Ss=null,As=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ts,Ts|=32,ks.current=null,Fr=$t,dr(s=fr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(e){u=null;break e}var h=0,f=-1,d=-1,p=0,m=0,g=s,v=null;t:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(f=h+o),g!==l||0!==c&&3!==g.nodeType||(d=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break t;if(v===u&&++p===o&&(f=h),v===l&&++m===c&&(d=h),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;jr={focusedElem:s,selectionRange:u},$t=!1,iu=null,ou=!1,Vs=r;do{try{Iu()}catch(e){if(null===Vs)throw Error(a(330));Du(Vs,e),Vs=Vs.nextEffect}}while(null!==Vs);iu=null,Vs=r;do{try{for(s=e;null!==Vs;){var b=Vs.flags;if(16&b&&ve(Vs.stateNode,""),128&b){var w=Vs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:gs(Vs),Vs.flags&=-3;break;case 6:gs(Vs),Vs.flags&=-3,ws(Vs.alternate,Vs);break;case 1024:Vs.flags&=-1025;break;case 1028:Vs.flags&=-1025,ws(Vs.alternate,Vs);break;case 4:ws(Vs.alternate,Vs);break;case 8:bs(s,u=Vs);var E=u.alternate;ps(u),null!==E&&ps(E)}Vs=Vs.nextEffect}}catch(e){if(null===Vs)throw Error(a(330));Du(Vs,e),Vs=Vs.nextEffect}}while(null!==Vs);if(_=jr,w=fr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=cr(b,E),o=cr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}$t=!!Fr,jr=Fr=null,e.current=n,Vs=r;do{try{for(b=e;null!==Vs;){var x=Vs.flags;if(36&x&&hs(b,Vs.alternate,Vs),128&x){w=void 0;var C=Vs.ref;if(null!==C){var k=Vs.stateNode;switch(Vs.tag){case 5:w=k;break;default:w=k}"function"==typeof C?C(w):C.current=w}}Vs=Vs.nextEffect}}catch(e){if(null===Vs)throw Error(a(330));Du(Vs,e),Vs=Vs.nextEffect}}while(null!==Vs);Vs=null,Di(),Ts=i}else e.current=n;if(Ks)Ks=!1,$s=e,Zs=t;else for(Vs=r;null!==Vs;)t=Vs.nextEffect,Vs.nextEffect=null,8&Vs.flags&&((x=Vs).sibling=null,x.stateNode=null),Vs=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===eu?Js++:(Js=0,eu=e):Js=0,n=n.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64==(64&n.current.flags))}catch(e){}if(cu(e,Ui()),Ws)throw Ws=!1,e=Hs,Hs=null,e;return 0!=(8&Ts)||Wi(),null}function Iu(){for(;null!==Vs;){var e=Vs.alternate;ou||null===iu||(0!=(8&Vs.flags)?Je(Vs,iu)&&(ou=!0):13===Vs.tag&&Es(e,Vs)&&Je(Vs,iu)&&(ou=!0));var t=Vs.flags;0!=(256&t)&&cs(e,Vs),0==(512&t)||Ks||(Ks=!0,Vi(97,(function(){return Au(),null}))),Vs=Vs.nextEffect}}function Au(){if(90!==Zs){var e=97<Zs?97:Zs;return Zs=90,Bi(e,Ru)}return!1}function Pu(e,t){Qs.push(t,e),Ks||(Ks=!0,Vi(97,(function(){return Au(),null})))}function Nu(e,t){Ys.push(t,e),Ks||(Ks=!0,Vi(97,(function(){return Au(),null})))}function Ru(){if(null===$s)return!1;var e=$s;if($s=null,0!=(48&Ts))throw Error(a(331));var t=Ts;Ts|=32;var n=Ys;Ys=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Du(o,e)}}for(n=Qs,Qs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(a(330));Du(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ts=t,Wi(),!0}function Ou(e,t,n){so(e,t=as(0,t=rs(n,t),1)),t=au(),null!==(e=lu(e,1))&&(Bt(e,1,t),cu(e,t))}function Du(e,t){if(3===e.tag)Ou(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ou(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var i=ss(n,e=rs(t,e),1);if(so(n,i),i=au(),null!==(n=lu(n,1)))Bt(n,1,i),cu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Lu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=au(),e.pingedLanes|=e.suspendedLanes&n,Ss===e&&(As&n)===n&&(4===Rs||3===Rs&&(62914560&As)===As&&500>Ui()-Us?yu(e,0):Fs|=n),cu(e,t)}function Mu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===zi()?1:2:(0===nu&&(nu=Ds),0===(t=zt(62914560&~nu))&&(t=4194304))),n=au(),null!==(e=lu(e,t))&&(Bt(e,t,n),cu(e,n))}function Fu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new Fu(e,t,n,r)}function Uu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zu(e,t){var n=e.alternate;return null===n?((n=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Uu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return Bu(n.children,i,o,t);case M:s=8,i|=16;break;case k:s=8,i|=1;break;case T:return(e=ju(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=o,e;case P:return(e=ju(13,n,t,i)).type=P,e.elementType=P,e.lanes=o,e;case N:return(e=ju(19,n,t,i)).elementType=N,e.lanes=o,e;case F:return Vu(n,i,o,t);case j:return(e=ju(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case I:s=9;break e;case A:s=11;break e;case R:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ju(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bu(e,t,n,r){return(e=ju(7,e,r,t)).lanes=n,e}function Vu(e,t,n,r){return(e=ju(23,e,r,t)).elementType=F,e.lanes=n,e}function Wu(e,t,n){return(e=ju(6,e,null,t)).lanes=n,e}function Hu(e,t,n){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Ku(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function $u(e,t,n,r){var i=t.current,o=au(),s=su(i);e:if(n){t:{if(Ze(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(di(l)){n=gi(n,l,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),uu(i,s,o),s}function Zu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yu(e,t){Qu(e,t),(e=e.alternate)&&Qu(e,t)}function Xu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gu(e,t,null!=n&&!0===n.hydrate),t=ju(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Qr]=n.current,Ir(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Zu(a);s.call(e)}}$u(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Xu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Zu(a);u.call(e)}}mu((function(){$u(t,a,e,i)}))}return Zu(a)}function tl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(a(200));return Ku(e,t,null,n)}Bs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ci.current)Oa=!0;else{if(0==(n&r)){switch(Oa=!1,t.tag){case 3:Va(t),Wo();break;case 5:Ro(t);break;case 1:di(t.type)&&vi(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?$a(e,t,n):(si(Do,1&Do.current),null!==(t=Ja(e,t,n))?t.sibling:null);si(Do,1&Do.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Xa(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,ja(e,t,n)}return Ja(e,t,n)}Oa=0!=(16384&e.flags)}else Oa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,li.current),to(t,n),i=ra(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(r)){var o=!0;vi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&fo(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Ba(null,t,r,!0,o,n)}else t.tag=0,Da(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Uu(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=Ki(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=qa(null,t,i,e,n);break e;case 11:t=La(null,t,i,e,n);break e;case 14:t=Ma(null,t,i,Ki(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:if(Va(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),lo(t,r,null,n),(r=t.memoizedState.element)===i)Wo(),t=Ja(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=Wr(t.stateNode.containerInfo.firstChild),Mo=t,o=jo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ho.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Da(e,t,r,n),Wo();t=t.child}return t;case 5:return Ro(t),null===e&&qo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ua(e,t),Da(e,t,s,n),t.child;case 6:return null===e&&qo(t),null;case 13:return $a(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(si($i,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0==(o=ar(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!ci.current){t=Ja(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===u.tag&&((c=ao(-1,n&-n)).tag=2,so(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),eo(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Da(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Da(e,t,r,n),t.child;case 14:return o=Ki(i=t.type,t.pendingProps),Ma(e,t,i,o=Ki(i.type,o),r,n);case 15:return Fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,di(r)?(e=!0,vi(t)):e=!1,to(t,n),go(t,r,i),yo(t,r,i,n),Ba(null,t,r,!0,e,n);case 19:return Xa(e,t,n);case 23:case 24:return ja(e,t,n)}throw Error(a(156,t.tag))},Xu.prototype.render=function(e){$u(e,this._internalRoot,null,null)},Xu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$u(null,e,null,(function(){t[Qr]=null}))},et=function(e){13===e.tag&&(uu(e,4,au()),Yu(e,4))},tt=function(e){13===e.tag&&(uu(e,67108864,au()),Yu(e,67108864))},nt=function(e){if(13===e.tag){var t=au(),n=su(e);uu(e,n,t),Yu(e,n)}},rt=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(a(90));Y(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=pu,Oe=function(e,t,n,r,i){var o=Ts;Ts|=4;try{return Bi(98,e.bind(null,t,n,r,i))}finally{0===(Ts=o)&&(qs(),Wi())}},De=function(){0==(49&Ts)&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cu(e,Ui())}))}Wi()}(),Au())},Le=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&(qs(),Wi())}};var nl={Events:[Jr,ei,ti,Pe,Ne,Au,{current:!1}]},rl={findFiberByHostInstance:Xr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},il={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{bi=ol.inject(il),wi=ol}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nl,t.createPortal=tl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ts;if(0!=(48&n))return e(t);Ts|=1;try{if(e)return Bi(99,e.bind(null,t))}finally{Ts=n,Wi()}},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(a(200));return el(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ju(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(a(40));return!!e._reactRootContainer&&(mu((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qr]=null}))})),!0)},t.unstable_batchedUpdates=pu,t.unstable_createPortal=function(e,t){return tl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="17.0.2"},116:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(748)},5:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case g:case m:case u:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||_(e)===c},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},972:function(e,t,n){"use strict";e.exports=n(5)},988:function(e,t,n){"use strict";Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"yB",{enumerable:!0,get:function(){return i.default}});var r=o(n(346)),i=o(n(823));function o(e){return e&&e.__esModule?e:{default:e}}},823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(466)),i=n(254),o=n(346);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d,p,m,g=function(e){function t(){return u(this,t),c(this,h(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.color,n=e.highlightColor,r=e.children,o=(0,i.css)(".react-loading-skeleton{background-color:",t,";background-image:linear-gradient( 90deg,",t,",",n,",",t," );};label:SkeletonTheme;");return(0,i.jsx)("div",{css:o},r)}}])&&l(n.prototype,r),t}(r.Component);t.default=g,d=g,p="defaultProps",m={color:o.defaultBaseColor,highlightColor:o.defaultHighlightColor},p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m},346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d,t.skeletonStyles=t.skeletonKeyframes=t.defaultHighlightColor=t.defaultBaseColor=void 0,(r=n(466))&&r.__esModule;var r,i=n(254);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e,t,n=(e=["\n  0% {\n    background-position: -200px 0;\n  }\n  ","\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return u=function(){return n},n}var l="#eee";t.defaultBaseColor=l;var c="#f5f5f5";t.defaultHighlightColor=c;var h=function(e,t){return(0,i.keyframes)(u(),t>0?"".concat(Math.floor(1/(e+t)*e*100),"% {\n    background-position: calc(200px + 100%) 0;\n  }"):void 0)};t.skeletonKeyframes=h;var f=(0,i.css)("background-color:",l,";background-image:linear-gradient( 90deg,",l,",",c,",",l," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");function d(e){for(var t=e.count,n=e.duration,r=e.width,o=e.wrapper,s=e.height,u=e.circle,l=e.delay,c=e.style,d=e.className,p=[],m=0;m<t;m++){var g={};null!==r&&(g.width=r),null!==s&&(g.height=s),null!==r&&null!==s&&u&&(g.borderRadius="50%");var v="react-loading-skeleton";d&&(v+=" "+d),p.push((0,i.jsx)("span",{key:m,className:v,css:(0,i.css)(f," animation:",h(n,l)," ",n+l,"s ease-in-out infinite;label:Skeleton;"),style:a({},c,{},g)},""))}return(0,i.jsx)("span",null,o?p.map((function(e,t){return(0,i.jsx)(o,{key:t},e,"")})):p)}t.skeletonStyles=f,d.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}},62:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var i=r(n(466));t.Context=i.default.createContext({remove:function(){},set:function(){},handleClick:function(){},open:function(){}})},311:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.baseGalleryPropTypes=void 0;var i=r(n(74));t.baseGalleryPropTypes={children:i.default.any,options:i.default.object,id:i.default.oneOfType([i.default.string,i.default.number])}},383:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomGallery=void 0;var c=l(n(357)),h=a(n(466)),f=l(n(74)),d=n(978),p=n(62),m=n(311);t.CustomGallery=function(e){var t=e.children,n=e.layoutRef,i=e.ui,o=e.options,a=e.id,l=e.onOpen,f=h.useRef(new Map),m=h.useRef(null),g=h.useCallback((function(e,t,h){var p=h||null,m=[],g=Array.from(f.current),v=function(n,i){var o=u(n,2),a=o[0],l=o[1],c=l.width,h=l.height,f=l.title,d=l.original,g=l.thumbnail,v=l.id,y=s(l,["width","height","title","original","thumbnail","id"]);(e===a||void 0!==v&&String(v)===t)&&(p=i),m.push(r(r(r(r({},f?{title:f}:{}),{w:Number(c),h:Number(h),src:d,msrc:g,el:a.current}),void 0!==v?{pid:v}:{}),y))};f.current.size>1?g.sort((function(e,t){var n=u(e,1)[0].current,r=u(t,1)[0].current;return d.sortNodes(n,r)})).forEach(v):g.forEach(v);var y=n.current;if(y){var b=new c.default(y,i,m,r(r({index:null===p?parseInt(t,10)-1:p,getThumbBoundsFn:function(e){var t=m[e].el;return t?d.getElBounds(t):{x:0,y:0,w:0}},history:!1},void 0!==a?{galleryUID:a,history:!0}:{}),o||{}));b.init(),void 0!==l&&"function"==typeof l&&l(b)}}),[o,a,l]);h.useEffect((function(){if(void 0!==a){var e=window.location.hash.substring(1),t={};if(!(e.length<5)){for(var n=e.split("&"),r=0;r<n.length;r++)if(n[r]){var i=u(n[r].split("="),2),o=i[0],s=i[1];o&&s&&(t[o]=s)}var l=t.pid,c=t.gid;0!==f.current.size?l&&c===String(a)&&g(null,l):m.current=l}}}),[g,a]);var v=h.useCallback((function(e){f.current.delete(e)}),[]),y=h.useCallback((function(e,t){var n=t.id;if(f.current.set(e,t),m.current)if(n===m.current)g(e),m.current=null;else if(!n){var r=parseInt(m.current,10)-1,i=Array.from(f.current.keys())[r];i&&(g(i),m.current=null)}}),[g]),b=h.useCallback((function(e){g(null,null,e)}),[g]);return h.default.createElement(p.Context.Provider,{value:{remove:v,set:y,handleClick:g,open:b}},t)},t.CustomGallery.propTypes=r(r({},m.baseGalleryPropTypes),{layoutRef:f.default.shape({current:f.default.instanceOf("undefined"==typeof Element?function(){}:Element)}).isRequired,ui:f.default.any.isRequired})},571:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Gallery=void 0;var l=u(n(270)),c=a(n(466)),h=n(555),f=n(311);t.Gallery=function(e){var t=e.children,n=e.options,i=e.id,o=e.onOpen,a=s(e,["children","options","id","onOpen"]),u=c.useRef();return c.default.createElement(h.CustomGallery,{layoutRef:u,ui:l.default,options:n,id:i,onOpen:o},t,c.default.createElement(h.DefaultLayout,r({},a,{ref:u})))},t.Gallery.propTypes=r(r({},f.baseGalleryPropTypes),h.layoutPropTypes)},978:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.shuffle=t.sortNodes=t.getElBounds=void 0;var o=n(172);t.getElBounds=function(e){var t=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop,r=e.getBoundingClientRect();return{x:r.left+t,y:r.top+n,w:r.width}},t.sortNodes=function(e,t){if(!(e instanceof Element))throw new o.NoRefError;return e===t?0:2&e.compareDocumentPosition(t)?1:-1},t.shuffle=function(e){for(var t,n,r=i(e),o=r.length;0!==o;)n=Math.floor(Math.random()*o),t=r[o-=1],r[o]=r[n],r[n]=t;return r}},649:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useGallery=void 0;var i=r(n(466)),o=n(62);t.useGallery=function(){return{open:i.default.useContext(o.Context).open}}},555:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(686),t),i(n(383),t),i(n(571),t),i(n(461),t),i(n(137),t),i(n(649),t)},461:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Item=void 0;var o=n(466),a=i(n(74)),s=n(62);t.Item=function(e){var t=e.children,n=r(e,["children"]),i=o.useRef(),a=o.useContext(s.Context),u=a.remove,l=a.set,c=a.handleClick,h=o.useCallback((function(){return c(i)}),[]);return o.useEffect((function(){return l(i,n),function(){return u(i)}}),Object.values(n)),t({ref:i,open:h})},t.Item.propTypes={original:a.default.string,thumbnail:a.default.string,width:a.default.oneOfType([a.default.number,a.default.string]),height:a.default.oneOfType([a.default.number,a.default.string]),title:a.default.string,html:a.default.string,children:a.default.func.isRequired,id:a.default.oneOfType([a.default.number,a.default.string])}},172:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.NoRefError=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.message="No valid `ref` provided.\nYou shuld use `ref` from render prop of Item component.\nExample:\n<Item>{({ ref }) => <div ref={ref}></div>}</Item>\n",t}return r(t,e),t}(Error);t.NoRefError=i},686:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultLayout=t.layoutDefaultProps=t.layoutPropTypes=void 0;var a=o(n(466)),s=o(n(74));t.layoutPropTypes={closeButtonCaption:s.default.string,shareButtonCaption:s.default.string,toggleFullscreenButtonCaption:s.default.string,zoomButtonCaption:s.default.string,prevButtonCaption:s.default.string,nextButtonCaption:s.default.string,shareButton:s.default.bool,fullscreenButton:s.default.bool,zoomButton:s.default.bool},t.layoutDefaultProps={closeButtonCaption:"Close (Esc)",shareButtonCaption:"Share",toggleFullscreenButtonCaption:"Toggle fullscreen",zoomButtonCaption:"Zoom in/out",prevButtonCaption:"Previous (arrow left)",nextButtonCaption:"Next (arrow right)",shareButton:!0,fullscreenButton:!0,zoomButton:!0},t.DefaultLayout=a.default.forwardRef((function(e,t){var n=e.closeButtonCaption,o=e.shareButtonCaption,s=e.toggleFullscreenButtonCaption,u=e.zoomButtonCaption,l=e.prevButtonCaption,c=e.nextButtonCaption,h=e.shareButton,f=e.fullscreenButton,d=e.zoomButton,p=i(e,["closeButtonCaption","shareButtonCaption","toggleFullscreenButtonCaption","zoomButtonCaption","prevButtonCaption","nextButtonCaption","shareButton","fullscreenButton","zoomButton"]);return a.default.createElement("div",r({className:"pswp",tabIndex:-1,role:"dialog","aria-hidden":"true"},p,{ref:t}),a.default.createElement("div",{className:"pswp__bg"}),a.default.createElement("div",{className:"pswp__scroll-wrap"},a.default.createElement("div",{className:"pswp__container"},a.default.createElement("div",{className:"pswp__item"}),a.default.createElement("div",{className:"pswp__item"}),a.default.createElement("div",{className:"pswp__item"})),a.default.createElement("div",{className:"pswp__ui pswp__ui--hidden"},a.default.createElement("div",{className:"pswp__top-bar"},a.default.createElement("div",{className:"pswp__counter"}),a.default.createElement("button",{type:"button",className:"pswp__button pswp__button--close",title:n}),h&&a.default.createElement("button",{type:"button",className:"pswp__button pswp__button--share",title:o}),f&&a.default.createElement("button",{type:"button",className:"pswp__button pswp__button--fs",title:s}),d&&a.default.createElement("button",{type:"button",className:"pswp__button pswp__button--zoom",title:u}),a.default.createElement("div",{className:"pswp__preloader"},a.default.createElement("div",{className:"pswp__preloader__icn"},a.default.createElement("div",{className:"pswp__preloader__cut"},a.default.createElement("div",{className:"pswp__preloader__donut"}))))),a.default.createElement("div",{className:"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"},a.default.createElement("div",{className:"pswp__share-tooltip"})),a.default.createElement("button",{type:"button",className:"pswp__button pswp__button--arrow--left",title:l}),a.default.createElement("button",{type:"button",className:"pswp__button pswp__button--arrow--right",title:c}),a.default.createElement("div",{className:"pswp__caption"},a.default.createElement("div",{className:"pswp__caption__center"})))))})),t.DefaultLayout.propTypes=t.layoutPropTypes,t.DefaultLayout.defaultProps=t.layoutDefaultProps},137:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},751:function(e,t,n){"use strict";var r=n(347),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+T(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),S(a,t,n,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+T(s=e[l],l);u+=S(s,t,n,c,a)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,c=r+T(s,l++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function N(){var e=P.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},466:function(e,t,n){"use strict";e.exports=n(751)},794:function(e,t){"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,h=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){v=f((function(){e(t.unstable_now())}),n)},i=function(){d(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>k(a,n))void 0!==u&&0>k(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>k(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],I=1,A=null,P=3,N=!1,R=!1,O=!1;function D(e){for(var t=x(S);null!==t;){if(null===t.callback)C(S);else{if(!(t.startTime<=e))break;C(S),t.sortIndex=t.expirationTime,E(T,t)}t=x(S)}}function L(e){if(O=!1,D(e),!R)if(null!==x(T))R=!0,n(M);else{var t=x(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,O&&(O=!1,i()),N=!0;var o=P;try{for(D(n),A=x(T);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=A.callback;if("function"==typeof a){A.callback=null,P=A.priorityLevel;var s=a(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?A.callback=s:A===x(T)&&C(T),D(n)}else C(T);A=x(T)}if(null!==A)var u=!0;else{var l=x(S);null!==l&&r(L,l.startTime-n),u=!1}return u}finally{A=null,P=o,N=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||N||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return x(T)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:I++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(S,e),null===x(T)&&e===x(S)&&(O?i():O=!0,r(L,a-s))):(e.sortIndex=u,E(T,e),R||N||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},767:function(e,t,n){"use strict";e.exports=n(794)},807:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],h=t[l];if(!1===(i=n?n.call(r,c,h,l):void 0)||void 0===i&&c!==h)return!1}return!0}},622:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return a},Jh:function(){return s},XA:function(){return u},CR:function(){return l},ev:function(){return c}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create,Object.create},163:function(e){e.exports={p:{1:["003","004"],2:["001","002","009","010","011","012","013","014","015","016"]},size_letter:["002","003","004","005","006"],size_number:["007","008","009","010","011","012","013","014"],size_pulseira:["003","004","005","015"],size_ring:["016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035"],size_colar:["036","037","038","039","040","041","042","043","044"],stocks:{"001":"Tamanho nico","002":"xp","003":"p","004":"m","005":"g","006":"xg","007":"34","008":"36","009":"38","010":"40","011":"42","012":"44","013":"46","014":"48","015":"gg","016":"12","017":"13","018":"14","019":"15","020":"16","021":"17","022":"18","023":"19","024":"20","025":"21","026":"22","027":"23","028":"24","029":"25","030":"26","031":"27","032":"28","033":"29","034":"30","035":"31","036":"Chocker","037":"40 cm","038":"45 cm","039":"50 cm","040":"55 cm","041":"60 cm","042":"65 cm","043":"70 cm","044":"80 cm"},cloth_names:{"001":"Jeans","002":"Moletom","003":"Sarja","004":"Viscose"},category_names:{"001":"Roupas","002":"Acessrios","003":"Calados","004":"Perfumaria","005":"Cosmticos"},organize_names:{"001":["001","002","003","004","009","010","011","012","013","014","015","016"],"002":["007","008","017","018","019"],"003":[],"004":[],"005":[]},subcategory_names:{"001":"Camisas","002":"Blusas","003":"Shorts","004":"Calas","005":"Bolsas","006":"Mochilas","007":"Brincos","008":"Anis","009":"Conjuntos","010":"Tops","011":"Quimono","012":"Bodys","013":"Vestidos","014":"Kaftan","015":"Biquni","016":"Mais","017":"Pulseiras","018":"Colares","019":"Tornozeleiras","020":"culos"},isValid:{"001":function(e){const{id_stocks:t}=e;return t},"002":function(e){const{id_stocks:t}=e;return t},"003":function(e){const{id_stocks:t}=e;return t},"004":function(e){const{id_stocks:t}=e;return t},"005":function(e){return!0},"006":function(e){return!0},"007":function(e){return!0},"008":function(e){return!0},"009":function(e){const{id_stocks:t}=e;return t},"010":function(e){const{id_stocks:t}=e;return t},"011":function(e){const{id_stocks:t}=e;return t},"012":function(e){const{id_stocks:t}=e;return t},"013":function(e){const{id_stocks:t}=e;return t},"014":function(e){const{id_stocks:t}=e;return t},"015":function(e){const{id_stocks:t}=e;return t},"016":function(e){const{id_stocks:t}=e;return t},"017":function(e){return!0},"018":function(e){return!0},"019":function(e){return!0},"020":function(e){return!0}},toast_options:{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}}},837:function(e,t){t.n="Lorem ipsum dolor sit amet . Os operadores grficos e tipogrficos sabem disso bem, na realidade, todas as profisses que lidam com o universo da comunicao tm um relacionamento estvel com essas palavras, mas o que ? Lorem ipsum  um texto fofo sem qualquer sentido.\n\n uma seqncia de palavras latinas que, como esto posicionadas, no formem frases com um sentido completo, mas do vida a um texto de teste til para preencher espaos que iro Posteriormente sero ocupados a partir de textos ad hoc compostos por profissionais de comunicao.\n\n certamente o texto de marcador de posio mais famoso , mesmo que existam diferentes verses distinguveis da ordem em que as palavras latinas so repetidas.\n\nLorem ipsum contm as tipos de letra mais em uso, um aspecto que permite que voc tenha uma viso geral da renderizao do texto em termos de escolha da fonte e tamanho da fonte.\n\nAo se referir a Lorem ipsum, diferentes expresses so usadas, nomeadamente texto de preenchimento , texto fictcio , texto cego ou texto do espao reservado: em suma, seu significado tambm pode ser zero, mas sua utilidade  to clara quanto ao longo dos sculos e resiste s verses irnicas e modernas que vieram com a chegada da web."}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(466),t=n(116),r=n(856),i="8.6.5";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i;var o=n(574),a=n(861),s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var l,c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},h=h||{},f=c||self;function d(){}function p(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function _(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function E(){return Date.now()}function x(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Pb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function C(){this.j=this.j,this.i=this.i}C.prototype.j=!1,C.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++v)}(this)},C.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var k=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function S(e){return Array.prototype.concat.apply([],arguments)}function I(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var P,N=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function R(e,t){return-1!=e.indexOf(t)}function O(e,t){return e<t?-1:e>t?1:0}e:{var D=f.navigator;if(D){var L=D.userAgent;if(L){P=L;break e}}P=""}function M(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function F(e){var t={};for(var n in e)t[n]=e[n];return t}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function z(e){return z[" "](e),e}z[" "]=d;var q,B,V=R(P,"Opera"),W=R(P,"Trident")||R(P,"MSIE"),H=R(P,"Edge"),G=H||W,K=R(P,"Gecko")&&!(R(P.toLowerCase(),"webkit")&&!R(P,"Edge"))&&!(R(P,"Trident")||R(P,"MSIE"))&&!R(P,"Edge"),$=R(P.toLowerCase(),"webkit")&&!R(P,"Edge");function Z(){var e=f.document;return e?e.documentMode:void 0}e:{var Q="",Y=(B=P,K?/rv:([^\);]+)(\)|;)/.exec(B):H?/Edge\/([\d\.]+)/.exec(B):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):$?/WebKit\/(\S+)/.exec(B):V?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Y&&(Q=Y?Y[1]:""),W){var X=Z();if(null!=X&&X>parseFloat(Q)){q=String(X);break e}}q=Q}var J,ee={};function te(e){return function(e,t){var n=ee;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=N(String(q)).split("."),r=N(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=O(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||O(0==a[2].length,0==s[2].length)||O(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}f.document&&W?J=Z()||parseInt(q,10)||void 0:J=void 0;var ne=J,re=!W||9<=Number(ne),ie=W&&!te("9"),oe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{f.addEventListener("test",d,t),f.removeEventListener("test",d,t)}catch(e){}return e}();function ae(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function se(e,t){if(ae.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(K){e:{try{z(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ue[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ae.prototype.b=function(){this.defaultPrevented=!0},x(se,ae);var ue={2:"touch",3:"pen",4:"mouse"};se.prototype.b=function(){se.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ie)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var le="closure_listenable_"+(1e6*Math.random()|0),ce=0;function he(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++ce,this.Y=this.Z=!1}function fe(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function de(e){this.src=e,this.a={},this.b=0}function pe(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=k(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(fe(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function me(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}de.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=me(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new he(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var ge="closure_lm_"+(1e6*Math.random()|0),ve={};function ye(e,t,n,r,i){if(r&&r.once)return we(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ye(e,t[o],n,r,i);return null}return n=Ie(n),e&&e[le]?e.wa(t,n,m(r)?!!r.capture:!!r,i):be(e,t,n,!1,r,i)}function be(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i;if(a&&!re)return null;var s=Te(e);if(s||(e[ge]=s=new de(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=ke,t=re?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)oe||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function we(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)we(e,t[o],n,r,i);return null}return n=Ie(n),e&&e[le]?e.xa(t,n,m(r)?!!r.capture:!!r,i):be(e,t,n,!0,r,i)}function _e(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)_e(e,t[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=Ie(n),e&&e[le]?(e=e.c,(t=String(t).toString())in e.a&&-1<(n=me(o=e.a[t],n,r,i))&&(fe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=Te(e))&&(t=e.a[t.toString()],e=-1,t&&(e=me(t,n,r,i)),(n=-1<e?t[e]:null)&&Ee(n))}function Ee(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[le])pe(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Te(t))?(pe(n,e),0==n.b&&(n.src=null,t[ge]=null)):fe(e)}}}function xe(e){return e in ve?ve[e]:ve[e]="on"+e}function Ce(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&Ee(e),n.call(r,t)}function ke(e,t){if(e.Y)return!0;if(!re){if(!t)e:{t=["window","event"];for(var n=f,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Ce(e,t=new se(t,this))}return Ce(e,new se(t,this))}function Te(e){return(e=e[ge])instanceof de?e:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(e){return"function"==typeof e?e:(e[Se]||(e[Se]=function(t){return e.handleEvent(t)}),e[Se])}function Ae(){C.call(this),this.c=new de(this),this.J=this,this.D=null}function Pe(e,t){var n,r=e.D;if(r)for(n=[];r;r=r.D)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new ae(t,e);else if(t instanceof ae)t.target=t.target||e;else{var i=t;U(t=new ae(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=Ne(a,r,!0,t)&&i}if(i=Ne(a=t.a=e,r,!0,t)&&i,i=Ne(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ne(a=t.a=n[o],r,!1,t)&&i}function Ne(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&pe(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}x(Ae,C),Ae.prototype[le]=!0,(l=Ae.prototype).addEventListener=function(e,t,n,r){ye(this,e,t,n,r)},l.removeEventListener=function(e,t,n,r){_e(this,e,t,n,r)},l.H=function(){if(Ae.X.H.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)fe(n[r]);delete t.a[e],t.b--}}this.D=null},l.wa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},l.xa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Re=f.JSON.stringify;function Oe(){this.b=this.a=null}var De,Le=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Fe}),(function(e){e.reset()}));function Me(){var e=qe,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Fe(){this.next=this.b=this.a=null}function je(e){f.setTimeout((function(){throw e}),0)}function Ue(e,t){De||function(){var e=f.Promise.resolve(void 0);De=function(){e.then(Be)}}(),ze||(De(),ze=!0),qe.add(e,t)}Oe.prototype.add=function(e,t){var n=Le.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Fe.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Fe.prototype.reset=function(){this.next=this.b=this.a=null};var ze=!1,qe=new Oe;function Be(){for(var e;e=Me();){try{e.a.call(e.b)}catch(e){je(e)}var t=Le;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}ze=!1}function Ve(e,t){Ae.call(this),this.b=e||1,this.a=t||f,this.f=w(this.eb,this),this.g=E()}function We(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function He(e,t,n){if("function"==typeof e)n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:f.setTimeout(e,t||0)}function Ge(e){e.a=He((function(){e.a=null,e.c&&(e.c=!1,Ge(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}x(Ve,Ae),(l=Ve.prototype).aa=!1,l.M=null,l.eb=function(){if(this.aa){var e=E()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Pe(this,"tick"),this.aa&&(We(this),this.start()))}},l.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=E())},l.H=function(){Ve.X.H.call(this),We(this),delete this.a};var Ke=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Ge(this)},t.prototype.H=function(){e.prototype.H.call(this),this.a&&(f.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(C);function $e(e){C.call(this),this.b=e,this.a={}}x($e,C);var Ze=[];function Qe(e,t,n,r){Array.isArray(n)||(n&&(Ze[0]=n.toString()),n=Ze);for(var i=0;i<n.length;i++){var o=ye(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Ye(e){M(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Ee(e)}),e),e.a={}}function Xe(){this.a=!0}function Je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Re(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}$e.prototype.H=function(){$e.X.H.call(this),Ye(this)},$e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xe.prototype.info=function(){};var et={},tt=null;function nt(){return tt=tt||new Ae}function rt(e){ae.call(this,et.Ga,e)}function it(e){var t=nt();Pe(t,new rt(t,e))}function ot(e,t){ae.call(this,et.STAT_EVENT,e),this.stat=t}function at(e){var t=nt();Pe(t,new ot(t,e))}function st(e){ae.call(this,et.Ha,e)}function ut(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return f.setTimeout((function(){e()}),t)}et.Ga="serverreachability",x(rt,ae),et.STAT_EVENT="statevent",x(ot,ae),et.Ha="timingevent",x(st,ae);var lt={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},ct={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function ht(){}function ft(e){return e.b||(e.b=e.c())}function dt(){}ht.prototype.b=null;var pt,mt={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function gt(){ae.call(this,"d")}function vt(){ae.call(this,"c")}function yt(){}function bt(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new $e(this),this.P=wt,e=G?125:void 0,this.R=new Ve(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}x(gt,ae),x(vt,ae),x(yt,ht),yt.prototype.a=function(){return new XMLHttpRequest},yt.prototype.c=function(){return{}},pt=new yt;var wt=45e3,_t={},Et={};function xt(e,t,n){e.G=1,e.i=Ht(Ut(t)),e.j=n,e.I=!0,Ct(e,null)}function Ct(e,t){e.u=E(),St(e),e.l=Ut(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),on(n.b,"t",r),e.D=0,e.a=Jn(e.g,e.g.C?t:null),0<e.O&&(e.F=new Ke(w(e.Da,e,e.a),e.O)),Qe(e.J,e.a,"readystatechange",e.bb),t=e.B?F(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),it(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function kt(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Tt(e,n);if(i==Et){4==t&&(e.h=4,at(14),r=!1),Je(e.c,e.f,null,"[Incomplete Response]");break}if(i==_t){e.h=4,at(15),Je(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Je(e.c,e.f,i,null),Rt(e,i)}4==t&&0==n.length&&(e.h=1,at(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hn(t),t.F=!0,at(11))):(Je(e.c,e.f,n,"[Invalid Chunked Response]"),Nt(e),Pt(e))}function Tt(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?Et:(n=Number(t.substring(n,r)),isNaN(n)?_t:(r+=1)+n>t.length?Et:(t=t.substr(r,n),e.D=r+n,t))}function St(e){e.T=E()+e.P,It(e,e.P)}function It(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=ut(w(e.$a,e),t)}function At(e){e.o&&(f.clearTimeout(e.o),e.o=null)}function Pt(e){0==e.g.v||e.A||$n(e.g,e)}function Nt(e){At(e);var t=e.F;t&&"function"==typeof t.ka&&t.ka(),e.F=null,We(e.R),Ye(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ka())}function Rt(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||fn(n.b,e)))if(n.I=e.N,!e.C&&fn(n.b,e)&&3==n.v){try{var r=n.la.a.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Kn(n),Mn(n)}Wn(n),at(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=ut(w(n.Xa,n),6e3));if(1>=hn(n.b)&&n.fa){try{n.fa()}catch(e){}n.fa=void 0}}else Qn(n,11)}else if((e.C||n.a==e)&&Kn(n),!A(t))for(t=r=n.la.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var a=i[4];null!=a&&(n.qa=a,n.c.info("SVER="+n.qa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=e.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(R(c,"spdy")||R(c,"quic")||R(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(dn(h,h.b),h.b=null))}if(u.A){var f=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,Wt(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=E()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).ma=Xn(u,u.C?u.ha:null,u.ga),d.C){pn(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(At(p),St(p)),u.a=d}else Vn(u);0<n.g.length&&Un(n)}else"stop"!=i[0]&&"close"!=i[0]||Qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Qn(n,7):Ln(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);it(4)}catch(e){}}function Ot(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"==typeof e)T(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(p(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Dt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dt)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Lt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Mt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Mt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Mt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(l=bt.prototype).setTimeout=function(e){this.P=e},l.bb=function(e){e=e.target;var t=this.F;t&&3==Nn(e)?t.f():this.Da(e)},l.Da=function(e){try{if(e==this.a)e:{var t=Nn(this.a),n=this.a.va(),r=this.a.W();if(!(3>t||3==t&&!G&&!this.a.$())){this.A||4!=t||7==n||it(8==n||0>=r?3:2),At(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,at(12),Nt(this),Pt(this);break e}Je(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Rt(this,u)}this.I?(kt(this,t,o),G&&this.b&&3==t&&(Qe(this.J,this.R,"tick",this.ab),this.R.start())):(Je(this.c,this.f,o,null),Rt(this,o)),4==t&&Nt(this),this.b&&!this.A&&(4==t?$n(this.g,this):(this.b=!1,St(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,at(12)):(this.h=0,at(13)),Nt(this),Pt(this)}}}catch(e){}},l.ab=function(){if(this.a){var e=Nn(this.a),t=this.a.$();this.D<t.length&&(At(this),kt(this,e,t),this.b&&4!=e&&St(this))}},l.cancel=function(){this.A=!0,Nt(this)},l.$a=function(){this.o=null;var e=E();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.G&&(it(3),at(17)),Nt(this),this.h=2,Pt(this)):It(this,this.T-e)},(l=Dt.prototype).K=function(){Lt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},l.L=function(){return Lt(this),this.a.concat()},l.get=function(e,t){return Mt(this.b,e)?this.b[e]:t},l.set=function(e,t){Mt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},l.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ft=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof jt){this.a=void 0!==t?t:e.a,zt(this,e.f),this.j=e.j,qt(this,e.c),Bt(this,e.h),this.g=e.g,t=e.b;var n=new en;n.c=t.c,t.a&&(n.a=new Dt(t.a),n.b=t.b),Vt(this,n),this.i=e.i}else e&&(n=String(e).match(Ft))?(this.a=!!t,zt(this,n[1]||"",!0),this.j=Gt(n[2]||""),qt(this,n[3]||"",!0),Bt(this,n[4]),this.g=Gt(n[5]||"",!0),Vt(this,n[6]||"",!0),this.i=Gt(n[7]||"")):(this.a=!!t,this.b=new en(null,this.a))}function Ut(e){return new jt(e)}function zt(e,t,n){e.f=n?Gt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function qt(e,t,n){e.c=n?Gt(t,!0):t}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Vt(e,t,n){t instanceof en?(e.b=t,function(e,t){t&&!e.f&&(tn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(nn(this,t),on(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Kt(t,Xt)),e.b=new en(t,e.a))}function Wt(e,t,n){e.b.set(t,n)}function Ht(e){return Wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^E()).toString(36)),e}function Gt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,$t),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $t(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Kt(t,Zt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Kt(t,Zt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kt(n,"/"==n.charAt(0)?Yt:Qt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Kt(n,Jt)),e.join("")};var Zt=/[#\/\?@]/g,Qt=/[#\?:]/g,Yt=/[#\?]/g,Xt=/[#\?@]/g,Jt=/#/g;function en(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function tn(e){e.a||(e.a=new Dt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function nn(e,t){tn(e),t=an(e,t),Mt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Mt((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Lt(e)))}function rn(e,t){return tn(e),t=an(e,t),Mt(e.a.b,t)}function on(e,t,n){nn(e,t),0<n.length&&(e.c=null,e.a.set(an(e,t),I(n)),e.b+=n.length)}function an(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(l=en.prototype).add=function(e,t){tn(this),this.c=null,e=an(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},l.forEach=function(e,t){tn(this),this.a.forEach((function(n,r){T(n,(function(n){e.call(t,n,r,this)}),this)}),this)},l.L=function(){tn(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},l.K=function(e){tn(this);var t=[];if("string"==typeof e)rn(this,e)&&(t=S(t,this.a.get(an(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=S(t,e[n])}return t},l.set=function(e,t){return tn(this),this.c=null,rn(this,e=an(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},l.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},l.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var sn=function(e,t){this.b=e,this.a=t};function un(e){this.g=e||ln,e=f.PerformanceNavigationTiming?0<(e=f.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(f.ja&&f.ja.za&&f.ja.za()&&f.ja.za().Qb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ln=10;function cn(e){return!!e.b||!!e.a&&e.a.size>=e.f}function hn(e){return e.b?1:e.a?e.a.size:0}function fn(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function dn(e,t){e.a?e.a.add(t):e.b=t}function pn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function mn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=u(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return I(e.c)}function gn(){}function vn(){this.a=new gn}function yn(e,t,n){var r=n||"";try{Ot(e,(function(e,n){var i=e;m(e)&&(i=Re(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function bn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}un.prototype.cancel=function(){var e,t;if(this.c=mn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=u(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},gn.prototype.stringify=function(e){return f.JSON.stringify(e,void 0)},gn.prototype.parse=function(e){return f.JSON.parse(e,void 0)};var wn=f.JSON.parse;function _n(e){Ae.call(this),this.headers=new Dt,this.l=e||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=En,this.F=this.G=!1}x(_n,Ae);var En="",xn=/^https?$/i,Cn=["POST","PUT"];function kn(e){return"content-type"==e.toLowerCase()}function Tn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Sn(e),An(e)}function Sn(e){e.A||(e.A=!0,Pe(e,"complete"),Pe(e,"error"))}function In(e){if(e.b&&void 0!==h&&(!e.u[1]||4!=Nn(e)||2!=e.W()))if(e.m&&4==Nn(e))He(e.Aa,0,e);else if(Pe(e,"readystatechange"),4==Nn(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.C).match(Ft)[1]||null;if(!o&&f.self&&f.self.location){var a=f.self.location.protocol;o=a.substr(0,a.length-1)}i=!xn.test(o?o.toLowerCase():"")}t=i}if(t)Pe(e,"complete"),Pe(e,"success");else{e.h=6;try{var s=2<Nn(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",Sn(e)}}finally{An(e)}}}function An(e,t){if(e.a){Pn(e);var n=e.a,r=e.u[0]?d:null;e.a=null,e.u=null,t||Pe(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Pn(e){e.a&&e.F&&(e.a.ontimeout=null),e.o&&(f.clearTimeout(e.o),e.o=null)}function Nn(e){return e.a?e.a.readyState:0}function Rn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return M(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Wt(e,t,n))}function On(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Dn(e){this.qa=0,this.g=[],this.c=new Xe,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=On("failFast",!1,e),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=On("baseRetryDelayMs",5e3,e),this.Sa=On("retryDelaySeedMs",1e4,e),this.Na=On("forwardChannelMaxRetries",2,e),this.na=On("forwardChannelRequestTimeoutMs",2e4,e),this.Oa=e&&e.xmlHttpFactory||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new un(e&&e.concurrentRequestLimit),this.la=new vn,this.ea=e&&e.fastHandshake||!1,this.Ja=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&e&&e.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ln(e){if(Fn(e),3==e.v){var t=e.R++,n=Ut(e.B);Wt(n,"SID",e.J),Wt(n,"RID",t),Wt(n,"TYPE","terminate"),qn(e,n),(t=new bt(e,e.c,t,void 0)).G=2,t.i=Ht(Ut(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(t.i.toString(),"")),!n&&f.Image&&((new Image).src=t.i,n=!0),n||(t.a=Jn(t.g,null),t.a.ba(t.i)),t.u=E(),St(t)}Yn(e)}function Mn(e){e.a&&(Hn(e),e.a.cancel(),e.a=null)}function Fn(e){Mn(e),e.j&&(f.clearTimeout(e.j),e.j=null),Kn(e),e.b.cancel(),e.h&&("number"==typeof e.h&&f.clearTimeout(e.h),e.h=null)}function jn(e,t){e.g.push(new sn(e.Pa++,t)),3==e.v&&Un(e)}function Un(e){cn(e.b)||e.h||(e.h=!0,Ue(e.Ca,e),e.u=0)}function zn(e,t){var n;n=t?t.f:e.R++;var r=Ut(e.B);Wt(r,"SID",e.J),Wt(r,"RID",n),Wt(r,"AID",e.P),qn(e,r),e.i&&e.l&&Rn(r,e.i,e.l),n=new bt(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Bn(e,n,1e3),n.setTimeout(Math.round(.5*e.na)+Math.round(.5*e.na*Math.random())),dn(e.b,n),xt(n,r,t)}function qn(e,t){e.f&&Ot({},(function(e,n){Wt(t,n,e)}))}function Bn(e,t,n){n=Math.min(e.g.length,n);var r=e.f?w(e.f.Ka,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),s=!1;else try{yn(c,a,"req"+l+"_")}catch(e){r&&r(c)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Vn(e){e.a||e.j||(e.T=1,Ue(e.Ba,e),e.o=0)}function Wn(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=ut(w(e.Ba,e),Zn(e,e.o)),e.o++,0))}function Hn(e){null!=e.s&&(f.clearTimeout(e.s),e.s=null)}function Gn(e){e.a=new bt(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Ut(e.ma);Wt(t,"RID","rpc"),Wt(t,"SID",e.J),Wt(t,"CI",e.G?"0":"1"),Wt(t,"AID",e.P),qn(e,t),Wt(t,"TYPE","xmlhttp"),e.i&&e.l&&Rn(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ha,n.G=1,n.i=Ht(Ut(t)),n.j=null,n.I=!0,Ct(n,e)}function Kn(e){null!=e.m&&(f.clearTimeout(e.m),e.m=null)}function $n(e,t){var n=null;if(e.a==t){Kn(e),Hn(e),e.a=null;var r=2}else{if(!fn(e.b,t))return;n=t.s,pn(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=E()-t.u;var i=e.u;Pe(r=nt(),new st(r,n,t,i)),Un(e)}else Vn(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(hn(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.Ma?0:e.Na)||(e.h=ut(w(e.Ca,e,t),Zn(e,e.u)),e.u++,0)))}(e,t)||2==r&&Wn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Qn(e,5);break;case 4:Qn(e,10);break;case 3:Qn(e,6);break;default:Qn(e,2)}}function Zn(e,t){var n=e.Ia+Math.floor(Math.random()*e.Sa);return e.f||(n*=2),n*t}function Qn(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=w(e.cb,e);n||(n=new jt("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||zt(n,"https"),Ht(n)),function(e,t){var n=new Xe;if(f.Image){var r=new Image;r.onload=_(bn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_(bn,n,r,"TestLoadImage: error",!1,t),r.onabort=_(bn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_(bn,n,r,"TestLoadImage: timeout",!1,t),f.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else at(2);e.v=0,e.f&&e.f.sa(t),Yn(e),Fn(e)}function Yn(e){e.v=0,e.I=-1,e.f&&(0==mn(e.b).length&&0==e.g.length||(e.b.c.length=0,I(e.g),e.g.length=0),e.f.ra())}function Xn(e,t,n){var r=function(e){return e instanceof jt?Ut(e):new jt(e,void 0)}(n);if(""!=r.c)t&&qt(r,t+"."+r.c),Bt(r,r.h);else{var i=f.location;r=function(e,t,n,r){var i=new jt(null,void 0);return e&&zt(i,e),t&&qt(i,t),n&&Bt(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&M(e.V,(function(e,t){Wt(r,t,e)})),t=e.A,n=e.oa,t&&n&&Wt(r,t,n),Wt(r,"VER",e.ia),qn(e,r),r}function Jn(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new _n(e.Oa)).G=e.C,t}function er(){}function tr(){if(W&&!(10<=Number(ne)))throw Error("Environmental error: no available transport.")}function nr(e,t){Ae.call(this),this.a=new Dn(t),this.g=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.a.i=e),this.o=t&&t.supportsCrossDomainXhr||!1,this.m=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new or(this)}function rr(e){gt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function ir(){vt.call(this),this.status=1}function or(e){this.a=e}function ar(e){this.f=e}function sr(e){Ae.call(this),this.u=e,this.h=void 0,this.readyState=ur,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(l=_n.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+e);t=t?t.toUpperCase():"GET",this.C=e,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():pt.a(),this.u=this.l?ft(this.l):ft(pt),this.a.onreadystatechange=w(this.Aa,this);try{this.B=!0,this.a.open(t,String(e),!0),this.B=!1}catch(e){return void Tn(this,e)}e=n||"";var i=new Dt(this.headers);r&&Ot(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=kn,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=f.FormData&&e instanceof f.FormData,!(0<=k(Cn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{Pn(this),0<this.s&&((this.F=function(e){return W&&te(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=w(this.ya,this)):this.o=He(this.ya,this.s,this)),this.m=!0,this.a.send(e),this.m=!1}catch(e){Tn(this,e)}},l.ya=function(){void 0!==h&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,Pe(this,"timeout"),this.abort(8))},l.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Pe(this,"complete"),Pe(this,"abort"),An(this))},l.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),An(this,!0)),_n.X.H.call(this)},l.Aa=function(){this.j||(this.B||this.m||this.g?In(this):this.Za())},l.Za=function(){In(this)},l.W=function(){try{return 2<Nn(this)?this.a.status:-1}catch(e){return-1}},l.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},l.Qa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),wn(t)}},l.va=function(){return this.h},l.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(l=Dn.prototype).ia=8,l.v=1,l.Ca=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new bt(this,this.c,e,void 0),r=this.l;if(this.O&&(r?U(r=F(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Bn(this,n,t),Wt(i=Ut(this.B),"RID",e),Wt(i,"CVER",22),this.A&&Wt(i,"X-HTTP-Session-Id",this.A),qn(this,i),this.i&&r&&Rn(i,this.i,r),dn(this.b,n),this.Ja&&Wt(i,"TYPE","init"),this.ea?(Wt(i,"$req",t),Wt(i,"SID","null"),n.U=!0,xt(n,i,null)):xt(n,i,t),this.v=2}}else 3==this.v&&(e?zn(this,e):0==this.g.length||cn(this.b)||zn(this))},l.Ba=function(){if(this.j=null,Gn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=ut(w(this.Ya,this),e)}},l.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,at(10),Mn(this),Gn(this))},l.Xa=function(){null!=this.m&&(this.m=null,Mn(this),Wn(this),at(19))},l.cb=function(e){e?(this.c.info("Successfully pinged google.com"),at(2)):(this.c.info("Failed to ping google.com"),at(1))},(l=er.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.Ka=function(){},tr.prototype.a=function(e,t){return new nr(e,t)},x(nr,Ae),nr.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var e=this.a,t=this.g,n=this.b||void 0;at(0),e.ga=t,e.V=n||{},e.G=e.S,e.B=Xn(e,null,e.ga),Un(e)},nr.prototype.close=function(){Ln(this.a)},nr.prototype.l=function(e){if("string"==typeof e){var t={};t.__data__=e,jn(this.a,t)}else this.m?((t={}).__data__=Re(e),jn(this.a,t)):jn(this.a,e)},nr.prototype.H=function(){this.a.f=null,delete this.f,Ln(this.a),delete this.a,nr.X.H.call(this)},x(rr,gt),x(ir,vt),x(or,er),or.prototype.ua=function(){Pe(this.a,"a")},or.prototype.ta=function(e){Pe(this.a,new rr(e))},or.prototype.sa=function(e){Pe(this.a,new ir(e))},or.prototype.ra=function(){Pe(this.a,"b")},x(ar,ht),ar.prototype.a=function(){return new sr(this.f)},ar.prototype.c=function(e){return function(){return e}}({}),x(sr,Ae);var ur=0;function lr(e){e.f.read().then(e.Ta.bind(e)).catch(e.ca.bind(e))}function cr(e){e.readyState=4,e.g=null,e.f=null,e.m=null,hr(e)}function hr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(l=sr.prototype).open=function(e,t){if(this.readyState!=ur)throw this.abort(),Error("Error reopening a connection");this.s=e,this.o=t,this.readyState=1,hr(this)},l.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.o,t)).then(this.Wa.bind(this),this.ca.bind(this))},l.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,cr(this)),this.readyState=ur},l.Wa=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,hr(this)),this.a&&(this.readyState=3,hr(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==f.ReadableStream&&"body"in e?(this.responseText="",this.f=e.body.getReader(),this.m=new TextDecoder,lr(this)):e.text().then(this.Va.bind(this),this.ca.bind(this)))))},l.Ta=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.responseText+=t),e.done?cr(this):hr(this),3==this.readyState&&lr(this)}},l.Va=function(e){this.a&&(this.responseText=e,cr(this))},l.Ua=function(){this.a&&cr(this)},l.ca=function(){this.a&&cr(this)},l.setRequestHeader=function(e,t){this.l.append(e,t)},l.getResponseHeader=function(e){return this.b&&this.b.get(e.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.b)return"";for(var e=[],t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sr.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),tr.prototype.createWebChannel=tr.prototype.a,nr.prototype.send=nr.prototype.l,nr.prototype.open=nr.prototype.h,nr.prototype.close=nr.prototype.close,lt.NO_ERROR=0,lt.TIMEOUT=8,lt.HTTP_ERROR=6,ct.COMPLETE="complete",dt.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",Ae.prototype.listen=Ae.prototype.wa,_n.prototype.listenOnce=_n.prototype.xa,_n.prototype.getLastError=_n.prototype.Ra,_n.prototype.getLastErrorCode=_n.prototype.va,_n.prototype.getStatus=_n.prototype.W,_n.prototype.getResponseJson=_n.prototype.Qa,_n.prototype.getResponseText=_n.prototype.$,_n.prototype.send=_n.prototype.ba;var fr=lt,dr=ct,pr=et,mr=10,gr=11,vr=ar,yr=dt,br=_n,wr=n(622),_r=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();_r.o=-1;var Er={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xr=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,wr.ZT)(t,e),t}(Error),Cr=new a.Yd("@firebase/firestore");function kr(){return Cr.logLevel}function Tr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=a.in.DEBUG){var r=t.map(Ar);Cr.debug.apply(Cr,(0,wr.ev)(["Firestore (8.6.5): "+e],r))}}function Sr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=a.in.ERROR){var r=t.map(Ar);Cr.error.apply(Cr,(0,wr.ev)(["Firestore (8.6.5): "+e],r))}}function Ir(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=a.in.WARN){var r=t.map(Ar);Cr.warn.apply(Cr,(0,wr.ev)(["Firestore (8.6.5): "+e],r))}}function Ar(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Pr(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.6.5) INTERNAL ASSERTION FAILED: "+e;throw Sr(t),new Error(t)}function Nr(e,t){e||Pr()}function Rr(e,t){return e}function Or(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Dr=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Or(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Lr(e,t){return e<t?-1:e>t?1:0}function Mr(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Fr(e){return e+"\0"}var jr=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xr(Er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xr(Er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xr(Er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xr(Er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Lr(this.nanoseconds,e.nanoseconds):Lr(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ur=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new jr(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function zr(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Br(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Vr=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Pr(),void 0===n?n=e.length-t:n>e.length-t&&Pr(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,wr.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new xr(Er.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Vr),Hr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,wr.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Hr.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new xr(Er.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new xr(Er.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new xr(Er.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new xr(Er.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Vr),Kr=function(){function e(e){this.fields=e,e.sort(Gr.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Mr(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),$r=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Lr(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();$r.EMPTY_BYTE_STRING=new $r("");var Zr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(e){if(Nr(!!e),"string"==typeof e){var t=0,n=Zr.exec(e);if(Nr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Yr(e.seconds),nanos:Yr(e.nanos)}}function Yr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Xr(e){return"string"==typeof e?$r.fromBase64String(e):$r.fromUint8Array(e)}function Jr(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ei(e){var t=e.mapValue.fields.__previous_value__;return Jr(t)?ei(t):t}function ti(e){var t=Qr(e.mapValue.fields.__local_write_time__.timestampValue);return new jr(t.seconds,t.nanos)}function ni(e){return null==e}function ri(e){return 0===e&&1/e==-1/0}function ii(e){return"number"==typeof e&&Number.isInteger(e)&&!ri(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var oi=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Wr.fromString(t))},e.fromName=function(t){return new e(Wr.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Wr.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Wr.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Wr(t.slice()))},e}();function ai(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Jr(e)?4:10:Pr()}function si(e,t){var n=ai(e);if(n!==ai(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ti(e).isEqual(ti(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Qr(e.timestampValue),r=Qr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Xr(e.bytesValue).isEqual(Xr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Yr(e.geoPointValue.latitude)===Yr(t.geoPointValue.latitude)&&Yr(e.geoPointValue.longitude)===Yr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Yr(e.integerValue)===Yr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Yr(e.doubleValue),r=Yr(t.doubleValue);return n===r?ri(n)===ri(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Mr(e.arrayValue.values||[],t.arrayValue.values||[],si);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zr(n)!==zr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!si(n[i],r[i])))return!1;return!0}(e,t);default:return Pr()}}function ui(e,t){return void 0!==(e.values||[]).find((function(e){return si(e,t)}))}function li(e,t){var n=ai(e),r=ai(t);if(n!==r)return Lr(n,r);switch(n){case 0:return 0;case 1:return Lr(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Yr(e.integerValue||e.doubleValue),r=Yr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ci(e.timestampValue,t.timestampValue);case 4:return ci(ti(e),ti(t));case 5:return Lr(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Xr(e),r=Xr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Lr(n[i],r[i]);if(0!==o)return o}return Lr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Lr(Yr(e.latitude),Yr(t.latitude));return 0!==n?n:Lr(Yr(e.longitude),Yr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=li(n[i],r[i]);if(o)return o}return Lr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Lr(r[a],o[a]);if(0!==s)return s;var u=li(n[r[a]],i[o[a]]);if(0!==u)return u}return Lr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Pr()}}function ci(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Lr(e,t);var n=Qr(e),r=Qr(t),i=Lr(n.seconds,r.seconds);return 0!==i?i:Lr(n.nanos,r.nanos)}function hi(e){return fi(e)}function fi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Qr(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Xr(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,oi.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=fi(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+fi(e.fields[o])}return t+"}"}(e.mapValue):Pr();var t,n}function di(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function pi(e){return!!e&&"integerValue"in e}function mi(e){return!!e&&"arrayValue"in e}function gi(e){return!!e&&"nullValue"in e}function vi(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yi(e){return!!e&&"mapValue"in e}function bi(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue)return{timestampValue:Object.assign({},Qr(e.timestampValue))};if(e.mapValue){var t={mapValue:{fields:{}}};return qr(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=bi(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=bi(e.arrayValue.values[r]);return n}return Object.assign({},e)}var wi=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!yi(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bi(t)},e.prototype.setAll=function(e){var t=this,n=Gr.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=bi(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());yi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return si(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];yi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){qr(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(bi(this.value))},e}();function _i(e){var t=[];return qr(e.fields,(function(e,n){var r=new Gr([e]);if(yi(n)){var i=_i(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Kr(t)}var Ei=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Ur.min(),wi.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,wi.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,wi.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),xi=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Ci(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new xi(e,t,n,r,i,o,a)}function ki(e){var t=Rr(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+hi(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ni(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ji(t.startAt)),t.endAt&&(n+="|ub:",n+=ji(t.endAt)),t.h=n}return t.h}function Ti(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!zi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!si(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bi(e.startAt,t.startAt)&&Bi(e.endAt,t.endAt)}function Si(e){return oi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ii=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,wr.ZT)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Ai(e,n,r):"array-contains"===n?new Oi(e,r):"in"===n?new Di(e,r):"not-in"===n?new Li(e,r):"array-contains-any"===n?new Mi(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Pi(e,n):new Ni(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(li(t,this.value)):null!==t&&ai(this.value)===ai(t)&&this.m(li(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pr()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Ai=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=oi.fromName(r.referenceValue),i}return(0,wr.ZT)(t,e),t.prototype.matches=function(e){var t=oi.comparator(e.key,this.key);return this.m(t)},t}(Ii),Pi=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Ri(0,n),r}return(0,wr.ZT)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Ii),Ni=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Ri(0,n),r}return(0,wr.ZT)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Ii);function Ri(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return oi.fromName(e.referenceValue)}))}var Oi=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,wr.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return mi(t)&&ui(t.arrayValue,this.value)},t}(Ii),Di=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,wr.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&ui(this.value.arrayValue,t)},t}(Ii),Li=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,wr.ZT)(t,e),t.prototype.matches=function(e){if(ui(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ui(this.value.arrayValue,t)},t}(Ii),Mi=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,wr.ZT)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!mi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ui(t.value.arrayValue,e)}))},t}(Ii),Fi=function(e,t){this.position=e,this.before=t};function ji(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return hi(e)})).join(",")}var Ui=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function zi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function qi(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?oi.comparator(oi.fromName(a.referenceValue),n.key):li(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Bi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!si(e.position[n],t.position[n]))return!1;return!0}var Vi=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Wi(e,t,n,r,i,o,a,s){return new Vi(e,t,n,r,i,o,a,s)}function Hi(e){return new Vi(e)}function Gi(e){return!ni(e.limit)&&"F"===e.limitType}function Ki(e){return!ni(e.limit)&&"L"===e.limitType}function $i(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Zi(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Qi(e){return null!==e.collectionGroup}function Yi(e){var t=Rr(e);if(null===t.p){t.p=[];var n=Zi(t),r=$i(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Ui(n)),t.p.push(new Ui(Gr.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ui(Gr.keyField(),u))}}}return t.p}function Xi(e){var t=Rr(e);if(!t.T)if("F"===t.limitType)t.T=Ci(t.path,t.collectionGroup,Yi(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Yi(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ui(o.field,a))}var s=t.endAt?new Fi(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Fi(t.startAt.position,!t.startAt.before):null;t.T=Ci(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Ji(e,t,n){return new Vi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function eo(e,t){return Ti(Xi(e),Xi(t))&&e.limitType===t.limitType}function to(e){return ki(Xi(e))+"|lt:"+e.limitType}function no(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+hi(t.value);var t})).join(", ")+"]"),ni(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+ji(e.startAt)),e.endAt&&(t+=", endAt: "+ji(e.endAt)),"Target("+t+")"}(Xi(e))+"; limitType="+e.limitType+")"}function ro(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!qi(e.startAt,Yi(e),t)||e.endAt&&qi(e.endAt,Yi(e),t))}(e,t)}function io(e){return function(t,n){for(var r=!1,i=0,o=Yi(e);i<o.length;i++){var a=o[i],s=oo(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function oo(e,t,n){var r=e.field.isKeyField()?oi.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?li(r,i):Pr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pr()}}function ao(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ri(t)?"-0":t}}function so(e){return{integerValue:""+e}}function uo(e,t){return ii(t)?so(t):ao(e,t)}var lo=function(){this._=void 0};function co(e,t,n){return e instanceof po?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof mo?go(e,t):e instanceof vo?yo(e,t):function(e,t){var n=fo(e,t),r=wo(n)+wo(e.A);return pi(n)&&pi(e.A)?so(r):ao(e.R,r)}(e,t)}function ho(e,t,n){return e instanceof mo?go(e,t):e instanceof vo?yo(e,t):n}function fo(e,t){return e instanceof bo?pi(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,wr.ZT)(t,e),t}(lo),mo=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,wr.ZT)(t,e),t}(lo);function go(e,t){for(var n=_o(t),r=function(e){n.some((function(t){return si(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var vo=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,wr.ZT)(t,e),t}(lo);function yo(e,t){for(var n=_o(t),r=function(e){n=n.filter((function(t){return!si(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var bo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,wr.ZT)(t,e),t}(lo);function wo(e){return Yr(e.integerValue||e.doubleValue)}function _o(e){return mi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Eo=function(e,t){this.field=e,this.transform=t},xo=function(e,t){this.version=e,this.transformResults=t},Co=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ko(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var To=function(){};function So(e,t,n){e instanceof Ro?function(e,t,n){var r=e.value.clone(),i=Lo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Oo?function(e,t,n){if(ko(e.precondition,t)){var r=Lo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Do(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Io(e,t,n){e instanceof Ro?function(e,t,n){if(ko(e.precondition,t)){var r=e.value.clone(),i=Mo(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(No(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Oo?function(e,t,n){if(ko(e.precondition,t)){var r=Mo(e.fieldTransforms,n,t),i=t.data;i.setAll(Do(e)),i.setAll(r),t.convertToFoundDocument(No(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ko(e.precondition,t)&&t.convertToNoDocument(Ur.min())}(e,t)}function Ao(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=fo(o.transform,a||null);null!=s&&(null==n&&(n=wi.empty()),n.set(o.field,s))}return n||null}function Po(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Mr(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof mo&&t instanceof mo||e instanceof vo&&t instanceof vo?Mr(e.elements,t.elements,si):e instanceof bo&&t instanceof bo?si(e.A,t.A):e instanceof po&&t instanceof po}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function No(e){return e.isFoundDocument()?e.version:Ur.min()}var Ro=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,wr.ZT)(t,e),t}(To),Oo=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,wr.ZT)(t,e),t}(To);function Do(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Lo(e,t,n){var r=new Map;Nr(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,ho(a,s,n[i]))}return r}function Mo(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,co(s,u,t))}return r}var Fo,jo,Uo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,wr.ZT)(t,e),t}(To),zo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,wr.ZT)(t,e),t}(To),qo=function(e){this.count=e};function Bo(e){switch(e){case Er.OK:return Pr();case Er.CANCELLED:case Er.UNKNOWN:case Er.DEADLINE_EXCEEDED:case Er.RESOURCE_EXHAUSTED:case Er.INTERNAL:case Er.UNAVAILABLE:case Er.UNAUTHENTICATED:return!1;case Er.INVALID_ARGUMENT:case Er.NOT_FOUND:case Er.ALREADY_EXISTS:case Er.PERMISSION_DENIED:case Er.FAILED_PRECONDITION:case Er.ABORTED:case Er.OUT_OF_RANGE:case Er.UNIMPLEMENTED:case Er.DATA_LOSS:return!0;default:return Pr()}}function Vo(e){if(void 0===e)return Sr("GRPC error has no .code"),Er.UNKNOWN;switch(e){case Fo.OK:return Er.OK;case Fo.CANCELLED:return Er.CANCELLED;case Fo.UNKNOWN:return Er.UNKNOWN;case Fo.DEADLINE_EXCEEDED:return Er.DEADLINE_EXCEEDED;case Fo.RESOURCE_EXHAUSTED:return Er.RESOURCE_EXHAUSTED;case Fo.INTERNAL:return Er.INTERNAL;case Fo.UNAVAILABLE:return Er.UNAVAILABLE;case Fo.UNAUTHENTICATED:return Er.UNAUTHENTICATED;case Fo.INVALID_ARGUMENT:return Er.INVALID_ARGUMENT;case Fo.NOT_FOUND:return Er.NOT_FOUND;case Fo.ALREADY_EXISTS:return Er.ALREADY_EXISTS;case Fo.PERMISSION_DENIED:return Er.PERMISSION_DENIED;case Fo.FAILED_PRECONDITION:return Er.FAILED_PRECONDITION;case Fo.ABORTED:return Er.ABORTED;case Fo.OUT_OF_RANGE:return Er.OUT_OF_RANGE;case Fo.UNIMPLEMENTED:return Er.UNIMPLEMENTED;case Fo.DATA_LOSS:return Er.DATA_LOSS;default:return Pr()}}(jo=Fo||(Fo={}))[jo.OK=0]="OK",jo[jo.CANCELLED=1]="CANCELLED",jo[jo.UNKNOWN=2]="UNKNOWN",jo[jo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jo[jo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jo[jo.NOT_FOUND=5]="NOT_FOUND",jo[jo.ALREADY_EXISTS=6]="ALREADY_EXISTS",jo[jo.PERMISSION_DENIED=7]="PERMISSION_DENIED",jo[jo.UNAUTHENTICATED=16]="UNAUTHENTICATED",jo[jo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jo[jo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jo[jo.ABORTED=10]="ABORTED",jo[jo.OUT_OF_RANGE=11]="OUT_OF_RANGE",jo[jo.UNIMPLEMENTED=12]="UNIMPLEMENTED",jo[jo.INTERNAL=13]="INTERNAL",jo[jo.UNAVAILABLE=14]="UNAVAILABLE",jo[jo.DATA_LOSS=15]="DATA_LOSS";var Wo=function(){function e(e,t){this.comparator=e,this.root=t||Go.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Go.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Go.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ho(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ho(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ho(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ho(this.root,e,this.comparator,!0)},e}(),Ho=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Go=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Pr();if(this.right.isRed())throw Pr();var e=this.left.check();if(e!==this.right.check())throw Pr();return e+(this.isRed()?0:1)},e}();Go.EMPTY=null,Go.RED=!0,Go.BLACK=!1,Go.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Pr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Pr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Pr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Pr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Pr()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Go(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Ko=function(){function e(e){this.comparator=e,this.data=new Wo(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new $o(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new $o(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),$o=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Zo=new Wo(oi.comparator);function Qo(){return Zo}var Yo=new Wo(oi.comparator);function Xo(){return Yo}var Jo=new Wo(oi.comparator);function ea(){return Jo}var ta=new Ko(oi.comparator);function na(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=ta,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ra=new Ko(Lr);function ia(){return ra}var oa=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,aa.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ur.min(),r,ia(),Qo(),na())},e}(),aa=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e($r.EMPTY_BYTE_STRING,n,na(),na(),na())},e}(),sa=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},ua=function(e,t){this.targetId=e,this.V=t},la=function(e,t,n,r){void 0===n&&(n=$r.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ca=function(){function e(){this.S=0,this.D=da(),this.C=$r.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=na(),t=na(),n=na();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Pr()}})),new aa(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=da()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),ha=function(){function e(e){this.W=e,this.G=new Map,this.H=Qo(),this.J=fa(),this.Y=new Ko(Lr)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Pr()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Si(i))if(0===n){var o=new oi(i.path);this.tt(t,o,Ei.newNoDocument(o,Ur.min()))}else Nr(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Si(o.target)){var a=new oi(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Ei.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=na();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new oa(e,n,this.Y,this.H,r);return this.H=Qo(),this.J=fa(),this.Y=new Ko(Lr),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new ca,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Ko(Lr),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Tr("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new ca),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function fa(){return new Wo(oi.comparator)}function da(){return new Wo(oi.comparator)}var pa={asc:"ASCENDING",desc:"DESCENDING"},ma={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ga=function(e,t){this.databaseId=e,this.I=t};function va(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ya(e,t){return e.I?t.toBase64():t.toUint8Array()}function ba(e,t){return va(e,t.toTimestamp())}function wa(e){return Nr(!!e),Ur.fromTimestamp(function(e){var t=Qr(e);return new jr(t.seconds,t.nanos)}(e))}function _a(e,t){return function(e){return new Wr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ea(e){var t=Wr.fromString(e);return Nr(Ga(t)),t}function xa(e,t){return _a(e.databaseId,t.path)}function Ca(e,t){var n=Ea(t);if(n.get(1)!==e.databaseId.projectId)throw new xr(Er.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xr(Er.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oi(Ia(n))}function ka(e,t){return _a(e.databaseId,t)}function Ta(e){var t=Ea(e);return 4===t.length?Wr.emptyPath():Ia(t)}function Sa(e){return new Wr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ia(e){return Nr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Aa(e,t,n){return{name:xa(e,t),fields:n.value.mapValue.fields}}function Pa(e,t,n){var r=Ca(e,t.name),i=wa(t.updateTime),o=new wi({mapValue:{fields:t.fields}}),a=Ei.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Na(e,t){var n;if(t instanceof Ro)n={update:Aa(e,t.key,t.value)};else if(t instanceof Uo)n={delete:xa(e,t.key)};else if(t instanceof Oo)n={update:Aa(e,t.key,t.data),updateMask:Ha(t.fieldMask)};else{if(!(t instanceof zo))return Pr();n={verify:xa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof po)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof mo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bo)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Pr()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ba(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pr()}(e,t.precondition)),n}function Ra(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Co.updateTime(wa(e.updateTime)):void 0!==e.exists?Co.exists(e.exists):Co.none()}(t.currentDocument):Co.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Nr("REQUEST_TIME"===t.setToServerValue),n=new po;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new mo(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new vo(i)}else"increment"in t?n=new bo(e,t.increment):Pr();var o=Gr.fromServerFormat(t.fieldPath);return new Eo(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ca(e,t.update.name),o=new wi({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Kr(t.map((function(e){return Gr.fromServerFormat(e)})))}(t.updateMask);return new Oo(i,o,a,n,r)}return new Ro(i,o,n,r)}if(t.delete){var s=Ca(e,t.delete);return new Uo(s,n)}if(t.verify){var u=Ca(e,t.verify);return new zo(u,n)}return Pr()}function Oa(e,t){return{documents:[ka(e,t.path)]}}function Da(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ka(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ka(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(vi(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NAN"}};if(gi(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vi(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NOT_NAN"}};if(gi(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(e.field),op:za(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:qa(e.field),direction:Ua(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||ni(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Fa(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Fa(t.endAt)),n}function La(e){var t=Ta(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Nr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Ma(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ui(Ba(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ni(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=ja(n.startAt));var c=null;return n.endAt&&(c=ja(n.endAt)),Wi(t,i,s,a,u,"F",l,c)}function Ma(e){return e?void 0!==e.unaryFilter?[Wa(e)]:void 0!==e.fieldFilter?[Va(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ma(e)})).reduce((function(e,t){return e.concat(t)})):Pr():[]}function Fa(e){return{before:e.before,values:e.position}}function ja(e){var t=!!e.before,n=e.values||[];return new Fi(n,t)}function Ua(e){return pa[e]}function za(e){return ma[e]}function qa(e){return{fieldPath:e.canonicalString()}}function Ba(e){return Gr.fromServerFormat(e.fieldPath)}function Va(e){return Ii.create(Ba(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Pr()}}(e.fieldFilter.op),e.fieldFilter.value)}function Wa(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ba(e.unaryFilter.field);return Ii.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ba(e.unaryFilter.field);return Ii.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ba(e.unaryFilter.field);return Ii.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ba(e.unaryFilter.field);return Ii.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Pr()}}function Ha(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ga(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ka(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Za(t)),t=$a(e.get(n),t);return Za(t)}function $a(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Za(e){return e+""}function Qa(e){var t=e.length;if(Nr(t>=2),2===t)return Nr(""===e.charAt(0)&&""===e.charAt(1)),Wr.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&Pr(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:Pr()}o=a+2}return new Wr(r)}var Ya=function(e,t){this.seconds=e,this.nanoseconds=t},Xa=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Xa.store="owner",Xa.key="owner";var Ja=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ja.store="mutationQueues",Ja.keyPath="userId";var es=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};es.store="mutations",es.keyPath="batchId",es.userMutationsIndex="userMutationsIndex",es.userMutationsKeyPath=["userId","batchId"];var ts=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Ka(t)]},e.key=function(e,t,n){return[e,Ka(t),n]},e}();ts.store="documentMutations",ts.PLACEHOLDER=new ts;var ns=function(e,t){this.path=e,this.readTime=t},rs=function(e,t){this.path=e,this.version=t},is=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};is.store="remoteDocuments",is.readTimeIndex="readTimeIndex",is.readTimeIndexPath="readTime",is.collectionReadTimeIndex="collectionReadTimeIndex",is.collectionReadTimeIndexPath=["parentPath","readTime"];var os=function(e){this.byteSize=e};os.store="remoteDocumentGlobal",os.key="remoteDocumentGlobalKey";var as=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};as.store="targets",as.keyPath="targetId",as.queryTargetsIndexName="queryTargetsIndex",as.queryTargetsKeyPath=["canonicalId","targetId"];var ss=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};ss.store="targetDocuments",ss.keyPath=["targetId","path"],ss.documentTargetsIndex="documentTargetsIndex",ss.documentTargetsKeyPath=["path","targetId"];var us=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};us.key="targetGlobalKey",us.store="targetGlobal";var ls=function(e,t){this.collectionId=e,this.parent=t};ls.store="collectionParents",ls.keyPath=["collectionId","parent"];var cs=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};cs.store="clientMetadata",cs.keyPath="clientId";var hs=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};hs.store="bundles",hs.keyPath="bundleId";var fs=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};fs.store="namedQueries",fs.keyPath="name";var ds=(0,wr.ev)((0,wr.ev)([],(0,wr.ev)((0,wr.ev)([],(0,wr.ev)((0,wr.ev)([],(0,wr.ev)((0,wr.ev)([],[Ja.store,es.store,ts.store,is.store,as.store,Xa.store,us.store,ss.store]),[cs.store])),[os.store])),[ls.store])),[hs.store,fs.store]),ps="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ms=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),gs=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},vs=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Pr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),ys=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new gs,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new _s(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Ts(t.target.error);n.ft.reject(new _s(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new _s(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Tr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new xs(t)},e}(),bs=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,o.z$)())&&Sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Tr("SimpleDb","Removing database:",e),Cs(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,o.z$)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Tr("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new _s(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new xr(Er.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new _s(e,n))},i.onupgradeneeded=function(e){Tr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Tr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,wr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,wr.Jh)(this,(function(l){switch(l.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,l,c;return(0,wr.Jh)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=ys.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),vs.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return l=h.sent(),c="FirebaseError"!==l.name&&o<3,Tr("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),s.close(),c?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},s=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ws=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Cs(this.Pt.delete())},e}(),_s=function(e){function t(t,n){var r=this;return(r=e.call(this,Er.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,wr.ZT)(t,e),t}(xr);function Es(e){return"IndexedDbTransactionError"===e.name}var xs=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Tr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Tr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Cs(n)},e.prototype.add=function(e){return Tr("SimpleDb","ADD",this.store.name,e,e),Cs(this.store.add(e))},e.prototype.get=function(e){var t=this;return Cs(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Tr("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Tr("SimpleDb","DELETE",this.store.name,e),Cs(this.store.delete(e))},e.prototype.count=function(){return Tr("SimpleDb","COUNT",this.store.name),Cs(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){Tr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new vs((function(n,r){t.onerror=function(e){var t=Ts(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new vs((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new ws(i),a=t(i.primaryKey,i.value,o);if(a instanceof vs){var s=a.catch((function(e){return o.done(),vs.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return vs.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Cs(e){return new vs((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ts(e.target.error);n(t)}}))}var ks=!1;function Ts(e){var t=bs._t((0,o.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new xr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ks||(ks=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ss=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,wr.ZT)(t,e),t}(ms);function Is(e,t){var n=Rr(e);return bs.It(n.Mt,t)}var As=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&So(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Io(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Io(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ur.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),na())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Mr(this.mutations,e.mutations,(function(e,t){return Po(e,t)}))&&Mr(this.baseMutations,e.baseMutations,(function(e,t){return Po(e,t)}))},e}(),Ps=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Nr(t.mutations.length===r.length);for(var i=ea(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Ns=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Ur.min()),void 0===o&&(o=Ur.min()),void 0===a&&(a=$r.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Rs=function(e){this.Lt=e};function Os(e,t){if(t.document)return Pa(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=oi.fromSegments(t.noDocument.path),r=js(t.noDocument.readTime),i=Ei.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=oi.fromSegments(t.unknownDocument.path);return r=js(t.unknownDocument.version),Ei.newUnknownDocument(o,r)}return Pr()}function Ds(e,t,n){var r=Ls(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:xa(e,t.key),fields:t.data.value.mapValue.fields,updateTime:va(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new is(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Fs(t.version);return a=t.hasCommittedMutations,new is(null,new ns(s,u),null,a,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=Fs(t.version);return new is(new rs(l,c),null,null,!0,r,i)}return Pr()}function Ls(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ms(e){var t=new jr(e[0],e[1]);return Ur.fromTimestamp(t)}function Fs(e){var t=e.toTimestamp();return new Ya(t.seconds,t.nanoseconds)}function js(e){var t=new jr(e.seconds,e.nanoseconds);return Ur.fromTimestamp(t)}function Us(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ra(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Ra(e.Lt,t)})),s=jr.fromMillis(t.localWriteTimeMs);return new As(t.batchId,s,n,a)}function zs(e){var t,n,r=js(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?js(e.lastLimboFreeSnapshotVersion):Ur.min();return void 0!==e.query.documents?(Nr(1===(n=e.query).documents.length),t=Xi(Hi(Ta(n.documents[0])))):t=function(e){return Xi(La(e))}(e.query),new Ns(t,e.targetId,0,e.lastListenSequenceNumber,r,i,$r.fromBase64String(e.resumeToken))}function qs(e,t){var n,r=Fs(t.snapshotVersion),i=Fs(t.lastLimboFreeSnapshotVersion);n=Si(t.target)?Oa(e.Lt,t.target):Da(e.Lt,t.target);var o=t.resumeToken.toBase64();return new as(t.targetId,ki(t.target),r,o,t.sequenceNumber,i,n)}function Bs(e){var t=La({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ji(t,t.limit,"L"):t}var Vs=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Ws(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:js(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Ws(e).put({bundleId:(n=t).id,createTime:Fs(wa(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Hs(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Bs(t.bundledQuery),readTime:js(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Hs(e).put(function(e){return{name:e.name,readTime:Fs(wa(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Ws(e){return Is(e,hs.store)}function Hs(e){return Is(e,fs.store)}var Gs=function(){function e(){this.Bt=new Ks}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),vs.resolve()},e.prototype.getCollectionParents=function(e,t){return vs.resolve(this.Bt.getEntries(t))},e}(),Ks=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ko(Wr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Ko(Wr.comparator)).toArray()},e}(),$s=function(){function e(){this.qt=new Ks}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Ka(i)};return Zs(e).put(o)}return vs.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Fr(t),""],!1,!0);return Zs(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Qa(o.parent))}return n}))},e}();function Zs(e){return Is(e,ls.store)}var Qs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ys=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Xs(e,t,n){var r=e.store(es.store),i=e.store(ts.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Nr(1===s)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=ts.key(t,f.key.path,n.batchId);o.push(i.delete(d)),l.push(f.key)}return vs.waitFor(o).next((function(){return l}))}function Js(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Pr();t=e.noDocument}return JSON.stringify(t).length}Ys.DEFAULT_COLLECTION_PERCENTILE=10,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ys.DEFAULT=new Ys(41943040,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ys.DISABLED=new Ys(-1,0,0);var eu=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return Nr(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nu(e).$t({index:es.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=ru(e),a=nu(e);return a.add({}).next((function(s){Nr("number"==typeof s);for(var u=new As(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Na(e.Lt,t)})),i=n.mutations.map((function(t){return Na(e.Lt,t)}));return new es(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),c=[],h=new Ko((function(e,t){return Lr(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=ts.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),c.push(a.put(l)),c.push(o.put(m,ts.PLACEHOLDER))}return h.forEach((function(t){c.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),vs.waitFor(c).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return nu(e).get(t).next((function(e){return e?(Nr(e.userId===n.userId),Us(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?vs.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return nu(e).$t({index:es.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Nr(t.batchId>=r),o=Us(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return nu(e).$t({index:es.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nu(e).Nt(es.userMutationsIndex,n).next((function(e){return e.map((function(e){return Us(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=ts.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ru(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],l=r[2],c=Qa(u);if(s===n.userId&&t.path.isEqual(c))return nu(e).get(l).next((function(e){if(!e)throw Pr();Nr(e.userId===n.userId),o.push(Us(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ko(Lr),i=[];return t.forEach((function(t){var o=ts.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=ru(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],l=Qa(s);a===n.userId&&t.path.isEqual(l)?r=r.add(u):o.done()}));i.push(s)})),vs.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=ts.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ko(Lr);return ru(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],l=e[2],c=Qa(u);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(l)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(nu(e).get(t).next((function(e){if(null===e)throw Pr();Nr(e.userId===n.userId),r.push(Us(n.R,e))})))})),vs.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Xs(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),vs.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return vs.resolve();var r=IDBKeyRange.lowerBound(ts.prefixForUser(t.userId)),i=[];return ru(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Qa(e[1]);i.push(o)}else r.done()})).next((function(){Nr(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return tu(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return iu(e).get(this.userId).next((function(e){return e||new Ja(t.userId,-1,"")}))},e}();function tu(e,t,n){var r=ts.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ru(e).$t({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function nu(e){return Is(e,es.store)}function ru(e){return Is(e,ts.store)}function iu(e){return Is(e,Ja.store)}var ou=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),au=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new ou(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Ur.fromTimestamp(new jr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return su(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Nr(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return su(e).$t((function(a,s){var u=zs(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return vs.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return su(e).$t((function(e,n){var r=zs(n);t(r)}))},e.prototype.Xt=function(e){return uu(e).get(us.key).next((function(e){return Nr(null!==e),e}))},e.prototype.Zt=function(e,t){return uu(e).put(us.key,t)},e.prototype.te=function(e,t){return su(e).put(qs(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=ki(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return su(e).$t({range:r,index:as.queryTargetsIndexName},(function(e,n,r){var o=zs(n);Ti(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=lu(e);return t.forEach((function(t){var a=Ka(t.path);i.push(o.put(new ss(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),vs.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=lu(e);return vs.forEach(t,(function(t){var o=Ka(t.path);return vs.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=lu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=lu(e),i=na();return r.$t({range:n,kt:!0},(function(e,t,n){var r=Qa(e[1]),o=new oi(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Ka(t.path),r=IDBKeyRange.bound([n],[Fr(n)],!1,!0),i=0;return lu(e).$t({index:ss.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return su(e).get(t).next((function(e){return e?zs(e):null}))},e}();function su(e){return Is(e,as.store)}function uu(e){return Is(e,us.store)}function lu(e){return Is(e,ss.store)}function cu(e){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){if(e.code!==Er.FAILED_PRECONDITION||e.message!==ps)throw e;return Tr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function hu(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Lr(n,i);return 0===a?Lr(r,o):a}var fu=function(){function e(e){this.ne=e,this.buffer=new Ko(hu),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();hu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),du=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Tr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,wr.mG)(t,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Es(t=n.sent())?(Tr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,cu(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),pu=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return vs.resolve(_r.o);var r=new fu(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Tr("LruGarbageCollector","Garbage collection skipped; disabled"),vs.resolve(Qs)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Tr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Qs):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,s,u,l,c=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Tr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return l=Date.now(),kr()<=a.in.DEBUG&&Tr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-h)+"ms"),vs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),mu=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new pu(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return gu(e,n)},e.prototype.removeReference=function(e,t,n){return gu(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return gu(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return iu(e).Ot((function(r){return tu(e,r,t).next((function(e){return e&&(n=!0),vs.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),lu(e).delete([0,Ka(a.path)])}))}));i.push(u)}})).next((function(){return vs.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return gu(e,t)},e.prototype.we=function(e,t){var n,r=lu(e),i=_r.o;return r.$t({index:ss.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==_r.o&&t(new oi(Qa(n)),i),i=s,n=a):i=_r.o})).next((function(){i!==_r.o&&t(new oi(Qa(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function gu(e,t){return lu(e).put(function(e,t){return new ss(0,Ka(e.path),t)}(t,e.currentSequenceNumber))}var vu=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){qr(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Br(this.inner)},e}(),yu=function(){function e(){this.changes=new vu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Ur.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Ei.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?vs.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),bu=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Eu(e).put(xu(t),n)},e.prototype.removeEntry=function(e,t){var n=Eu(e),r=xu(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Eu(e).get(xu(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Eu(e).get(xu(t)).next((function(e){return{document:n.ye(t,e),size:Js(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Qo();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Qo(),i=new Wo(oi.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Js(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return vs.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Eu(e).$t({range:r},(function(e,t,r){for(var a=oi.fromSegments(e);o&&oi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Qo(),o=t.path.length+1,a={};if(n.isEqual(Ur.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),l=Ls(n);a.range=IDBKeyRange.lowerBound([u,l],!0),a.index=is.collectionReadTimeIndex}return Eu(e).$t(a,(function(e,n,a){if(e.length===o){var s=Os(r.R,n);t.path.isPrefixOf(s.key.path)?ro(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new wu(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return _u(e).get(os.key).next((function(e){return Nr(!!e),e}))},e.prototype.me=function(e,t){return _u(e).put(os.key,t)},e.prototype.ye=function(e,t){if(t){var n=Os(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Ur.min()))return n}return Ei.newInvalidDocument(e)},e}(),wu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new vu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,wr.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Ko((function(e,t){return Lr(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Ds(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var l=Js(u);r+=l-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var c=Ds(t.Ie.R,Ei.newNoDocument(o,Ur.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,c))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),vs.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(yu);function _u(e){return Is(e,os.store)}function Eu(e){return Is(e,is.store)}function xu(e){return e.path.toArray()}var Cu=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Nr(n<r&&n>=0&&r<=11);var o=new ys("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Xa.store)}(e),function(e){e.createObjectStore(Ja.store,{keyPath:Ja.keyPath}),e.createObjectStore(es.store,{keyPath:es.keyPath,autoIncrement:!0}).createIndex(es.userMutationsIndex,es.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ts.store)}(e),ku(e),function(e){e.createObjectStore(is.store)}(e));var a=vs.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ss.store),e.deleteObjectStore(as.store),e.deleteObjectStore(us.store)}(e),ku(e)),a=a.next((function(){return function(e){var t=e.store(us.store),n=new us(0,0,Ur.min().toTimestamp(),0);return t.put(us.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(es.store).Nt().next((function(n){e.deleteObjectStore(es.store),e.createObjectStore(es.store,{keyPath:es.keyPath,autoIncrement:!0}).createIndex(es.userMutationsIndex,es.userMutationsKeyPath,{unique:!0});var r=t.store(es.store),i=n.map((function(e){return r.put(e)}));return vs.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(cs.store,{keyPath:cs.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(os.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(is.store);t.createIndex(is.readTimeIndex,is.readTimeIndexPath,{unique:!1}),t.createIndex(is.collectionReadTimeIndex,is.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(hs.store,{keyPath:hs.keyPath})}(e),function(e){e.createObjectStore(fs.store,{keyPath:fs.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(is.store).$t((function(e,n){t+=Js(n)})).next((function(){var n=new os(t);return e.store(os.store).put(os.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Ja.store),r=e.store(es.store);return n.Nt().next((function(n){return vs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(es.userMutationsIndex,i).next((function(r){return vs.forEach(r,(function(r){Nr(r.userId===n.userId);var i=Us(t.R,r);return Xs(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(ss.store),n=e.store(is.store);return e.store(us.store).get(us.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Wr(n),a=function(e){return[0,Ka(e)]}(o);r.push(t.get(a).next((function(n){return n?vs.resolve():function(n){return t.put(new ss(0,Ka(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return vs.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(ls.store,{keyPath:ls.keyPath});var n=t.store(ls.store),r=new Ks,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ka(i)})}};return t.store(is.store).$t({kt:!0},(function(e,t){var n=new Wr(e);return i(n.popLast())})).next((function(){return t.store(ts.store).$t({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Qa(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(as.store);return n.$t((function(e,r){var i=zs(r),o=qs(t.R,i);return n.put(o)}))},e}();function ku(e){e.createObjectStore(ss.store,{keyPath:ss.keyPath}).createIndex(ss.documentTargetsIndex,ss.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(as.store,{keyPath:as.keyPath}).createIndex(as.queryTargetsIndexName,as.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(us.store)}var Tu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Su=function(){function e(t,n,r,i,o,a,s,u,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new xr(Er.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mu(this,i),this.Le=n+"main",this.R=new Rs(u),this.Be=new bs(this.Le,11,new Cu(this.R)),this.qe=new au(this.referenceDelegate,this.R),this.Ut=new $s,this.Ue=function(e,t){return new bu(e,t)}(this.R,this.Ut),this.Qe=new Vs,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===c&&Sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new xr(Er.FAILED_PRECONDITION,Tu);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new _r(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,wr.mG)(t,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,wr.mG)(t,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,wr.mG)(t,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Au(t).put(new cs(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Es(t))return Tr("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Tr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Iu(e).get(Xa.key).next((function(e){return vs.resolve(t.tn(e))}))},e.prototype.en=function(e){return Au(e).delete(this.clientId)},e.prototype.nn=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Is(e,cs.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return vs.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?vs.resolve(!0):Iu(e).get(Xa.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new xr(Er.FAILED_PRECONDITION,Tu);return!1}}return!(!t.networkEnabled||!t.inForeground)||Au(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Tr("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e=this;return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Xa.store,cs.store],(function(t){var n=new Ss(t,_r.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Au(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return eu.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;Tr("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,ds,(function(o){return i=new Ss(o,r.Ne?r.Ne.next():_r.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Sr("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new xr(Er.FAILED_PRECONDITION,ps);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Iu(e).get(Xa.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new xr(Er.FAILED_PRECONDITION,Tu)}))},e.prototype.Ze=function(e){var t=new Xa(this.clientId,this.allowTabSynchronization,Date.now());return Iu(e).put(Xa.key,t)},e.yt=function(){return bs.yt()},e.prototype.Xe=function(e){var t=this,n=Iu(e);return n.get(Xa.key).next((function(e){return t.tn(e)?(Tr("IndexedDbPersistence","Releasing primary lease."),n.delete(Xa.key)):vs.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Sr("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return Tr("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Sr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Sr("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Iu(e){return Is(e,Xa.store)}function Au(e){return Is(e,cs.store)}function Pu(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Nu=function(e,t){this.progress=e,this.wn=t},Ru=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return oi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Qi(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new oi(t)).next((function(e){var t=Xo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Xo();return this.Ut.getCollectionParents(e,i).next((function(a){return vs.forEach(a,(function(a){var s=function(e,t){return new Vi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key,c=r.get(l);null==c&&(c=Ei.newInvalidDocument(l),r=r.insert(l,c)),Io(u,c,o.localWriteTime),c.isFoundDocument()||(r=r.remove(l))}}))})).next((function(){return r.forEach((function(e,n){ro(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=na(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Oo&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(l=l.insert(e,t))})),l}))},e}(),Ou=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=na(),i=na(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Du=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ur.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var s=i.Cn(t,o);return(Gi(t)||Ki(t))&&i.Nn(t.limitType,s,r,n)?i.Dn(e,t):(kr()<=a.in.DEBUG&&Tr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),no(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Ko(io(e));return t.forEach((function(t,r){ro(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return kr()<=a.in.DEBUG&&Tr("QueryEngine","Using full collection scan to execute query:",no(t)),this.Sn.getDocumentsMatchingQuery(e,t,Ur.min())},e}(),Lu=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Wo(Lr),this.kn=new vu((function(e){return ki(e)}),Ti),this.$n=Ur.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Ru(this.On,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function Mu(e,t,n,r){return new Lu(e,t,n,r)}function Fu(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,wr.Jh)(this,(function(a){switch(a.label){case 0:return n=Rr(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Ru(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=na(),s=0,u=o;s<u.length;s++){var l=u[s];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++){var f=h[c];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var g=0,v=m.mutations;g<v.length;g++){var y=v[g];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function ju(e,t){var n=Rr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=vs.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Nr(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Uu(e){var t=Rr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function zu(e,t){var n=Rr(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var l=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,l),function(e,t,n){return Nr(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,l,t)&&a.push(n.qe.updateTargetData(e,l))}}}));var s=Qo();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(qu(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Ur.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return vs.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function qu(e,t,n,r,i){var o=na();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Qo();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ur.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Tr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Bu(e,t){var n=Rr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Vu(e,t){var n=Rr(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,vs.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Ns(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Wu(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,wr.Jh)(this,(function(s){switch(s.label){case 0:r=Rr(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Es(a=s.sent()))throw a;return Tr("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Hu(e,t,n){var r=Rr(e),i=Ur.min(),o=na();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Rr(e),i=r.kn.get(n);return void 0!==i?vs.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Xi(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Ur.min(),n?o:na())})).next((function(e){return{documents:e,Bn:o}}))}))}function Gu(e,t){var n=Rr(e),r=Rr(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Ku(e){var t=Rr(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Rr(e),i=Qo(),o=Ls(n),a=Eu(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:is.readTimeIndex,range:s},(function(e,t){var n=Os(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Ms(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function $u(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){return[2,(t=Rr(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Eu(e),n=Ur.min();return t.$t({index:is.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Ms(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Zu(e,t,n,r){return(0,wr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,l,c,h,f,d;return(0,wr.Jh)(this,(function(p){switch(p.label){case 0:for(i=Rr(e),o=na(),a=Qo(),s=ea(),u=0,l=n;u<l.length;u++)c=l[u],h=t.qn(c.metadata.name),c.document&&(o=o.add(h)),a=a.insert(h,t.Un(c)),s=s.insert(h,t.Qn(c.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Vu(i,function(e){return Xi(Hi(Wr.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return qu(e,f,a,Ur.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Qu(e,t,n){return void 0===n&&(n=na()),(0,wr.mG)(this,void 0,void 0,(function(){var r,i;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:return[4,Vu(e,Xi(Bs(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Rr(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=wa(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken($r.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var Yu=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return vs.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:wa(n.createTime)}),vs.resolve()},e.prototype.getNamedQuery=function(e,t){return vs.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Bs(e.bundledQuery),readTime:wa(e.readTime)}}(t)),vs.resolve()},e}(),Xu=function(){function e(){this.Wn=new Ko(Ju.Gn),this.zn=new Ko(Ju.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Ju(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Ju(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new oi(new Wr([])),r=new Ju(n,e),i=new Ju(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new oi(new Wr([])),n=new Ju(t,e),r=new Ju(t,e+1),i=na();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Ju(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Ju=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return oi.comparator(e.key,t.key)||Lr(e.ns,t.ns)},e.Hn=function(e,t){return Lr(e.ns,t.ns)||oi.comparator(e.key,t.key)},e}(),el=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Ko(Ju.Gn)}return e.prototype.checkEmpty=function(e){return vs.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new As(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Ju(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return vs.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return vs.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return vs.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return vs.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return vs.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Ju(t,0),i=new Ju(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),vs.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ko(Lr);return t.forEach((function(e){var t=new Ju(e,0),i=new Ju(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),vs.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;oi.isDocumentKey(i)||(i=i.child(""));var o=new Ju(new oi(i),0),a=new Ko(Lr);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),vs.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Nr(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return vs.forEach(t.mutations,(function(i){var o=new Ju(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Ju(t,0),r=this.rs.firstAfterOrEqual(n);return vs.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,vs.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),tl=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Wo(oi.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return vs.resolve(n?n.document.clone():Ei.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Qo();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Ei.newInvalidDocument(e))})),vs.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Qo(),i=new oi(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,l=u.document,c=u.readTime;if(!t.path.isPrefixOf(s.path))break;c.compareTo(n)<=0||ro(t,l)&&(r=r.insert(l.key,l.clone()))}return vs.resolve(r)},e.prototype.fs=function(e,t){return vs.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new nl(this)},e.prototype.getSize=function(e){return vs.resolve(this.size)},e}(),nl=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,wr.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),vs.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(yu),rl=function(){function e(e){this.persistence=e,this.ds=new vu((function(e){return ki(e)}),Ti),this.lastRemoteSnapshotVersion=Ur.min(),this.highestTargetId=0,this.ws=0,this._s=new Xu,this.targetCount=0,this.ys=ou.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),vs.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return vs.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return vs.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),vs.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),vs.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new ou(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,vs.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),vs.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,vs.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),vs.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return vs.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return vs.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),vs.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),vs.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),vs.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return vs.resolve(n)},e.prototype.containsKey=function(e,t){return vs.resolve(this._s.containsKey(t))},e}(),il=function(){function e(e,t){var n=this;this.gs={},this.Ne=new _r(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new rl(this),this.Ut=new Gs,this.Ue=function(e,t){return new tl(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Rs(t),this.Qe=new Yu(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new el(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;Tr("MemoryPersistence","Starting transaction:",e);var i=new ol(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return vs.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),ol=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,wr.ZT)(t,e),t}(ms),al=function(){function e(e){this.persistence=e,this.As=new Xu,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Pr()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),vs.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),vs.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),vs.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vs.forEach(this.vs,(function(r){var i=oi.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return vs.or([function(){return vs.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),sl=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function ul(e,t){return"firestore_clients_"+e+"_"+t}function ll(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function cl(e,t){return"firestore_targets_"+e+"_"+t}sl.UNAUTHENTICATED=new sl(null),sl.GOOGLE_CREDENTIALS=new sl("google-credentials-uid"),sl.FIRST_PARTY=new sl("first-party-uid");var hl=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new xr(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Sr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),fl=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new xr(i.error.code,i.error.message)),o?new e(t,i.state,r):(Sr("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),dl=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ia(),a=0;i&&a<r.activeTargetIds.length;++a)i=ii(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Sr("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),pl=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Sr("SharedClientState","Failed to parse online state: "+t),null)},e}(),ml=function(){function e(){this.activeTargetIds=ia()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),gl=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Wo(Lr),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=ul(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ml),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,l,c,h=this;return(0,wr.Jh)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(ul(this.persistenceKey,r)))&&(o=dl.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,l=this.$s;u<l.length;u++)c=l[u],this.Fs(c);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(cl(this.persistenceKey,e));if(n){var r=fl.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(cl(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Tr("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Tr("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Tr("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Tr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,wr.mG)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,wr.Jh)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=_r.o;if(null!=e)try{var n=JSON.parse(e);Nr("number"==typeof n),t=n}catch(e){Sr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==_r.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new hl(this.currentUser,e,t,n),i=ll(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=ll(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=cl(this.persistenceKey,e),i=new fl(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return dl.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return hl.Vs(new sl(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return fl.Vs(r,t)},e.prototype.js=function(e){return pl.Vs(e)},e.prototype.ii=function(e){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Tr("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=ia();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),vl=function(){function e(){this.li=new ml,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new ml,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),yl=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),bl=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Tr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Tr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),wl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},_l=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),El=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,wr.ZT)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new br;a.listenOnce(dr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case fr.NO_ERROR:var t=a.getResponseJson();Tr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case fr.TIMEOUT:Tr("Connection",'RPC "'+e+'" timed out'),o(new xr(Er.DEADLINE_EXCEEDED,"Request time out"));break;case fr.HTTP_ERROR:var n=a.getStatus();if(Tr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Er).indexOf(t)>=0?t:Er.UNKNOWN}(r.status);o(new xr(s,r.message))}else o(new xr(Er.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new xr(Er.UNAVAILABLE,"Connection failed."));break;default:Pr()}}finally{Tr("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new tr,i=nt(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new vr({})),this.Fi(a.initMessageHeaders,t),(0,o.uI)()||(0,o.b$)()||(0,o.d)()||(0,o.w1)()||(0,o.Mn)()||(0,o.ru)()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Tr("Connection","Creating WebChannel: "+s,a);var u=r.createWebChannel(s,a),l=!1,c=!1,h=new _l({Ei:function(e){c?Tr("Connection","Not sending because WebChannel is closed:",e):(l||(Tr("Connection","Opening WebChannel transport."),u.open(),l=!0),Tr("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,yr.EventType.OPEN,(function(){c||Tr("Connection","WebChannel transport opened.")})),f(u,yr.EventType.CLOSE,(function(){c||(c=!0,Tr("Connection","WebChannel transport closed"),h.Vi())})),f(u,yr.EventType.ERROR,(function(e){c||(c=!0,Ir("Connection","WebChannel transport errored:",e),h.Vi(new xr(Er.UNAVAILABLE,"The operation could not be completed")))})),f(u,yr.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Nr(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Tr("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Fo[e];if(void 0!==t)return Vo(t)}(o),s=i.message;void 0===a&&(a=Er.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),c=!0,h.Vi(new xr(a,s)),u.close()}else Tr("Connection","WebChannel received:",n),h.Si(n)}})),f(i,pr.STAT_EVENT,(function(e){e.stat===mr?Tr("Connection","Detected buffering proxy"):e.stat===gr&&Tr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Tr("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return Tr("RestConnection","Received: ",e),e}),(function(t){throw Ir("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.6.5",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=wl[e];return this.Di+"/v1/"+t+":"+n},e}());function xl(){return"undefined"!=typeof window?window:null}function Cl(){return"undefined"!=typeof document?document:null}function kl(e){return new ga(e,!0)}var Tl=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Tr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Sl=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Tl(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Er.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===Er.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new xr(Er.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,wr.mG)(e,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Tr("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Tr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Il=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,wr.ZT)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Pr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Nr(void 0===t||"string"==typeof t),$r.fromBase64String(t||"")):(Nr(void 0===t||t instanceof Uint8Array),$r.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Er.UNKNOWN:Vo(e.code);return new xr(t,e.message||"")}(s);n=new la(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Ca(e,r.document.name),o=wa(r.document.updateTime);var s=new wi({mapValue:{fields:r.document.fields}}),u=(a=Ei.newFoundDocument(i,o,s),r.targetIds||[]),l=r.removedTargetIds||[];n=new sa(u,l,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Ca(e,r.document),o=r.readTime?wa(r.readTime):Ur.min(),s=Ei.newNoDocument(i,o),a=r.removedTargetIds||[],n=new sa([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Ca(e,r.document),o=r.removedTargetIds||[],n=new sa([],o,i,null);else{if(!("filter"in t))return Pr();t.filter;var c=t.filter;c.targetId,r=c.count||0,i=new qo(r),o=c.targetId,n=new ua(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Ur.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ur.min():t.readTime?wa(t.readTime):Ur.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Sa(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Si(r)?{documents:Oa(e,r)}:{query:Da(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ya(e,t.resumeToken):t.snapshotVersion.compareTo(Ur.min())>0&&(n.readTime=va(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Sa(this.R),t.removeTarget=e,this.cr(t)},t}(Sl),Al=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,wr.ZT)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Nr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Nr(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?wa(e.updateTime):wa(t);return n.isEqual(Ur.min())&&(n=wa(t)),new xo(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=wa(e.commitTime);return this.listener.Tr(n,t)}return Nr(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Sa(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Na(t.R,e)}))};this.cr(n)},t}(Sl),Pl=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,wr.ZT)(t,e),t.prototype.br=function(){if(this.Rr)throw new xr(Er.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Er.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new xr(Er.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Er.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new xr(Er.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Nl=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Sr(t),this.Vr=!1):Tr("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Rl=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,wr.mG)(o,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(e){switch(e.label){case 0:return ql(this)?(Tr("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return(t=Rr(e)).Or.add(4),[4,Dl(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Ol(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Nl(n,r)};function Ol(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t,n;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:if(!ql(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Dl(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t,n;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Ll(e,t){var n=Rr(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),zl(n)?Ul(n):nc(n).er()&&Fl(n,t))}function Ml(e,t){var n=Rr(e),r=nc(n);n.$r.delete(t),r.er()&&jl(n,t),0===n.$r.size&&(r.er()?r.ir():ql(n)&&n.Br.set("Unknown"))}function Fl(e,t){e.qr.U(t.targetId),nc(e).mr(t)}function jl(e,t){e.qr.U(t),nc(e).yr(t)}function Ul(e){e.qr=new ha({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),nc(e).start(),e.Br.Sr()}function zl(e){return ql(e)&&!nc(e).tr()&&e.$r.size>0}function ql(e){return 0===Rr(e).Or.size}function Bl(e){e.qr=void 0}function Vl(e){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){return e.$r.forEach((function(t,n){Fl(e,t)})),[2]}))}))}function Wl(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(n){return Bl(e),zl(e)?(e.Br.Nr(t),Ul(e)):e.Br.set("Unknown"),[2]}))}))}function Hl(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,wr.Jh)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof la&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,wr.Jh)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Tr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Gl(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof sa?e.qr.X(t):t instanceof ua?e.qr.rt(t):e.qr.et(t),n.isEqual(Ur.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Uu(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken($r.EMPTY_BYTE_STRING,n.snapshotVersion)),jl(e,t);var r=new Ns(n.target,t,1,n.sequenceNumber);Fl(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Tr("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Gl(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Gl(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r=this;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:if(!Es(t))throw t;return e.Or.add(1),[4,Dl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Uu(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,wr.mG)(r,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return Tr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Ol(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Kl(e,t){return t().catch((function(n){return Gl(e,n,t)}))}function $l(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,wr.Jh)(this,(function(a){switch(a.label){case 0:t=Rr(e),n=rc(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return ql(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Bu(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=rc(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Gl(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Zl(t)&&Ql(t),[2]}}))}))}function Zl(e){return ql(e)&&!rc(e).tr()&&e.kr.length>0}function Ql(e){rc(e).start()}function Yl(e){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){return rc(e).Ar(),[2]}))}))}function Xl(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,wr.Jh)(this,(function(o){for(t=rc(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Jl(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=Ps.from(r,t,n),[4,Kl(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,$l(e)];case 2:return o.sent(),[2]}}))}))}function ec(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return t&&rc(e).pr?[4,function(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:return Bo(r=t.code)&&r!==Er.ABORTED?(n=e.kr.shift(),rc(e).sr(),[4,Kl(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,$l(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Zl(e)&&Ql(e),[2]}}))}))}function tc(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:return n=Rr(e),t?(n.Or.delete(2),[4,Ol(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Dl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function nc(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Rr(e);return r.br(),new Il(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Vl.bind(null,e),Ri:Wl.bind(null,e),_r:Hl.bind(null,e)}),e.Mr.push((function(n){return(0,wr.mG)(t,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),zl(e)?Ul(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Bl(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function rc(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=Rr(e);return r.br(),new Al(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Yl.bind(null,e),Ri:ec.bind(null,e),Ir:Xl.bind(null,e),Tr:Jl.bind(null,e)}),e.Mr.push((function(n){return(0,wr.mG)(t,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,$l(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(Tr("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var ic=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xr(Er.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function oc(e,t){if(Sr("AsyncQueue",t+": "+e),Es(e))return new xr(Er.UNAVAILABLE,t+": "+e);throw e}var ac=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||oi.comparator(t.key,n.key)}:function(e,t){return oi.comparator(e.key,t.key)},this.keyedMap=Xo(),this.sortedSet=new Wo(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),sc=function(){function e(){this.Kr=new Wo(oi.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):Pr():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),uc=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,ac.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),lc=function(){this.Wr=void 0,this.listeners=[]},cc=function(){this.queries=new vu((function(e){return to(e)}),eo),this.onlineState="Unknown",this.Gr=new Set};function hc(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,wr.Jh)(this,(function(l){switch(l.label){case 0:if(n=Rr(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new lc),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=l.sent(),[3,4];case 3:return s=l.sent(),u=oc(s,"Initialization of query '"+no(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&mc(n),[2]}}))}))}function fc(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,wr.Jh)(this,(function(s){return n=Rr(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function dc(e,t){for(var n=Rr(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(a)&&(r=!0);u.Wr=a}}r&&mc(n)}function pc(e,t,n){var r=Rr(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function mc(e){e.Gr.forEach((function(e){e.next()}))}var gc=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new uc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),vc=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),yc=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Ca(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Pa(this.R,e.document,!1):Ei.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return wa(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new yc(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var l=u[s],c=(t.get(l)||na()).add(a);t.set(l,c)}}return t},e.prototype.complete=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:return[4,Zu(this.localStore,new yc(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Qu(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Nu(Object.assign({},this.progress),e))]}}))}))}}();var bc=function(e){this.key=e},wc=function(e){this.key=e},_c=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=na(),this.mutatedKeys=na(),this.lo=io(e),this.fo=new ac(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new sc,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Gi(this.query)&&i.size===this.query.limit?i.last():null,l=Ki(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),h=ro(n.query,t)?t:null,f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||l&&n.lo(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Gi(this.query)||Ki(this.query))for(;a.size>this.query.limit;){var c=Gi(this.query)?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pr()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new uc(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new sc,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=na(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new wc(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new bc(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=na();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return uc.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Ec=function(e,t,n){this.query=e,this.targetId=t,this.view=n},xc=function(e){this.key=e,this.bo=!1},Cc=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new vu((function(e){return to(e)}),eo),this.Vo=new Map,this.So=new Set,this.Do=new Wo(oi.comparator),this.Co=new Map,this.No=new Xu,this.xo={},this.Fo=new Map,this.ko=ou.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function kc(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,wr.Jh)(this,(function(u){switch(u.label){case 0:return n=eh(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Vu(n.localStore,Xi(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Tc(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Ll(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Tc(e,t,n,r){return(0,wr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,l;return(0,wr.Jh)(this,(function(c){switch(c.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,wr.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,wr.Jh)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Hu(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Uc(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Hu(e.localStore,t,!0)];case 1:return i=c.sent(),o=new _c(t,i.Bn),a=o._o(i.documents),s=aa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Uc(e,n,u.To),l=new Ec(t,n,o),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function Sc(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:return n=Rr(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!eo(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Wu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Ml(n.remoteStore,r.targetId),Fc(n,r.targetId)})).catch(cu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Fc(n,r.targetId),[4,Wu(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ic(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,wr.Jh)(this,(function(s){switch(s.label){case 0:r=th(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Rr(e),i=jr.now(),o=t.reduce((function(e,t){return e.add(t.key)}),na());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var l=u[s],c=Ao(l,n.get(l.key));null!=c&&a.push(new Oo(l.key,c,_i(c.value.mapValue),Co.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Wo(Lr)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Bc(r,i.changes)];case 3:return s.sent(),[4,$l(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=oc(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Ac(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:n=Rr(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,zu(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Nr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Nr(r.bo):e.removedDocuments.size>0&&(Nr(r.bo),r.bo=!1))})),[4,Bc(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,cu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Pc(e,t,n){var r=Rr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Rr(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&mc(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Nc(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,wr.Jh)(this,(function(l){switch(l.label){case 0:return(r=Rr(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Wo(oi.comparator)).insert(o,Ei.newNoDocument(o,Ur.min())),s=na().add(o),u=new oa(Ur.min(),new Map,new Ko(Lr),a,s),[4,Ac(r,u)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),qc(r),[3,4];case 2:return[4,Wu(r.localStore,t,!1).then((function(){return Fc(r,t,n)})).catch(cu)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}function Rc(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:n=Rr(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ju(n.localStore,t)];case 2:return i=o.sent(),Mc(n,r,null),Lc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Bc(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,cu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Oc(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:r=Rr(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Rr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Nr(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Mc(r,t,n),Lc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Bc(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,cu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Dc(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,wr.Jh)(this,(function(s){switch(s.label){case 0:ql((n=Rr(e)).remoteStore)||Tr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Rr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=oc(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Lc(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Mc(e,t,n){var r=Rr(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Fc(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||jc(e,t)}))}function jc(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Ml(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),qc(e))}function Uc(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof bc?(e.No.addReference(o.key,t),zc(e,o)):o instanceof wc?(Tr("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||jc(e,o.key)):Pr()}}function zc(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Tr("SyncEngine","New document in limbo: "+n),e.So.add(r),qc(e))}function qc(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new oi(Wr.fromString(t)),r=e.ko.next();e.Co.set(r,new xc(n)),e.Do=e.Do.insert(n,r),Ll(e.remoteStore,new Ns(Xi(Hi(n.path)),r,2,_r.o))}}function Bc(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,wr.Jh)(this,(function(s){switch(s.label){case 0:return r=Rr(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Ou.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c;return(0,wr.Jh)(this,(function(h){switch(h.label){case 0:n=Rr(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return vs.forEach(t,(function(t){return vs.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return vs.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!Es(r=h.sent()))throw r;return Tr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),n.Fn=n.Fn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Vc(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:return(n=Rr(e)).currentUser.isEqual(t)?[3,3]:(Tr("SyncEngine","User change. New user:",t.toKey()),[4,Fu(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new xr(Er.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Bc(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Wc(e,t){var n=Rr(e),r=n.Co.get(t);if(r&&r.bo)return na().add(r.key);var i=na(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],l=n.Po.get(u);i=i.unionWith(l.view.wo)}return i}function Hc(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:return[4,Hu((n=Rr(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Uc(n,t.targetId,i.To),i)]}}))}))}function Gc(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){return[2,Ku((t=Rr(e)).localStore).then((function(e){return Bc(t,e)}))]}))}))}function Kc(e,t,n,r){return(0,wr.mG)(this,void 0,void 0,(function(){var i,o;return(0,wr.Jh)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Rr(e),r=Rr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):vs.resolve(null)}))}))}((i=Rr(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,$l(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Mc(i,t,r||null),Lc(i,t),function(e,t){Rr(Rr(e)._n).Gt(t)}(i.localStore,t)):Pr(),a.label=4;case 4:return[4,Bc(i,o)];case 5:return a.sent(),[3,7];case 6:Tr("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function $c(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l;return(0,wr.Jh)(this,(function(c){switch(c.label){case 0:return eh(n=Rr(e)),th(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Zc(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,tc(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)s=a[o],Ll(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],l=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):l=l.then((function(){return Fc(n,t),Wu(n.localStore,t,!0)})),Ml(n.remoteStore,t)})),[4,l]);case 4:return c.sent(),[4,Zc(n,u)];case 5:return c.sent(),function(e){var t=Rr(e);t.Co.forEach((function(e,n){Ml(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Wo(oi.comparator)}(n),n.$o=!1,[4,tc(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Zc(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,h,f,d,p,m;return(0,wr.Jh)(this,(function(g){switch(g.label){case 0:n=Rr(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(l=n.Vo.get(s))&&0!==l.length?[4,Vu(n.localStore,Xi(l[0]))]:[3,7]):[3,13];case 2:u=g.sent(),c=0,h=l,g.label=3;case 3:return c<h.length?(f=h[c],d=n.Po.get(f),[4,Hc(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,Gu(n.localStore,s)];case 8:return m=g.sent(),[4,Vu(n.localStore,m)];case 9:return u=g.sent(),[4,Tc(n,Qc(m),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Qc(e){return Wi(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Yc(e){var t=Rr(e);return Rr(Rr(t.localStore).persistence).fn()}function Xc(e,t,n,r){return(0,wr.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,wr.Jh)(this,(function(s){switch(s.label){case 0:return(i=Rr(e)).$o?(Tr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ku(i.localStore)];case 3:return o=s.sent(),a=oa.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Bc(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Wu(i.localStore,t,!0)];case 6:return s.sent(),Fc(i,t,r),[3,8];case 7:Pr(),s.label=8;case 8:return[2]}}))}))}function Jc(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,h,f;return(0,wr.Jh)(this,(function(d){switch(d.label){case 0:if(!(r=eh(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Tr("SyncEngine","Adding an already active target "+a),[3,5]):[4,Gu(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Vu(r.localStore,s)];case 3:return u=d.sent(),[4,Tc(r,Qc(s),u.targetId,!1)];case 4:d.sent(),Ll(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:l=function(e){return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Wu(r.localStore,e,!1).then((function(){Ml(r.remoteStore,e),Fc(r,e)})).catch(cu)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},c=0,h=n,d.label=7;case 7:return c<h.length?(f=h[c],[5,l(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function eh(e){var t=Rr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ac.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Nc.bind(null,t),t.vo._r=dc.bind(null,t.eventManager),t.vo.Mo=pc.bind(null,t.eventManager),t}function th(e){var t=Rr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Rc.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Oc.bind(null,t),t}var nh=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return this.R=kl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return Mu(this.persistence,new Du,e.initialUser,this.R)},e.prototype.qo=function(e){return new il(al.bs,this.R)},e.prototype.Bo=function(e){return new vl},e.prototype.terminate=function(){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),rh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,wr.ZT)(t,e),t.prototype.initialize=function(t){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,$u(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,th(this.Ko.syncEngine)];case 4:return n.sent(),[4,$l(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return Mu(this.persistence,new Du,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new du(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Pu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ys.withCacheSize(this.cacheSizeBytes):Ys.DEFAULT;return new Su(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,xl(),Cl(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new vl},t}(nh),ih=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,wr.ZT)(t,e),t.prototype.initialize=function(t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof gl?(this.sharedClientState.syncEngine={ui:Kc.bind(null,n),ai:Xc.bind(null,n),hi:Jc.bind(null,n),fn:Yc.bind(null,n),ci:Gc.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,wr.mG)(r,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return[4,$c(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=xl();if(!gl.yt(t))throw new xr(Er.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Pu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gl(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(rh),oh=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n=this;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Pc(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Vc.bind(null,this.syncEngine),[4,tc(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new cc},e.prototype.createDatastore=function(e){var t,n=kl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new El(t));return function(e,t,n){return new Pl(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Pc(a.syncEngine,e,0)},o=bl.yt()?new bl:new yl,new Rl(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Cc(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return t=Rr(e),Tr("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Dl(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),ah=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),sh=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new gs,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e,t,n,r;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new vc(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e,t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e,t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new xr(Er.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,wr.Jh)(this,(function(u){switch(u.label){case 0:return n=Rr(e),r=Sa(n.R)+"/documents",i={documents:t.map((function(e){return xa(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Nr(!!t.found),t.found.name,t.found.updateTime;var n=Ca(e,t.found.name),r=wa(t.found.updateTime),i=new wi({mapValue:{fields:t.found.fields}});return Ei.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Nr(!!t.missing),Nr(!!t.readTime);var n=Ca(e,t.missing),r=wa(t.readTime);return Ei.newNoDocument(n,r)}(e,t):Pr()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Nr(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Uo(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=oi.fromPath(n);t.mutations.push(new zo(r,t.precondition(r)))})),[4,function(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:return n=Rr(e),r=Sa(n.R)+"/documents",i={writes:t.map((function(e){return Na(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Pr();t=Ur.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new xr(Er.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Co.updateTime(t):Co.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ur.min()))throw new xr(Er.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Co.updateTime(t)}return Co.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),uh=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Tl(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,wr.mG)(e,void 0,void 0,(function(){var e,t,n=this;return(0,wr.Jh)(this,(function(r){return e=new sh(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!ni(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Bo(t)}return!1},e}(),lh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=sl.UNAUTHENTICATED,this.clientId=Dr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,wr.mG)(r,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return Tr("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new xr(Er.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,wr.mG)(e,void 0,void 0,(function(){var e,n;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=oc(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function ch(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Tr("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,wr.mG)(i,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Fu(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function hh(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,fh(e)];case 1:return n=i.sent(),Tr("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:return(n=Rr(e)).asyncQueue.verifyOperationInProgress(),Tr("RemoteStore","RemoteStore received new credentials"),r=ql(n),n.Or.add(3),[4,Dl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Ol(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function fh(e){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Tr("FirestoreClient","Using default OfflineComponentProvider"),[4,ch(e,new nh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function dh(e){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Tr("FirestoreClient","Using default OnlineComponentProvider"),[4,hh(e,new oh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function ph(e){return fh(e).then((function(e){return e.persistence}))}function mh(e){return fh(e).then((function(e){return e.localStore}))}function gh(e){return dh(e).then((function(e){return e.remoteStore}))}function vh(e){return dh(e).then((function(e){return e.syncEngine}))}function yh(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t,n;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:return[4,dh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=kc.bind(null,t.syncEngine),n.onUnlisten=Sc.bind(null,t.syncEngine),n)]}}))}))}function bh(e,t,n){var r=this;void 0===n&&(n={});var i=new gs;return e.asyncQueue.enqueueAndForget((function(){return(0,wr.mG)(r,void 0,void 0,(function(){var r;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new ah({next:function(o){t.enqueueAndForget((function(){return fc(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new xr(Er.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new xr(Er.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new gc(Hi(n.path),o,{includeMetadataChanges:!0,so:!0});return hc(e,a)},[4,yh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function wh(e,t,n){var r=this;void 0===n&&(n={});var i=new gs;return e.asyncQueue.enqueueAndForget((function(){return(0,wr.mG)(r,void 0,void 0,(function(){var r;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new ah({next:function(n){t.enqueueAndForget((function(){return fc(e,a)})),n.fromCache&&"server"===r.source?i.reject(new xr(Er.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new gc(n,o,{includeMetadataChanges:!0,so:!0});return hc(e,a)},[4,yh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var _h=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Eh=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),xh=new Map,Ch=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},kh=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(sl.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Th=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Sh=function(){function e(e){var t=this;this.currentUser=sl.UNAUTHENTICATED,this.oc=new gs,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){t.cc++,t.currentUser=t.hc(),t.oc.resolve(),t.uc&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Tr("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.lc(),t.auth.addAuthTokenListener(t.ac)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):t.uc&&(Tr("FirebaseCredentialsProvider","Auth not yet detected"),t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)})))}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Tr("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Nr("string"==typeof n.accessToken),new Ch(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){this.uc=!0,this.asyncQueue=e,this.changeListener=t},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},e.prototype.hc=function(){var e=this.auth&&this.auth.getUid();return Nr(null===e||"string"==typeof e),new sl(e)},e.prototype.lc=function(){var e=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable((function(){return(0,wr.mG)(e,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,this.changeListener(this.currentUser)];case 2:return e.sent(),this.uc=!0,[2]}}))}))})))},e}(),Ih=function(){function e(e,t,n){this.fc=e,this.dc=t,this.wc=n,this.type="FirstParty",this.user=sl.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.dc},t=this.fc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.wc&&(e["X-Goog-Iam-Authorization-Token"]=this.wc),e},enumerable:!1,configurable:!0}),e}(),Ah=function(){function e(e,t,n){this.fc=e,this.dc=t,this.wc=n}return e.prototype.getToken=function(){return Promise.resolve(new Ih(this.fc,this.dc,this.wc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(sl.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Ph(e,t,n){if(!n)throw new xr(Er.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Nh(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xr(Er.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Rh(e,t,n,r){if(!0===t&&!0===r)throw new xr(Er.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Oh(e){if(!oi.isDocumentKey(e))throw new xr(Er.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Dh(e){if(oi.isDocumentKey(e))throw new xr(Er.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Lh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Pr()}function Mh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xr(Er.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lh(e);throw new xr(Er.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Fh(e,t){if(t<=0)throw new xr(Er.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var jh=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xr(Er.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xr(Er.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Rh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Uh=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jh({}),this._settingsFrozen=!1,e instanceof Eh?(this._databaseId=e,this._credentials=new kh):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new xr(Er.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eh(e.options.projectId)}(e),this._credentials=new Sh(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new xr(Er.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new xr(Er.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jh(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new kh;switch(e.type){case"gapi":var t=e.client;return Nr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ah(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xr(Er.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=xh.get(this))&&(Tr("ComponentProvider","Removing Datastore"),xh.delete(this),e.terminate()),Promise.resolve();var e},e}(),zh=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Bh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),qh=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Bh=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Hi(r))||this)._path=r,i.type="collection",i}return(0,wr.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new zh(this.firestore,null,new oi(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(qh);function Vh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,o.m9)(e),Ph("collection","path",t),e instanceof Uh)return Dh(n=Wr.fromString.apply(Wr,(0,wr.ev)([t],r))),new Bh(e,null,n);if(!(e instanceof zh||e instanceof Bh))throw new xr(Er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dh(n=Wr.fromString.apply(Wr,(0,wr.ev)([e.path],r)).child(Wr.fromString(t))),new Bh(e.firestore,null,n)}function Wh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,o.m9)(e),1===arguments.length&&(t=Dr.u()),Ph("doc","path",t),e instanceof Uh)return Oh(n=Wr.fromString.apply(Wr,(0,wr.ev)([t],r))),new zh(e,null,new oi(n));if(!(e instanceof zh||e instanceof Bh))throw new xr(Er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Oh(n=e._path.child(Wr.fromString.apply(Wr,(0,wr.ev)([t],r)))),new zh(e.firestore,e instanceof Bh?e.converter:null,new oi(n))}function Hh(e,t){return e=(0,o.m9)(e),t=(0,o.m9)(t),(e instanceof zh||e instanceof Bh)&&(t instanceof zh||t instanceof Bh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Gh(e,t){return e=(0,o.m9)(e),t=(0,o.m9)(t),e instanceof qh&&t instanceof qh&&e.firestore===t.firestore&&eo(e._query,t._query)&&e.converter===t.converter}var Kh=function(){function e(){var e=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new Tl(this,"async_queue_retry"),this.Ac=function(){var t=Cl();t&&Tr("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Cl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Rc(),this.bc(e)},e.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var e=Cl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ac)}},e.prototype.enqueue=function(e){return this.Rc(),this.yc?new Promise((function(e){})):this.bc(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.mc.push(e),t.vc()}))},e.prototype.vc=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!Es(e=n.sent()))throw e;return Tr("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.mc.length>0&&this.Zi.ji((function(){return t.vc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.bc=function(e){var t=this,n=this._c.then((function(){return t.Tc=!0,e().catch((function(e){throw t.Ec=e,t.Tc=!1,Sr("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Tc=!1,e}))}));return this._c=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Rc(),this.Ic.indexOf(e)>-1&&(t=0);var i=ic.createAndSchedule(this,e,t,n,(function(e){return r.Pc(e)}));return this.gc.push(i),i},e.prototype.Rc=function(){this.Ec&&Pr()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Vc=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e;return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return[4,e=this._c];case 1:t.sent(),t.label=2;case 2:if(e!==this._c)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Sc=function(e){for(var t=0,n=this.gc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Dc=function(e){var t=this;return this.Vc().then((function(){t.gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Vc()}))},e.prototype.Cc=function(e){this.Ic.push(e)},e.prototype.Pc=function(e){var t=this.gc.indexOf(e);this.gc.splice(t,1)},e}();function $h(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new gs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Zh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Kh,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,wr.ZT)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Yh(this),this._firestoreClient.terminate()},t}(Uh);function Qh(e){return e._firestoreClient||Yh(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Yh(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new _h(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new lh(e._credentials,e._queue,r)}function Xh(e,t,n){var r=this,i=new gs;return e.asyncQueue.enqueue((function(){return(0,wr.mG)(r,void 0,void 0,(function(){var r;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ch(e,n)];case 1:return o.sent(),[4,hh(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Er.FAILED_PRECONDITION||e.code===Er.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Jh(e){if(e._initialized||e._terminated)throw new xr(Er.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ef=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new xr(Er.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gr(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),tf=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e($r.fromBase64String(t))}catch(t){throw new xr(Er.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e($r.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),nf=function(e){this._methodName=e},rf=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new xr(Er.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xr(Er.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Lr(this._lat,e._lat)||Lr(this._long,e._long)},e}(),of=/^__.*__$/,af=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Oo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ro(e,this.data,t,this.fieldTransforms)},e}(),sf=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Oo(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function uf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pr()}}var lf=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),e.prototype.Fc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fc({path:n,$c:!1});return r.Oc(e),r},e.prototype.Mc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fc({path:n,$c:!1});return r.Nc(),r},e.prototype.Lc=function(e){return this.Fc({path:void 0,$c:!0})},e.prototype.Bc=function(e){return Af(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Nc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Oc(this.path.get(e))},e.prototype.Oc=function(e){if(0===e.length)throw this.Bc("Document fields must not be empty");if(uf(this.xc)&&of.test(e))throw this.Bc('Document fields cannot begin and end with "__"')},e}(),cf=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||kl(e)}return e.prototype.Qc=function(e,t,n,r){return void 0===r&&(r=!1),new lf({xc:e,methodName:t,Uc:n,path:Gr.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function hf(e){var t=e._freezeSettings(),n=kl(e._databaseId);return new cf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ff(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Qc(o.merge||o.mergeFields?2:0,t,n,i);kf("Data must be an object, but it was:",a,r);var s,u,l=xf(r,a);if(o.merge)s=new Kr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Tf(t,f[h],n);if(!a.contains(d))throw new xr(Er.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Pf(c,d)||c.push(d)}s=new Kr(c),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new af(new wi(l),s,u)}var df=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,wr.ZT)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.xc)throw 1===e.xc?e.Bc(this._methodName+"() can only appear at the top level of your update data"):e.Bc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(nf);function pf(e,t,n){return new lf({xc:3,Uc:t.settings.Uc,methodName:e._methodName,$c:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var mf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,wr.ZT)(t,e),t.prototype._toFieldTransform=function(e){return new Eo(e.path,new po)},t.prototype.isEqual=function(e){return e instanceof t},t}(nf),gf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,wr.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=pf(this,e,!0),n=this.Kc.map((function(e){return Ef(e,t)})),r=new mo(n);return new Eo(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(nf),vf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,wr.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=pf(this,e,!0),n=this.Kc.map((function(e){return Ef(e,t)})),r=new vo(n);return new Eo(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(nf),yf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return(0,wr.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=new bo(e.R,uo(e.R,this.jc));return new Eo(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(nf);function bf(e,t,n,r){var i=e.Qc(1,t,n);kf("Data must be an object, but it was:",i,r);var a=[],s=wi.empty();qr(r,(function(e,r){var u=If(t,e,n);r=(0,o.m9)(r);var l=i.Mc(u);if(r instanceof df)a.push(u);else{var c=Ef(r,l);null!=c&&(a.push(u),s.set(u,c))}}));var u=new Kr(a);return new sf(s,u,i.fieldTransforms)}function wf(e,t,n,r,i,a){var s=e.Qc(1,t,n),u=[Tf(t,r,n)],l=[i];if(a.length%2!=0)throw new xr(Er.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<a.length;c+=2)u.push(Tf(t,a[c])),l.push(a[c+1]);for(var h=[],f=wi.empty(),d=u.length-1;d>=0;--d)if(!Pf(h,u[d])){var p=u[d],m=l[d];m=(0,o.m9)(m);var g=s.Mc(p);if(m instanceof df)h.push(p);else{var v=Ef(m,g);null!=v&&(h.push(p),f.set(p,v))}}var y=new Kr(h);return new sf(f,y,s.fieldTransforms)}function _f(e,t,n,r){return void 0===r&&(r=!1),Ef(n,e.Qc(r?4:3,t))}function Ef(e,t){if(Cf(e=(0,o.m9)(e)))return kf("Unsupported field value:",t,e),xf(e,t);if(e instanceof nf)return function(e,t){if(!uf(t.xc))throw t.Bc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Bc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.$c&&4!==t.xc)throw t.Bc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Ef(o[i],t.Lc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,o.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uo(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=jr.fromDate(e);return{timestampValue:va(t.R,n)}}if(e instanceof jr)return n=new jr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:va(t.R,n)};if(e instanceof rf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tf)return{bytesValue:ya(t.R,e._byteString)};if(e instanceof zh){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:_a(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Bc("Unsupported field value: "+Lh(e))}(e,t)}function xf(e,t){var n={};return Br(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qr(e,(function(e,r){var i=Ef(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Cf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof jr||e instanceof rf||e instanceof tf||e instanceof zh||e instanceof nf)}function kf(e,t,n){if(!Cf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Lh(n);throw"an object"===r?t.Bc(e+" a custom object"):t.Bc(e+" "+r)}}function Tf(e,t,n){if((t=(0,o.m9)(t))instanceof ef)return t._internalPath;if("string"==typeof t)return If(e,t);throw Af("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Sf=new RegExp("[~\\*/\\[\\]]");function If(e,t,n){if(t.search(Sf)>=0)throw Af("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(ef.bind.apply(ef,(0,wr.ev)([void 0],t.split(".")))))._internalPath}catch(r){throw Af("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Af(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new xr(Er.INVALID_ARGUMENT,(s+=". ")+e+u)}function Pf(e,t){return e.some((function(e){return e.isEqual(t)}))}var Nf=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new zh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Rf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Of("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Rf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,wr.ZT)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Nf);function Of(e,t){return"string"==typeof t?If(e,t):t instanceof ef?t._internalPath:t._delegate._internalPath}var Df=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Lf=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,wr.ZT)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Of("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Nf),Mf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,wr.ZT)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Lf),Ff=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Df(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Mf(n._firestore,n._userDataWriter,r.key,r,new Df(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xr(Er.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Mf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Df(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Mf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Df(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:jf(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function jf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pr()}}function Uf(e,t){return e instanceof Lf&&t instanceof Lf?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ff&&t instanceof Ff&&e._firestore===t._firestore&&Gh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function zf(e){if(Ki(e)&&0===e.explicitOrderBy.length)throw new xr(Er.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qf=function(){};function Bf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Vf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Wc=t,i.Gc=n,i.zc=r,i.type="where",i}return(0,wr.ZT)(t,e),t.prototype._apply=function(e){var t=hf(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new xr(Er.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Qf(a,o);for(var u=[],l=0,c=a;l<c.length;l++){var h=c[l];u.push(Zf(r,e,h))}s={arrayValue:{values:u}}}else s=Zf(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Qf(a,o),s=_f(n,"where",a,"in"===o||"not-in"===o);var f=Ii.create(i,o,s);return function(e,t){if(t.g()){var n=Zi(e);if(null!==n&&!n.isEqual(t.field))throw new xr(Er.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=$i(e);null!==r&&Yf(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new xr(Er.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new xr(Er.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.Wc,this.Gc,this.zc);return new qh(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Vi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(qf),Wf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Wc=t,r.Hc=n,r.type="orderBy",r}return(0,wr.ZT)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new xr(Er.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new xr(Er.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ui(t,n);return function(e,t){if(null===$i(e)){var n=Zi(e);null!==n&&Yf(0,n,t.field)}}(e,r),r}(e._query,this.Wc,this.Hc);return new qh(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Vi(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(qf),Hf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Jc=n,i.Yc=r,i}return(0,wr.ZT)(t,e),t.prototype._apply=function(e){return new qh(e.firestore,e.converter,Ji(e._query,this.Jc,this.Yc))},t}(qf),Gf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Xc=n,i.Zc=r,i}return(0,wr.ZT)(t,e),t.prototype._apply=function(e){var t=$f(e,this.type,this.Xc,this.Zc);return new qh(e.firestore,e.converter,function(e,t){return new Vi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(qf),Kf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Xc=n,i.Zc=r,i}return(0,wr.ZT)(t,e),t.prototype._apply=function(e){var t=$f(e,this.type,this.Xc,this.Zc);return new qh(e.firestore,e.converter,function(e,t){return new Vi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(qf);function $f(e,t,n,r){if(n[0]=(0,o.m9)(n[0]),n[0]instanceof Nf)return function(e,t,n,r,i){if(!r)throw new xr(Er.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Yi(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(di(t,r.key));else{var l=r.data.field(u.field);if(Jr(l))throw new xr(Er.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.canonicalString();throw new xr(Er.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(l)}}return new Fi(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=hf(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new xr(Er.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var l=i[u];if(a[u].field.isKeyField()){if("string"!=typeof l)throw new xr(Er.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!Qi(e)&&-1!==l.indexOf("/"))throw new xr(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=e.path.child(Wr.fromString(l));if(!oi.isDocumentKey(c))throw new xr(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new oi(c);s.push(di(t,h))}else{var f=_f(n,r,l);s.push(f)}}return new Fi(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Zf(e,t,n){if("string"==typeof(n=(0,o.m9)(n))){if(""===n)throw new xr(Er.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qi(t)&&-1!==n.indexOf("/"))throw new xr(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Wr.fromString(n));if(!oi.isDocumentKey(r))throw new xr(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return di(e,new oi(r))}if(n instanceof zh)return di(e,n._key);throw new xr(Er.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Lh(n)+".")}function Qf(e,t){if(!Array.isArray(e)||0===e.length)throw new xr(Er.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new xr(Er.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Yf(e,t,n){if(!n.isEqual(t))throw new xr(Er.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Xf=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pr()}},e.prototype.convertObject=function(e,t){var n=this,r={};return qr(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new rf(Yr(e.latitude),Yr(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=ei(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ti(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Qr(e);return new jr(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Wr.fromString(e);Nr(Ga(n));var r=new Eh(n.get(1),n.get(3)),i=new oi(n.popFirst(5));return r.isEqual(t)||Sr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Jf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ed=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,wr.ZT)(t,e),t.prototype.convertBytes=function(e){return new tf(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zh(this.firestore,null,t)},t}(Xf),td=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hf(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=nd(e,this._firestore),i=Jf(r.converter,t,n),o=ff(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Co.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var a,s=nd(e,this._firestore);return a="string"==typeof(t=(0,o.m9)(t))||t instanceof ef?wf(this._dataReader,"WriteBatch.update",s._key,t,n,r):bf(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,Co.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=nd(e,this._firestore);return this._mutations=this._mutations.concat(new Uo(t._key,Co.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new xr(Er.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function nd(e,t){if((e=(0,o.m9)(e)).firestore!==t)throw new xr(Er.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var rd=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,wr.ZT)(t,e),t.prototype.convertBytes=function(e){return new tf(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zh(this.firestore,null,t)},t}(Xf);function id(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Mh(e,zh);var a=Mh(e.firestore,Zh),s=hf(a);return ad(a,[("string"==typeof(t=(0,o.m9)(t))||t instanceof ef?wf(s,"updateDoc",e._key,t,n,r):bf(s,"updateDoc",e._key,t)).toMutation(e._key,Co.exists(!0))])}function od(e){for(var t,n,r,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];e=(0,o.m9)(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||$h(i[u])||(s=i[u],u++);var l,c,h,f={includeMetadataChanges:s.includeMetadataChanges};if($h(i[u])){var d=i[u];i[u]=null===(t=d.next)||void 0===t?void 0:t.bind(d),i[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(e instanceof zh)c=Mh(e.firestore,Zh),h=Hi(e._key.path),l={next:function(t){i[u]&&i[u](sd(c,e,t))},error:i[u+1],complete:i[u+2]};else{var p=Mh(e,qh);c=Mh(p.firestore,Zh),h=p._query;var m=new rd(c);l={next:function(e){i[u]&&i[u](new Ff(c,m,p,e))},error:i[u+1],complete:i[u+2]},zf(e._query)}return function(e,t,n,r){var i=this,o=new ah(r),a=new gc(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,wr.mG)(i,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return t=hc,[4,yh(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,wr.mG)(i,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return t=fc,[4,yh(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Qh(c),h,f,l)}function ad(e,t){return function(e,t){var n=this,r=new gs;return e.asyncQueue.enqueueAndForget((function(){return(0,wr.mG)(n,void 0,void 0,(function(){var n;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:return n=Ic,[4,vh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Qh(e),t)}function sd(e,t,n){var r=n.docs.get(t._key),i=new rd(e);return new Lf(e,i,t._key,r,new Df(n.hasPendingWrites,n.fromCache),t.converter)}var ud=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,wr.ZT)(t,e),t.prototype.get=function(t){var n=this,r=nd(t,this._firestore),i=new rd(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Lf(n._firestore,i,r._key,e._document,new Df(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=hf(e)}return e.prototype.get=function(e){var t=this,n=nd(e,this._firestore),r=new ed(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Pr();var i=e[0];if(i.isFoundDocument())return new Nf(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Nf(t._firestore,r,n._key,null,n.converter);throw Pr()}))},e.prototype.set=function(e,t,n){var r=nd(e,this._firestore),i=Jf(r.converter,t,n),o=ff(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var a,s=nd(e,this._firestore);return a="string"==typeof(t=(0,o.m9)(t))||t instanceof ef?wf(this._dataReader,"Transaction.update",s._key,t,n,r):bf(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this},e.prototype.delete=function(e){var t=nd(e,this._firestore);return this._transaction.delete(t._key),this},e}());function ld(){if("undefined"==typeof Uint8Array)throw new xr(Er.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function cd(){if("undefined"==typeof atob)throw new xr(Er.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var hd=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return cd(),new e(tf.fromBase64String(t))},e.fromUint8Array=function(t){return ld(),new e(tf.fromUint8Array(t))},e.prototype.toBase64=function(){return cd(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return ld(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),fd=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Jh(e=Mh(e,Zh));var n=Qh(e),r=e._freezeSettings(),i=new oh;return Xh(n,i,new rh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Jh(e=Mh(e,Zh));var t=Qh(e),n=e._freezeSettings(),r=new oh;return Xh(t,r,new ih(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new xr(Er.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new gs;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,wr.mG)(t,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return bs.yt()?(t=e+"main",[4,bs.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Pu(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),dd=function(){function e(e,t,n){var r=this;this._delegate=t,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Eh||(this.eu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ir("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Mh(e,Uh))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&Ir("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a=(0,o.Sg)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new xr(Er.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new Th(new Ch(a,new sl(s)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,wr.mG)(t,void 0,void 0,(function(){var t,n;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:return[4,ph(e)];case 1:return t=r.sent(),[4,gh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Rr(e);return t.Or.delete(0),Ol(t)}(n))]}}))}))}))}(Qh(Mh(this._delegate,Zh)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,wr.mG)(t,void 0,void 0,(function(){var t,n;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:return[4,ph(e)];case 1:return t=r.sent(),[4,gh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return(t=Rr(e)).Or.add(0),[4,Dl(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Qh(Mh(this._delegate,Zh)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Rh("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new gs;return e.asyncQueue.enqueueAndForget((function(){return(0,wr.mG)(t,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:return t=Dc,[4,vh(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Qh(Mh(this._delegate,Zh)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new ah(t);return e.asyncQueue.enqueueAndForget((function(){return(0,wr.mG)(n,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Rr(e).Gr.add(t),t.next()},[4,yh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,wr.mG)(n,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Rr(e).Gr.delete(t)},[4,yh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Qh(e=Mh(e,Zh)),$h(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.eu)throw new xr(Er.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Sd(this,Vh(this._delegate,e))}catch(e){throw bd(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new yd(this,Wh(this._delegate,e))}catch(e){throw bd(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Cd(this,function(e,t){if(e=Mh(e,Uh),Ph("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xr(Er.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qh(e,null,function(e){return new Vi(Wr.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw bd(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new gs;return e.asyncQueue.enqueueAndForget((function(){return(0,wr.mG)(n,void 0,void 0,(function(){var n;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(e){return dh(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new uh(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Qh(e),(function(n){return t(new ud(e,n))}))}(this._delegate,(function(n){return e(new md(t,n))}))},e.prototype.batch=function(){var e=this;return Qh(this._delegate),new gd(new td(this._delegate,(function(t){return ad(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new xr(Er.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new xr(Er.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),pd=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,wr.ZT)(t,e),t.prototype.convertBytes=function(e){return new hd(new tf(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return yd.nu(t,this.firestore,null)},t}(Xf),md=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new pd(e)}return e.prototype.get=function(e){var t=this,n=Id(e);return this._delegate.get(n).then((function(e){return new Ed(t._firestore,new Lf(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Id(e);return n?(Nh("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Id(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,wr.ev)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Id(e);return this._delegate.delete(t),this},e}(),gd=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Id(e);return n?(Nh("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Id(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,wr.ev)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Id(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),vd=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Mf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xd(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.su=function(t,n){var r=e.iu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new pd(t),n),i.set(n,o)),o},e}();vd.iu=new WeakMap;var yd=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pd(e)}return e.ru=function(t,n,r){if(t.length%2!=0)throw new xr(Er.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new zh(n._delegate,r,new oi(t)))},e.nu=function(t,n,r){return new e(n,new zh(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Sd(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Sd(this.firestore,Vh(this._delegate,e))}catch(e){throw bd(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,o.m9)(e))instanceof zh&&Hh(this._delegate,e)},e.prototype.set=function(e,t){t=Nh("DocumentReference.set",t);try{return function(e,t,n){e=Mh(e,zh);var r=Mh(e.firestore,Zh),i=Jf(e.converter,t,n);return ad(r,[ff(hf(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Co.none())])}(this._delegate,e,t)}catch(e){throw bd(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?id(this._delegate,e):id.apply(void 0,(0,wr.ev)([this._delegate,e,t],n))}catch(e){throw bd(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ad(Mh((e=this._delegate).firestore,Zh),[new Uo(e._key,Co.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=wd(t),i=_d(t,(function(t){return new Ed(e.firestore,new Lf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return od(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Mh(e,zh);var t=Mh(e.firestore,Zh),n=Qh(t),r=new rd(t);return function(e,t){var n=this,r=new gs;return e.asyncQueue.enqueueAndForget((function(){return(0,wr.mG)(n,void 0,void 0,(function(){var n;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i;return(0,wr.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Rr(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new xr(Er.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=oc(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,mh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Lf(t,r,e._key,n,new Df(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Mh(e,zh);var t=Mh(e.firestore,Zh);return bh(Qh(t),e._key,{source:"server"}).then((function(n){return sd(t,e,n)}))}(this._delegate):function(e){e=Mh(e,zh);var t=Mh(e.firestore,Zh);return bh(Qh(t),e._key).then((function(n){return sd(t,e,n)}))}(this._delegate)).then((function(e){return new Ed(t.firestore,new Lf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(vd.su(this.firestore,t)):this._delegate.withConverter(null))},e}();function bd(e,t,n){return e.message=e.message.replace(t,n),e}function wd(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!$h(r))return r}return{}}function _d(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=$h(e[0])?e[0]:$h(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ed=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new yd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Uf(this._delegate,e._delegate)},e}(),xd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,wr.ZT)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Ed),Cd=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pd(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Bf(this._delegate,function(e,t,n){var r=t,i=Of("where",e);return new Vf(i,r,n)}(t,n,r)))}catch(t){throw bd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Bf(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Of("orderBy",e);return new Wf(r,n)}(t,n)))}catch(t){throw bd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Bf(this._delegate,function(e){return Fh("limit",e),new Hf("limit",e,"F")}(t)))}catch(t){throw bd(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Bf(this._delegate,function(e){return Fh("limitToLast",e),new Hf("limitToLast",e,"L")}(t)))}catch(t){throw bd(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Gf("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw bd(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Gf("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw bd(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Kf("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw bd(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bf(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Kf("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw bd(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Gh(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Mh(e,qh);var t=Mh(e.firestore,Zh),n=Qh(t),r=new rd(t);return function(e,t){var n=this,r=new gs;return e.asyncQueue.enqueueAndForget((function(){return(0,wr.mG)(n,void 0,void 0,(function(){var n;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,wr.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Hu(e,t,!0)];case 1:return s=u.sent(),r=new _c(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=oc(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,mh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Ff(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Mh(e,qh);var t=Mh(e.firestore,Zh),n=Qh(t),r=new rd(t);return wh(n,e._query,{source:"server"}).then((function(n){return new Ff(t,r,e,n)}))}(this._delegate):function(e){e=Mh(e,qh);var t=Mh(e.firestore,Zh),n=Qh(t),r=new rd(t);return zf(e._query),wh(n,e._query).then((function(n){return new Ff(t,r,e,n)}))}(this._delegate)).then((function(e){return new Td(t.firestore,new Ff(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=wd(t),i=_d(t,(function(t){return new Td(e.firestore,new Ff(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return od(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(vd.su(this.firestore,t)):this._delegate.withConverter(null))},e}(),kd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new xd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Td=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Cd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new xd(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new kd(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new xd(n._firestore,r))}))},e.prototype.isEqual=function(e){return Uf(this._delegate,e._delegate)},e}(),Sd=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,wr.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new yd(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new yd(this.firestore,void 0===e?Wh(this._delegate):Wh(this._delegate,e))}catch(e){throw bd(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Mh(e.firestore,Zh),r=Wh(e),i=Jf(e.converter,t);return ad(n,[ff(hf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Co.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new yd(t.firestore,e)}))},t.prototype.isEqual=function(e){return Hh(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(vd.su(this.firestore,e)):this._delegate.withConverter(null))},t}(Cd);function Id(e){return Mh(e,zh)}var Ad,Pd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(ef.bind.apply(ef,(0,wr.ev)([void 0],e)))}return e.documentId=function(){return new e(Gr.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,o.m9)(e))instanceof ef&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Nd=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new mf("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new df("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new gf("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new vf("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new yf("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),Rd=n(924),Od={Firestore:dd,GeoPoint:rf,Timestamp:jr,Blob:hd,Transaction:md,WriteBatch:gd,DocumentReference:yd,DocumentSnapshot:Ed,Query:Cd,QueryDocumentSnapshot:xd,QuerySnapshot:Td,CollectionReference:Sd,FieldPath:Pd,FieldValue:Nd,setLogLevel:function(e){var t;t=e,Cr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Rd.wA("firestore",(function(e){return function(e,t){return new dd(e,new Zh(e,t),new fd)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Od)))})(Ad=r.Z),Ad.registerVersion("@firebase/firestore","2.3.4"),n(991),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,n){if(n){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(n=n(o=r[e=e[e.length-1]]))!=o&&null!=n&&t(r,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Qa(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""}function f(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function m(e){return"function"==d(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var C=Date.now;function k(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function T(e){return e}function S(e,t,n){this.code=P+e,this.message=t||N[e]||"",this.a=n||null}function I(e){var t=e&&e.code;return t?new S(t.substring(P.length),e.message,e.serverResponse):null}k(S,Error),S.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},S.prototype.toJSON=function(){return this.w()};var A,P="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(e){for(var t in R)if(R[t].id===e)return{firebaseEndpoint:(e=R[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function D(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function L(e){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function M(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");L.call(this,n+e[r])}function F(e,t){throw new M("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function j(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function U(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function z(){this.b=this.a=null}A=O("__EID__")?"__EID__":void 0,k(L,Error),L.prototype.name="CustomError",k(M,L),M.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var q=new j((function(){return new V}),(function(e){e.reset()}));function B(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function V(){this.next=this.b=this.a=null}z.prototype.add=function(e,t){var n=q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},H=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},G=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},K=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},$=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Z(e,t){return 0<=W(e,t)}function Q(e,t){var n;return(n=0<=(t=W(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function X(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,oe=/"/g,ae=/'/g,se=/\x00/g,ue=/[\x00&<>"']/;function le(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var he=u.navigator;if(he){var fe=he.userAgent;if(fe){ee=fe;break e}}ee=""}function de(e){return le(ee,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function me(e){for(var t in e)return!1;return!0}function ge(e){var t,n={};for(t in e)n[t]=e[t];return n}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ve.length;o++)n=ve[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function we(e,t){this.a=e===Ce&&t||"",this.b=xe}function _e(e){return e instanceof we&&e.constructor===we&&e.b===xe?e.a:(F("expected object of type Const, got '"+e+"'"),"type_error:Const")}we.prototype.sa=!0,we.prototype.ra=function(){return this.a},we.prototype.toString=function(){return"Const{"+this.a+"}"};var Ee,xe={},Ce={};function ke(){if(void 0===Ee){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(e){u.console&&u.console.error(e.message)}Ee=e}else Ee=e}return Ee}function Te(e,t){this.a=t===Ne?e:""}function Se(e){return e instanceof Te&&e.constructor===Te?e.a:(F("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function Ie(e,t){var n=_e(e);if(!Pe.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=ke();return new Te(e=t?t.createScriptURL(e):e,Ne)}(e=n.replace(Ae,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof we?_e(e):encodeURIComponent(String(e))})))}Te.prototype.sa=!0,Te.prototype.ra=function(){return this.a.toString()},Te.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ae=/%{(\w+)}/g,Pe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ne={};function Re(e,t){this.a=t===Ue?e:""}function Oe(e){return e instanceof Re&&e.constructor===Re?e.a:(F("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Re.prototype.sa=!0,Re.prototype.ra=function(){return this.a.toString()},Re.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var De=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Le=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Me=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Fe(e){if(e instanceof Re)return e;if(e="object"==typeof e&&e.sa?e.ra():String(e),Me.test(e))e=new Re(e,Ue);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Le);e=t&&De.test(t[1])?new Re(e,Ue):null}return e}function je(e){return e instanceof Re?e:(e="object"==typeof e&&e.sa?e.ra():String(e),Me.test(e)||(e="about:invalid#zClosurez"),new Re(e,Ue))}var Ue={},ze=new Re("about:invalid#zClosurez",Ue);function qe(e,t,n){this.a=n===Be?e:""}qe.prototype.sa=!0,qe.prototype.ra=function(){return this.a.toString()},qe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Be={};function Ve(e,t,n,r){return e=e instanceof Re?e:je(e),t=t||u,n=n instanceof we?_e(n):n||"",t.open(Oe(e),n,r,void 0)}function We(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function He(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(oe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function Ge(e){return Ge[" "](e),e}Ge[" "]=f;var Ke,$e=de("Opera"),Ze=de("Trident")||de("MSIE"),Qe=de("Edge"),Ye=Qe||Ze,Xe=de("Gecko")&&!(le(ee.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Je=le(ee.toLowerCase(),"webkit")&&!de("Edge");function et(){var e=u.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=ee;return Xe?/rv:([^\);]+)(\)|;)/.exec(e):Qe?/Edge\/([\d\.]+)/.exec(e):Ze?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Je?/WebKit\/(\S+)/.exec(e):$e?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),Ze){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Ke=String(rt);break e}}Ke=tt}var it,ot={};function at(e){return function(e,t){var n=ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=te(String(Ke)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}u.document&&Ze?it=et()||parseInt(Ke,10)||void 0:it=void 0;var st=it;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var ut=!Ze||9<=Number(st);function lt(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ct(e,t){pe(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,ft,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(m(o)){a="function"==typeof o.item;break e}}a=!1}H(a?J(o):o,r)}}}function mt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){u.setTimeout((function(){throw e}),0)}function vt(e,t){ft||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);ft=function(){e.then(wt)}}else ft=function(){var e=wt;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!de("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ht||(ht=function(){var e=u.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=mt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Gb;n.Gb=null,e()}},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ht(e)):u.setImmediate(e)}}(),yt||(ft(),yt=!0),bt.add(e,t)}var yt=!1,bt=new z;function wt(){for(var e;e=B();){try{e.a.call(e.b)}catch(e){gt(e)}U(q,e)}yt=!1}function _t(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Lt(n,xt,e)}),(function(e){if(!(e instanceof Bt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Lt(n,Ct,e)}))}catch(e){Lt(this,Ct,e)}}var Et=0,xt=2,Ct=3;function kt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}kt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Tt=new j((function(){return new kt}),(function(e){e.reset()}));function St(e,t,n){var r=Tt.get();return r.g=e,r.b=t,r.f=n,r}function It(e){if(e instanceof _t)return e;var t=new _t(f);return Lt(t,xt,e),t}function At(e){return new _t((function(t,n){n(e)}))}function Pt(e,t,n){Mt(e,t,n,null)||vt(x(t,e))}function Nt(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Pt(e[o],x(i,o,!0),x(i,o,!1));else t(r)}))}function Rt(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Et&&1==r?Rt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):jt(n),Ut(n,i,Ct,t)))}e.c=null}else Lt(e,Ct,t)}function Ot(e,t){e.b||e.a!=xt&&e.a!=Ct||Ft(e),e.f?e.f.next=t:e.b=t,e.f=t}function Dt(e,t,n,r){var i=St(null,null,null);return i.a=new _t((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Bt?o(t):e(i)}catch(e){o(e)}}:o})),i.a.c=e,Ot(e,i),i.a}function Lt(e,t,n){e.a==Et&&(e===n&&(t=Ct,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Mt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ft(e),t!=Ct||n instanceof Bt||function(e,t){e.g=!0,vt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Mt(e,t,n,r){if(e instanceof _t)return Ot(e,St(t||f,n||null,r)),!0;if(D(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(m(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function Ft(e){e.h||(e.h=!0,vt(e.gc,e))}function jt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==Ct&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,zt(t,n,r);else try{t.c?t.g.call(t.f):zt(t,n,r)}catch(e){qt.call(null,e)}U(Tt,t)}function zt(e,t,n){t==xt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return Dt(this,m(e)?e:null,m(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(e=_t.prototype).oa=function(e,t){return(e=St(e,e,t)).c=!0,Ot(this,e),this},e.o=function(e,t){return Dt(this,null,e,t)},e.cancel=function(e){if(this.a==Et){var t=new Bt(e);vt((function(){Rt(this,t)}),this)}},e.$c=function(e){this.a=Et,Lt(this,xt,e)},e.ad=function(e){this.a=Et,Lt(this,Ct,e)},e.gc=function(){for(var e;e=jt(this);)Ut(this,e,this.a,this.i);this.h=!1};var qt=gt;function Bt(e){L.call(this,e)}function Vt(){0!=Wt&&(Ht[v(this)]=this),this.xa=this.xa,this.pa=this.pa}k(Bt,L),Bt.prototype.name="cancel";var Wt=0,Ht={};function Gt(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=Wt)){var t=v(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ht[t]}}Vt.prototype.xa=!1,Vt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Kt=Object.freeze||function(e){return e},$t=!Ze||9<=Number(st),Zt=Ze&&!at("9"),Qt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",f,t),u.removeEventListener("test",f,t)}catch(e){}return e}();function Yt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Xt(e,t){if(Yt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Xe){e:{try{Ge(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Jt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Yt.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Xt,Yt);var Jt=Kt({2:"touch",3:"pen",4:"mouse"});Xt.prototype.preventDefault=function(){Xt.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Zt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Xt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++tn,this.va=this.Pa=!1}function rn(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&Q(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new nn(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),ln={};function cn(e,t,n,r,i){if(r&&r.once)fn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=_n(n),e&&e[en]?xn(e,t,n,g(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=yn,t=$t?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function fn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=_n(n),e&&e[en]?Cn(e,t,n,g(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=_n(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!=typeof e&&e&&!e.va){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function mn(e){return e in ln?ln[e]:ln[e]="on"+e}function gn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&pn(e),n.call(r,t)}function yn(e,t){if(e.va)return!0;if(!$t){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Xt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=gn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=gn(r[i],e,!1,t),n=n&&o}return n}return vn(e,new Xt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(e){return m(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function En(){Vt.call(this),this.v=new on(this),this.ac=this,this.gb=null}function xn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Cn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function kn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(e,t,n){if(m(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function Sn(e){var t=null;return new _t((function(n,r){-1==(t=Tn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function In(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"==typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function An(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(p(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Pn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Rn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Rn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}k(En,Vt),En.prototype[en]=!0,En.prototype.addEventListener=function(e,t,n,r){cn(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.gb;if(n)for(t=[];n;n=n.gb)t.push(n);n=this.ac;var r=e.type||e;if("string"==typeof e)e=new Yt(e,n);else if(e instanceof Yt)e.target=e.target||n;else{var i=e;ye(e=new Yt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=kn(a,r,!0,e)&&i}if(i=kn(a=e.b=n,r,!0,e)&&i,i=kn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=kn(a=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=Pn.prototype).W=function(){Nn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Nn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Rn(this.b,e)?this.b[e]:t},e.set=function(e,t){Rn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Dn?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,Mn(this,e.g),this.f=e.f,Fn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(On))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Mn(this,n[4]),this.f=Bn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!t,this.b=new Qn(null,this.i))}function Ln(e,t,n){e.c=n?Bn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Mn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Fn(e,t,n){t instanceof Qn?(e.b=t,function(e,t){t&&!e.f&&(Yn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jn(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Vn(t,$n)),e.b=new Qn(t,e.i))}function jn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function zn(e){return e instanceof Dn?new Dn(e):new Dn(e,void 0)}function qn(e,t,n,r){var i=new Dn(null,void 0);return e&&Ln(i,e),t&&(i.a=t),n&&Mn(i,n),r&&(i.f=r),i}function Bn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Vn(t,Hn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Vn(t,Hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vn(n,"/"==n.charAt(0)?Kn:Gn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Vn(n,Zn)),e.join("")},Dn.prototype.resolve=function(e){var t=new Dn(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Mn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(le(i,"./")||le(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Fn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Hn=/[#\/\?@]/g,Gn=/[#\?:]/g,Kn=/[#\?]/g,$n=/[#\?@]/g,Zn=/#/g;function Qn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Yn(e){e.a||(e.a=new Pn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xn(e){var t=An(e);if(void 0===t)throw Error("Keys are undefined");var n=new Qn(null,void 0);e=In(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Jn(e,t){Yn(e),t=rr(e,t),Rn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Rn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Nn(e)))}function er(e,t){return Yn(e),t=rr(e,t),Rn(e.a.b,t)}function tr(e,t,n){Jn(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),J(n)),e.b+=n.length)}function nr(e){var t=new Qn;return t.c=e.c,e.a&&(t.a=new Pn(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return ar(new or,e,t),t.join("")}function or(){}function ar(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ar(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),lr(r,n),n.push(":"),ar(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":lr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Qn.prototype).add=function(e,t){Yn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Yn(this),this.a.forEach((function(n,r){H(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Yn(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){Yn(this);var t=[];if("string"==typeof e)er(this,e)&&(t=X(t,this.a.get(rr(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return Yn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(e,t){t.push('"',e.replace(ur,(function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t})),'"')}function cr(){var e=Pr();return Ze&&!!st&&11==st||/Edge\/\d+/.test(e)}function hr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function fr(e,t){t=t||u.window;var n="about:blank";e&&(n=Oe(Fe(e)||ze)),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function pr(e){return!!((e=(e||Pr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function mr(e){e=e||u.window;try{e.close()}catch(e){}}function gr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(t.target=r,le(n,"crios/")&&(t.target="_blank")),Sr(Pr())==kr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Re?n:Fe(void 0!==n.href?n.href:String(n))||ze,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=mt(document,"A"),"HTMLAnchorElement"),t=t instanceof Re?t:je(t),a.href=Oe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ve("",r,n,a),e=Oe(t),a&&(Ye&&le(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+He(e)+'">',e=new qe(e=(r=ke())?r.createHTML(e):e,null,Be),r=a.document)&&(r.write(function(e){return e instanceof qe&&e.constructor===qe?e.a:(F("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Ve(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function br(){var e=null;return new _t((function(t){"complete"==u.document.readyState?t():(e=function(){t()},fn(window,"load",e))})).o((function(t){throw dn(window,"load",e),t}))}function wr(e){return e=e||Pr(),!("file:"!==Lr()&&"ionic:"!==Lr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var e=u.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Er(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function xr(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Cr(){var e=xr();return"ReactNative"===e||"Node"===e}var kr="Firefox",Tr="Chrome";function Sr(e){var t=e.toLowerCase();return le(t,"opera/")||le(t,"opr/")||le(t,"opios/")?"Opera":le(t,"iemobile")?"IEMobile":le(t,"msie")||le(t,"trident/")?"IE":le(t,"edge/")?"Edge":le(t,"firefox/")?kr:le(t,"silk/")?"Silk":le(t,"blackberry")?"Blackberry":le(t,"webos")?"Webos":!le(t,"safari/")||le(t,"chrome/")||le(t,"crios/")||le(t,"android")?!le(t,"chrome/")&&!le(t,"crios/")||le(t,"edge/")?le(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Tr:"Safari"}var Ir={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(e,t){t=t||[];var n,r=[],i={};for(n in Ir)i[Ir[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=xr())?r=Sr(i=Pr()):"Worker"===r&&(r=Sr(i=Pr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Pr(){return u.navigator&&u.navigator.userAgent||""}function Nr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Rr(){try{var e=u.localStorage,t=zr();if(e)return e.setItem(t,"1"),e.removeItem(t),!cr()||!!u.indexedDB}catch(e){return Er()&&!!u.indexedDB}return!1}function Or(){return(Dr()||"chrome-extension:"===Lr()||wr())&&!Cr()&&Rr()&&!Er()}function Dr(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return u.location&&u.location.protocol||null}function Mr(e){return!pr(e=e||Pr())&&Sr(e)!=kr}function Fr(e){return void 0===e?null:ir(e)}function jr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ur(e){if(null!==e)return JSON.parse(e)}function zr(e){return e||Math.floor(1e9*Math.random()).toString()}function qr(e){return"Safari"!=Sr(e=e||Pr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Vr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Pr(),t=xr(),this.b=pr(e)||"ReactNative"===t}function Wr(){var e=u.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Hr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Gr(){return!(!Nr("fireauth.oauthhelper",u)&&!Nr("fireauth.iframe",u))}Vr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!=typeof e.onLine||!Dr()&&"chrome-extension:"!==Lr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,$r={};function Zr(e){$r[e]||($r[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==Qr.abcd}catch(e){Kr=!1}function Yr(e,t,n){Kr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Xr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Yr(e,n,t[n])}function Jr(e){var t={};return Xr(t,e),t}function ei(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Yr(t,n,ei(e[n]));return t}function ti(e){var t=e&&(e[ai]?"phone":null);if(!(t&&e&&e[oi]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",e[oi]),Yr(this,"displayName",e[ri]||null);var n=null;e[ii]&&(n=new Date(e[ii]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",t)}function ni(e){try{var t=new si(e)}catch(e){t=null}return t}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ri="displayName",ii="enrolledAt",oi="mfaEnrollmentId",ai="phoneInfo";function si(e){ti.call(this,e),Yr(this,"phoneNumber",e[ai])}function ui(e){var t={},n=e[fi],r=e[pi],i=e[mi];if(e=ni(e[di]),!i||i!=ci&&i!=hi&&!n||i==hi&&!r||i==li&&!e)throw Error("Invalid checkActionCode response!");i==hi?(t[vi]=n||null,t[bi]=n||null,t[gi]=r):(t[vi]=r||null,t[bi]=r||null,t[gi]=n||null),t[yi]=e||null,Yr(this,_i,i),Yr(this,wi,ei(t))}k(si,ti),si.prototype.w=function(){var e=si.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var li="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",fi="email",di="mfaInfo",pi="newEmail",mi="requestType",gi="email",vi="fromEmail",yi="multiFactorInfo",bi="previousEmail",wi="data",_i="operation";function Ei(e){var t=Un(e=zn(e),xi)||null,n=Un(e,Ci)||null,r=Un(e,Si)||null;if(r=r&&Ai[r]||null,!t||!n||!r)throw new S("argument-error",xi+", "+Ci+"and "+Si+" are required in a valid action code URL.");Xr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,ki)||null,languageCode:Un(e,Ti)||null,tenantId:Un(e,Ii)||null})}var xi="apiKey",Ci="oobCode",ki="continueUrl",Ti="languageCode",Si="mode",Ii="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:ci,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function Pi(e){try{return new Ei(e)}catch(e){return null}}function Ni(e){var t=e[Mi];if(void 0===t)throw new S("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new S("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ri];if(n&&"object"==typeof n){t=n[Ui];var r=n[Fi];if(n=n[ji],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Fi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",ji+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new S("argument-error",Ui+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(t=e[Li])&&"object"==typeof t){if("string"==typeof(t=t[zi])&&t.length)this.f=t;else if(void 0!==t)throw new S("argument-error",zi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new S("argument-error",Li+" property must be a non null object when specified.");if(void 0!==(t=e[Di])&&"boolean"!=typeof t)throw new S("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Oi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new S("argument-error",Oi+" property must be a non empty string when specified.");this.i=e||null}var Ri="android",Oi="dynamicLinkDomain",Di="handleCodeInApp",Li="iOS",Mi="url",Fi="installApp",ji="minimumVersion",Ui="packageName",zi="bundleId";function qi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Bi=null;function Vi(e){var t=Hi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Wi(e){try{return new Vi(e)}catch(e){return null}}function Hi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Bi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Bi){Bi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Bi[o]&&(Bi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(e){}return null}Vi.prototype.T=function(){return this.f},Vi.prototype.l=function(){return this.c},Vi.prototype.toString=function(){return this.h};var Gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],$i={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ki},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ki},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ki},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Gi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Zi(e){for(var t in $i)if($i[t].fa==e)return $i[t];return null}function Qi(e){var t={};t["facebook.com"]=to,t["google.com"]=ro,t["github.com"]=no,t["twitter.com"]=io;var n=e&&e[Xi];try{if(n)return t[n]?new t[n](e):new eo(e);if(void 0!==e[Yi])return new Ji(e)}catch(e){}return null}var Yi="idToken",Xi="providerId";function Ji(e){var t=e[Xi];if(!t&&e[Yi]){var n=Wi(e[Yi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Yr(this,"providerId",t),Yr(this,"isNewUser",n)}function eo(e){Ji.call(this,e),Yr(this,"profile",ei((e=Ur(e.rawUserInfo||"{}"))||{}))}function to(e){if(eo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(e){if(eo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function ro(e){if(eo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(e){if(eo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",e.screenName||null)}function oo(e){var t=zn(e),n=Un(t,"link"),r=Un(zn(n),"link");return t=Un(t,"deep_link_id"),Un(zn(t),"link")||t||r||n||e}function ao(e,t){if(!e&&!t)throw new S("internal-error","Internal assert: no raw session string available");if(e&&t)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?so:uo}k(eo,Ji),k(to,eo),k(no,eo),k(ro,eo),k(io,eo);var so="enroll",uo="signin";function lo(){}function co(e,t){return e.then((function(e){if(e[Xa]){var n=Wi(e[Xa]);if(!n||t!=n.i)throw new S("user-mismatch");return e}throw new S("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==P+"user-not-found"?new S("user-mismatch"):e}))}function ho(e,t){if(!t)throw new S("internal-error","failed to construct a credential");this.a=t,Yr(this,"providerId",e),Yr(this,"signInMethod",e)}function fo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function po(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new ho(e.providerId,e.pendingToken)}catch(e){}return null}function mo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Yr(this,"idToken",t.idToken),t.accessToken&&Yr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Yr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Yr(this,"accessToken",t.oauthToken),Yr(this,"secret",t.oauthTokenSecret)}Yr(this,"providerId",e),Yr(this,"signInMethod",n)}function go(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Xn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function vo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new mo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function yo(e,t){this.Qc=t||[],Xr(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(Zi(e)||{}).Ja||null,this.ob=null}function bo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,e,[])}function wo(e){yo.call(this,e,Ki),this.a=[]}function _o(){wo.call(this,"facebook.com")}function Eo(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new _o).credential({accessToken:t})}function xo(){wo.call(this,"github.com")}function Co(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new xo).credential({accessToken:t})}function ko(){wo.call(this,"google.com"),this.Ca("profile")}function To(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new ko).credential({idToken:n,accessToken:t})}function So(){yo.call(this,"twitter.com",Gi)}function Io(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",n,"twitter.com")}function Ao(e,t,n){this.a=e,this.f=t,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===No.EMAIL_LINK_SIGN_IN_METHOD?No.EMAIL_LINK_SIGN_IN_METHOD:No.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(e){return e&&e.email&&e.password?new Ao(e.email,e.password,e.signInMethod):null}function No(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Ro(e,t){if(!(t=Oo(t)))throw new S("argument-error","Invalid email link!");return new Ao(e,t.code,No.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(e){return(e=Pi(e=oo(e)))&&e.operation===ci?e:null}function Do(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new S("internal-error");this.a=e,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function Lo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Do(t)}return null}function Mo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function Fo(e){try{this.a=e||r.Z.auth()}catch(e){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function jo(e,t){if(!e)throw new S("missing-verification-id");if(!t)throw new S("missing-verification-code");return new Do({eb:e,cb:t})}function Uo(e){if(e.temporaryProof&&e.phoneNumber)return new Do({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return To(o,n);case"facebook.com":return Eo(n);case"github.com":return Co(n);case"twitter.com":return Io(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new ho(t,a):new mo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new wo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function zo(e){if(!e.isOAuthProvider)throw new S("invalid-oauth-provider")}function qo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Bo(e){return(e=e||{}).type?new qo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&I(e.error),e.postBody,e.tenantId):null}function Vo(){this.b=null,this.a=[]}ao.prototype.Ha=function(){return this.a?It(this.a):It(this.b)},ao.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ka=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},ho.prototype.ka=function(e){return bs(e,fo(this))},ho.prototype.b=function(e,t){var n=fo(this);return n.idToken=t,ws(e,n)},ho.prototype.c=function(e,t){return co(_s(e,fo(this)),t)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mo.prototype.ka=function(e){return bs(e,go(this))},mo.prototype.b=function(e,t){var n=go(this);return n.idToken=t,ws(e,n)},mo.prototype.c=function(e,t){return co(_s(e,go(this)),t)},mo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},yo.prototype.Ka=function(e){return this.Ib=ge(e),this},k(bo,yo),k(wo,yo),wo.prototype.Ca=function(e){return Z(this.a,e)||this.a.push(e),this},wo.prototype.Qb=function(){return J(this.a)},wo.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,n,this.providerId)},k(_o,wo),Yr(_o,"PROVIDER_ID","facebook.com"),Yr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(xo,wo),Yr(xo,"PROVIDER_ID","github.com"),Yr(xo,"GITHUB_SIGN_IN_METHOD","github.com"),k(ko,wo),Yr(ko,"PROVIDER_ID","google.com"),Yr(ko,"GOOGLE_SIGN_IN_METHOD","google.com"),k(So,yo),Yr(So,"PROVIDER_ID","twitter.com"),Yr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(e){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?nu(e,As,{email:this.a,oobCode:this.f}):nu(e,Ys,{email:this.a,password:this.f})},Ao.prototype.b=function(e,t){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?nu(e,Ps,{idToken:t,email:this.a,oobCode:this.f}):nu(e,Vs,{idToken:t,email:this.a,password:this.f})},Ao.prototype.c=function(e,t){return co(this.ka(e),t)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(No,{PROVIDER_ID:"password"}),Xr(No,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(No,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Do.prototype.ka=function(e){return e.fb(Mo(this))},Do.prototype.b=function(e,t){var n=Mo(this);return n.idToken=t,nu(e,Js,n)},Do.prototype.c=function(e,t){var n=Mo(this);return n.operation="REAUTH",co(e=nu(e,eu,n),t)},Do.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Fo.prototype.fb=function(e,t){var n=this.a.a;return It(t.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=g(e)?e.session:null,o=g(e)?e.phoneNumber:e;return(i&&i.type==so?i.Ha().then((function(e){return function(e,t){return nu(e,Hs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==uo?i.Ha().then((function(t){return function(e,t){return nu(e,Gs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return nu(e,qs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xr(Fo,{PROVIDER_ID:"phone"}),Xr(Fo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},qo.prototype.T=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Wo,Ho=null;function Go(e){var t="unauthorized-domain",n=void 0,r=zn(e);e=r.a,"chrome-extension"==(r=r.c)?n=We("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=We("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",S.call(this,t,n)}function Ko(e,t,n){S.call(this,e,n),(e=t||{}).Jb&&Yr(this,"email",e.Jb),e.ea&&Yr(this,"phoneNumber",e.ea),e.credential&&Yr(this,"credential",e.credential),e.Zb&&Yr(this,"tenantId",e.Zb)}function $o(e){if(e.code){var t=e.code||"";0==t.indexOf(P)&&(t=t.substring(P.length));var n={credential:Uo(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new S(t,e.message||void 0);return new Ko(t,n,e.message)}return null}function Zo(){}function Qo(e){return e.c||(e.c=e.b())}function Yo(){}function Xo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Jo(){}function ea(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Sb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ta(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function na(e,t,n){this.reset(e,t,n,void 0,void 0)}function ra(e){this.f=e,this.b=this.c=this.a=null}function ia(e,t){this.name=e,this.value=t}k(Go,S),k(Ko,S),Ko.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},Ko.prototype.toJSON=function(){return this.w()},Zo.prototype.c=null,k(Yo,Zo),Yo.prototype.a=function(){var e=Xo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Yo.prototype.b=function(){var e={};return Xo(this)&&(e[0]=!0,e[1]=!0),e},Wo=new Yo,k(Jo,Zo),Jo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ea;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(e=ea.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ta(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",ta(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,ta(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},na.prototype.a=null,na.prototype.reset=function(e,t,n,r,i){r||C(),delete this.a},ia.prototype.toString=function(){return this.name};var oa=new ia("SEVERE",1e3),aa=new ia("WARNING",900),sa=new ia("CONFIG",700),ua=new ia("FINE",500);function la(e){return e.c?e.c:e.a?la(e.a):(F("Root logger has no level set."),null)}ra.prototype.log=function(e,t,n){if(e.value>=la(this).value)for(m(t)&&(t=t()),e=new na(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ca={},ha=null;function fa(e){var t;if(ha||(ha=new ra(""),ca[""]=ha,ha.c=sa),!(t=ca[e])){t=new ra(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=fa(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ca[e]=t}return t}function da(e,t){e&&e.log(ua,t,void 0)}function pa(e){this.f=e}function ma(e){En.call(this),this.u=e,this.h=void 0,this.readyState=ga,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=fa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(pa,Zo),pa.prototype.a=function(){return new ma(this.f)},pa.prototype.b=function(e){return function(){return e}}({}),k(ma,En);var ga=0;function va(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function ya(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ba(e)}function ba(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function wa(e){En.call(this),this.headers=new Pn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=_a,this.u=this.S=!1}(e=ma.prototype).open=function(e,t){if(this.readyState!=ga)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ba(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ya(this)),this.readyState=ga},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ba(this)),this.a&&(this.readyState=3,ba(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,va(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ya(this):ba(this),3==this.readyState&&va(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ya(this))},e.sc=function(e){this.a&&(this.response=e,ya(this))},e.Ua=function(e){var t=this.i;t&&t.log(aa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ya(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(aa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(aa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),k(wa,En);var _a="";wa.prototype.b=fa("goog.net.XhrIo");var Ea=/^https?$/i,xa=["POST","PUT"];function Ca(e){return"content-type"==e.toLowerCase()}function ka(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ta(e),Ia(e)}function Ta(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Sa(e){if(e.c&&void 0!==s)if(e.C[1]&&4==Pa(e)&&2==Na(e))da(e.b,Ra(e,"Local request error detected and ignored"));else if(e.i&&4==Pa(e))Tn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==Pa(e)){da(e.b,Ra(e,"Request complete")),e.c=!1;try{var t,n=Na(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(On)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ea.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var l=2<Pa(e)?e.a.statusText:""}catch(t){da(e.b,"Can not get status: "+t.message),l=""}e.h=l+" ["+Na(e)+"]",Ta(e)}}finally{Ia(e)}}}function Ia(e,t){if(e.a){Aa(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(oa,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Aa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function Pa(e){return e.a?e.a.readyState:0}function Na(e){try{return 2<Pa(e)?e.a.status:-1}catch(e){return-1}}function Ra(e,t){return t+" ["+e.R+" "+e.l+" "+Na(e)+"]"}function Oa(e){var t=Wa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Da(e,t,n){e.a=!0,e.c=n,e.f=!t,ja(e)}function La(e){if(e.a){if(!e.v)throw new Ua(e);e.v=!1}}function Ma(e,t,n,r){e.g.push([t,n,r]),e.a&&ja(e)}function Fa(e){return $(e.g,(function(e){return m(e[1])}))}function ja(e){if(e.h&&e.a&&Fa(e)){var t=e.h,n=Ba[t];n&&(u.clearTimeout(n.a),delete Ba[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(D(t)||"function"==typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,Fa(e)||(n=!0)}}e.c=t,r&&(s=E(e.m,e,!0),r=E(e.m,e,!1),t instanceof Oa?(Ma(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new qa(t),Ba[t.a]=t,e.h=t.a)}function Ua(){L.call(this)}function za(){L.call(this)}function qa(e){this.a=u.setTimeout(E(this.c,this),0),this.b=e}(e=wa.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",da(this.b,Ra(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(da(this.b,Ra(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ia(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ia(this,!0)),wa.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?Sa(this):this.Jc())},e.Jc=function(){Sa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _a:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(oa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return da(this.b,"Can not get response: "+e.message),null}},Oa.prototype.cancel=function(e){if(this.a)this.c instanceof Oa&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new za(this),La(this),Da(this,!1,e))}},Oa.prototype.m=function(e,t){this.i=!1,Da(this,e,t)},Oa.prototype.then=function(e,t,n){var r,i,o=new _t((function(e,t){r=e,i=t}));return Ma(this,r,(function(e){e instanceof za?o.cancel():i(e)})),o.then(e,t,n)},Oa.prototype.$goog_Thenable=!0,k(Ua,L),Ua.prototype.message="Deferred has already fired",Ua.prototype.name="AlreadyCalledError",k(za,L),za.prototype.message="Deferred was canceled",za.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Ba[this.a],this.b};var Ba={};function Va(e){var t={},n=t.document||document,r=Se(e).toString(),i=mt(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Oa(o),s=null,l=null!=t.timeout?t.timeout:5e3;return 0<l&&(s=window.setTimeout((function(){Ha(i,!0);var e=new $a(Ka,"Timeout reached for loading script "+r);La(a),Da(a,!1,e)}),l),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ha(i,t.xd||!1,s),La(a),Da(a,!0,null))},i.onerror=function(){Ha(i,!0,s);var e=new $a(Ga,"Error while loading script "+r);La(a),Da(a,!1,e)},ye(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ct(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=Se(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=h(t.document):(null===c&&(c=h(u.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Wa(){if(this&&this.Wb){var e=this.Wb;e&&"SCRIPT"==e.tagName&&Ha(e,!0,this.Ma)}}function Ha(e,t,n){null!=n&&u.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ga=0,Ka=1;function $a(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),L.call(this,n),this.code=e}function Za(e){this.f=e}function Qa(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ja,this.g=ge(e.secureTokenHeaders||es),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ts,this.a=ge(e.firebaseHeaders||ns),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==xr(),!(n=u.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest)&&!Er())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new pa(self):Cr()?this.f=new Za(n):this.f=new Jo,this.b=null}k($a,L),k(Za,Zo),Za.prototype.a=function(){return new this.f},Za.prototype.b=function(){return{}};var Ya,Xa="idToken",Ja=new Vr(3e4,6e4),es={"Content-Type":"application/x-www-form-urlencoded"},ts=new Vr(3e4,6e4),ns={"Content-Type":"application/json"};function rs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function is(e,t){t&&(e.l=os("https://securetoken.googleapis.com/v1/token",t),e.h=os("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=os("https://identitytoolkit.googleapis.com/v2/",t))}function os(e,t){return e=zn(e),t=zn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,Mn(e,t.g),e.toString()}function as(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ss(e,t,n,r,i,o,a){(function(){var e=Pr();return!((e=Sr(e)!=Tr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Ze&&st&&!(9<st))})()||Er()?e=E(e.u,e):(Ya||(Ya=new _t((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(u[ls]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ma(e,null,t,void 0)}(Va(Ie(us,{onload:ls})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=E(e.s,e)),e(t,n,r,i,o,a)}Qa.prototype.T=function(){return this.b},Qa.prototype.u=function(e,t,n,r,i,o){if(Er()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new wa(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}xn(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return da(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),Cn(a,"ready",(function(){s&&clearTimeout(s),Gt(this)})),Cn(a,"timeout",(function(){s&&clearTimeout(s),Gt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Wo.a(),e.C=e.D?Qo(e.D):Qo(Wo),e.a.onreadystatechange=E(e.Vb,e);try{da(e.b,Ra(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return da(e.b,Ra(e,"Error opening Xhr: "+t.message)),void ka(e,t)}t=r||"";var o=new Pn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"==typeof e)H(e,t,void 0);else for(var n=An(e),r=In(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Ca,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=u.FormData&&t instanceof u.FormData,!Z(xa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Aa(e),0<e.g&&(e.u=function(e){return Ze&&at(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),da(e.b,Ra(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ma,e)):e.s=Tn(e.Ma,e.g,e)),da(e.b,Ra(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){da(e.b,Ra(e,"Send error: "+t.message)),ka(e,t)}}(a,e,n,r,i)};var us=new we(Ce,"https://apis.google.com/js/client.js?onload=%{onload}"),ls="__fcb"+Math.floor(1e6*Math.random()).toString();function cs(e){if("string"!=typeof(e=e.email)||!yr.test(e))throw new S("invalid-email")}function hs(e){"email"in e&&cs(e)}function fs(e){if(!e[Xa]){if(e.mfaPendingCredential)throw new S("multi-factor-auth-required",null,ge(e));throw new S("internal-error")}}function ds(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new S("internal-error")}else{if(!e.sessionInfo)throw new S("missing-verification-id");if(!e.code)throw new S("missing-verification-code")}}Qa.prototype.s=function(e,t,n,r,i){var o=this;Ya.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Qa.prototype.zb=function(){return nu(this,Ws,{})},Qa.prototype.Bb=function(e,t){return nu(this,Bs,{idToken:e,email:t})},Qa.prototype.Cb=function(e,t){return nu(this,Vs,{idToken:e,password:t})};var ps={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ms(e){if(!e.phoneVerificationInfo)throw new S("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new S("missing-verification-code")}function gs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new S("internal-error")}function vs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&er(e=new Qn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function ys(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=$o(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=$o(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=$o(e)):e.errorMessage&&(t=ru(e.errorMessage)),t)throw t;fs(e)}function bs(e,t){return t.returnIdpCredential=!0,nu(e,Ks,t)}function ws(e,t){return t.returnIdpCredential=!0,nu(e,Zs,t)}function _s(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,nu(e,$s,t)}function Es(e){if(!e.oobCode)throw new S("invalid-action-code")}(e=Qa.prototype).Db=function(e,t){var n={idToken:e},r=[];return pe(ps,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Bs,n)},e.vb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),nu(this,Fs,e)},e.wb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),nu(this,Ds,e)},e.ub=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),nu(this,Ls,e)},e.Eb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),nu(this,Ms,e)},e.fb=function(e){return nu(this,Xs,e)},e.nb=function(e,t){return nu(this,zs,{oobCode:e,newPassword:t})},e.Ra=function(e){return nu(this,Cs,{oobCode:e})},e.jb=function(e){return nu(this,xs,{oobCode:e})};var xs={endpoint:"setAccountInfo",A:Es,Z:"email",B:!0},Cs={endpoint:"resetPassword",A:Es,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new S("internal-error")},B:!0},ks={endpoint:"signupNewUser",A:function(e){if(cs(e),!e.password)throw new S("weak-password")},G:fs,V:!0,B:!0},Ts={endpoint:"createAuthUri",B:!0},Ss={endpoint:"deleteAccount",N:["idToken"]},Is={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new S("internal-error")}},As={endpoint:"emailLinkSignin",N:["email","oobCode"],A:cs,G:fs,V:!0,B:!0},Ps={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:cs,G:fs,V:!0},Ns={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ms,G:fs,B:!0,Na:!0},Rs={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ms,G:fs,B:!0,Na:!0},Os={endpoint:"getAccountInfo"},Ds={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new S("internal-error");cs(e)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new S("internal-error");cs(e)},Z:"email",B:!0},js={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Us={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new S("internal-error")}},zs={endpoint:"resetPassword",A:Es,Z:"email",B:!0},qs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Bs={endpoint:"setAccountInfo",N:["idToken"],A:hs,V:!0},Vs={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(hs(e),!e.password)throw new S("weak-password")},G:fs,V:!0},Ws={endpoint:"signupNewUser",G:fs,V:!0,B:!0},Hs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new S("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Gs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Ks={endpoint:"verifyAssertion",A:gs,Ya:vs,G:ys,V:!0,B:!0},$s={endpoint:"verifyAssertion",A:gs,Ya:vs,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new S("user-not-found");if(e.errorMessage)throw ru(e.errorMessage);fs(e)},V:!0,B:!0},Zs={endpoint:"verifyAssertion",A:function(e){if(gs(e),!e.idToken)throw new S("internal-error")},Ya:vs,G:ys,V:!0},Qs={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new S("invalid-custom-token")},G:fs,V:!0,B:!0},Ys={endpoint:"verifyPassword",A:function(e){if(cs(e),!e.password)throw new S("wrong-password")},G:fs,V:!0,B:!0},Xs={endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},Js={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new S("internal-error");ds(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",$o(e);fs(e)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Xa]^!!e.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function nu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.N))return At(new S("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return It(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=zn(t+n);jn(s,"key",e.c),a&&jn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var l in i)i.hasOwnProperty(l)&&jn(s,l,i[l]);return new _t((function(t,n){ss(e,s.toString(),(function(e){e?e.error?n(iu(e,o||{})):t(e):n(new S("network-request-failed"))}),r,u?void 0:ir(jr(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new S("internal-error");return r[t.Z]}))}function ru(e){return iu({error:{errors:[{message:e}],code:400,message:e}})}function iu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],t);return!t&&e&&(t=Fr(e)),new S("internal-error",t)}function ou(e){this.b=e,this.a=null,this.rb=function(e){return(lu||(lu=new _t((function(e,t){function n(){Br(),Nr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Br(),t(Error("Network Error"))},timeout:su.get()})}if(Nr("gapi.iframes.Iframe"))e();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Nr("gapi.load")?n():t(Error("Network Error"))},It(Va(r=Ie(au,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw lu=null,e})))).then((function(){return new _t((function(t,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new we(Ce,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new Vr(3e4,6e4),uu=new Vr(5e3,15e3),lu=null;function cu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?qn((e=zn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):qn("https",this.l,null,"/__/auth/iframe"),this.a=e,jn(this.a,"apiKey",this.h),jn(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fu(e){try{return r.Z.app(e).auth().Ga()}catch(e){return[]}}function du(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pu(e){var t=hr();return function(e){return nu(e,js,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=zn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=zn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Go(hr())}))}function mu(e){return e.m||(e.m=br().then((function(){if(!e.u){var t=e.c,n=e.i,r=fu(e.b),i=new cu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.v=new ou(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Bo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",It(n)}return n.status="ERROR",It(n)}))}(e)}))),e.m}function gu(e){return e.l||(e.C=e.c?Ar(e.c,fu(e.b)):null,e.l=new Qa(e.g,O(e.i),e.C),e.f&&is(e.l,e.f)),e.l}function vu(e,t,n,r,i,o,a,s,u,l,c,h){return(e=new hu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ge(u||null),e.f=l,e.yb(c).toString()}function yu(e){if(this.a=e||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(e){this.b=e,this.a={},this.f=E(this.c,this)}cu.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},hu.prototype.yb=function(e){return this.h=e,this},hu.prototype.toString=function(){if(this.v){var e=zn(this.v.url);e=qn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=qn("https",this.u,null,"/__/auth/handler");if(jn(e,"apiKey",this.s),jn(e,"appName",this.c),jn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(e){n=null}for(var i in t.ob=n,jn(e,"providerId",this.a.providerId),t=jr((n=this.a).Ib))t[i]=t[i].toString();i=n.Qc,t=ge(t);for(var o=0;o<i.length;o++){var a=i[o];a in t&&delete t[a]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),me(t)||jn(e,"customParameters",Fr(t))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&jn(e,"scopes",n.join(",")),this.l?jn(e,"redirectUrl",this.l):Jn(e.b,"redirectUrl"),this.g?jn(e,"eventId",this.g):Jn(e.b,"eventId"),this.i?jn(e,"v",this.i):Jn(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(e,s)&&jn(e,s,this.b[s]);return this.h?jn(e,"tid",this.h):Jn(e.b,"tid"),this.f?jn(e,"eid",this.f):Jn(e.b,"eid"),(s=fu(this.c)).length&&jn(e,"fw",s.join(",")),e.toString()},(e=du.prototype).Ob=function(e,t,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return mu(e).then((function(){return function(e,t){return e.rb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&mr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new _t((function(t){return function n(){Sn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Sn(n).then((function(){t(r)}))}))},e.Xb=function(){var e=Pr();return!Mr(e)&&!qr(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,a,s){if(!e)return At(new S("popup-blocked"));if(a&&!Mr())return this.ma().o((function(t){mr(e),i(t)})),r(),It();this.a||(this.a=pu(gu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw mr(e),i(t),t}));return r(),t})).then((function(){zo(n),a||fr(vu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=pu(gu(this)));var i=this;return this.a.then((function(){zo(t),fr(vu(i.s,i.g,i.b,e,t,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return mu(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new S("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){Y(this.h,(function(t){return t==e}))},(e=yu.prototype).get=function(e){return It(this.a.getItem(e)).then((function(e){return e&&Ur(e)}))},e.set=function(e,t){return It(this.a.setItem(e,Fr(t)))},e.U=function(e){return It(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var wu,_u=[];function Eu(e,t,n){me(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function xu(e){this.a=e}function Cu(e){this.c=e,this.b=!1,this.a=[]}function ku(e,t,n,r){var i,o,a,s,u=n||{},l=null;if(e.b)return At(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),l={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(l),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Tu(e,l),t})).o((function(t){throw Tu(e,l),t}))}function Tu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(e.a,(function(e){return e==t}))}}function Su(){if(!Nu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Er()&&self?(this.v=function(){var e=Er()?self:null;if(H(_u,(function(n){n.b==e&&(t=n)})),!t){var t=new bu(e);_u.push(t)}return t}(),Eu(this.v,"keyChanged",(function(t,n){return Mu(e).then((function(t){return 0<t.length&&H(e.a,(function(e){e(t)})),{keyProcessed:Z(t,n.key)}}))})),Eu(this.v,"ping",(function(){return It(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?It().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):It(null)}().then((function(t){(e.h=t)&&(e.g=new Cu(new xu(t)),ku(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Z(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Iu(e){return new _t((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new _t((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Iu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Au(e){return e.i||(e.i=Iu(e)),e.i}function Pu(e,t){var n=0;return new _t((function r(i,o){Au(e).then(t).then(i).o((function(t){if(!(3<++n))return Au(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Nu(){try{return!!u.indexedDB}catch(e){return!1}}function Ru(e){return e.objectStore("firebaseLocalStorage")}function Ou(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Du(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Lu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?ku(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):It()}function Mu(e){return Au(e).then((function(e){var t=Ru(Ou(e,!1));return t.getAll?Du(t.getAll()):new _t((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r}))}function Fu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function ju(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=It().then((function(){if(Nu()){var e=zr(),r="__sak"+e;return wu||(wu=new Su),(n=wu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){H(t.a,(function(t){t(e)}))})),e}))}function Uu(){this.a={},this.type="inMemory"}function zu(){if(!function(){var e="Node"==xr();if(!(e=qu()||e&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==xr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=qu()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var e=u.localStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Bu(){this.type="nullStorage"}function Vu(){if(!function(){var e="Node"==xr();if(!(e=Wu()||e&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==xr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Wu()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wu(){try{var e=u.sessionStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Hu(){var e={};e.Browser=$u,e.Node=Zu,e.ReactNative=Qu,e.Worker=Yu,this.a=e[xr()]}bu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];H(r,(function(t){i.push(It().then((function(){return t(e.origin,e.data.data)})))})),Nt(i).then((function(r){var i=[];H(r,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),H(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},xu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Cu.prototype.close=function(){for(;0<this.a.length;)Tu(this,this.a[0]);this.b=!0},(e=Su.prototype).set=function(e,t){var n=this,r=!1;return Pu(this,(function(t){return Du((t=Ru(Ou(t,!0))).get(e))})).then((function(i){return Pu(n,(function(o){if(o=Ru(Ou(o,!0)),i)return i.value=t,Du(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Du(o.add(a))}))})).then((function(){return n.c[e]=t,Lu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Pu(this,(function(t){return Du(Ru(Ou(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Pu(this,(function(r){return n=!0,t.b++,Du(Ru(Ou(r,!0)).delete(e))})).then((function(){return delete t.c[e],Lu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){Fu(e),function t(){e.f=setTimeout((function(){e.l=Mu(e).then((function(t){0<t.length&&H(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e})),0==this.a.length&&Fu(this)},(e=ju.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e}))},(e=Uu.prototype).get=function(e){return It(this.a[e])},e.set=function(e,t){return this.a[e]=t,It()},e.U=function(e){return delete this.a[e],It()},e.ca=function(){},e.ia=function(){},(e=zu.prototype).get=function(e){var t=this;return It().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return It().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return It().then((function(){t.a.removeItem(e)}))},e.ca=function(e){u.window&&cn(u.window,"storage",e)},e.ia=function(e){u.window&&dn(u.window,"storage",e)},(e=Bu.prototype).get=function(){return It(null)},e.set=function(){return It()},e.U=function(){return It()},e.ca=function(){},e.ia=function(){},(e=Vu.prototype).get=function(e){var t=this;return It().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return It().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return It().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Gu,Ku,$u={F:zu,bb:Vu},Zu={F:zu,bb:Vu},Qu={F:yu,bb:Bu},Yu={F:zu,bb:Bu},Xu={rd:"local",NONE:"none",td:"session"};function Ju(){var e=!(qr(Pr())||!_r()),t=Mr(),n=Rr();this.m=e,this.h=t,this.l=n,this.a={},Gu||(Gu=new Hu),e=Gu;try{this.g=!cr()&&Gr()||!u.indexedDB?new e.a.F:new ju(Er()?new Uu:new e.a.F)}catch(e){this.g=new Uu,this.h=!0}try{this.i=new e.a.bb}catch(e){this.i=new Uu}this.v=new Uu,this.f=E(this.Yb,this),this.b={}}function el(){return Ku||(Ku=new Ju),Ku}function tl(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function nl(e,t){return"firebase:"+e.name+(t?":"+t:"")}function rl(e,t,n){return n=nl(t,n),"local"==t.F&&(e.b[n]=null),tl(e,t.F).U(n)}function il(e){e.c&&(clearInterval(e.c),e.c=null)}function ol(e){this.a=e,this.b=el()}(e=Ju.prototype).get=function(e,t){return tl(this,e.F).get(nl(e,t))},e.set=function(e,t,n){var r=nl(e,n),i=this,o=tl(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=nl(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),me(this.a)&&(tl(this,"local").ca(this.f),this.h||(cr()||!Gr())&&u.indexedDB||!this.l||function(e){il(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Xt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Yb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=nl(e,t),this.a[e]&&(Y(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),me(this.a)&&(tl(this,"local").ia(this.f),il(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?tl(this,"local").ia(this.f):il(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.mb(t))},Ze&&st&&10==st&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else H(e,E(this.mb,this))},e.mb=function(e){this.a[e]&&H(this.a[e],(function(e){e()}))};var al,sl={name:"authEvent",F:"local"};function ul(){this.a=el()}function ll(e,t){this.b=cl,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===al&&(al=u.Int32Array?new Int32Array(vl):vl),this.reset()}k(ll,(function(){this.b=-1}));for(var cl=64,hl=cl-1,fl=[],dl=0;dl<hl;dl++)fl[dl]=0;var pl=X(128,fl);function ml(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|al[t])|0)+(0|n[t])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function gl(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(ml(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(ml(e),i=0)}}e.c=i,e.g+=n}ll.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):J(this.h)};var vl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yl(){ll.call(this,8,bl)}k(yl,ll);var bl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wl(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new ul,this.g=new ol(this.h),this.f=null,this.b=[],this.a=this.c=null}function _l(e){return new S("invalid-cordova-configuration",e)}function El(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function xl(e){return e.f||(e.f=e.ma().then((function(){return new _t((function(t){e.Ea((function n(r){return t(r),e.Sa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Cl(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=oo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ur(Un(o=zn(i),"firebaseError")||null))?I(o):null)?new qo(r.c,r.b,null,null,o,null,r.T()):new qo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}El(e,i)}))}var n=new qo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=Sn(500).then((function(){return Cl(e).then((function(){r||El(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Nr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Ho||(Ho=new Vo),function(e){var t=Ho;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Nr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Cl(e){var t=null;return function(e){return e.b.get(sl,e.a).then((function(e){return Bo(e)}))}(e.g).then((function(n){return t=n,rl((n=e.g).b,sl,n.a)})).then((function(){return t}))}function kl(e){this.a=e,this.b=el()}(e=wl.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?br().then((function(){return new _t((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):At(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",u))throw _l("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",u))throw _l("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",u))throw _l("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",u))throw _l("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},e.Ob=function(e,t){return t(new S("operation-not-supported-in-this-environment")),It()},e.Mb=function(){return At(new S("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return At(new S("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,l=null,c=null;return this.c=It().then((function(){return zo(t),xl(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new qo(t,r,null,o,new S("no-auth-event"),null,i),s=Nr("BuildInfo.packageName",u);if("string"!=typeof s)throw new S("invalid-cordova-configuration");var l=Nr("BuildInfo.displayName",u),c={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!Pr().toLowerCase().match(/android/))return At(new S("operation-not-supported-in-this-environment"));c.apn=s}l&&(c.appDisplayName=l),o=function(e){var t=new yl;gl(t,e),e=[];var n=8*t.g;56>t.c?gl(t,pl,56-t.c):gl(t,pl,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(ml(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return K(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),c.sessionId=o;var h=vu(e.v,e.i,e.l,t,n,null,r,e.m,c,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(sl,a.w(),t)})).then((function(){var t=Nr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof t)throw new S("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",u)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",u)))throw new S("invalid-cordova-configuration");t=Pr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new _t((function(e,t){s=function(){var t=Nr("cordova.plugins.browsertab.close",u);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),l=function(){a||(a=Sn(2e3).then((function(){t(new S("redirect-cancelled-by-user"))})))},c=function(){Wr()&&l()},o.addEventListener("resume",l,!1),Pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(e){return Cl(i).then((function(){throw e}))}))})).oa((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null}))},e.Ea=function(e){this.b.push(e),xl(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new qo("unknown",null,null,null,new S("no-auth-event")),e(t))}))},e.Sa=function(e){Y(this.b,(function(t){return t==e}))};var Tl={name:"pendingRedirect",F:"session"};function Sl(e){return rl(e.b,Tl,e.a)}function Il(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Vl,this.C=new $l,this.g=new kl(ql(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Al(this.D,this.v,this.m,A,this.J)}function Al(e,t,n,i,o){var a=r.Z.SDK_VERSION||null;return wr()?new wl(e,t,n,a,i,o):new du(e,t,n,a,i,o)}function Pl(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Nl(e){e.a.Xb()&&Pl(e).o((function(t){var n=new qo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Fl(t)&&e.s(n)})),e.a.Tb()||Wl(e.b)}function Rl(e,t){Z(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Tl,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Sl(e.g).then((function(){Pl(e).o((function(t){var n=new qo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Fl(t)&&e.s(n)}))})):Nl(e)})).o((function(){Nl(e)}))}function Ol(e,t){Y(e.h,(function(e){return e==t}))}Il.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Al(this.D,this.v,this.m,null,this.J),this.i={}},Il.prototype.s=function(e){if(!e)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Wl(this.b),t};var Dl=new Vr(2e3,1e4),Ll=new Vr(3e4,6e4);function Ml(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Fl(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function jl(e,t,n,r,i){var o;return function(e){return e.b.set(Tl,"pending",e.a)}(e.g).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(Fl(t))throw new S("operation-not-supported-in-this-environment");return o=t,Sl(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new _t((function(){})):Sl(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Ul(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),Dl.get())}Il.prototype.qa=function(){return this.b.qa()};var zl={};function ql(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Bl(e,t,n,r){var i=ql(t,n,r);return zl[i]||(zl[i]=new Il(e,t,n,r)),zl[i]}function Vl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wl(e){e.g||(e.g=!0,Kl(e,!1,null,null))}function Hl(e){e.g&&!e.i&&Kl(e,!1,null,null)}function Gl(e,t){if(e.b=function(){return It(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Kl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return At(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Gl(e,n):Gl(e,{user:null}),e.f=[],e.c=[]}function $l(){}function Zl(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function Ql(e,t){this.a=t,Yr(this,"verificationId",e)}function Yl(e,t,n,r){return new Fo(e).fb(t,n).then((function(e){return new Ql(e,r)}))}function Xl(e){var t=Hi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:e,expirationTime:Hr(1e3*t.exp),authTime:Hr(1e3*t.auth_time),issuedAtTime:Hr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Jl(e,t,n){var r=t&&t[tc];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ge(t),this.g=n,this.c=new ao(null,r),this.b=[];var i=this;H(t[ec]||[],(function(e){(e=ni(e))&&i.b.push(e)})),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}Vl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Vl.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Kl(this,!0,null,e.a),It()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Kl(e,s,t,null)})).o((function(t){Kl(e,s,null,t)}))}(this,e,t):At(new S("invalid-auth-event")):(Kl(this,!1,null,null),It())}else At(new S("invalid-auth-event"))},Vl.prototype.qa=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new S("timeout");e.a&&e.a.cancel(),e.a=Sn(Ll.get()).then((function(){e.b||(e.g=!0,Kl(e,!0,null,t))}))}(e))}))},$l.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),It()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):At(new S("invalid-auth-event"))}else At(new S("invalid-auth-event"))},Ql.prototype.confirm=function(e){return e=jo(this.verificationId,e),this.a(e)};var ec="mfaInfo",tc="mfaPendingCredential";function nc(e,t,n,r){S.call(this,"multi-factor-auth-required",r,t),this.b=new Jl(e,t,n),Yr(this,"resolver",this.b)}function rc(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new nc(t,e.serverResponse,n,e.message)}catch(e){}return null}function ic(){}function oc(e){Yr(this,"factorId",e.fa),this.a=e}function ac(e){if(oc.call(this,e),this.a.fa!=Fo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function sc(e,t){for(var n in Yt.call(this,e),t)this[n]=t[n]}function uc(e,t){this.a=e,this.b=[],this.c=E(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&H(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[oi]=e.uid),e.displayName&&(r[ri]=e.displayName),e.enrollmentTime&&(r[ii]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ai]=e.phoneNumber);try{t=new si(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),lc(this,n)}function lc(e,t){e.b=t,Yr(e,"enrolledFactors",t)}function cc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function hc(e,t){e.stop(),e.b=Sn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return Wr()||!e?It():new _t((function(n){t=function(){Wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){hc(e,!0)})).o((function(t){e.i(t)&&hc(e,!1)}))}function fc(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function dc(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function pc(e,t){e.b=Wi(t[Xa]||""),e.a=t.refreshToken,dc(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function mc(e,t){this.a=e||null,this.b=t||null,Xr(this,{lastSignInTime:Hr(t||null),creationTime:Hr(e||null)})}function gc(e,t,n,r,i,o){Xr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function vc(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=r.Z.SDK_VERSION?Ar(r.Z.SDK_VERSION):null;this.a=new Qa(this.l,O(A),i),e.emulatorConfig&&is(this.a,e.emulatorConfig),this.b=new fc(this.a),kc(this,t[Xa]),pc(this.b,t),Yr(this,"refreshToken",this.b.a),Ic(this,n||{}),En.call(this),this.R=!1,this.s&&Or()&&(this.i=Bl(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(e){return new cc((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.aa=E(this.hb,this);var o=this;this.ya=null,this.Oa=function(e){o.wa(e.h)},this.ja=null,this.Aa=function(e){is(o.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){wc(o,e.f)},this.ba=null,this.O=new uc(this,n),Yr(this,"multiFactor",this.O)}function yc(e,t){e.ja&&dn(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&cn(t,"languageCodeChanged",e.Oa)}function bc(e,t){e.X&&dn(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&cn(t,"emulatorConfigChanged",e.Aa)}function wc(e,t){e.$=t,as(e.a,r.Z.SDK_VERSION?Ar(r.Z.SDK_VERSION,e.$):null)}function _c(e,t){e.ba&&dn(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&cn(t,"frameworkChanged",e.Ba)}function Ec(e){try{return r.Z.app(e.m).auth()}catch(t){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function xc(e){e.D||e.u.b||(e.u.start(),dn(e,"tokenChanged",e.aa),cn(e,"tokenChanged",e.aa))}function Cc(e){dn(e,"tokenChanged",e.aa),e.u.stop()}function kc(e,t){e.za=t,Yr(e,"_lat",t)}function Tc(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Nt(t).then((function(){return e}))}function Sc(e){e.i&&!e.R&&(e.R=!0,Rl(e.i,e))}function Ic(e,t){Xr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new mc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Ac(){}function Pc(e){return It().then((function(){if(e.D)throw new S("app-deleted")}))}function Nc(e){return K(e.providerData,(function(e){return e.providerId}))}function Rc(e,t){t&&(Oc(e,t.providerId),e.providerData.push(t))}function Oc(e,t){Y(e.providerData,(function(e){return e.providerId==t}))}function Dc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Yr(e,t,n)}function Lc(e,t){e!=t&&(Xr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Yr(e,"metadata",function(e){return new mc(e.a,e.b)}(t.metadata)):Yr(e,"metadata",new mc),H(t.providerData,(function(t){Rc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Yr(e,"refreshToken",e.b.a),lc(e.O,t.O.b))}function Mc(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return nu(e.a,Os,{idToken:t}).then(E(e.Kc,e))}(e,t).then((function(){return n||Dc(e,"isAnonymous",!1),t}))}))}function Fc(e,t){t[Xa]&&e.za!=t[Xa]&&(pc(e.b,t),e.dispatchEvent(new sc("tokenChanged")),kc(e,t[Xa]),Dc(e,"refreshToken",e.b.a))}function jc(e,t){return Mc(e).then((function(){if(Z(Nc(e),t))return Tc(e).then((function(){throw new S("provider-already-linked")}))}))}function Uc(e,t,n){return Jr({user:e,credential:Uo(t),additionalUserInfo:t=Qi(t),operationType:n})}function zc(e,t){return Fc(e,t),e.reload().then((function(){return e}))}function qc(e,t,n,i,o){if(!Or())return At(new S("operation-not-supported-in-this-environment"));if(e.h&&!o)return At(e.h);var a=Zi(n.providerId),s=zr(e.uid+":::"),u=null;(!Mr()||_r())&&e.s&&n.isOAuthProvider&&(u=vu(e.s,e.l,e.m,t,n,null,s,r.Z.SDK_VERSION||null,null,null,e.tenantId));var l=gr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Vc(e),!o)return e.I().then((function(){}))})).then((function(){return Ml(e.i,l,t,n,s,!!u,e.tenantId)})).then((function(){return new _t((function(n,r){e.na(t,null,new S("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=s,e.c=Ul(e.i,e,t,l,s)}))})).then((function(e){return l&&mr(l),e?Jr(e):null})).o((function(e){throw l&&mr(l),e})),Wc(e,i,o)}function Bc(e,t,n,r,i){if(!Or())return At(new S("operation-not-supported-in-this-environment"));if(e.h&&!i)return At(e.h);var o=null,a=zr(e.uid+":::");return r=r().then((function(){if(Vc(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Tc(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Kc,e.w(),t.a)),t})).then((function(){return jl(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return $c(e.ha);throw o})).then((function(){if(o)throw o})),Wc(e,r,i)}function Vc(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Wc(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),At(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new sc("userInvalidated")),e.h=t),t}))}(e,t,n);return e.J.push(r),r.oa((function(){Q(e.J,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=rc(t.w(),Ec(e),E(e.jc,e))),n||t}))}function Hc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Xa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new vc(t,n,e);return e.providerData&&H(e.providerData,(function(e){e&&Rc(i,Jr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Gc(e){this.a=e,this.b=el()}Jl.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=ge(t.f);return delete n[ec],delete n[tc],ye(n,e),t.g(n)}))},k(nc,S),ic.prototype.sb=function(e,t,n){return t.type==so?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ye(n,{phoneVerificationInfo:Mo(e.a)}),nu(t,Ns,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(e.a)}),nu(t,Rs,n)}))}(this,e,t)},k(oc,ic),k(ac,oc),k(sc,Yt),(e=uc.prototype).yc=function(e){lc(this,function(e){var t=[];return H(e.mfaInfo||[],(function(e){(e=ni(e))&&t.push(e)})),t}(e.hd))},e.Rb=function(){return this.a.I().then((function(e){return new ao(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return Fc(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return nu(r,tu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=G(t.b,(function(e){return e.uid!=n}));return lc(t,r),Fc(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(e){return e.w()}))}}},cc.prototype.start=function(){this.a=this.c,hc(this,!0)},cc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},fc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},fc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?At(new S("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ss(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(iu(e)):e.access_token&&e.refresh_token?n(e):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",Xn(t).toString(),e.g,e.m.get()):r(new S("internal-error"))}))}(e.f,t).then((function(t){return e.b=Wi(t.access_token),e.a=t.refresh_token,dc(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):It(null):It({accessToken:this.b.toString(),refreshToken:this.a})},mc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(vc,En),vc.prototype.wa=function(e){this.ya=e,rs(this.a,e)},vc.prototype.la=function(){return this.ya},vc.prototype.Ga=function(){return J(this.$)},vc.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Yr(vc.prototype,"providerId","firebase"),(e=vc.prototype).reload=function(){var e=this;return Wc(this,Pc(this).then((function(){return Mc(e).then((function(){return Tc(e)})).then(Ac)})))},e.oc=function(e){return this.I(e).then((function(e){return new Xl(e)}))},e.I=function(e){var t=this;return Wc(this,Pc(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new S("internal-error");return e.accessToken!=t.za&&(kc(t,e.accessToken),t.dispatchEvent(new sc("tokenChanged"))),Dc(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new S("internal-error");Ic(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?K(e,(function(e){return new gc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Rc(this,t[n]);Dc(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new sc("userReloaded",{hd:e}))},e.Lc=function(e){return Zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return Wc(this,e.c(this.a,this.uid).then((function(e){return Fc(t,e),n=Uc(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return Wc(this,jc(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Uc(t,e,"link"),zc(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Wc(this,jc(this,"phone").then((function(){return Yl(Ec(n),e,t,E(n.qb,n))})))},e.Mc=function(e,t){var n=this;return Wc(this,It().then((function(){return Yl(Ec(n),e,t,E(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return Wc(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return Fc(t,e),t.reload()})))},e.ed=function(e){var t=this;return Wc(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Fc(t,e),t.reload()})))},e.Cb=function(e){var t=this;return Wc(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Fc(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Pc(this);var t=this;return Wc(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Fc(t,e),Dc(t,"displayName",e.displayName||null),Dc(t,"photoURL",e.photoUrl||null),H(t.providerData,(function(e){"password"===e.providerId&&(Yr(e,"displayName",t.displayName),Yr(e,"photoURL",t.photoURL))})),Tc(t)})).then(Ac))},e.cd=function(e){var t=this;return Wc(this,Mc(this).then((function(n){return Z(Nc(t),e)?function(e,t,n){return nu(e,Is,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return H(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),H(Nc(t),(function(e){n[e]||Oc(t,e)})),n[Fo.PROVIDER_ID]||Yr(t,"phoneNumber",null),Tc(t)})):Tc(t).then((function(){throw new S("no-such-provider")}))})))},e.delete=function(){var e=this;return Wc(this,this.I().then((function(t){return nu(e.a,Ss,{idToken:t})})).then((function(){e.dispatchEvent(new sc("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");yc(e,null),bc(e,null),_c(e,null),e.J=[],e.D=!0,Cc(e),Yr(e,"refreshToken",null),e.i&&Ol(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?E(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?E(this.Lb,this):null},e.Ec=function(e){var t=this;return qc(this,"linkViaPopup",e,(function(){return jc(t,e.providerId).then((function(){return Tc(t)}))}),!1)},e.Nc=function(e){return qc(this,"reauthViaPopup",e,(function(){return It()}),!0)},e.Fc=function(e){var t=this;return Bc(this,"linkViaRedirect",e,(function(){return jc(t,e.providerId)}),!1)},e.Oc=function(e){return Bc(this,"reauthViaRedirect",e,(function(){return It()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wc(this,this.I().then((function(n){return ws(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Uc(i,e,"link"),zc(i,e)})).then((function(){return o})))},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wc(this,It().then((function(){return co(_s(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Uc(i,e,"reauthenticate"),Fc(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.ub=function(e){var t=this,n=null;return Wc(this,this.I().then((function(t){return n=t,void 0===e||me(e)?{}:qi(new Ni(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return Wc(this,this.I().then((function(e){return r=e,void 0===t||me(t)?{}:qi(new Ni(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Wc(this,e=co(It(e),n.uid).then((function(e){return t=Uc(n,e,"reauthenticate"),Fc(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),H(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ye(e,this.O.w()),e};var Kc={name:"redirectUser",F:"session"};function $c(e){return rl(e.b,Kc,e.a)}function Zc(e){this.a=e,this.b=el(),this.c=null,this.f=function(e){var t=Xc("local"),n=Xc("session"),r=Xc("none");return function(e,t,n){var r=nl(t,n),i=tl(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Ur(u.localStorage.getItem(r))}catch(e){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(Yc,e.a).then((function(e){return e?Xc(e):t}))}))}))})).then((function(t){return e.c=t,Qc(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(Xc("local"),this.a,E(this.g,this))}function Qc(e,t){var n,r=[];for(n in Xu)Xu[n]!==t&&r.push(rl(e.b,Xc(Xu[n]),e.a));return r.push(rl(e.b,Yc,e.a)),function(e){return new _t((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Pt(e[s],x(o,s),a);else t(i)}))}(r)}Zc.prototype.g=function(){var e=this,t=Xc("local");nh(this,(function(){return It().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Qc(e,"local").then((function(){e.c=t}))}))}))};var Yc={name:"persistence",F:"session"};function Xc(e){return{name:"authUser",F:e}}function Jc(e,t){return nh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function eh(e){return nh(e,(function(){return rl(e.b,e.c,e.a)}))}function th(e,t,n){return nh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Hc(e||{})}))}))}function nh(e,t){return e.f=e.f.then(t,t),e.f}function rh(e){if(this.l=!1,Yr(this,"settings",new Zl),Yr(this,"app",e),!hh(this).options||!hh(this).options.apiKey)throw new S("invalid-api-key");e=r.Z.SDK_VERSION?Ar(r.Z.SDK_VERSION):null,this.a=new Qa(hh(this).options&&hh(this).options.apiKey,O(A),e),this.R=[],this.s=[],this.O=[],this.hb=r.Z.INTERNAL.createSubscribe(E(this.zc,this)),this.X=void 0,this.bc=r.Z.INTERNAL.createSubscribe(E(this.Ac,this)),lh(this,null),this.i=new Zc(hh(this).options.apiKey+":"+hh(this).name),this.D=new Gc(hh(this).options.apiKey+":"+hh(this).name),this.$=mh(this,function(e){var t=hh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Kc,e.a).then((function(e){return e&&t&&(e.authDomain=t),Hc(e||{})}))}(e.D,hh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),$c(e.D)}));return mh(e,t)}(e).then((function(){return th(e.i,t,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Jc(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:eh(e.i)}))):null})).then((function(t){lh(e,t||null)}));return mh(e,n)}(this)),this.h=mh(this,function(e){return e.$.then((function(){return uh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(Xc("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.ya=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(e){var t=hh(e).options.authDomain,n=hh(e).options.apiKey;t&&Or()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Bl(t,n,hh(e).name,e.P),Rl(e.b,e),fh(e)&&Sc(fh(e)),e.m){Sc(e.m);var r=e.m;r.wa(e.la()),yc(r,e),wc(r=e.m,e.J),_c(r,e),is((r=e.m).a,e.P),bc(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.P){var e=zn(this.P.url);e=Jr({protocol:e.c,host:e.a,port:e.g,options:Jr({disableWarnings:this.P.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.P=null}function ih(e){Yt.call(this,"languageCodeChanged"),this.h=e}function oh(e){Yt.call(this,"emulatorConfigChanged"),this.c=e}function ah(e){Yt.call(this,"frameworkChanged"),this.f=e}function sh(e){return e.Oa||At(new S("auth-domain-config-required"))}function uh(e){if(!Or())return At(new S("operation-not-supported-in-this-environment"));var t=sh(e).then((function(){return e.b.qa()})).then((function(e){return e?Jr(e):null}));return mh(e,t)}function lh(e,t){fh(e)&&(function(e,t){Y(e.S,(function(e){return e==t}))}(fh(e),e.Ba),dn(fh(e),"tokenChanged",e.ya),dn(fh(e),"userDeleted",e.za),dn(fh(e),"userInvalidated",e.Aa),Cc(fh(e))),t&&(t.S.push(e.Ba),cn(t,"tokenChanged",e.ya),cn(t,"userDeleted",e.za),cn(t,"userInvalidated",e.Aa),0<e.u&&xc(t)),Yr(e,"currentUser",t),t&&(t.wa(e.la()),yc(t,e),wc(t,e.J),_c(t,e),is(t.a,e.P),bc(t,e))}function ch(e,t){var n=null,r=null;return mh(e,t.then((function(t){return n=Uo(t),r=Qi(t),function(e,t){var n={};return n.apiKey=hh(e).options.apiKey,n.authDomain=hh(e).options.authDomain,n.appName=hh(e).name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return function(e,t,n,r){var i=new vc(e,t);return n&&(i.ha=n),r&&wc(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return fh(e)&&t.uid==fh(e).uid?(Lc(fh(e),t),e.da(t)):(lh(e,t),Sc(t),e.da(t))})).then((function(){ph(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=rc(t.w(),e,E(e.kc,e))),n||t})).then((function(){return Jr({user:fh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function hh(e){return e.app}function fh(e){return e.currentUser}function dh(e){return fh(e)&&fh(e)._lat||null}function ph(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](dh(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](dh(e))}}function mh(e,t){return e.R.push(t),t.oa((function(){Q(e.R,t)})),t}function gh(){}function vh(){this.a={},this.b=1e12}Zc.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");e:{for(r in Xu)if(Xu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(xr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Nu()&&"none"!==e)throw n;break;default:if(!Rr()&&"none"!==e)throw n}}(e),nh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Qc(n,e)})).then((function(){if(n.c=Xc(e),t)return n.b.set(n.c,t,n.a)})):It()}))},k(rh,En),k(ih,Yt),k(oh,Yt),k(ah,Yt),(e=rh.prototype).xb=function(e){return mh(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,rs(this.a,this.aa),this.dispatchEvent(new ih(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=u.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&br().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.P={url:e,ec:t},this.settings.ib=!0,is(this.a,this.P),this.dispatchEvent(new oh(this.P))}},e.Gc=function(e){this.J.push(e),as(this.a,r.Z.SDK_VERSION?Ar(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new ah(this.J))},e.Ga=function(){return J(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:hh(this).options.apiKey,authDomain:hh(this).options.authDomain,appName:hh(this).name,currentUser:fh(this)&&fh(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ch(i,bs(i.a,o))}))},e.Xc=function(e){if(!Or())return At(new S("operation-not-supported-in-this-environment"));var t=this,n=Zi(e.providerId),i=zr(),o=null;(!Mr()||_r())&&hh(this).options.authDomain&&e.isOAuthProvider&&(o=vu(hh(this).options.authDomain,hh(this).options.apiKey,hh(this).name,"signInViaPopup",e,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.P));var a=gr(o,n&&n.ua,n&&n.ta);return mh(this,n=sh(this).then((function(n){return Ml(n,a,"signInViaPopup",e,i,!!o,t.T())})).then((function(){return new _t((function(e,n){t.na("signInViaPopup",null,new S("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=i,t.c=Ul(t.b,t,"signInViaPopup",a,i)}))})).then((function(e){return a&&mr(a),e?Jr(e):null})).o((function(e){throw a&&mr(a),e})))},e.Yc=function(e){if(!Or())return At(new S("operation-not-supported-in-this-environment"));var t=this;return mh(this,sh(this).then((function(){return function(e){return nh(e,(function(){return e.b.set(Yc,e.c.F,e.a)}))}(t.i)})).then((function(){return jl(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.qa=function(){var e=this;return uh(this).then((function(t){return e.b&&Hl(e.b.b),t})).o((function(t){throw e.b&&Hl(e.b.b),t}))},e.dd=function(e){if(!e)return At(new S("null-user"));if(this.S!=e.tenantId)return At(new S("tenant-id-mismatch"));var t=this,n={};n.apiKey=hh(this).options.apiKey,n.authDomain=hh(this).options.authDomain,n.appName=hh(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[Xa]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new vc(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&wc(t,r),Lc(t,e),t}(e,n,t.D,t.Ga());return mh(this,this.h.then((function(){if(hh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return fh(t)&&e.uid==fh(t).uid?(Lc(fh(t),e),t.da(e)):(lh(t,r),Sc(r),t.da(r))})).then((function(){ph(t)})))},e.Ab=function(){var e=this;return mh(this,this.h.then((function(){return e.b&&Hl(e.b.b),fh(e)?(lh(e,null),eh(e.i).then((function(){ph(e)}))):It()})))},e.Zc=function(){var e=this;return th(this.i,hh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=fh(e)&&t){n=fh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Lc(fh(e),t),fh(e).I();(fh(e)||t)&&(lh(e,t),t&&(Sc(t),t.ha=e.D),e.b&&Rl(e.b,e),ph(e))}}))},e.da=function(e){return Jc(this.i,e)},e.mc=function(){ph(this),this.da(fh(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return ch(t,It(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(fh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.O.push(t),mh(e,e.h.then((function(){!e.l&&Z(e.O,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(dh(e)))})))}(this,(function(){e.next(fh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(fh(r)):"function"==typeof e.next&&e.next(fh(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof e?e(fh(r)):"function"==typeof e.next&&e.next(fh(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this;return mh(this,this.h.then((function(){return fh(t)?fh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return ch(t,nu(t.a,Qs,{token:e}))})).then((function(e){var n=e.user;return Dc(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return ch(n,nu(n.a,Ys,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return ch(n,nu(n.a,ks,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return ch(t,e.ka(t.a))}))},e.Sc=function(e){return Zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=fh(e);if(t&&t.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ch(e,e.a.zb()).then((function(t){var n=t.user;return Dc(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return fh(this)&&fh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&fh(this)&&xc(fh(this))},e.Pc=function(e){var t=this;H(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&fh(this)&&Cc(fh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),mh(this,this.h.then((function(){t.l||Z(t.s,e)&&e(dh(t))})))},e.removeAuthTokenListener=function(e){Y(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener(Xc("local"),e.a,this.ja),this.b&&(Ol(this.b,this),Hl(this.b.b)),Promise.resolve()},e.hc=function(e){return mh(this,function(e,t){return nu(e,Ts,{identifier:t,continueUri:Dr()?hr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Oo(e)},e.wb=function(e,t){var n=this;return mh(this,It().then((function(){var e=new Ni(t);if(!e.c)throw new S("argument-error",Di+" must be true when sending sign in link to email");return qi(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return mh(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return mh(this,this.a.Ra(e).then((function(e){return new ui(e)})))},e.jb=function(e){return mh(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return mh(this,It().then((function(){return void 0===t||me(t)?{}:qi(new Ni(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return mh(this,Yl(this,e,t,E(this.$a,this)))},e.Vc=function(e,t){var n=this;return mh(this,It().then((function(){var r=t||hr(),i=Ro(e,r);if(!(r=Oo(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.$a(i)})))},gh.prototype.render=function(){},gh.prototype.reset=function(){},gh.prototype.getResponse=function(){},gh.prototype.execute=function(){};var yh=null;function bh(e,t){return(t=wh(t))&&e.a[t]||null}function wh(e){return(e=void 0===e?1e12:e)?e.toString():null}function _h(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=lt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function Eh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function xh(){}function Ch(){}vh.prototype.render=function(e,t){return this.a[this.b.toString()]=new _h(e,t),this.b++},vh.prototype.reset=function(e){var t=bh(this,e);e=wh(e),t&&e&&(t.delete(),delete this.a[e])},vh.prototype.getResponse=function(e){return(e=bh(this,e))?e.getResponse():null},vh.prototype.execute=function(e){(e=bh(this,e))&&e.execute()},_h.prototype.getResponse=function(){return Eh(this),this.b},_h.prototype.execute=function(){Eh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},_h.prototype.delete=function(){Eh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Yr(xh,"FACTOR_ID","phone"),Ch.prototype.g=function(){return yh||(yh=new vh),It(yh)},Ch.prototype.c=function(){};var kh=null;function Th(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Sh=new we(Ce,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ih=new Vr(3e4,6e4);Th.prototype.g=function(e){var t=this;return new _t((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),Ih.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete u[t.a]},It(Va(Ie(Sh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Th.prototype.c=function(){this.b--};var Ah=null;function Ph(e,t,n,r,i,o,a){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,a?(kh||(kh=new Ch),a=kh):(Ah||(Ah=new Th),a=Ah),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Oh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Dh],!u.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!lt(t)||!this.i&&lt(t).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qa(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var l=this.a[Nh];this.a[Nh]=function(e){if(Lh(s,e),"function"==typeof l)l(e);else if("string"==typeof l){var t=Nr(l,u);"function"==typeof t&&t(e)}};var c=this.a[Rh];this.a[Rh]=function(){if(Lh(s,null),"function"==typeof c)c();else if("string"==typeof c){var e=Nr(c,u);"function"==typeof e&&e()}}}var Nh="callback",Rh="expired-callback",Oh="sitekey",Dh="size";function Lh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Mh(e,t){return e.h.push(t),t.oa((function(){Q(e.h,t)})),t}function Fh(e){if(e.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function jh(e,t,n){var i=!1;try{this.b=n||r.Z.app()}catch(e){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=r.Z.SDK_VERSION?Ar(r.Z.SDK_VERSION,a):null,Ph.call(this,n,e,t,(function(){try{var e=o.b.auth().la()}catch(t){e=null}return e}),a,O(A),i)}function Uh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=zh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=zh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new S("argument-error",e+" failed: "+r)}(e=Ph.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Mh(this,It().then((function(){if(Dr()&&!Er())return br();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,nu(e.s,Us,{})})).then((function(t){e.a[Oh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Fh(this);var e=this;return Mh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=lt(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',He(a.name),'"'),a.type){o.push(' type="',He(a.type),'"');var s={};ye(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=mt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ct(o,a)),2<r.length&&pt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Fh(this);var e=this;return Mh(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){Y(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Fh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Fh(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=lt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},k(jh,Ph);var zh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Bh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Vh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function Wh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Hh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Gh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Kh(e,t){return g(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function $h(e){return g(e)&&"string"==typeof e.uid}function Zh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Qh(e,t){for(var n in t){var r=t[n].name;e[r]=Jh(r,e[n],t[n].j)}}function Yh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:x((function(e){return this[e]}),n),set:x((function(e,t,n,r){Uh(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function Xh(e,t,n,r){e[t]=Jh(t,n,r)}function Jh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Uh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Qh(rh.prototype,{jb:{name:"applyActionCode",j:[qh("code")]},Ra:{name:"checkActionCode",j:[qh("code")]},nb:{name:"confirmPasswordReset",j:[qh("code"),qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[qh("email"),qh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[qh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[qh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(Vh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(Vh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[qh("email"),Zh(Vh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[qh("email"),Vh("actionCodeSettings")]},xb:{name:"setPersistence",j:[qh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Gh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Gh()]},Tc:{name:"signInWithCustomToken",j:[qh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[qh("email"),qh("password")]},Vc:{name:"signInWithEmailLink",j:[qh("email"),qh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof vc)}},Hh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[qh("url"),Vh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[qh("code")]}}),Yh(rh.prototype,{lc:{name:"languageCode",kb:Zh(qh(),Hh(),"languageCode")},ti:{name:"tenantId",kb:Zh(qh(),Hh(),"tenantId")}}),rh.Persistence=Xu,rh.Persistence.LOCAL="local",rh.Persistence.SESSION="session",rh.Persistence.NONE="none",Qh(vc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Bh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Bh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Gh()]},qb:{name:"linkWithCredential",j:[Gh()]},Dc:{name:"linkWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Gh()]},tb:{name:"reauthenticateWithCredential",j:[Gh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Zh(Vh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qh(null,!0)]},cd:{name:"unlink",j:[qh("provider")]},Bb:{name:"updateEmail",j:[qh("email")]},Cb:{name:"updatePassword",j:[qh("password")]},ed:{name:"updatePhoneNumber",j:[Gh("phone")]},Db:{name:"updateProfile",j:[Vh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[qh("email"),Zh(Vh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]}}),Qh(vh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(_t.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Yh(Zl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Bh("appVerificationDisabledForTesting")}}),Qh(Ql.prototype,{confirm:{name:"confirm",j:[qh("verificationCode")]}}),Xh(lo,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[vo,Po,Lo,po],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Zh(qh(),Vh(),"json")]),Xh(No,"credential",(function(e,t){return new Ao(e,t)}),[qh("email"),qh("password")]),Qh(Ao.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Qh(_o.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Xh(_o,"credential",Eo,[Zh(qh(),Vh(),"token")]),Xh(No,"credentialWithLink",Ro,[qh("email"),qh("emailLink")]),Qh(xo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Xh(xo,"credential",Co,[Zh(qh(),Vh(),"token")]),Qh(ko.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Xh(ko,"credential",To,[Zh(qh(),Zh(Vh(),Hh()),"idToken"),Zh(qh(),Hh(),"accessToken",!0)]),Qh(So.prototype,{Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Xh(So,"credential",Io,[Zh(qh(),Vh(),"token"),qh("secret",!0)]),Qh(wo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},credential:{name:"credential",j:[Zh(qh(),Zh(Vh(),Hh()),"optionsOrIdToken"),Zh(qh(),Hh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Qh(mo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Qh(ho.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Xh(Fo,"credential",jo,[qh("verificationId"),qh("verificationCode")]),Qh(Fo.prototype,{fb:{name:"verifyPhoneNumber",j:[Zh(qh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Kh(e.session,so)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Kh(e.session,uo)&&$h(e.multiFactorHint):e.session&&e.multiFactorUid?Kh(e.session,uo)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),Qh(Do.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Qh(S.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Qh(Ko.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Qh(Go.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Qh(nc.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Qh(Jl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),Qh(uc.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},qh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:$h},qh(),"multiFactorInfoIdentifier")]}}),Qh(jh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Xh(Ei,"parseLink",Pi,[qh("link")]),Xh(xh,"assertion",(function(e){return new ac(e)}),[Gh("phone")]),function(){if(void 0===r.Z||!r.Z.INTERNAL||!r.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:rh,AuthCredential:lo,Error:S};Xh(e,"EmailAuthProvider",No,[]),Xh(e,"FacebookAuthProvider",_o,[]),Xh(e,"GithubAuthProvider",xo,[]),Xh(e,"GoogleAuthProvider",ko,[]),Xh(e,"TwitterAuthProvider",So,[]),Xh(e,"OAuthProvider",wo,[qh("providerId")]),Xh(e,"SAMLAuthProvider",bo,[qh("providerId")]),Xh(e,"PhoneAuthProvider",Fo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof rh)}}]),Xh(e,"RecaptchaVerifier",jh,[Zh(qh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Vh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.Z.app.App)}}]),Xh(e,"ActionCodeURL",Ei,[]),Xh(e,"PhoneMultiFactorGenerator",xh,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new rh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:E((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:E(e.nc,e),addAuthTokenListener:E(e.cc,e),removeAuthTokenListener:E(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.6"),r.Z.INTERNAL.extendNamespace({User:vc})}()}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Dd="firebasestorage.googleapis.com",Ld=function(e){function t(n,r){var i=e.call(this,Md(n),"Firebase Storage: "+r+" ("+Md(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,wr.ZT)(t,e),t.prototype._codeEquals=function(e){return Md(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(o.ZR);function Md(e){return"storage/"+e}function Fd(){return new Ld("unknown","An unknown error occurred, please check the error payload for server response.")}function jd(){return new Ld("canceled","User canceled the upload/download.")}function Ud(){return new Ld("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function zd(e){return new Ld("invalid-argument",e)}function qd(){return new Ld("app-deleted","The Firebase app was deleted.")}function Bd(e){return new Ld("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vd(e,t){return new Ld("invalid-format","String does not match format '"+e+"': "+t)}function Wd(e){throw new Ld("internal-error","Internal error: "+e)}var Hd={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Gd=function(e,t){this.data=e,this.contentType=t||null};function Kd(e,t){switch(e){case Hd.RAW:return new Gd($d(t));case Hd.BASE64:case Hd.BASE64URL:return new Gd(Zd(e,t));case Hd.DATA_URL:return new Gd((n=new Yd(t)).base64?Zd(Hd.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw Vd(Hd.DATA_URL,"Malformed data URL.")}return $d(t)}(n.rest),new Yd(t).contentType)}var n;throw Fd()}function $d(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Zd(e,t){switch(e){case Hd.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Vd(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Hd.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Vd(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw Vd(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Qd,Yd=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Vd(Hd.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=t[1]||null;null!=i&&(this.base64=(r=";base64",(n=i).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=e.substring(e.indexOf(",")+1)},Xd={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Jd(e){switch(e){case"running":case"pausing":case"canceling":return Xd.RUNNING;case"paused":return Xd.PAUSED;case"success":return Xd.SUCCESS;case"canceled":return Xd.CANCELED;case"error":default:return Xd.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Qd||(Qd={}));var ep=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Qd.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Qd.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Qd.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Wd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Wd("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Wd("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Wd("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),tp=function(){function e(){}return e.prototype.createXhrIo=function(){return new ep},e}(),np=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(n){return new e(t,"")}if(""===r.path)return r;throw new Ld("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Dd?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],l=0;l<u.length;l++){var c=u[l],h=c.regex.exec(t);if(h){var f=h[c.indices.bucket],d=h[c.indices.path];d||(d=""),r=new e(f,d),c.postModify(r);break}}if(null==r)throw function(e){return new Ld("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),rp=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function ip(e){return"string"==typeof e||e instanceof String}function op(e){return ap()&&e instanceof Blob}function ap(){return"undefined"!=typeof Blob}function sp(e,t,n,r){if(r<t)throw zd("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw zd("Invalid value for '"+e+"'. Expected "+n+" or less.")}function up(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function lp(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var cp=function(){function e(e,t,n,r,i,o,a,s,u,l,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(e){o(e)}else null!==a?((r=Fd()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?qd():jd()):o(r=new Ld("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new hp(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var l=!1;function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l||(l=!0,n.apply(null,e))}function h(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new hp(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===Qd.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new hp(a,n))}else{var s=n.getErrorCode()===Qd.ABORT;t(!1,new hp(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}(f,u())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!l)if(e)c.call.apply(c,(0,wr.ev)([null,e],t));else{var r;u()||a?c.call.apply(c,(0,wr.ev)([null,e],t)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(e){d||(d=!0,l||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),hp=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function fp(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function dp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=fp();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(ap())return new Blob(e);throw new Ld("unsupported-environment","This browser doesn't seem to support creating Blobs")}var pp=function(){function e(e,t){var n=0,r="";op(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(op(this.data_)){var r=(i=this.data_,o=t,a=n,i.webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(ap()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(dp.apply(null,r))}var i=t.map((function(e){return ip(e)?Kd(Hd.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function mp(e){var t;try{t=JSON.parse(e)}catch(e){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function gp(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function vp(e,t){return t}var yp=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||vp},bp=null;function wp(){if(bp)return bp;var e=[];e.push(new yp("bucket")),e.push(new yp("generation")),e.push(new yp("metageneration")),e.push(new yp("name","fullPath",!0));var t=new yp("name");t.xform=function(e,t){return function(e){return!ip(e)||e.length<2?e:gp(e)}(t)},e.push(t);var n=new yp("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new yp("timeCreated")),e.push(new yp("updated")),e.push(new yp("md5Hash",null,!0)),e.push(new yp("cacheControl",null,!0)),e.push(new yp("contentDisposition",null,!0)),e.push(new yp("contentEncoding",null,!0)),e.push(new yp("contentLanguage",null,!0)),e.push(new yp("contentType",null,!0)),e.push(new yp("metadata","customMetadata",!0)),bp=e}function _p(e,t,n){var r=mp(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new np(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}function Ep(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var xp=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Cp(e){if(!e)throw Fd()}function kp(e,t){return function(n,r){var i=_p(e,r,t);return Cp(null!==i),i}}function Tp(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Ld("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ld("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Ld("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ld("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Sp(e){var t=Tp(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Ld("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Ip(e,t,n){var r=up(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new xp(r,"GET",kp(e,n),i);return o.errorHandler=Sp(t),o}function Ap(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=up(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new xp(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=mp(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new np(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,l=n.items;u<l.length;u++){var c=l[u];s=e._makeStorageReference(new np(t,c.name)),r.items.push(s)}return r}(e,t,r)}(e,t,r);return Cp(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=Tp(t),u}function Pp(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var Np=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Rp(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Cp(!1)}return Cp(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Op=262144;var Dp=function(e,t,n){if(function(e){return"function"==typeof e}(e)||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function Lp(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Mp=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=wp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Pp(t,r,i),s={name:a.fullPath},u=up(o,e.host),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=Ep(a,n),h=e.maxUploadRetryTime,f=new xp(u,"POST",(function(e){var t;Rp(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Cp(!1)}return Cp(ip(t)),t}),h);return f.urlParams=s,f.headers=l,f.body=c,f.errorHandler=Tp(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new xp(n,"POST",(function(e){var t=Rp(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Cp(!1)}n||Cp(!1);var i=Number(n);return Cp(!isNaN(i)),new Np(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Tp(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Op*this._chunkMultiplier,n=new Np(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=function(e,t,n,r,i,o,a,s){var u=new Np(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Ld("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var h=u.current,f=h+c,d={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,f);if(null===p)throw Ud();var m=t.maxUploadRetryTime,g=new xp(n,"POST",(function(e,n){var i,a=Rp(e,["active","final"]),s=u.current+c,l=r.size();return i="final"===a?kp(t,o)(e,n):null,new Np(s,l,"final"===a,i)}),m);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=Tp(e),g}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){return e._error=t,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Op*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Ip(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Pp(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ep(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",h=pp.getBlob(l,r,c);if(null===h)throw Ud();var f={name:u.fullPath},d=up(o,e.host),p=e.maxUploadRetryTime,m=new xp(d,"POST",kp(e,n),p);return m.urlParams=f,m.headers=a,m.body=h.uploadData(),m.errorHandler=Tp(t),m}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=jd(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Jd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Dp(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Jd(this._state)){case Xd.SUCCESS:Lp(this._resolve.bind(null,this.snapshot))();break;case Xd.CANCELED:case Xd.ERROR:Lp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Jd(this._state)){case Xd.RUNNING:case Xd.PAUSED:e.next&&Lp(e.next.bind(e,this.snapshot))();break;case Xd.SUCCESS:e.complete&&Lp(e.complete.bind(e))();break;case Xd.CANCELED:case Xd.ERROR:e.error&&Lp(e.error.bind(e,this._error))();break;default:e.error&&Lp(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Fp=function(){function e(e,t){this._service=e,this._location=t instanceof np?t:np.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new np(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return gp(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new np(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Bd(e)},e}();function jp(e){var t={prefixes:[],items:[]};return Up(e,t).then((function(){return t}))}function Up(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,wr.Jh)(this,(function(a){switch(a.label){case 0:return[4,zp(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Up(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function zp(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n,r;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&sp("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Ap(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function qp(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=up(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new xp(r,"GET",function(e,t){return function(n,r){var i=_p(e,r,t);return Cp(null!==i),function(e,t,n){var r=mp(t);if(null===r)return null;if(!ip(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return up("/b/"+o(r)+"/o/"+o(i),n)+lp({alt:"media",token:t})}))[0]}(i,r,e.host)}}(e,n),i);return o.errorHandler=Sp(t),o}(e.storage,e._location,wp()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Ld("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Bp(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new np(e._location.bucket,n);return new Fp(e.storage,r)}function Vp(e){return/^[A-Za-z]+:\/\//.test(e)}function Wp(e,t){if(e instanceof Kp){var n=e;if(null==n._bucket)throw new Ld("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Fp(n,n._bucket);return null!=t?Wp(r,t):r}if(void 0!==t){if(t.includes(".."))throw zd('`path` param cannot contain ".."');return Bp(e,t)}return e}function Hp(e,t){if(t&&Vp(t)){if(e instanceof Kp)return new Fp(e,t);throw zd("To use ref(service, url), the first argument must be a Storage instance.")}return Wp(e,t)}function Gp(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:np.makeFromBucketSpec(n,e)}var Kp=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Dd,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?np.makeFromBucketSpec(i,this._host):Gp(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=np.makeFromBucketSpec(this._url,e):this._bucket=Gp(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){sp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){sp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e,t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e;return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Fp(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new rp(qd());var i=function(e,t,n,r,i,o){var a=lp(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new cp(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,wr.Jh)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function $p(e,t){return Hp(e=(0,o.m9)(e),t)}var Zp,Qp,Yp=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Xp=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Yp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Yp(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new Yp(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Yp(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Jp=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new em(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new em(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),em=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return Bp(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Xp(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Mp(e,new pp(t),n)}(e=(0,o.m9)(e),t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Hd.RAW),this._throwIfRoot("putString");var r=Kd(t,e),i=(0,wr.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Xp(new Mp(this._delegate,new pp(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return jp(e=(0,o.m9)(e))}(this._delegate).then((function(t){return new Jp(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return zp(e=(0,o.m9)(e),t)}(this._delegate,e||void 0).then((function(e){return new Jp(e,t.storage)}))},e.prototype.getMetadata=function(){return function(e){return function(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Ip(e.storage,e._location,wp()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,o.m9)(e))}(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=up(t.fullServerUrl(),e.host),o=Ep(n,r),a=e.maxOperationRetryTime,s=new xp(i,"PATCH",kp(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Sp(t),s}(e.storage,e._location,t,wp()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(e=(0,o.m9)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return qp(e=(0,o.m9)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return function(e){return(0,wr.mG)(this,void 0,void 0,(function(){var t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=up(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new xp(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Sp(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,o.m9)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Bd(e)},e}(),tm=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Vp(e))throw zd("ref() expected a child path but got a URL, use refFromURL instead.");return new em($p(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Vp(e))throw zd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{np.makeFromUrl(e,this._delegate.host)}catch(e){throw zd("refFromUrl() expected a valid full URL but got an invalid one.")}return new em($p(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();Zp=r.Z,Qp={TaskState:Xd,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Hd,Storage:Kp,Reference:em},Zp.INTERNAL.registerComponent(new Rd.wA("storage",(function(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new tm(i,new Kp(i,o,a,new tp,n,r.Z.SDK_VERSION))}),"PUBLIC").setServiceProps(Qp).setMultipleInstances(!0)),Zp.registerVersion("@firebase/storage","0.5.3");var nm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rm=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,wr.ZT)(t,e),t}(Error),im=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e;return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,wr.mG)(this,void 0,void 0,(function(){return(0,wr.Jh)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e,t;return(0,wr.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function om(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var am=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return om(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?om(e,(function(e){return t.decode(e)})):e},e}(),sm=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new am,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new im(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,wr.Jh)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,wr.mG)(this,void 0,void 0,(function(){var e;return(0,wr.Jh)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,wr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,h,f,d;return(0,wr.Jh)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new rm("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),l=u.timer,c=u.promise,[4,Promise.race([um(l,this.postJSON(r,i,o)),c,um(l,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new rm("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!nm[s])return new rm("internal","internal");r=nm[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(e){}return"ok"===r?null:new rm(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new rm("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new rm("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function um(e,t){return(0,wr.mG)(this,void 0,void 0,(function(){var n;return(0,wr.Jh)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:sm};e.INTERNAL.registerComponent(new Rd.wA("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new sm(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(r.Z,fetch.bind(self)),r.Z.registerVersion("@firebase/functions","0.6.10"),r.Z.initializeApp({apiKey:"AIzaSyByLuratrloH-enLAVMvxoyjBEw4DM_ZXo",authDomain:"e-commerce-bracael.firebaseapp.com",databaseURL:"https://e-commerce-bracael-default-rtdb.firebaseio.com",projectId:"e-commerce-bracael",storageBucket:"e-commerce-bracael.appspot.com",messagingSenderId:"594077772776",appId:"1:594077772776:web:3895a5ae25c368825c125d"});const lm=r.Z.firestore,cm=(r.Z.database,r.Z.storage),hm=r.Z.auth,fm=r.Z.functions;function dm(e,t){return(dm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dm(e,t)}hm().setPersistence(hm.Auth.Persistence.SESSION);var mm=n(74),gm=n.n(mm);function vm(){return(vm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ym(e){return"/"===e.charAt(0)}function bm(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var wm=function(e,t){if(!e)throw new Error("Invariant failed")};function _m(e){return"/"===e.charAt(0)?e:"/"+e}function Em(e){return"/"===e.charAt(0)?e.substr(1):e}function xm(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Cm(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function km(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Tm(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=vm({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&ym(e),a=t&&ym(t),s=o||a;if(e&&ym(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var l=0,c=i.length;c>=0;c--){var h=i[c];"."===h?bm(i,c):".."===h?(bm(i,c),l++):l&&(bm(i,c),l--)}if(!s)for(;l--;l)i.unshift("..");!s||""===i[0]||i[0]&&ym(i[0])||i.unshift("");var f=i.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Sm(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Im=!("undefined"==typeof window||!window.document||!window.document.createElement);function Am(e,t){t(window.confirm(e))}var Pm="hashchange",Nm={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+Em(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:Em,decodePath:_m},slash:{encodePath:_m,decodePath:_m}};function Rm(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Om(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Dm(e){window.location.replace(Rm(window.location.href)+"#"+e)}function Lm(e){void 0===e&&(e={}),Im||wm(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?Am:r,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?Cm(_m(e.basename)):"",u=Nm[a],l=u.encodePath,c=u.decodePath;function h(){var e=c(Om());return s&&(e=xm(e,s)),Tm(e)}var f=Sm();function d(e){vm(k,e),k.length=t.length,f.notifyListeners(k.location,k.action)}var p=!1,m=null;function g(){var e=Om(),t=l(e);if(e!==t)Dm(t);else{var n=h(),r=k.location;if(!p&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===km(n))return;m=null,function(e){if(p)p=!1,d();else{f.confirmTransitionTo(e,"POP",i,(function(t){t?d({action:"POP",location:e}):function(e){var t=k.location,n=w.lastIndexOf(km(t));-1===n&&(n=0);var r=w.lastIndexOf(km(e));-1===r&&(r=0);var i=n-r;i&&(p=!0,_(i))}(e)}))}}(n)}}var v=Om(),y=l(v);v!==y&&Dm(y);var b=h(),w=[km(b)];function _(e){t.go(e)}var E=0;function x(e){1===(E+=e)&&1===e?window.addEventListener(Pm,g):0===E&&window.removeEventListener(Pm,g)}var C=!1,k={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=Rm(window.location.href)),n+"#"+l(s+km(e))},push:function(e,t){var n="PUSH",r=Tm(e,void 0,void 0,k.location);f.confirmTransitionTo(r,n,i,(function(e){if(e){var t=km(r),i=l(s+t);if(Om()!==i){m=t,function(e){window.location.hash=e}(i);var o=w.lastIndexOf(km(k.location)),a=w.slice(0,o+1);a.push(t),w=a,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=Tm(e,void 0,void 0,k.location);f.confirmTransitionTo(r,n,i,(function(e){if(e){var t=km(r),i=l(s+t);Om()!==i&&(m=t,Dm(i));var o=w.indexOf(km(k.location));-1!==o&&(w[o]=t),d({action:n,location:r})}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return C||(x(1),C=!0),function(){return C&&(C=!1,x(-1)),t()}},listen:function(e){var t=f.appendListener(e);return x(1),function(){x(-1),t()}}};return k}var Mm=1073741823,Fm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};function jm(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Um=e.createContext||function(t,n){var r,i,o,a="__create-react-context-"+((Fm[o="__global_unique_id__"]=(Fm[o]||0)+1)+"__"),s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=jm(t.props.value),t}pm(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(t="function"==typeof n?n(r,i):Mm,0!=(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);s.childContextTypes=((r={})[a]=gm().object.isRequired,r);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}pm(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?Mm:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?Mm:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return u.contextTypes=((i={})[a]=gm().object,i),{Provider:s,Consumer:u}},zm=n(508),qm=n.n(zm),Bm=n(972);function Vm(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Wm=n(773),Hm=n.n(Wm),Gm=function(e){var t=Um();return t.displayName="Router-History",t}(),Km=function(e){var t=Um();return t.displayName="Router",t}(),$m=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}pm(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return e.createElement(Km.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(Gm.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component,e.Component;var Zm={},Qm=0;function Ym(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Zm[n]||(Zm[n]={});if(r[e])return r[e];var i=[],o={regexp:qm()(e,i,t),keys:i};return Qm<1e4&&(r[e]=o,Qm++),o}(n,{end:o,strict:s,sensitive:l}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var c=u[0],h=u.slice(1),f=e===c;return o&&!f?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var Xm=function(t){function n(){return t.apply(this,arguments)||this}return pm(n,t),n.prototype.render=function(){var t=this;return e.createElement(Km.Consumer,null,(function(n){n||wm(!1);var r=t.props.location||n.location,i=vm({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?Ym(r.pathname,t.props):n.match}),o=t.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&0===a.length&&(a=null),e.createElement(Km.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:s?e.createElement(s,i):u?u(i):null:"function"==typeof a?a(i):null)}))},n}(e.Component);e.Component;var Jm=function(t){function n(){return t.apply(this,arguments)||this}return pm(n,t),n.prototype.render=function(){var t=this;return e.createElement(Km.Consumer,null,(function(n){n||wm(!1);var r,i,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var a=t.props.path||t.props.from;i=a?Ym(o.pathname,vm({},t.props,{path:a})):n.match}})),i?e.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(e.Component),eg=e.useContext;function tg(){return eg(Gm)}function ng(){return eg(Km).location}function rg(){var e=eg(Km).match;return e?e.params:{}}e.Component;var ig=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Lm(e.props),e}return pm(n,t),n.prototype.render=function(){return e.createElement($m,{history:this.history,children:this.props.children})},n}(e.Component),og=function(e,t){return"function"==typeof e?e(t):e},ag=function(e,t){return"string"==typeof e?Tm(e,null,null,t):e},sg=function(e){return e},ug=e.forwardRef;void 0===ug&&(ug=sg);var lg=ug((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,a=Vm(t,["innerRef","navigate","onClick"]),s=a.target,u=vm({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=sg!==ug&&n||r,e.createElement("a",u)})),cg=ug((function(t,n){var r=t.component,i=void 0===r?lg:r,o=t.replace,a=t.to,s=t.innerRef,u=Vm(t,["component","replace","to","innerRef"]);return e.createElement(Km.Consumer,null,(function(t){t||wm(!1);var r=t.history,l=ag(og(a,t.location),t.location),c=l?r.createHref(l):"",h=vm({},u,{href:c,navigate:function(){var e=og(a,t.location);(o?r.replace:r.push)(e)}});return sg!==ug?h.ref=n||s:h.innerRef=s,e.createElement(i,h)}))})),hg=function(e){return e},fg=e.forwardRef;void 0===fg&&(fg=hg),fg((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.activeClassName,a=void 0===o?"active":o,s=t.activeStyle,u=t.className,l=t.exact,c=t.isActive,h=t.location,f=t.sensitive,d=t.strict,p=t.style,m=t.to,g=t.innerRef,v=Vm(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(Km.Consumer,null,(function(t){t||wm(!1);var r=h||t.location,o=ag(og(m,r),r),y=o.pathname,b=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?Ym(r.pathname,{path:b,exact:l,sensitive:f,strict:d}):null,_=!!(c?c(w,r):w),E=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(u,a):u,x=_?vm({},p,{},s):p,C=vm({"aria-current":_&&i||null,className:E,style:x,to:o},v);return hg!==fg?C.ref=n||g:C.innerRef=g,e.createElement(cg,C)}))}));var dg=n(555);function pg(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=pg(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function mg(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=pg(e))&&(r&&(r+=" "),r+=t);return r}function gg(){return(gg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vg(e){return"number"==typeof e&&!isNaN(e)}function yg(e){return"boolean"==typeof e}function bg(e){return"string"==typeof e}function wg(e){return"function"==typeof e}function _g(e){return bg(e)||wg(e)?e:null}function Eg(e){return 0===e||e}var xg=!("undefined"==typeof window||!window.document||!window.document.createElement);function Cg(t){return(0,e.isValidElement)(t)||bg(t)||wg(t)||vg(t)}var kg={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Tg={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default",DARK:"dark"};function Sg(t){var n=t.enter,r=t.exit,i=t.appendPosition,o=void 0!==i&&i,a=t.collapse,s=void 0===a||a,u=t.collapseDuration,l=void 0===u?300:u;return function(t){var i=t.children,a=t.position,u=t.preventExitTransition,c=t.done,h=t.nodeRef,f=t.isIn,d=o?n+"--"+a:n,p=o?r+"--"+a:r,m=(0,e.useRef)(),g=(0,e.useRef)(0);function v(){var e=h.current;e.removeEventListener("animationend",v),0===g.current&&(e.className=m.current)}function y(){var e=h.current;e.removeEventListener("animationend",y),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,c,l):c()}return(0,e.useLayoutEffect)((function(){var e;e=h.current,m.current=e.className,e.className+=" "+d,e.addEventListener("animationend",v)}),[]),(0,e.useEffect)((function(){f||(u?y():function(){g.current=1;var e=h.current;e.className+=" "+p,e.addEventListener("animationend",y)}())}),[f]),e.createElement(e.Fragment,null,i)}}var Ig={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}};function Ag(t,n){void 0===n&&(n=!1);var r=(0,e.useRef)(t);return(0,e.useEffect)((function(){n&&(r.current=t)})),r.current}function Pg(e,t){switch(t.type){case 0:return[].concat(e,[t.toastId]).filter((function(e){return e!==t.staleId}));case 1:return Eg(t.toastId)?e.filter((function(e){return e!==t.toastId})):[]}}function Ng(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Rg(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Og(t){var n=t.closeToast,r=t.type,i=t.ariaLabel,o=void 0===i?"close":i;return(0,e.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":o},(0,e.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,e.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Dg(t){var n,r,i=t.delay,o=t.isRunning,a=t.closeToast,s=t.type,u=t.hide,l=t.className,c=t.style,h=t.controlledProgress,f=t.progress,d=t.rtl,p=t.isIn,m=gg({},c,{animationDuration:i+"ms",animationPlayState:o?"running":"paused",opacity:u?0:1});h&&(m.transform="scaleX("+f+")");var g=mg("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar--"+s,((n={})["Toastify__progress-bar--rtl"]=d,n)),v=wg(l)?l({rtl:d,type:s,defaultClassName:g}):mg(g,l),y=((r={})[h&&f>=1?"onTransitionEnd":"onAnimationEnd"]=h&&f<1?null:function(){p&&a()},r);return(0,e.createElement)("div",Object.assign({role:"progressbar","aria-hidden":u?"true":"false","aria-label":"notification timer",className:v,style:m},y))}Dg.defaultProps={type:Tg.DEFAULT,hide:!1};var Lg=function(t){var n,r=function(t){var n=(0,e.useState)(!0),r=n[0],i=n[1],o=(0,e.useState)(!1),a=o[0],s=o[1],u=(0,e.useRef)(null),l=Ag({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null}),c=Ag(t,!0),h=t.autoClose,f=t.pauseOnHover,d=t.closeToast,p=t.onClick,m=t.closeOnClick;function g(e){if(t.draggable){var n=u.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=Ng(e.nativeEvent),l.y=Rg(e.nativeEvent),"x"===t.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(t.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(t.draggablePercent/100))}}function v(){if(l.boundingRect){var e=l.boundingRect,n=e.top,r=e.bottom,i=e.left,o=e.right;t.pauseOnHover&&l.x>=i&&l.x<=o&&l.y>=n&&l.y<=r?b():y()}}function y(){i(!0)}function b(){i(!1)}function w(e){if(l.canDrag){e.preventDefault();var n=u.current;r&&b(),l.x=Ng(e),l.y=Rg(e),"x"===t.draggableDirection?l.delta=l.x-l.start:l.delta=l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate"+t.draggableDirection+"("+l.delta+"px)",n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance))}}function _(){var e=u.current;if(l.canDrag){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return s(!0),void t.closeToast();e.style.transition="transform 0.2s, opacity 0.2s",e.style.transform="translate"+t.draggableDirection+"(0)",e.style.opacity="1"}}(0,e.useEffect)((function(){return wg(t.onOpen)&&t.onOpen((0,e.isValidElement)(t.children)&&t.children.props),function(){wg(c.onClose)&&c.onClose((0,e.isValidElement)(c.children)&&c.children.props)}}),[]),(0,e.useEffect)((function(){return t.draggable&&(document.addEventListener("mousemove",w),document.addEventListener("mouseup",_),document.addEventListener("touchmove",w),document.addEventListener("touchend",_)),function(){t.draggable&&(document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",_))}}),[t.draggable]),(0,e.useEffect)((function(){return t.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",y),window.addEventListener("blur",b)),function(){t.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",b))}}),[t.pauseOnFocusLoss]);var E={onMouseDown:g,onTouchStart:g,onMouseUp:v,onTouchEnd:v};return h&&f&&(E.onMouseEnter=b,E.onMouseLeave=y),m&&(E.onClick=function(e){p&&p(e),l.canCloseOnClick&&d()}),{playToast:y,pauseToast:b,isRunning:r,preventExitTransition:a,toastRef:u,eventHandlers:E}}(t),i=r.isRunning,o=r.preventExitTransition,a=r.toastRef,s=r.eventHandlers,u=t.closeButton,l=t.children,c=t.autoClose,h=t.onClick,f=t.type,d=t.hideProgressBar,p=t.closeToast,m=t.transition,g=t.position,v=t.className,y=t.style,b=t.bodyClassName,w=t.bodyStyle,_=t.progressClassName,E=t.progressStyle,x=t.updateId,C=t.role,k=t.progress,T=t.rtl,S=t.toastId,I=t.deleteToast,A=t.isIn,P=mg("Toastify__toast","Toastify__toast--"+f,((n={})["Toastify__toast--rtl"]=T,n)),N=wg(v)?v({rtl:T,position:g,type:f,defaultClassName:P}):mg(P,v),R=!!k;return(0,e.createElement)(m,{isIn:A,done:I,position:g,preventExitTransition:o,nodeRef:a},(0,e.createElement)("div",Object.assign({id:S,onClick:h,className:N},s,{style:y,ref:a}),(0,e.createElement)("div",Object.assign({},A&&{role:C},{className:wg(b)?b({type:f}):mg("Toastify__toast-body",b),style:w}),l),function(t){if(t){var n={closeToast:p,type:f};return wg(t)?t(n):(0,e.isValidElement)(t)?(0,e.cloneElement)(t,n):void 0}}(u),(c||R)&&(0,e.createElement)(Dg,Object.assign({},x&&!R?{key:"pb-"+x}:{},{rtl:T,delay:c,isRunning:i,isIn:A,closeToast:p,hide:d,type:f,style:E,className:_,controlledProgress:R,progress:k}))))},Mg=function(t){var n=function(t){var n=(0,e.useReducer)((function(e){return e+1}),0)[1],r=(0,e.useReducer)(Pg,[]),i=r[0],o=r[1],a=(0,e.useRef)(null),s=Ag(0),u=Ag([]),l=Ag({}),c=Ag({toastKey:1,displayedToast:0,props:t,containerId:null,isToastActive:h,getToast:function(e){return l[e]||null}});function h(e){return-1!==i.indexOf(e)}function f(e){var t=e.containerId;!c.props.limit||t&&c.containerId!==t||(s-=u.length,u=[])}function d(e){o({type:1,toastId:e})}function p(){var e=u.shift();g(e.toastContent,e.toastProps,e.staleId)}function m(t,r){var i=r.delay,o=r.staleId,h=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,["delay","staleId"]);if(Cg(t)&&!function(e){var t=e.containerId,n=e.toastId,r=e.updateId;return!!(!a.current||c.props.enableMultiContainer&&t!==c.props.containerId||l[n]&&null==r)}(h)){var f=h.toastId,m=h.updateId,v=c.props,y=function(){return d(f)},b=null==h.updateId;b&&s++;var w,_,E={toastId:f,updateId:m,isIn:!1,key:h.key||c.toastKey++,type:h.type,closeToast:y,closeButton:h.closeButton,rtl:v.rtl,position:h.position||v.position,transition:h.transition||v.transition,className:_g(h.className||v.toastClassName),bodyClassName:_g(h.bodyClassName||v.bodyClassName),style:h.style||v.toastStyle,bodyStyle:h.bodyStyle||v.bodyStyle,onClick:h.onClick||v.onClick,pauseOnHover:yg(h.pauseOnHover)?h.pauseOnHover:v.pauseOnHover,pauseOnFocusLoss:yg(h.pauseOnFocusLoss)?h.pauseOnFocusLoss:v.pauseOnFocusLoss,draggable:yg(h.draggable)?h.draggable:v.draggable,draggablePercent:vg(h.draggablePercent)?h.draggablePercent:v.draggablePercent,draggableDirection:h.draggableDirection||v.draggableDirection,closeOnClick:yg(h.closeOnClick)?h.closeOnClick:v.closeOnClick,progressClassName:_g(h.progressClassName||v.progressClassName),progressStyle:h.progressStyle||v.progressStyle,autoClose:(w=h.autoClose,_=v.autoClose,!1===w||vg(w)&&w>0?w:_),hideProgressBar:yg(h.hideProgressBar)?h.hideProgressBar:v.hideProgressBar,progress:h.progress,role:bg(h.role)?h.role:v.role,deleteToast:function(){!function(e){delete l[e];var t=u.length;if((s=Eg(e)?s-1:s-c.displayedToast)<0&&(s=0),t>0){var r=Eg(e)?1:c.props.limit;if(1===t||1===r)c.displayedToast++,p();else{var i=r>t?t:r;c.displayedToast=i;for(var o=0;o<i;o++)p()}}else n()}(f)}};wg(h.onOpen)&&(E.onOpen=h.onOpen),wg(h.onClose)&&(E.onClose=h.onClose),"y"===E.draggableDirection&&80===E.draggablePercent&&(E.draggablePercent*=1.5);var x=v.closeButton;!1===h.closeButton||Cg(h.closeButton)?x=h.closeButton:!0===h.closeButton&&(x=!Cg(v.closeButton)||v.closeButton),E.closeButton=x;var C=t;(0,e.isValidElement)(t)&&!bg(t.type)?C=(0,e.cloneElement)(t,{closeToast:y,toastProps:E}):wg(t)&&(C=t({closeToast:y,toastProps:E})),v.limit&&v.limit>0&&s>v.limit&&b?u.push({toastContent:C,toastProps:E,staleId:o}):vg(i)&&i>0?setTimeout((function(){g(C,E,o)}),i):g(C,E,o)}}function g(e,t,n){var r=t.toastId;n&&delete l[n],l[r]={content:e,props:t},o({type:0,toastId:r,staleId:n})}return(0,e.useEffect)((function(){return c.containerId=t.containerId,Ig.cancelEmit(3).on(0,m).on(1,(function(e){return a.current&&d(e)})).on(5,f).emit(2,c),function(){return Ig.emit(3,c)}}),[]),(0,e.useEffect)((function(){c.isToastActive=h,c.displayedToast=i.length,Ig.emit(4,i.length,t.containerId)}),[i]),(0,e.useEffect)((function(){c.props=t})),{getToastToRender:function(e){for(var n={},r=t.newestOnTop?Object.keys(l).reverse():Object.keys(l),i=0;i<r.length;i++){var o=l[r[i]],a=o.props.position;n[a]||(n[a]=[]),n[a].push(o)}return Object.keys(n).map((function(t){return e(t,n[t])}))},collection:l,containerRef:a,isToastActive:h}}(t),r=n.getToastToRender,i=n.containerRef,o=n.isToastActive,a=t.className,s=t.style,u=t.rtl,l=t.containerId;function c(e){var t,n=mg("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=u,t));return wg(a)?a({position:e,rtl:u,defaultClassName:n}):mg(n,_g(a))}return(0,e.createElement)("div",{ref:i,className:"Toastify",id:l},r((function(t,n){var r=0===n.length?gg({},s,{pointerEvents:"none"}):gg({},s);return(0,e.createElement)("div",{className:c(t),style:r,key:"container-"+t},n.map((function(t){var n=t.content,r=t.props;return(0,e.createElement)(Lg,Object.assign({},r,{isIn:o(r.toastId),key:"toast-"+r.key,closeButton:!0===r.closeButton?Og:r.closeButton}),n)})))})))};Mg.defaultProps={position:kg.TOP_RIGHT,transition:Sg({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:Og,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert"};var Fg,jg,Ug,zg=new Map,qg=[],Bg=!1;function Vg(){return Math.random().toString(36).substr(2,9)}function Wg(e){return e&&(bg(e.toastId)||vg(e.toastId))?e.toastId:Vg()}function Hg(n,r){return zg.size>0?Ig.emit(0,n,r):(qg.push({content:n,options:r}),Bg&&xg&&(Bg=!1,jg=document.createElement("div"),document.body.appendChild(jg),(0,t.render)((0,e.createElement)(Mg,Object.assign({},Ug)),jg))),r.toastId}function Gg(e,t){return gg({},t,{type:t&&t.type||e,toastId:Wg(t)})}var Kg=function(e){return function(t,n){return Hg(t,Gg(e,n))}},$g=function(e,t){return Hg(e,Gg(Tg.DEFAULT,t))};$g.success=Kg(Tg.SUCCESS),$g.info=Kg(Tg.INFO),$g.error=Kg(Tg.ERROR),$g.warning=Kg(Tg.WARNING),$g.dark=Kg(Tg.DARK),$g.warn=$g.warning,$g.dismiss=function(e){return Ig.emit(1,e)},$g.clearWaitingQueue=function(e){return void 0===e&&(e={}),Ig.emit(5,e)},$g.isActive=function(e){var t=!1;return zg.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},$g.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=zg.get(n||Fg);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,o=gg({},r,t,{toastId:t.toastId||e,updateId:Vg()});o.toastId!==e&&(o.staleId=e);var a=o.render||i;delete o.render,Hg(a,o)}}),0)},$g.done=function(e){$g.update(e,{progress:1})},$g.onChange=function(e){return wg(e)&&Ig.on(4,e),function(){wg(e)&&Ig.off(4,e)}},$g.configure=function(e){void 0===e&&(e={}),Bg=!0,Ug=e},$g.POSITION=kg,$g.TYPE=Tg,Ig.on(2,(function(e){Fg=e.containerId||e,zg.set(Fg,e),qg.forEach((function(e){Ig.emit(0,e.content,e.options)})),qg=[]})).on(3,(function(e){zg.delete(e.containerId||e),0===zg.size&&Ig.off(0).off(1).off(5),xg&&jg&&document.body.removeChild(jg)}));var Zg=n(807),Qg=n.n(Zg),Yg=n(414),Xg=n(319),Jg=n(916),ev=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,tv=(0,Jg.Z)((function(e){return ev.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function nv(){return(nv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var rv=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},iv=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Bm.typeOf)(e)},ov=Object.freeze([]),av=Object.freeze({});function sv(e){return"function"==typeof e}function uv(e){return e.displayName||e.name||"Component"}function lv(e){return e&&"string"==typeof e.styledComponentId}var cv="undefined"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",hv="undefined"!=typeof window&&"HTMLElement"in window,fv=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY);function dv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var pv=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&dv(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),mv=new Map,gv=new Map,vv=1,yv=function(e){if(mv.has(e))return mv.get(e);for(;gv.has(vv);)vv++;var t=vv++;return mv.set(e,t),gv.set(t,e),t},bv=function(e){return gv.get(e)},wv=function(e,t){mv.set(e,t),gv.set(t,e)},_v="style["+cv+'][data-styled-version="5.3.0"]',Ev=new RegExp("^"+cv+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),xv=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},Cv=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(Ev);if(s){var u=0|parseInt(s[1],10),l=s[2];0!==u&&(wv(l,u),xv(e,l,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},kv=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Tv=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(cv))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(cv,"active"),r.setAttribute("data-styled-version","5.3.0");var a=kv();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},Sv=function(){function e(e){var t=this.element=Tv(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}dv(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Iv=function(){function e(e){var t=this.element=Tv(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Av=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Pv=hv,Nv={isServer:!hv,useCSSOMInjection:!fv},Rv=function(){function e(e,t,n){void 0===e&&(e=av),void 0===t&&(t={}),this.options=nv({},Nv,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&hv&&Pv&&(Pv=!1,function(e){for(var t=document.querySelectorAll(_v),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(cv)&&(Cv(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return yv(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(nv({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Av(i):r?new Sv(i):new Iv(i),new pv(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(yv(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(yv(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(yv(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=bv(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var u=cv+".g"+i+'[id="'+o+'"]',l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+s+u+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),Ov=/(a)(d)/gi,Dv=function(e){return String.fromCharCode(e+(e>25?39:97))};function Lv(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Dv(t%52)+n;return(Dv(t%52)+n).replace(Ov,"$1-$2")}var Mv=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Fv=function(e){return Mv(5381,e)};function jv(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(sv(n)&&!lv(n))return!1}return!0}var Uv=Fv("5.3.0"),zv=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&jv(e),this.componentId=t,this.baseHash=Mv(Uv,t),this.baseStyle=n,Rv.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=ry(this.rules,e,t,n).join(""),a=Lv(Mv(this.baseHash,o.length)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,l=Mv(this.baseHash,n.hash),c="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)c+=f;else if(f){var d=ry(f,e,t,n),p=Array.isArray(d)?d.join(""):d;l=Mv(l,p+h),c+=p}}if(c){var m=Lv(l>>>0);if(!t.hasNameForId(r,m)){var g=n(c,"."+m,void 0,r);t.insertRules(r,m,g)}i.push(m)}}return i.join(" ")},e}(),qv=/^\s*\/\/.*$/gm,Bv=[":","[",".","#"];function Vv(e){var t,n,r,i,o=void 0===e?av:e,a=o.options,s=void 0===a?av:a,u=o.plugins,l=void 0===u?ov:u,c=new Yg.Z(s),h=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,l,c,h){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),d=function(e,r,o){return 0===r&&-1!==Bv.indexOf(o[n.length])||o.match(i)?e:"."+t};function p(e,o,a,s){void 0===s&&(s="&");var u=e.replace(qv,""),l=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(a||!o?"":o,l)}return c.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},f,function(e){if(-2===e){var t=h;return h=[],t}}])),p.hash=l.length?l.reduce((function(e,t){return t.name||dv(15),Mv(e,t.name)}),5381).toString():"",p}var Wv=e.createContext(),Hv=(Wv.Consumer,e.createContext()),Gv=(Hv.Consumer,new Rv),Kv=Vv();function $v(){return(0,e.useContext)(Wv)||Gv}function Zv(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],o=$v(),a=(0,e.useMemo)((function(){var e=o;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),s=(0,e.useMemo)((function(){return Vv({options:{prefix:!t.disableVendorPrefixes},plugins:r})}),[t.disableVendorPrefixes,r]);return(0,e.useEffect)((function(){Qg()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(Wv.Provider,{value:a},e.createElement(Hv.Provider,{value:s},t.children))}var Qv=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Kv);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return dv(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Kv),this.name+e.hash},e}(),Yv=/([A-Z])/,Xv=/([A-Z])/g,Jv=/^ms-/,ey=function(e){return"-"+e.toLowerCase()};function ty(e){return Yv.test(e)?e.replace(Xv,ey).replace(Jv,"-ms-"):e}var ny=function(e){return null==e||!1===e||""===e};function ry(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=ry(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return ny(e)?"":lv(e)?"."+e.styledComponentId:sv(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ry(e(t),t,n,r):e instanceof Qv?n?(e.inject(n,r),e.getName(r)):e:iv(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!ny(t[a])&&(iv(t[a])?o.push.apply(o,e(t[a],a)):sv(t[a])?o.push(ty(a)+":",t[a],";"):o.push(ty(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Xg.Z?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}function iy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return sv(e)||iv(e)?ry(rv(ov,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ry(rv(e,n))}new Set;var oy=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ay=/(^-|-$)/g;function sy(e){return e.replace(oy,"-").replace(ay,"")}function uy(e){return"string"==typeof e&&!0}var ly=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},cy=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function hy(e,t,n){var r=e[n];ly(t)&&ly(r)?fy(r,t):e[n]=t}function fy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(ly(a))for(var s in a)cy(s)&&hy(e,a[s],s)}return e}var dy=e.createContext();dy.Consumer;var py={};function my(t,n,r){var i=lv(t),o=!uy(t),a=n.attrs,s=void 0===a?ov:a,u=n.componentId,l=void 0===u?function(e,t){var n="string"!=typeof e?"sc":sy(e);py[n]=(py[n]||0)+1;var r=n+"-"+function(e){return Lv(Fv(e)>>>0)}("5.3.0"+n+py[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,c=n.displayName,h=void 0===c?function(e){return uy(e)?"styled."+e:"Styled("+uv(e)+")"}(t):c,f=n.displayName&&n.componentId?sy(n.displayName)+"-"+n.componentId:n.componentId||l,d=i&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&t.shouldForwardProp&&(p=n.shouldForwardProp?function(e,r,i){return t.shouldForwardProp(e,r,i)&&n.shouldForwardProp(e,r,i)}:t.shouldForwardProp);var m,g=new zv(r,f,i?t.componentStyle:void 0),v=g.isStatic&&0===s.length,y=function(t,n){return function(t,n,r,i){var o=t.attrs,a=t.componentStyle,s=t.defaultProps,u=t.foldedComponentIds,l=t.shouldForwardProp,c=t.styledComponentId,h=t.target,f=function(e,t,n){void 0===e&&(e=av);var r=nv({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in sv(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(function(e,t,n){return void 0===n&&(n=av),e.theme!==n.theme&&e.theme||t||n.theme}(n,(0,e.useContext)(dy),s)||av,n,o),d=f[0],p=f[1],m=function(t,n,r,i){var o=$v(),a=(0,e.useContext)(Hv)||Kv;return n?t.generateAndInjectStyles(av,o,a):t.generateAndInjectStyles(r,o,a)}(a,i,d),g=r,v=p.$as||n.$as||p.as||n.as||h,y=uy(v),b=p!==n?nv({},n,{},p):n,w={};for(var _ in b)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?w.as=b[_]:(l?l(_,tv,v):!y||tv(_))&&(w[_]=b[_]));return n.style&&p.style!==n.style&&(w.style=nv({},n.style,{},p.style)),w.className=Array.prototype.concat(u,c,m!==c?m:null,n.className,p.className).filter(Boolean).join(" "),w.ref=g,(0,e.createElement)(v,w)}(m,t,n,v)};return y.displayName=h,(m=e.forwardRef(y)).attrs=d,m.componentStyle=g,m.displayName=h,m.shouldForwardProp=p,m.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):ov,m.styledComponentId=f,m.target=i?t.target:t,m.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),o=t&&t+"-"+(uy(e)?e:sy(uv(e)));return my(e,nv({},i,{attrs:d,componentId:o}),r)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?fy({},t.defaultProps,e):e}}),m.toString=function(){return"."+m.styledComponentId},o&&Hm()(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var gy=function(e){return function e(t,n,r){if(void 0===r&&(r=av),!(0,Bm.isValidElementType)(n))return dv(1,String(n));var i=function(){return t(n,r,iy.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,nv({},r,{},i))},i.attrs=function(i){return e(t,n,nv({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(my,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){gy[e]=gy(e)})),function(){var e=function(e,t){this.rules=e,this.componentId=t,this.isStatic=jv(e),Rv.registerId(this.componentId+1)}.prototype;e.createStyles=function(e,t,n,r){var i=r(ry(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},e.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.renderStyles=function(e,t,n,r){e>2&&Rv.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}(),function(){var t=function(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=kv();return"<style "+[n&&'nonce="'+n+'"',cv+'="true"','data-styled-version="5.3.0"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?dv(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return dv(2);var r=((n={})[cv]="",n["data-styled-version"]="5.3.0",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=kv();return i&&(r.nonce=i),[e.createElement("style",nv({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new Rv({isServer:!0}),this.sealed=!1}.prototype;t.collectStyles=function(t){return this.sealed?dv(2):e.createElement(Zv,{sheet:this.instance},t)},t.interleaveWithNodeStream=function(e){return dv(3)}}();var vy=gy;const yy=(0,e.createContext)();function by({children:t,useWhere:n,setWhere:r,useRoot:i,setRoot:o,useSwipe:a,setSwipe:s,useCart:u,setCart:l,usePolitics:c,setPolitics:h,useAuth:f,setAuth:d,layoutRef:p,businessRef:m,tokenRef:g}){return e.createElement(yy.Provider,{value:{useWhere:n,setWhere:r,useRoot:i,setRoot:o,useSwipe:a,setSwipe:s,useCart:u,setCart:l,usePolitics:c,setPolitics:h,useAuth:f,setAuth:d,layoutRef:p,businessRef:m,tokenRef:g}},t)}function wy(){const t=(0,e.useContext)(yy),{useWhere:n,setWhere:r}=t;return{useWhere:n,setWhere:r}}function _y(){const t=(0,e.useContext)(yy),{useAuth:n,setAuth:r}=t;return{useAuth:n,setAuth:r}}function Ey(){const t=(0,e.useContext)(yy),{useCart:n,setCart:r}=t;return{useCart:n,setCart:r}}function xy(){const t=(0,e.useContext)(yy),{useRoot:n,setRoot:r}=t;return{useRoot:n,setRoot:r}}function Cy(){const t=(0,e.useContext)(yy),{businessRef:n}=t,{container:r,profile:i,theme:o,mask:a,root:s}=n.current;return{container:r,profile:i,theme:o,mask:a,root:s}}function ky(){const t=(0,e.useContext)(yy),{tokenRef:n}=t;return{token:n.current}}const Ty="object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g||"object"==typeof n.g&&n.g.GLOBAL===n.g?n.g:{};Ty.__REACT_ASYNC__=Ty.__REACT_ASYNC__||{};const Sy=()=>{};class Iy{constructor(){this.abort=Sy,this.signal={}}}let Ay;try{Ay=n(74)}catch(Ad){}const Py=Ay&&Ay.oneOfType([Ay.node,Ay.func]),Ny=Ay&&Ay.shape({initialValue:Ay.any,data:Ay.any,error:Ay.instanceOf(Error),value:Ay.any,startedAt:Ay.instanceOf(Date),finishedAt:Ay.instanceOf(Date),status:Ay.oneOf(["initial","pending","fulfilled","rejected"]),isInitial:Ay.bool,isPending:Ay.bool,isLoading:Ay.bool,isFulfilled:Ay.bool,isResolved:Ay.bool,isRejected:Ay.bool,isSettled:Ay.bool,counter:Ay.number,promise:Ay.instanceOf(Promise),run:Ay.func,reload:Ay.func,cancel:Ay.func,setData:Ay.func,setError:Ay.func});var Ry=Ay&&{Async:{children:Py,promise:Ay.instanceOf(Promise),promiseFn:Ay.func,deferFn:Ay.func,watch:Ay.any,watchFn:Ay.func,initialValue:Ay.any,onResolve:Ay.func,onReject:Ay.func,reducer:Ay.func,dispatcher:Ay.func,debugLabel:Ay.string,suspense:Ay.bool},Initial:{children:Py,state:Ny.isRequired,persist:Ay.bool},Pending:{children:Py,state:Ny.isRequired,initial:Ay.bool},Fulfilled:{children:Py,state:Ny.isRequired,persist:Ay.bool},Rejected:{children:Py,state:Ny.isRequired,persist:Ay.bool},Settled:{children:Py,state:Ny.isRequired,persist:Ay.bool}};const Oy=(e,...t)=>"function"==typeof e?e(...t):e,Dy=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isInitial||n&&!r.data?Oy(t,r):null),Ly=({children:t,initial:n,state:r={}})=>e.createElement(e.Fragment,null,!r.isPending||n&&r.value?null:Oy(t,r)),My=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isFulfilled||n&&r.data?Oy(t,r.data,r):null),Fy=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isRejected||n&&r.error?Oy(t,r.error,r):null),jy=({children:t,persist:n,state:r={}})=>e.createElement(e.Fragment,null,r.isSettled||n&&r.value?Oy(t,r):null);var Uy;Ry&&(Dy.propTypes=Ry.Initial,Ly.propTypes=Ry.Pending,My.propTypes=Ry.Fulfilled,Fy.propTypes=Ry.Rejected,jy.propTypes=Ry.Settled),function(e){e.initial="initial",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"}(Uy||(Uy={}));const zy=(e,t)=>e instanceof Error?Uy.rejected:void 0!==e?Uy.fulfilled:t?Uy.pending:Uy.initial,qy=e=>({status:e,isInitial:e===Uy.initial,isPending:e===Uy.pending,isLoading:e===Uy.pending,isFulfilled:e===Uy.fulfilled,isResolved:e===Uy.fulfilled,isRejected:e===Uy.rejected,isSettled:e===Uy.fulfilled||e===Uy.rejected}),By=function(){};Object.setPrototypeOf?Object.setPrototypeOf(By,Promise):By.__proto__=Promise,By.prototype=Object.assign(Object.create(Promise.prototype),{finally(){return this},catch(){return this},then(){return this}});const Vy=new By;var Wy;!function(e){e.start="start",e.cancel="cancel",e.fulfill="fulfill",e.reject="reject"}(Wy||(Wy={}));const Hy=({initialValue:e,promise:t,promiseFn:n})=>({initialValue:e,data:e instanceof Error?void 0:e,error:e instanceof Error?e:void 0,value:e,startedAt:t||n?new Date:void 0,finishedAt:e?new Date:void 0,...qy(zy(e,t||n)),counter:0,promise:Vy}),Gy=(e,t)=>{switch(t.type){case Wy.start:return{...e,startedAt:new Date,finishedAt:void 0,...qy(Uy.pending),counter:t.meta.counter,promise:t.meta.promise};case Wy.cancel:return{...e,startedAt:void 0,finishedAt:void 0,...qy((n=e.error||e.data,n instanceof Error?Uy.rejected:void 0!==n?Uy.fulfilled:Uy.initial)),counter:t.meta.counter,promise:t.meta.promise};case Wy.fulfill:return{...e,data:t.payload,value:t.payload,error:void 0,finishedAt:new Date,...qy(Uy.fulfilled),promise:t.meta.promise};case Wy.reject:return{...e,error:t.payload,value:t.payload,finishedAt:new Date,...qy(Uy.rejected),promise:t.meta.promise};default:return e}var n},Ky=e=>(t,...n)=>{e(t,...n),t.type===Wy.start&&"function"==typeof t.payload&&t.payload()};e.Component,function(t={},n="Async"){const{Consumer:r,Provider:i}=e.createContext(void 0);function o({children:t}){return e.createElement(r,null,(e=>{if(!e)throw new Error("this component should only be used within an associated <Async> component!");return t(e)}))}class a extends e.Component{constructor(e){super(e),this.mounted=!1,this.counter=0,this.args=[],this.promise=Vy,this.abortController=new Iy,this.start=this.start.bind(this),this.load=this.load.bind(this),this.run=this.run.bind(this),this.cancel=this.cancel.bind(this),this.onResolve=this.onResolve.bind(this),this.onReject=this.onReject.bind(this),this.setData=this.setData.bind(this),this.setError=this.setError.bind(this);const n=e.promise,r=e.promiseFn||t.promiseFn,i=e.initialValue||t.initialValue;this.state={...Hy({initialValue:i,promise:n,promiseFn:r}),cancel:this.cancel,run:this.run,reload:()=>{this.load(),this.run(...this.args)},setData:this.setData,setError:this.setError},this.debugLabel=e.debugLabel||t.debugLabel;const{devToolsDispatcher:o}=Ty.__REACT_ASYNC__,a=e.reducer||t.reducer,s=e.dispatcher||t.dispatcher||o,u=a?(e,t)=>a(e,t,Gy):Gy,l=Ky(((e,t)=>{this.setState((t=>u(t,e)),t)}));this.dispatch=s?t=>s(t,l,e):l}componentDidMount(){this.mounted=!0,!this.props.promise&&this.state.initialValue||this.load()}componentDidUpdate(e){const{watch:n,watchFn:r=t.watchFn,promise:i,promiseFn:o}=this.props;return n!==e.watch||r&&r({...t,...this.props},{...t,...e})?(this.counter&&this.cancel(),this.load()):i!==e.promise&&(this.counter&&this.cancel(),i)||o!==e.promiseFn&&(this.counter&&this.cancel(),o)?this.load():void 0}componentWillUnmount(){this.cancel(),this.mounted=!1}getMeta(e){return{counter:this.counter,promise:this.promise,debugLabel:this.debugLabel,...e}}start(e){return"AbortController"in Ty&&(this.abortController.abort(),this.abortController=new Ty.AbortController),this.counter++,this.promise=new Promise(((t,n)=>{this.mounted&&this.dispatch({type:Wy.start,payload:()=>e().then(t,n),meta:this.getMeta()})}))}load(){const e=this.props.promise,n=this.props.promiseFn||t.promiseFn;if(e)this.start((()=>e)).then(this.onResolve(this.counter)).catch(this.onReject(this.counter));else if(n){const e={...t,...this.props};this.start((()=>n(e,this.abortController))).then(this.onResolve(this.counter)).catch(this.onReject(this.counter))}}run(...e){const n=this.props.deferFn||t.deferFn;if(n){this.args=e;const r={...t,...this.props};return this.start((()=>n(e,r,this.abortController))).then(this.onResolve(this.counter),this.onReject(this.counter))}}cancel(){const e=this.props.onCancel||t.onCancel;e&&e(),this.counter++,this.abortController.abort(),this.mounted&&this.dispatch({type:Wy.cancel,meta:this.getMeta()})}onResolve(e){return n=>{if(this.counter===e){const e=this.props.onResolve||t.onResolve;this.setData(n,(()=>e&&e(n)))}return n}}onReject(e){return n=>{if(this.counter===e){const e=this.props.onReject||t.onReject;this.setError(n,(()=>e&&e(n)))}return n}}setData(e,t){return this.mounted&&this.dispatch({type:Wy.fulfill,payload:e,meta:this.getMeta()},t),e}setError(e,t){return this.mounted&&this.dispatch({type:Wy.reject,payload:e,error:!0,meta:this.getMeta()},t),e}render(){const{children:t,suspense:n}=this.props;if(n&&this.state.isPending&&this.promise!==Vy)throw this.promise;if("function"==typeof t){const n=t;return e.createElement(i,{value:this.state},n(this.state))}return null!=t?e.createElement(i,{value:this.state},t):null}}Ry&&(a.propTypes=Ry.Async);const s=t=>e.createElement(o,null,(n=>e.createElement(Dy,Object.assign({},t,{state:n})))),u=t=>e.createElement(o,null,(n=>e.createElement(Ly,Object.assign({},t,{state:n})))),l=t=>e.createElement(o,null,(n=>e.createElement(My,Object.assign({},t,{state:n})))),c=t=>e.createElement(o,null,(n=>e.createElement(Fy,Object.assign({},t,{state:n})))),h=t=>e.createElement(o,null,(n=>e.createElement(jy,Object.assign({},t,{state:n}))));s.displayName=`${n}.Initial`,u.displayName=`${n}.Pending`,l.displayName=`${n}.Fulfilled`,c.displayName=`${n}.Rejected`,h.displayName=`${n}.Settled`,Object.assign(a,{displayName:n,Initial:s,Pending:u,Loading:u,Fulfilled:l,Resolved:l,Rejected:c,Settled:h})}(),Error;var $y=e.useEffect?function(t,n){const r="function"==typeof t?{...n,promiseFn:t}:t,i=(0,e.useRef)(0),o=(0,e.useRef)(!0),a=(0,e.useRef)(void 0),s=(0,e.useRef)(r),u=(0,e.useRef)(Vy),l=(0,e.useRef)(new Iy),{devToolsDispatcher:c}=Ty.__REACT_ASYNC__,{reducer:h,dispatcher:f=c}=r,[d,p]=(0,e.useReducer)(h?(e,t)=>h(e,t,Gy):Gy,r,Hy),m=(0,e.useCallback)(f?e=>f(e,Ky(p),s.current):Ky(p),[f]),{debugLabel:g}=r,v=(0,e.useCallback)((e=>({counter:i.current,promise:u.current,debugLabel:g,...e})),[g]),y=(0,e.useCallback)(((e,t=Sy)=>(o.current&&(m({type:Wy.fulfill,payload:e,meta:v()}),t()),e)),[m,v]),b=(0,e.useCallback)(((e,t=Sy)=>(o.current&&(m({type:Wy.reject,payload:e,error:!0,meta:v()}),t()),e)),[m,v]),{onResolve:w,onReject:_}=r,E=(0,e.useCallback)((e=>t=>e===i.current&&y(t,(()=>w&&w(t)))),[y,w]),x=(0,e.useCallback)((e=>t=>e===i.current&&b(t,(()=>_&&_(t)))),[b,_]),C=(0,e.useCallback)((e=>("AbortController"in Ty&&(l.current.abort(),l.current=new Ty.AbortController),i.current++,u.current=new Promise(((t,n)=>{o.current&&m({type:Wy.start,payload:()=>e().then(t,n),meta:v()})})))),[m,v]),{promise:k,promiseFn:T,initialValue:S}=r,I=(0,e.useCallback)((()=>{const e=S&&0===i.current;k?C((()=>k)).then(E(i.current)).catch(x(i.current)):T&&!e&&C((()=>T(s.current,l.current))).then(E(i.current)).catch(x(i.current))}),[C,k,T,S,E,x]),{deferFn:A}=r,P=(0,e.useCallback)(((...e)=>{A&&(a.current=e,C((()=>A(e,s.current,l.current))).then(E(i.current)).catch(x(i.current)))}),[C,A,E,x]),N=(0,e.useCallback)((()=>{a.current?P(...a.current):I()}),[P,I]),{onCancel:R}=r,O=(0,e.useCallback)((()=>{R&&R(),i.current++,l.current.abort(),o.current&&m({type:Wy.cancel,meta:v()})}),[R,m,v]),{watch:D,watchFn:L}=r;if((0,e.useEffect)((()=>{L&&s.current&&L(r,s.current)&&(s.current=r,I())})),(0,e.useEffect)((()=>{s.current=r}),[r]),(0,e.useEffect)((()=>{i.current&&O(),(k||T)&&I()}),[k,T,D]),(0,e.useEffect)((()=>()=>{o.current=!1}),[]),(0,e.useEffect)((()=>()=>O()),[]),(0,e.useDebugValue)(d,(({status:e})=>`[${i.current}] ${e}`)),r.suspense&&d.isPending&&u.current!==Vy)throw u.current;return(0,e.useMemo)((()=>({...d,run:P,reload:N,cancel:O,setData:y,setError:b})),[d,P,N,O,y,b])}:()=>{throw new Error("useAsync requires React v16.8 or up. Upgrade your React version or use the <Async> component instead.")};const Zy=vy.div`
  max-height: 56px;
  min-height: 56px;
  background: #fff;
  box-shadow: 0 4px 4px rgba(153,150,150,.15);
  display: flex;

  & svg {
    float: left;
  }
`,Qy=vy.div`
  justify-content: space-between;
  align-items: center;
  display: flex;
  padding: 0 2rem;
  z-index: 4;
  height: 100%;
`,Yy=vy.button`
  position: relative;
  overflow: hidden;
`,Xy=vy.section`
  min-width: 110px;
  background-image: var(--brand-header);
  background-position: 0 center;
  background-repeat: no-repeat;
  background-size: 110px;
  height: 28px;
`,Jy=vy.img`
  max-height: 40px;
  float: left;
`,eb=vy.div`
  display: flex;

  & button {
    position: relative;
    padding: 1rem;
  }
`,tb=vy.div`
  color: #fff;
  background: #cc0000;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  text-align: center;
  position: absolute;
  font-size: 1.3rem;
  line-height: 2.2rem;
  font-style: normal;
  z-index: 1;
  top: -2px;
  right: -2px;
`,nb=vy.div`
  width: 100%;
  height: ${({setHeight:e})=>!!e&&e};

  @media (min-width: 1040px) {
    width: 100%;
    max-width: ${({maxWidth:e="1040px"})=>e};
    margin: 0 auto;
  }
`,rb=vy.div`
  display: flex;

  @media (min-width: 1040px) {
    display: block !important;
    overflow-y: overlay;
    overflow-x: hidden;
  }
`,ib=vy.div`
  display: flex;
  flex-direction: column;

  @media (min-width: 1040px) {
    width: 100%;
    max-width: ${({maxWidth:e="1040px"})=>e};
    overflow: auto;
    margin: 0 auto;
  }
`,ob=vy(nb)`
  display: flex;
  height: inherit;
  flex-direction: column;
`,ab=vy.div`
  height: ${({setHeight:e})=>!!e&&e};

  @media (max-width: 1039px){
    display: ${({setDisplay:e})=>!!e&&e};
  }

  @media (min-width: 1040px) {
    overflow-x: hidden;
    overflow-y: overlay;
    height: 100%;
  }
`,sb=vy.div`

  @media (min-width: 1040px) {
    display: flex;

    & > *:not(:last-child) {
      margin-right: 4rem;
    }
  }
`;var ub=function(){const t=tg(),n=ng(),{useCart:r}=Ey(),{mask:i}=Cy(),{brand_header:o}=i||{},{pathname:a}=n,s=r.map((e=>e.amount||1)).reduce(((e,t)=>e+t),0),u=e=>{a!==e&&t.push(e)};return e.createElement(Zy,null,e.createElement(nb,null,e.createElement(Qy,null,o?e.createElement(Yy,{type:"button",onClick:()=>u("/")},e.createElement(Jy,{src:o,alt:""})):e.createElement(Yy,{type:"button",onClick:()=>u("/")},e.createElement(Xy,null)),e.createElement(eb,null,e.createElement("button",{type:"button",onClick:()=>u("/account")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 515.556 515.556",width:"18"},e.createElement("path",{d:"m257.778 0c-142.137 0-257.778 115.641-257.778 257.778s115.641 257.778 257.778 257.778 257.778-115.641 257.778-257.778-115.642-257.778-257.778-257.778zm140.412 390.282c-88.007-44.093-194.425-45.965-284.592-4.146-30.464-34.181-49.153-79.073-49.153-128.358 0-106.61 86.723-193.333 193.333-193.333s193.333 86.723 193.333 193.333c0 51.296-20.213 97.861-52.921 132.504z"}),e.createElement("path",{d:"m326.132 157.202c37.751 37.751 37.751 98.957 0 136.707s-98.957 37.751-136.707 0-37.751-98.957 0-136.707 98.956-37.751 136.707 0"}))),e.createElement("button",{type:"button",onClick:()=>u("/cart")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},e.createElement("path",{fillRule:"evenodd",d:"M14,18H4a2,2,0,0,1-2-2L3,6A2,2,0,0,1,5,4a4,4,0,1,1,8,0,2,2,0,0,1,2,2l1,10A2,2,0,0,1,14,18ZM9,2A2,2,0,0,0,7,4h4A2,2,0,0,0,9,2Z"})),!!s&&e.createElement(tb,null,s))))))},lb=n(163),cb=n.n(lb);const hb=e=>`\n  -webkit-border-radius: ${"number"==typeof e?e+"px":e};\n  -moz-border-radius: ${"number"==typeof e?e+"px":e};\n  -ms-border-radius: ${"number"==typeof e?e+"px":e};\n  -o-border-radius: ${"number"==typeof e?e+"px":e};\n  border-radius: ${"number"==typeof e?e+"px":e};\n`,fb='\n  position: relative;\n  display: flex;\n\n  & input {\n    &:checked ~ label::before {\n      color: #fff;\n      border-color: rgba(25, 145, 107, 0.3);\n      background-color: rgba(25, 145, 107, 0.6);\n    }\n\n    &:checked ~ label::after {\n      background-color: #fff;\n      -webkit-transform: translateX(2.2rem);\n      transform: translateX(2.2rem);\n    }\n\n    & ~ label::after {\n      background-color: #aebcca;\n      border-radius: 1.5rem;\n      -webkit-transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,-webkit-transform 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n      transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,-webkit-transform 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n      transition: transform 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out;\n      transition: transform 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out,-webkit-transform 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n    }\n\n    &:not(:disabled):active ~ label::before {\n      color: #fff;\n      border-color: #75e7c3;\n      background-color: #75e7c3;\n    }\n\n    &:focus:not(:checked) ~ label::before {\n      border-color: #4ae0b0;\n    }\n\n    &:focus ~ label::before {\n      -webkit-box-shadow: 0 0 0 0.2rem rgba(25,145,107,0.25);\n      box-shadow: 0 0 0 0.2rem rgba(25,145,107,0.25);\n    }\n  }\n\n  & label {\n    display: inline-flex;\n    align-items: center;\n    cursor: pointer;\n\n    @media (max-width: 720px)  {\n      color: rgba(0, 0, 0, 0.65);\n      font-weight: 700;\n      font-style: italic;\n    }\n\n    & {\n      display: inline-flex;\n      align-items: center;\n      cursor: pointer;\n    }\n\n    &:not(:last-child) {\n      margin-right: 1.2rem;\n    }\n\n    &::before {\n      pointer-events: all;\n      border-radius: 1.8rem;\n      float: left;\n    }\n\n    &::before {\n      -webkit-transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n      transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n      transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out;\n      transition: background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out,-webkit-box-shadow 0.15s ease-in-out;\n    }\n\n    &::before {\n      display: block;\n      width: 5rem;\n      height: 2.4rem;\n      pointer-events: none;\n      content: "";\n      background-color: #fff;\n      border: #aebcca solid 1px;\n    }\n\n    &::after {\n      position: absolute;\n      top: 0.4rem;\n      left: .4rem;\n      display: block;\n      width: 2rem;\n      height: 1.6rem;\n      content: "";\n      background: no-repeat 50% / 50% 50%;\n    }\n  }\n',db=vy.main`
  width: 100%;
  display: flex;
  flex-direction: column;
  height: 100%;

  & > * {
    height: 100%;
  }
`,pb=vy.div`
  width: 100%;
  overflow: hidden;
  display: block;
  height: 100%;
`,mb=vy.div`
  overflow-x: hidden;
  overflow-y: overlay;
`,gb=vy.div`
  width: 100%;
  padding-top: 1rem;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,vb=vy.span`
  text-transform: uppercase;
  font-size: 2.2rem;
  font-weight: 400;
  font-family: var(--font-mont);
  justify-content: center;
  display: flex;
`,yb=vy.div`
  width: 100%;
  justify-content: center;
  align-items: stretch;
  flex-flow: row wrap;
  display: flex;
`,bb=vy.div`
  width: 33%;
  flex-direction: column;
  display: flex;

  @media (min-width: 1040px) {
    width: 16.6%;

    &:not(:last-child) {
      padding-right: 1.8rem;
    }
  }

  @media (max-width: 1039px) {
    &:not(:last-child):not(:nth-child(3)) {
      padding-right: 0.8rem;
    }

    &:not(:first-child):not(:nth-child(4)) {
      padding-left: 0.8rem;
    }
  }

  & > button {
    width: 100%;
  }
`,wb=vy.div`
  min-height: 125px;

  background-size: cover;
  background-position: top center;
  background-color: rgba(232, 232, 232);
  display: flex;

  ${hb(3)}

  & img {
    float: left;

    @media (min-width: 1040px) {
      height: 214px;
    }
  }
`,_b=vy.span`
  font-size: 1.4rem;
  justify-content: center;
  display: flex;
  padding: 1rem 0;
  text-transform: uppercase;
  font-family: var(--font-mont);
  font-weight: 400;
`,Eb=vy.div`
  flex-direction: column;
  align-items: center;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,xb=vy.span`
  font-weight: 500;
  font-size: 2.2rem;
  text-transform: uppercase;
  font-family: var(--font-mont);
`,Cb=vy.button`
  font-weight: 600;
  text-transform: lowercase;
  font-family: var(--font-poopins);
  padding: 0.8rem 1.2rem;
  color: #cc0000;

  border-left: 1px solid #cc0000;
  background: linear-gradient(90deg, #cc0000, rgba(255,255,255,0)) 0px 0px / 100% 1px no-repeat;
  position: relative;

  &::after {
    content: "";
    position: absolute;
    bottom: 0px;
    left: 0px;
    height: 1px;
    width: 60%;
    background: linear-gradient(9deg, #cc0000, rgba(255,255,255,0));
  }
`;var kb=function(){return e.createElement(wb,{style:{backgroundImage:"var(--background-thumbnail)"}},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"125",width:"100%",alt:""}))},Tb=function({data:t}){const{url:n}=t;return e.createElement(wb,{style:{backgroundImage:"url("+n+")"}},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"125",width:"100%",alt:""}))},Sb=n(988);const Ib=vy.div`
  width: 50%;
  max-width: calc(50% - 0.8rem);
  position: relative;

  flex-direction: column;
  display: flex;

  @media (max-width: 1039px) {

    &:not(:nth-child(even)) {
      margin-right: 1.6rem;
    }

    &:not(:last-child):not(:nth-child(odd):nth-last-child(2)) {
      margin-bottom: 1.6rem;
    }

    & > *:first-child {
      margin-bottom: 1rem;
    }
  }

  @media (min-width: 1040px) {
    max-width: 190px;
  }
`,Ab=vy.button`
  width: 100%;
  height: 100%;
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`,Pb=vy.div`
  background-size: cover;
  background-position: center;
  background-color: rgba(232, 232, 232);
  display: flex;

  ${hb(3)}

  & img {
    float: left;

    @media (min-width: 1040px) {
      min-height: 220px;
    }
  }
`,Nb=vy.span`
  position: absolute;
  right: 1rem;
  top: 1rem;
  left: auto;
  bottom: auto;
  color: #fff;
  padding: 0.5rem 1rem;
  font-weight: 400;
  font-family: var(--font-mont);
  background: #000;

  ${hb(3)}
`,Rb=vy.div`
  display: flex;
  flex-direction: column;
  min-height: 86px;
  max-height: 86px;
  height: 100%;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,Ob=vy.div`
height: 100%;
display: flex;
flex-direction: column;
justify-content: flex-end;

& > *:not(:last-child) {
  margin-bottom: 4px;
}
`,Db=vy.div`
display: flex;
height: 100%;

& h4 {
  width: 100%;
  font-weight: 400;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  white-space: unset;
  overflow: hidden;
}
`,Lb=vy.div`
  align-items: center;
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,Mb=vy.div`
color: #cc0000;
font-size: 1.8rem;
font-weight: 500;
`,Fb=vy.span`
  text-decoration: line-through;
`,jb=vy.div`
  font-size: 1.4rem;
  font-weight: 100;
  background: #ffbdbd;
  width: max-content;
  white-space: nowrap;
  padding: 0 0.5rem;

  ${hb(2)}
`,Ub=vy.div`
  font-size: 1.4rem;
  font-weight: 100;
`,zb=vy.div`
  height: ${({height:e})=>"number"==typeof e?`${e}px`:e};
  margin-bottom: ${({marginBottom:e})=>"number"==typeof e?`${e}px`:e};
  margin-left: ${({marginLeft:e})=>"number"==typeof e?`${e}px`:e};
  margin-right: ${({marginRight:e})=>"number"==typeof e?`${e}px`:e};

  width: ${({width:e})=>"number"==typeof e?`${e}px`:e};
  max-width: ${({maxWidth:e})=>"number"==typeof e?`${e}px`:e};
  min-width: ${({minWidth:e})=>"number"==typeof e?`${e}px`:e};

  display: ${({displayFlex:e})=>e&&"flex"};

  justify-content: ${({justifyContent:e})=>e&&e};
  align-items: ${({alignItems:e})=>e&&e};
  flex-direction: ${({flexDirection:e})=>e&&e};

  & > * {
    width: ${({widthChild:e})=>e&&e};
    height: ${({heightChild:e})=>e&&e};
  }

  & > *:not(:last-child) {
    margin-top: ${({spaceTopChild:e})=>e&&e};
    margin-right: ${({spaceRightChild:e})=>e&&e};
    margin-left: ${({spaceLeftChild:e})=>e&&e};
    margin-bottom: ${({spaceBottomChild:e})=>e&&e};
  }

  & > * {
    display: flex;
  }

  & * {
    float: ${({floatChild:e})=>e&&e};
  }
`;vy.div`
  display: flex;
`;var qb=function(){return e.createElement(Pb,null,e.createElement(zb,{width:"100%"},e.createElement(Sb.ZP,{width:"100%",height:125})))};const Bb=async({useWhere:e,assoc:t},{signal:n})=>await(async(e,t)=>{const{name:n}=t;async function r(e){const t=new Image;return t.src=e,await t.decode(),t.src}return await cm().ref(`branch/${e}/products/${n}_320x320.jpeg`).getDownloadURL().then((async function(e){return{...t,url:await r(e)}}))})(e,t);var Vb=function({assoc:t}){const{useWhere:n}=wy(),{data:r,error:i}=$y({promiseFn:Bb,useWhere:n,assoc:t});return i?e.createElement(kb,null):r?e.createElement(Tb,{data:r}):e.createElement(qb,null)},Wb=function({val:t,data:n}){const r=tg(),{thumb:i=[]}=Object.entries(n).find((e=>e[1].subcategory===t))[1];return e.createElement(bb,null,e.createElement("button",{type:"button",onClick:()=>r.push("/c/"+t)},i.length?i.filter(((e,t)=>0===t)).map(((t,n)=>e.createElement(Vb,{key:`${n}${t.image_name}`,assoc:t}))):e.createElement(kb,null)),e.createElement(_b,null,cb().subcategory_names[t]))},Hb=function({data:t}){const n=tg();return e.createElement(gb,null,e.createElement(vb,null,"Mais buscados"),e.createElement(yb,null,Object.keys(cb().subcategory_names).filter((e=>Object.entries(t).map((([e,t])=>t.subcategory)).includes(e))).filter(((e,t)=>t<6)).map((n=>e.createElement(Wb,{key:n,val:n,data:t})))),e.createElement(Eb,null,e.createElement(xb,null,"PROCURANDO ALGO MAIS?"),e.createElement(Cb,{type:"button",onClick:()=>n.push("/categories")},"Ver todas categorias")))};const Gb=vy.div`
  flex-direction: column;
  display: flex;
  padding-top: 1rem;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,Kb=vy.span`
  font-size: 2.2rem;
  font-weight: 400;
  display: flex;
  justify-content: center;
  font-family: var(--font-poopins);
`,$b=vy.div`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,Zb=vy.div`
  background: #f09433;
  background: -moz-linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
  background: -webkit-linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);
  background: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f09433', endColorstr='#bc1888',GradientType=1 );

  align-items: center;
  display: flex;
  padding: 1.6rem;

  ${hb(3)}
`,Qb=vy.div`
  width: 100%;
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,Yb=vy.span`
  color: #fff;
  font-family: var(--font-mont);
  font-weight: 100;
  font-size: 2rem;
`,Xb=vy.small`
  color: rgba(255,255,255,0.75);
  text-transform: lowercase;
  font-weight: 100;
`,Jb=vy.button`
  display: flex;
  padding: 1rem;
  color: #fff;
  font-weight: 400;
  text-transform: uppercase;
  font-family: var(--font-mont);
  box-shadow: inset 0 0 0 1px #fff;

  ${hb(3)}
`;var ew=function(){const{profile:t}=Cy(),{username_ig:n="cael.dev"}=t||{};return e.createElement(Gb,null,e.createElement(Kb,null,"Siga nosso trabalho no Instagram!"),e.createElement($b,null,e.createElement(Zb,null,e.createElement(Qb,null,e.createElement(Yb,null,"@",n),e.createElement(Xb,null,"Visite minha pgina do Instagram")),e.createElement(Jb,{type:"button",onClick:()=>window.open(`https://www.instagram.com/${n}`)},"Seguir"))))};vy.span`
  font-size: 2.4rem;
  font-family: var(--font-mont);
  text-transform: uppercase;
  width: 100%;
  justify-content: center;
  display: flex;
  padding: 1rem 0;
  font-weight: 400;
`;const tw=vy.div`
  overflow-x: hidden;
  overflow-y: overlay;
  padding: 1.6rem;

  @media (min-width: 1040px) {
    &::-webkit-scrollbar {
      width: 6px !important;
      height: 6px !important;
    }

    &::-webkit-scrollbar-thumb {
      background: rgba(0,0,0,0.15);
      border-radius: 6px;
    }

    &::-webkit-scrollbar-track {
      background: transparent;
    }
  }

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,nw=vy.div`
  color: #999;
  justify-content: center;
  display: flex;
  font-weight: 400;
  font-family: var(--font-mont);
  margin-top: 3rem;
`,rw=vy.section`
  display: block;
  padding: 1rem 1.8rem;
  text-align: center;

  & > div {
    display: inline-block;
    line-height: 16px;
    padding: 4px;

    & button {
      font-weight: 100;
    }

    & button:hover {
      text-decoration: underline;
    }
  }
`,iw=vy.div`
  font-weight: 400;
  font-family: var(--font-poopins);
  font-size: 1.4rem;
  justify-content: center;
  display: flex;
  margin-bottom: 1rem;
`;var ow=function(){const t=tg();return e.createElement(rw,null,e.createElement("div",null,e.createElement("button",{onClick:()=>t.push("/sobre")},"Sobre a marca Cris Costa")),e.createElement("div",null,e.createElement("button",{onClick:()=>t.push("/virtudes")},"Nossas virtudes")),e.createElement("div",null,e.createElement("button",{onClick:()=>t.push("/pagamentos")},"Pagamento e envio")),e.createElement("div",null,e.createElement("button",{onClick:()=>t.push("/retirar")},"Retirar pessoalmente")),e.createElement("div",null,e.createElement("button",{onClick:()=>t.push("/trocas")},"Trocas devolues")))},aw=n(411),sw=function({data:t,price_off:n}){return e.createElement(Pb,{style:{backgroundImage:"url("+t+")"}},n?e.createElement(Nb,null,n,"% OFF"):null,e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"200",width:"100%",alt:""}))},uw=function(){return e.createElement(Pb,{style:{backgroundImage:"var(--background-thumbnail)"}},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"200",width:"100%",alt:""}))},lw=function(){return e.createElement(Pb,null,e.createElement(zb,{width:"100%"},e.createElement(Sb.ZP,{width:"100%",height:200})))};const cw=async({useWhere:e,thumb:t},{signal:n})=>{const[r]=t;return await(async(e,t)=>{const{name:n}=t;return await cm().ref(`branch/${e}/products/${n}_320x320.jpeg`).getDownloadURL().then((async function(e){const t=new Image;return t.src=e,await t.decode(),t.src}))})(e,r)};var hw=function({thumb:t,price_off:n}){const{useWhere:r}=wy(),{data:i,error:o}=$y({promiseFn:cw,useWhere:r,thumb:t});return o?e.createElement(uw,null):i?e.createElement(sw,{data:i,price_off:n}):e.createElement(lw,null)};const fw=vy.div`
  width: 100%;
  flex-direction: column;
  display: flex;
  padding-top: 1rem;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,dw=vy.div`
  display: flex;
  width: 100%;
  justify-content: center;
  font-weight: 500;
  font-size: 2.2rem;
  text-transform: uppercase;
  font-family: var(--font-mont);
`,pw=vy.div`
  width: 100%;
  display: flex;
  overflow: hidden;
  flex-direction: column;

  ${hb(3)}

  & > *:first-child {
    margin-bottom: 1.6rem;
  }
`,mw=vy.div`
  position: relative;

  & > *:first-child {
    margin-bottom: 1rem;
  }
`,gw=vy.div`
  position: relative;
`,vw=vy.span`
  position: absolute;
  right: 1rem;
  top: 1rem;
  color: #fff;
  padding: 0.5rem 1rem;
  font-weight: 400;
  font-family: var(--font-mont);
  background: #000;

  ${hb(3)}
`,yw=vy.div`
  display: flex;
  flex-direction: column;
  min-height: 86px;
  max-height: 86px;
  height: 100%;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,bw=vy.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;

  & > *:not(:last-child) {
    margin-bottom: 4px;
  }
`,ww=vy.div`
  display: flex;
  height: 100%;

  & h4 {
    width: 100%;
    font-weight: 400;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    white-space: unset;
    overflow: hidden;
  }
`,_w=(vy.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;

  & > *:not(:last-child) {
    margin-bottom: 4px;
  }
`,vy.div`
  align-items: center;
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`),Ew=vy.div`
color: #cc0000;
font-size: 1.8rem;
font-weight: 500;
`,xw=vy.span`
  text-decoration: line-through;
`,Cw=vy.div`
  font-size: 1.4rem;
  font-weight: 100;
`,kw=vy.div`
  font-size: 1.4rem;
  font-weight: 100;
  background: #ffbdbd;
  width: max-content;
  white-space: nowrap;
  padding: 0 0.5rem;

  ${hb(2)}
`,Tw=vy.button`
  inset: 0px;
  width: 100%;
  height: 100%;
  position: absolute;
  z-index: 1;
`;var Sw=function({data:t}){const n=tg(),[r,i]=t,{status:o=200,title:a,thumb:s=[],price:u,installment:l=1,price_off:c=0}=i;return e.createElement(mw,{className:"keen-slider__slide"},e.createElement(gw,null,!!c&&e.createElement(vw,null,c,"% OFF"),s.length?e.createElement(hw,{thumb:s,price_off:c}):e.createElement(uw,null)),e.createElement(yw,null,e.createElement(ww,null,e.createElement("h4",null,a)),e.createElement(bw,null,e.createElement(_w,null,e.createElement(Ew,null,Number(u-u*c/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),!!c&&e.createElement(xw,null,Number(u).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),403!==o?l>1&&e.createElement(Cw,null,"Ou at ",l,"x de ",Number((u-u*c/100)/l).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})):e.createElement(kw,null,"Produto indisponvel"))),403!==o&&e.createElement(Tw,{type:"button",onClick:()=>n.push(`/p/${r}`)}))},Iw=function({data:t}){const[n,r]=(0,e.useState)(0),[i,o]=(0,aw.useKeenSlider)({slidesPerView:2,breakpoints:{"(min-width: 1040px)":{slidesPerView:4}},mode:"free-snap",spacing:12,loop:!0,slideChanged(e){r(e.details().relativeSlide)}});return e.createElement(fw,null,e.createElement(dw,null,"Voc no pode perder! "),e.createElement(pw,null,e.createElement("div",{ref:i,className:"keen-slider"},Object.entries(t).filter(((e,t)=>200===(e[1].status||200)&&t<5)).map(((t,n)=>e.createElement(Sw,{key:n,data:t})))),o&&e.createElement("div",{className:"dots"},[...Array(o.details().size).keys()].map((t=>e.createElement("button",{key:t,onClick:()=>{o.moveToSlideRelative(t)},className:"dot"+(n===t?" active":"")}))))))},Aw=function({data:t}){return e.createElement(e.Fragment,null,e.createElement(ub,null),e.createElement(tw,null,e.createElement(nb,null,e.createElement(Hb,{data:t}),e.createElement(Iw,{data:t}),e.createElement(ew,null),e.createElement(nw,null,"Todos os preos esto em BRL"),e.createElement(ow,null),e.createElement(iw,null,"Feito com  em So Paulo"))))},Pw=function(){return e.createElement(gb,null,e.createElement(zb,{displayFlex:!0,floatChild:"left",width:"100%",height:21,alignItems:"center",justifyContent:"center"},e.createElement(Sb.ZP,{width:151,height:12})),e.createElement(yb,null,[{name:64},{name:48},{name:67},{name:51},{name:58},{name:59}].map((function(t,n){const{name:r}=t;return e.createElement(bb,{key:n},e.createElement(zb,{displayFlex:!0,floatChild:"left",width:"100%",widthChild:"100%"},e.createElement(Sb.ZP,{width:"100%",height:125})),e.createElement(zb,{displayFlex:!0,floatChild:"left",width:"100%",height:30,alignItems:"center",justifyContent:"center"},e.createElement(Sb.ZP,{width:r,height:12})))}))),e.createElement(Eb,null,e.createElement(zb,{displayFlex:!0,floatChild:"left",width:"100%",height:21,alignItems:"center",justifyContent:"center"},e.createElement(Sb.ZP,{width:251,height:13})),e.createElement(Sb.yB,{color:"#efefef",highlightColor:"#cc0000"},e.createElement(zb,{displayFlex:!0,floatChild:"left",width:154,widthChild:"100%"},e.createElement(Sb.ZP,{width:154,height:31,style:{borderRadius:0}})))))},Nw=function({data:t}){const{twoLine:n,installments:r}=t;return e.createElement(Ib,null,e.createElement(Pb,null,e.createElement(zb,{width:"100%"},e.createElement(Sb.ZP,{width:"100%",height:200}))),e.createElement(Rb,null,e.createElement(zb,{displayFlex:!0},e.createElement(zb,{displayFlex:!0,flexDirection:"column",spaceBottomChild:"5px"},e.createElement(Sb.ZP,{width:112,height:10}),n?e.createElement(Sb.ZP,{width:106,height:10}):null)),e.createElement(Ob,null,e.createElement(Lb,null,e.createElement(zb,{displayFlex:!0,floatChild:"left"},e.createElement(Sb.ZP,{width:56,height:14}))),r?e.createElement(zb,{displayFlex:!0,floatChild:"left"},e.createElement(Sb.ZP,{width:108,height:10})):null)))},Rw=function(){return e.createElement(fw,null,e.createElement(zb,{displayFlex:!0,floatChild:"left",width:"100%",height:23,alignItems:"center",justifyContent:"center"},e.createElement(Sb.ZP,{width:270,height:13})),e.createElement(pw,null,e.createElement(zb,{displayFlex:!0,height:282},[{twoLine:!0,installments:!0},{twoLine:!1,installments:!0}].map(((t,n)=>e.createElement(Nw,{key:n,data:t})))),e.createElement(zb,{displayFlex:!0,justifyContent:"center",alignItems:"center",style:{padding:"10px 0"}},e.createElement(zb,{displayFlex:!0,floatChild:"left",marginRight:5},e.createElement(Sb.ZP,{circle:!0,width:10,height:10})),e.createElement(zb,{displayFlex:!0,floatChild:"left",marginLeft:5,marginRight:5},e.createElement(Sb.ZP,{circle:!0,width:10,height:10})),e.createElement(zb,{displayFlex:!0,floatChild:"left",marginLeft:5,marginRight:5},e.createElement(Sb.ZP,{circle:!0,width:10,height:10})),e.createElement(zb,{displayFlex:!0,floatChild:"left",marginLeft:5,marginRight:5},e.createElement(Sb.ZP,{circle:!0,width:10,height:10})),e.createElement(zb,{displayFlex:!0,floatChild:"left",marginLeft:5,marginRight:5},e.createElement(Sb.ZP,{circle:!0,width:10,height:10})),e.createElement(zb,{displayFlex:!0,floatChild:"left",marginRight:5},e.createElement(Sb.ZP,{circle:!0,width:10,height:10})))))},Ow=function(){return e.createElement(Gb,null,e.createElement(zb,{displayFlex:!0,floatChild:"left",width:"100%",height:26,alignItems:"center",justifyContent:"center"},e.createElement(Sb.ZP,{width:302,height:13})),e.createElement($b,null,e.createElement(Sb.yB,{color:"#bc1888",highlightColor:"#f09433"},e.createElement(zb,{displayFlex:!0,floatChild:"left",width:"100%",widthChild:"100%"},e.createElement(Sb.ZP,{width:"100%",height:66})))))},Dw=function(){return e.createElement("div",null)},Lw=function(){return e.createElement(e.Fragment,null,e.createElement(ub,{acc:!0}),e.createElement(tw,null,e.createElement(nb,null,e.createElement(Pw,null),e.createElement(Rw,null),e.createElement(Ow,null),e.createElement(Dw,null))))};const Mw=async({token:e},{signal:t})=>await fm().httpsCallable("queryObject")({token:e,ref:"feed"}).then((e=>e.data));var Fw=function(){const{token:t}=ky(),{data:n,error:r}=$y({promiseFn:Mw,token:t});return r?r.message:n?e.createElement(Aw,{data:n}):e.createElement(Lw,null)};const jw=(0,e.createContext)();function Uw({children:t,usePost:n,setPost:r,useMoment:i,setMoment:o,useSuccess:a,setSuccess:s,dataRef:u}){return e.createElement(jw.Provider,{value:{usePost:n,setPost:r,useMoment:i,setMoment:o,useSuccess:a,setSuccess:s,dataRef:u}},t)}function zw(){const t=(0,e.useContext)(jw),{usePost:n,setPost:r}=t;return{usePost:n,setPost:r}}function qw(){const t=(0,e.useContext)(jw),{dataRef:n}=t;return{dataRef:n}}var Bw=n(270),Vw=n.n(Bw);const Ww=vy.div`
  background: #f3f3f3;
  overflow-x: hidden;
  overflow-y: overlay;
  height: 100%;

  @media (min-width: 1040px) {
    display: flex;
    overflow: initial;
    background: initial;
  }
`,Hw=vy.div`
  width: 100%;
  position: sticky;
  min-height: 54%;
  max-height: 300px;
  top: 0;

  @media (min-width: 1040px) {
    min-width: 520px;
  }
`,Gw=vy.button`
  background: rgba(0,0,0,0.25);
  position: absolute;
  padding: 1rem;
  top: 1rem;
  left: 1.6rem;
  right: 0px;
  z-index: 5;
  width: 34px;
  height: 34px;

  ${hb("50%")}

  @media (min-width: 1040px) {
    display: none;
  }

  & svg {
    float: left;
  }
`,Kw=vy.span`
  position: absolute;
  top: 2.2rem;
  left: auto;
  right: 1.6rem;
  bottom: auto;
  color: #fff;
  padding: 0.5rem 1rem;
  font-weight: 400;
  font-family: var(--font-mont);
  background: #000;
  z-index: 2;

  ${hb(3)}
`,$w=vy.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;

  & img {
    max-height: 54vh;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center center;
    position: relative;
    cursor: pointer;
    float: left;
    z-index: 1;
  }
`,Zw=vy.div`
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center center;
  background-color: rgba(232,232,232);
  transform: scale(0.85);
  position: absolute;
  opacity: 0.6;
  width: 100%;
  height: 100%;
  z-index: 0;
`,Qw=vy.div`
  background: #fff;
  position: relative;
  box-shadow: 0 0 6px -4px rgba(0,0,0,0.5);
  padding: 1.6rem;
  min-height: 46%;
  z-index: 1;

  ${hb("6px 6px 0 0")}

  @media (min-width: 1040px) {
    margin: 1rem;
  }

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,Yw=vy.div`
  font-size: 2.2rem;
  justify-content: space-between;
  display: flex;

  & > span {
    margin-right: 1.6rem;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    white-space: unset;
    overflow: hidden;
  }
`,Xw=vy.div`
  margin-bottom: 1rem;
  font-weight: 400;

  & div {
    width: 100%;
    position: relative;

    & span {
      color: #888;
      background: #fff;
      position: relative;
      padding-right: 1rem;
      text-transform: uppercase;
      z-index: 1;
    }

    &::after {
      content: "";
      width: 100%;
      position: absolute;
      height: 1px;
      background: #efefef;
      left: 0;
      top: calc(50% + 1px);
      z-index: 0;
    }
  }
`,Jw=vy.div`
  font-weight: 100;
`,e_=vy.div`
  clear: both;

  & li {
    padding: 0.8rem 1rem;
    display: flex;
    justify-content: space-between;

    & span {
      color: #888;
    }
  }

  & li:nth-child(odd) {
    background: #efefef;
  }

  & li span:nth-child(1) {
    font-weight: 100;
  }

  & li span:nth-child(2) {
    font-weight: 400;
  }
`,t_=vy.div`
  min-height: 62px;
  max-height: 62px;
  padding: 1.6rem;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #efefef;
  display: flex;
  align-items: center;

  @media (min-width: 1040px) {
    display: none;
  }

  & > * {
    width: 100%;
    height: 100%;
  }

  & > *:not(:last-child) {
    margin-right: 2rem;
  }
`,n_=vy.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
`,r_=vy.div`
  font-family: var(--font-mont);
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,i_=vy.span`
  color: #cc0000;
  font-size: 2rem;
  font-weight: 500;
`,o_=vy.span`
  text-decoration: line-through;
`,a_=vy.span`
  font-weight: 100;
  font-size: 1.4rem;
  line-height: 16px;
`,s_=vy.button`
  color: #fff;
  background: #2bd660;
  max-width: 44%;
  box-shadow: rgba(0, 0, 0, 0.25) 0px -2px 0px 0px inset;
  text-transform: uppercase;
  transition: all 0.3s linear;
  justify-content: center;
  align-items: center;
  display: flex;

  opacity: ${({statusColor:e})=>e?"1":"0.75"};

  &:active {
    background: #20a148;
  }

  &:hover {
    background: #29f969;
  }

  &:focus {
    background: #2bd660;
    box-shadow: 0 0 8px -1px #2bd660;
  }

  ${hb(3)}

  & span:not(:last-child) {
    margin-right: 2rem;
  }
`,u_=vy.div`
  width: 100%;
  justify-content: center;
  align-items: center;
  display: flex;
  height: 100%;
  min-height: 300px;
`;var l_=function({data:t,i:n}){const{original:r,thumbnail:i}=t,o={original:r.src,thumbnail:i.src,width:r.width,height:r.height,id:n};return e.createElement(dg.Item,o,(({ref:t,open:n})=>e.createElement($w,{className:"keen-slider__slide"},e.createElement(Zw,{style:{backgroundImage:"url("+i.src+")"}}),e.createElement("img",{ref:t,src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"100%",width:"100%",alt:"",style:{backgroundImage:"url("+i.src+")"},onClick:n}))))},c_=function({data:t}){const{layoutRef:n}=function(){const t=(0,e.useContext)(yy),{layoutRef:n}=t;return{layoutRef:n}}(),[r]=(0,aw.useKeenSlider)();return e.createElement(dg.CustomGallery,{ui:Vw(),layoutRef:n,id:"photo"},e.createElement("div",{ref:r,className:"keen-slider"},t.map(((t,n)=>e.createElement(l_,{key:n,data:t,i:n})))))},h_=function(){return e.createElement(u_,{style:{backgroundImage:"var(--background-thumbnail)",backgroundPosition:"center",backgroundSize:"76%"}})};const f_=vy.div`
  min-height: 300px;
  max-height: 60vh;
  display: flex;
  align-items: center;
  flex-direction: column;
  justify-content: center;
`,d_=vy.div`
  height: 92px;
  width: 92px;
  justify-content: center;
  align-items: center;
  display: flex;

  & svg {
    width: 60%;
    height: 60%;
    animation: IGCoreSpinnerSpin12 1.2s steps(12) infinite;
  }
`,p_=vy.span`
  color: #999;
  font-weight: 500;
  font-size: 1.4rem;
`;var m_=function(){return e.createElement(f_,null,e.createElement(d_,null,e.createElement("svg",{"aria-label":"Carregando...",viewBox:"0 0 100 100"},e.createElement("rect",{fill:"#555555",height:"6",opacity:"0",rx:"3",ry:"3",transform:"rotate(-90 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.08333333333333333",rx:"3",ry:"3",transform:"rotate(-60 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.16666666666666666",rx:"3",ry:"3",transform:"rotate(-30 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.25",rx:"3",ry:"3",transform:"rotate(0 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.3333333333333333",rx:"3",ry:"3",transform:"rotate(30 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.4166666666666667",rx:"3",ry:"3",transform:"rotate(60 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.5",rx:"3",ry:"3",transform:"rotate(90 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.5833333333333334",rx:"3",ry:"3",transform:"rotate(120 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.6666666666666666",rx:"3",ry:"3",transform:"rotate(150 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.75",rx:"3",ry:"3",transform:"rotate(180 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.8333333333333334",rx:"3",ry:"3",transform:"rotate(210 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.9166666666666666",rx:"3",ry:"3",transform:"rotate(240 50 50)",width:"25",x:"72",y:"47"}))),e.createElement(p_,null,"Carregando..."))};async function g_(e){const t=new Image;return t.src=e,await t.decode(),{width:String(t.width),height:String(t.height),src:t.src}}const v_=async({useWhere:e,thumb:t},{signal:n})=>await(async(e,t)=>await Promise.all(t.map((async(t,n)=>{const{name:r}=t;return{thumbnail:await cm().ref(`branch/${e}/products/${r}_640x640.jpeg`).getDownloadURL().then(g_).catch((e=>Object({error:!0}))),original:await cm().ref(`branch/${e}/products/${r}_1024x1024.jpeg`).getDownloadURL().then(g_).catch((e=>Object({error:!0})))}}))))(e,t).then((e=>e.filter((e=>!e.original.error&&!e.thumbnail.error))));var y_=function({thumb:t}){const{useWhere:n}=wy(),{data:r,error:i}=$y({promiseFn:v_,useWhere:n,thumb:t});return i?e.createElement(h_,null):r?r.length?e.createElement(c_,{data:r}):e.createElement(h_,null):e.createElement(m_,null)};const b_=vy.div`
  background: rgba(255,255,255,0.92);
  z-index: 99;
  position: relative;
  width: calc(100vw - 3.6rem);
  max-width: 420px;
  overflow: hidden;
  font-size: 1.43rem;
  box-shadow: 0 0 15px 0 rgba(0,0,0,0.24);

  ${hb(5)}

  @media (min-width: 1040px) {
    background: #fff;

    ${hb(0)}
  }
`,w_=vy.div`
  max-width: 80%;
  flex-direction: column;
  display: flex;
  margin: 2rem auto;

  & > *:not(:last-child) {
    margin-bottom: 2.5rem;
  }
`,__=vy.div`
  justify-content: flex-end;
  display: flex;

  @media (max-width: 1039px) {
    display: none;
  }
`,E_=vy.button`
  padding: 1rem;
  background: #ccc;

  & svg {
    float: left;

    @media (min-width: 1040px) {
      fill: #fff;
    }
  }
`,x_=vy.div`
  padding-top: 1rem;
  justify-content: center;
  display: flex;

  @media (min-width: 1040px) {
    padding: 0;
  }

  & svg {
    float: left;
  }
`,C_=vy.div`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 0.5rem;
  }
`,k_=vy.span`
  font-size: 1.8rem;
  font-weight: 100;
`,T_=vy.span`
  font-size: 1.5rem;
  font-weight: 100;

  @media (min-width: 1040px) {
    color: #999;
  }
`,S_=vy.span`
  display: block;
`,I_=vy.p`
  display: block;
`,A_=vy.div`
  border-top: 1px solid #ccc;
  display: flex;

  @media (min-width: 1040px) {
    border-top: none;
    align-items: center;
    flex-direction: column-reverse;
    padding: 0.6rem 1.6rem 3.5rem;

    & > *:not(:first-child) {
      margin-bottom: 1rem;
    }
  }

  & > * {

    @media (max-width: 1039px) {
      width: 100%;
      padding: 1.6rem;
    }
  }
`,P_=vy.button`
  color: #0077cc;

  @media (min-width: 1040px) {
    color: #999;
  }

  &:hover {
    font-weight: 900;
  }
`,N_=vy.button`
  color: #0077cc;

  @media (min-width: 1040px) {
    background: #000;
    padding: 1rem;
    min-width: 60%;
    color: #fff;
  }

  &:hover {
    font-weight: 900;
  }
`,R_=vy.div`
  width: 1px;
  background: #ccc;
  min-width: 1px;
  max-width: 1px;
  font-size: 0;
  padding: 0;

  @media (min-width: 1040px) {
    background: initial;
    width: inherit;
    font-size: inherit;
    display: flex;
    justify-content: center;
    max-width: inherit;
    min-width: inherit;
  }
`,O_=vy.span`

  @media (min-width: 1040px) {
    display: none;
  }
`,D_=vy.span`

  @media (max-width: 1039px) {
    display: none;
  }
`;var L_=function({close:t}){const n=tg(),[r,i]=(0,e.useState)(!1),{id:o}=rg(),{dataRef:a}=qw(),{title:s,id_size:u}=a.current,{setPost:l}=zw(),{setMoment:c}=function(){const t=(0,e.useContext)(jw),{useMoment:n,setMoment:r}=t;return{useMoment:n,setMoment:r}}();return(0,e.useEffect)((()=>{r&&n.push("/cart")}),[r]),e.createElement(b_,null,e.createElement(__,null,e.createElement(E_,{onClick:()=>t()},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 386.667 386.667"},e.createElement("path",{d:"m386.667 45.564-45.564-45.564-147.77 147.769-147.769-147.769-45.564 45.564 147.769 147.769-147.769 147.77 45.564 45.564 147.769-147.769 147.769 147.769 45.564-45.564-147.768-147.77z"})))),e.createElement(w_,null,e.createElement(x_,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"42",viewBox:"0 0 515.556 515.556"},e.createElement("path",{d:"m257.778 0c-142.137 0-257.778 115.641-257.778 257.778s115.641 257.778 257.778 257.778 257.778-115.641 257.778-257.778-115.642-257.778-257.778-257.778zm-32.222 383.899-103.338-103.338 45.564-45.564 57.774 57.774 122.218-122.218 45.564 45.564s-167.782 167.782-167.782 167.782z"}))),e.createElement(C_,null,e.createElement(k_,null,s),u?e.createElement(T_,null,"Tamanho: ",cb().stocks[u]):null),e.createElement(C_,null,e.createElement(S_,null,"Item adicionado ao carrinho com sucesso!"),e.createElement(I_,null,"Voc deseja?"))),e.createElement(A_,null,e.createElement(P_,{type:"button",onClick:()=>(c((new Date).toISOString()),l({id:o}),void t())},e.createElement(D_,null,"Continuar comprando"),e.createElement(O_,null,"Continuar")),e.createElement(R_,null,"ou"),e.createElement(N_,{type:"button",onClick:()=>i(!0)},e.createElement(D_,null,"Ir para o carrinho"),e.createElement(O_,null,"Finalizar"))))};const M_=vy.div`
  z-index: ${({zIndex:e="5"})=>e};
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: none;
  overflow: hidden;
  outline: 0;
  margin-bottom: 0!important;

  &::after {
    content: "";
    background: ${({backgroundColor:e="rgba(0,0,0,0.5)"})=>e};
    width: 100vw;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`,F_=vy.div`
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 3;
  width: 100vw;
  height: 100%;
  position: fixed;
  background: rgba(255, 255, 255, 0);
`,j_=vy.div`
  width: 100vw;
  justify-content: center;
  align-items: ${({alignItems:e="center"})=>e};
  display: flex;
  height: 100%;
  z-index: ${({zIndex:e="2"})=>e};
`,{jQuery:U_}=window;var z_=function(){const t=(0,e.useRef)(null),n=(0,e.useRef)(!1),r=(0,e.useRef)(!1),{useSuccess:i,setSuccess:o}=function(){const t=(0,e.useContext)(jw),{useSuccess:n,setSuccess:r}=t;return{useSuccess:n,setSuccess:r}}(),{status:a}=i;(0,e.useEffect)((()=>{n.current&&a?U_(t.current).fadeIn(200):n.current=!0}),[a]),(0,e.useEffect)((()=>{r.current&&!1===a?U_(t.current).fadeOut(300,(()=>o({}))):r.current=!0}),[a]);const s=()=>o({status:!1});return e.createElement(M_,{ref:t},"boolean"==typeof a?e.createElement(e.Fragment,null,e.createElement(F_,{onClick:()=>s()}),e.createElement(j_,null,e.createElement(L_,{close:s}))):null)};const q_=vy.div`
  width: 100%;

  position: relative;
  display: flex;

  & > div {
    padding: 0 1rem;
  }

  &::before, &::after {
    content: "";
    width: 16px;
    height: 100%;
    display: block;
    position: absolute;
    z-index: 5;
    top: 0px;
    bottom: 0px;
  }

  &::after {
    right: 0;
    background: linear-gradient(-90deg,#ffffff,rgba(255,255,255,0));
  }

  &::before {
    left: 0;
    background: linear-gradient(90deg,#ffffff,rgba(255,255,255,0));
  }
`,B_=vy.div`
  overflow-y: hidden;
  overflow-x: scroll;
  white-space: nowrap;
  user-select: none;
  position: relative;

  ${hb(3)}

  &, & * {
    transition: all .15s ease-in-out;
  }

  &.active, &.active button {
    cursor: grabbing;
  }
`,V_=vy.div`
  display: inline-block;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,W_=vy.li`
  width: 50px;
  height: 50px;
  display: inline-block;

  &:not(:last-child) {
    margin-right: 1.6rem;
  }

  & input ~ label::before {
    content: "";
    width: 100%;
    height: 100%;
    position: absolute;
    transition: all 250ms ease 0s;

    ${hb("50%")}
  }

  & input:checked ~ label::before {
    box-shadow: rgba(43 214 96) 0px 0px 0px 3px inset;
  }

  & label {
    cursor: pointer;
    background: #efefef;
    text-transform: uppercase;
    letter-spacing: 0.2rem;
    font-weight: 600;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;

    ${hb("50%")}

    ${({status:e})=>!e&&'\n      & {\n        color: #999;\n      }\n\n      &::after {\n        content: "";\n        display: block;\n        width: 60%;\n        height: 1px;\n        position: absolute;\n        background: #999;\n        opacity: 0.8;\n        z-index: 2;\n      }\n    '}
  }
`;var H_=function({data:t}){const{dataRef:n}=qw(),{qtd_stocks:r={}}=n.current,{usePost:i,setPost:o}=zw(),{id_stocks:a}=i,{status:s=!0,...u}=r||{},l=()=>Object.keys(u).includes(t)&&!!u[t];return e.createElement(W_,{status:l()},e.createElement("input",{type:"checkbox",readOnly:!0,checked:a===t}),e.createElement("label",{onClick:()=>l()?void(a!==t&&o((e=>({...e,id_stocks:t})))):$g("Tamanho em falta no estoque!")},cb().stocks[t]))},G_=function(){const{dataRef:t}=qw(),{qtd_stocks:n={}}=t.current,{status:r=!0,...i}=n,o=(0,e.useRef)(null),[a,s]=(0,e.useState)({isDown:!1}),{isDown:u,startX:l,scrollLeft:c,active:h}=a;return e.createElement(B_,{draggable:"true",ref:o,onMouseDown:e=>{s((t=>Object({...t,isDown:!0,active:!0,scrollLeft:o.current.scrollLeft,startX:e.pageX-o.current.offsetLeft}))),h||o.current.classList.add("active")},onMouseLeave:e=>{s((e=>Object({...e,active:!1,isDown:!1}))),h&&o.current.classList.remove("active")},onMouseUp:e=>{s((e=>Object({...e,active:!1,isDown:!1}))),h&&o.current.classList.remove("active")},onMouseMove:e=>{const t=1.25*(e.pageX-o.current.offsetLeft-l);e.preventDefault(),u&&u&&(o.current.scrollLeft=c-t)}},e.createElement(V_,null,cb().size_letter.map((t=>e.createElement(H_,{key:t,data:t})))))},K_=function({data:t}){const{dataRef:n}=qw(),{qtd_stocks:r={}}=n.current,{usePost:i,setPost:o}=zw(),{id_stocks:a}=i,{status:s=!0,...u}=r||{},l=()=>Object.keys(u).includes(t)&&!!u[t];return e.createElement(W_,{status:l()},e.createElement("input",{type:"checkbox",readOnly:!0,checked:a===t}),e.createElement("label",{onClick:()=>l()?void(a!==t&&o((e=>({...e,id_stocks:t})))):$g("Tamanho em falta no estoque!")},cb().stocks[t]))},$_=function(){const{dataRef:t}=qw(),{qtd_stocks:n={}}=t.current,{status:r=!0,...i}=n,o=(0,e.useRef)(null),[a,s]=(0,e.useState)({isDown:!1}),{isDown:u,startX:l,scrollLeft:c,active:h}=a;return e.createElement(B_,{draggable:"true",ref:o,onMouseDown:e=>{s((t=>Object({...t,isDown:!0,active:!0,scrollLeft:o.current.scrollLeft,startX:e.pageX-o.current.offsetLeft}))),h||o.current.classList.add("active")},onMouseLeave:e=>{s((e=>Object({...e,active:!1,isDown:!1}))),h&&o.current.classList.remove("active")},onMouseUp:e=>{s((e=>Object({...e,active:!1,isDown:!1}))),h&&o.current.classList.remove("active")},onMouseMove:e=>{const t=1.25*(e.pageX-o.current.offsetLeft-l);e.preventDefault(),u&&u&&(o.current.scrollLeft=c-t)}},e.createElement(V_,null,cb().size_number.filter((e=>Object.entries(i).filter((([e,t])=>!!t)).map((e=>e[0])).includes(e))).map((t=>e.createElement(K_,{key:t,data:t})))))},Z_=function(){const{dataRef:t}=qw(),{qtd_stocks:n={}}=t.current,{status:r=!0}=n;return e.createElement("div",null,e.createElement(Xw,null,e.createElement("div",null,e.createElement("span",null,"Tamanho"))),e.createElement(q_,null,r?e.createElement(G_,null):e.createElement($_,null)))},Q_=function(){const{usePost:t}=zw(),{qtd_stocks:n={}}=t,{status:r=!0}=n;return e.createElement("div",null,e.createElement(Xw,null,e.createElement("div",null,e.createElement("span",null,"Tamanho"))),e.createElement(q_,null,r?e.createElement($_,null):e.createElement(G_,null)))},Y_=function({data:t,id:n}){const r=tg(),i=(0,e.useRef)(t),{useCart:o,setCart:a}=Ey(),[s,u]=(0,e.useState)({}),[l,c]=(0,e.useState)((new Date).toISOString()),[h,f]=(0,e.useState)({id:n}),{status:d=200,colors:p=[],description:m,price:g,size_length:v,id_size:y,subcategory:b,thumb:w=[],title:_,installment:E=1,cloth_material:x,sort_child:C,price_off:k=0}=i.current;return e.createElement(rb,null,e.createElement(ib,null,e.createElement(Uw,{usePost:h,setPost:f,useMoment:l,setMoment:c,useSuccess:s,setSuccess:u,dataRef:i},e.createElement(Ww,null,e.createElement(Hw,null,e.createElement(Gw,{type:"button",onClick:()=>r.goBack()},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 451.111 451.111",fill:"#fff"},e.createElement("path",{d:"m451.111 193.333h-322.222l112.778-112.777-48.333-48.333-193.334 193.333 193.333 193.333 48.333-48.333-112.777-112.778h322.222z"}))),k?e.createElement(Kw,null,k,"% OFF"):null,w.length?e.createElement(y_,{thumb:w}):e.createElement(h_,null)),e.createElement(Qw,null,e.createElement(Yw,null,e.createElement("span",null,_)),cb().p[1].includes(b)&&e.createElement(Q_,null),cb().p[2].includes(b)&&e.createElement(Z_,null),e.createElement("div",null,e.createElement(Xw,null,e.createElement("div",null,e.createElement("span",null,"Descrio"))),e.createElement(Jw,null,m)),e.createElement("div",null,e.createElement(Xw,null,e.createElement("div",null,e.createElement("span",null,"DETALHES DO PRODUTO"))),e.createElement(e_,null,p.length?e.createElement("li",null,e.createElement("span",null,"Cor"),e.createElement("span",null,p.join(", "))):null,y?e.createElement("li",null,e.createElement("span",null,"Tamanho"),e.createElement("span",null,cb().stocks[y])):null,v?e.createElement("li",null,e.createElement("span",null,"Comprimento"),e.createElement("span",null,v)):null,x?e.createElement("li",null,e.createElement("span",null,"Material"),e.createElement("span",null,cb().cloth_names[x])):null,C?e.createElement("li",null,e.createElement("span",null,"Pblico"),e.createElement("span",null,C?"Infantil":"Adulto")):null)))),e.createElement(t_,null,e.createElement(n_,null,e.createElement(r_,null,e.createElement(i_,null,Number(g-g*k/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),k?e.createElement(o_,null,Number(g).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})):null),E>1?e.createElement(a_,null,"at ",E,"x de ",Number((g-g*k/100)/E).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})):null),e.createElement(s_,{type:"button",statusColor:403!==d&&cb().isValid[b](h),onClick:()=>{403!==d?cb().isValid[b](h)?o.map((e=>e.moment)).includes(l)?(u({status:!0}),a((e=>{const t=[...e];return t[t.map((e=>e.moment)).indexOf(l)]={...h,moment:l},t}))):(u({status:!0}),a((e=>{const t=[...e];return t.push({...h,moment:l}),t}))):$g.warn("Selecione um tamanho",cb().toast_options):$g.warn("Este produto  indisponvel!",cb().toast_options)}},o.map((e=>e.moment)).includes(l)?"ATUALIZAR":"COMPRAR")),e.createElement(z_,null))))},X_=function(){const t=tg();return e.createElement(e.Fragment,null,e.createElement(Ww,null,e.createElement(Hw,null,e.createElement(Gw,{type:"button",onClick:()=>t.goBack()},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 451.111 451.111",fill:"#fff"},e.createElement("path",{d:"m451.111 193.333h-322.222l112.778-112.777-48.333-48.333-193.334 193.333 193.333 193.333 48.333-48.333-112.777-112.778h322.222z"}))),e.createElement(m_,null)),e.createElement(Qw,null,e.createElement(Yw,null,e.createElement(zb,{displayFlex:!0,flexDirection:"column",spaceBottomChild:"1rem",width:"100%"},e.createElement(zb,{displayFlex:!0,floatChild:"left",width:"100%",widthChild:"100%"},e.createElement(Sb.ZP,{width:"94%",height:17})),e.createElement(zb,{displayFlex:!0,floatChild:"left",width:"100%",widthChild:"100%"},e.createElement(Sb.ZP,{width:"65%",height:17})))),e.createElement("div",null,e.createElement(Xw,null,e.createElement("div",null,e.createElement(zb,{displayFlex:!0,width:76,floatChild:"left"},e.createElement(Sb.ZP,{width:76,height:15})))),e.createElement(zb,{displayFlex:!0,flexDirection:"column",floatChild:"left",width:"100%",widthChild:"100%",spaceBottomChild:"0.41rem"},e.createElement(Sb.ZP,{width:"94%",height:12}),e.createElement(Sb.ZP,{width:"92%",height:12}),e.createElement(Sb.ZP,{width:"96%",height:12}),e.createElement(Sb.ZP,{width:"88%",height:12}),e.createElement(Sb.ZP,{width:"42%",height:12}))),e.createElement("div",null,e.createElement(Xw,null,e.createElement("div",null,e.createElement(zb,{displayFlex:!0,width:152,floatChild:"left"},e.createElement(Sb.ZP,{width:152,height:15})))),e.createElement(e_,null,e.createElement(zb,{displayFlex:!0,width:"100%",widthChild:"100%",floatChild:"left"},e.createElement(Sb.ZP,{width:"100%",height:28})),e.createElement(zb,{displayFlex:!0,width:"100%",widthChild:"100%",floatChild:"left",height:28}),e.createElement(zb,{displayFlex:!0,width:"100%",widthChild:"100%",floatChild:"left"},e.createElement(Sb.ZP,{width:"100%",height:28})),e.createElement(zb,{displayFlex:!0,width:"100%",widthChild:"100%",floatChild:"left",height:28}),e.createElement(zb,{displayFlex:!0,width:"100%",widthChild:"100%",floatChild:"left"},e.createElement(Sb.ZP,{width:"100%",height:28})),e.createElement(zb,{displayFlex:!0,width:"100%",widthChild:"100%",floatChild:"left",height:28}))))),e.createElement(t_,null,e.createElement(n_,null,e.createElement(r_,null,e.createElement(zb,{displayFlex:!0,alignItems:"center",widthChild:"100%",floatChild:"left",style:{width:"68px",height:"19px"}},e.createElement(Sb.ZP,{width:68,height:16})),e.createElement(zb,{floatChild:"left",style:{width:"56px",height:"19px"}},e.createElement(Sb.ZP,{width:56,height:12}))),e.createElement(zb,{displayFlex:!0,alignItems:"center",width:82,widthChild:"100%",floatChild:"left",style:{height:"16px"}},e.createElement(Sb.ZP,{width:93,height:10}))),e.createElement(zb,{displayFlex:!0,alignItems:"center",floatChild:"left",style:{width:"150px"}},e.createElement(Sb.yB,{color:"#2bd660",highlightColor:"#20a148"},e.createElement(zb,{displayFlex:!0,floatChild:"left",widthChild:"100%",style:{width:"150px"}},e.createElement(Sb.ZP,{width:150,height:35}))))))};const J_=e=>e.indexOf("&")>-1?e.substring(e.indexOf("&"),0):e,eE=async({token:e,id:t},{signal:n})=>await fm().httpsCallable("queryProduct")({token:e,id:J_(t)}).then((e=>e.data));var tE=function(){const{token:t}=ky(),{id:n}=rg(),{data:r,error:i}=$y({promiseFn:eE,token:t,id:n});return i?i.message:r?e.createElement(Y_,{data:r,id:n}):e.createElement(X_,null)},nE=function({data:t}){const n=tg(),[r,i]=t,{status:o=200,title:a,thumb:s=[],price:u,installment:l=1,price_off:c=0}=i;return e.createElement(Ib,null,e.createElement("div",null,!!c&&e.createElement(Nb,null,c,"% OFF"),s.length?e.createElement(hw,{thumb:s}):e.createElement(uw,null)),e.createElement(Rb,null,e.createElement(Db,null,e.createElement("h4",null,a)),e.createElement(Ob,null,e.createElement(Lb,null,e.createElement(Mb,null,Number(u-u*c/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),c?e.createElement(Fb,null,Number(u).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})):null),403!==o?l>1&&e.createElement(Ub,null,"Ou at ",l,"x de ",Number((u-u*c/100)/l).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})):e.createElement(jb,null,"Produto indisponvel"))),403!==o&&e.createElement(Ab,{type:"button",onClick:()=>n.push(`/p/${r}`)}))};const rE=vy.div`
  display: flex;
  flex-flow: wrap;
  padding: 1.6rem;

  @media (min-width: 1040px) {
    padding: 3rem 1.6rem 1.4rem;
    max-width: calc(100% - 1.65rem);
    margin: 0 auto;

    & > *:not(:nth-child(5n+5)) {
      margin-right: 1.6rem;
    }

    & > * {
      margin-bottom: 1.6rem;
    }
  }
`;var iE=function({data:t}){return e.createElement(e.Fragment,null,e.createElement(ub,null),e.createElement(mb,null,e.createElement(nb,null,e.createElement(rE,null,Object.keys(t).length?Object.entries(t).sort(((e,t)=>e[1].timestamp<t[1].timestamp?1:t[1].timestamp<e[1].timestamp?-1:0)).map((t=>e.createElement(nE,{key:t[0],data:t}))):e.createElement("div",null,"No h produtos aqui!")))))},oE=function(){return e.createElement(e.Fragment,null,e.createElement(ub,null),e.createElement(mb,null,e.createElement(nb,null,e.createElement(rE,null,[{twoLine:!0,installments:!0},{twoLine:!1,installments:!0},{twoLine:!1,installments:!0},{twoLine:!0},{twoLine:!0},{twoLine:!1,installments:!0}].map(((t,n)=>e.createElement(Nw,{key:n,data:t})))))))};const aE=async({token:e,id:t},{signal:n})=>await fm().httpsCallable("queryObject")({token:e,ref:"feed"}).then((e=>e.data)).then((e=>Object.fromEntries(Object.entries(e).filter((e=>e[1].subcategory===t&&(200===(e[1].status||200)||403===(e[1].status||200)))))));var sE=function(){const{token:t}=ky(),{id:n}=rg(),{data:r,error:i}=$y({promiseFn:aE,token:t,id:n});return i?i.message:r?e.createElement(iE,{data:r}):e.createElement(oE,null)};const uE=vy.div`
  max-height: 56px;
  min-height: 56px;
  background: #fff;
  box-shadow: 0 4px 4px rgba(153,150,150,.15);
  display: flex;
  z-index: 4;

  & svg {
    float: left;
  }
`,lE=vy.div`
  justify-content: space-between;
  align-items: center;
  display: flex;
  padding: 0 2rem;
  height: 100%;
`,cE=vy.button`
  position: relative;
  overflow: hidden;
`,hE=vy.section`
  min-width: 110px;
  background-image: var(--brand-header);
  background-position: 0 center;
  background-repeat: no-repeat;
  background-size: 110px;
  height: 28px;
`,fE=vy.img`
  max-height: 40px;
  float: left;
`,dE=vy.div`
  display: flex;
  align-items: center;
  text-transform: uppercase;
  font-family: var(--font-mont);
  font-size: 1.4rem;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,pE=vy.div`
  display: flex;
  flex-direction: column;
`,mE=vy.small`
  font-weight: 400;
`,gE=vy.small`
  font-weight: 600;
`;var vE=function(){const t=tg(),n=ng(),{mask:r}=Cy(),{brand_header:i}=r||{},{pathname:o}=n,a=e=>{o!==e&&t.push(e)};return e.createElement(uE,null,e.createElement(nb,null,e.createElement(lE,null,i?e.createElement(cE,{type:"button",onClick:()=>a("/")},e.createElement(fE,{src:i,alt:""})):e.createElement(cE,{type:"button",onClick:()=>a("/")},e.createElement(hE,null)),e.createElement(dE,null,e.createElement("svg",{width:"13",height:"16",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M5.76076 11.0723L5.56362 12.9632C5.55387 13.0573 5.58223 13.1517 5.64144 13.2223C5.70064 13.293 5.78549 13.3333 5.87429 13.3333H7.1243C7.2131 13.3333 7.29794 13.293 7.35715 13.2223C7.41636 13.1517 7.44475 13.0573 7.43496 12.9632L7.23782 11.0723C7.55795 10.8239 7.74929 10.431 7.74929 10C7.74929 9.26466 7.18869 8.66666 6.49928 8.66666C5.80986 8.66666 5.24927 9.26466 5.24927 10C5.24927 10.431 5.44064 10.8239 5.76076 11.0723ZM6.49928 9.33334C6.84381 9.33334 7.12427 9.6325 7.12427 10C7.12427 10.2555 6.98816 10.4844 6.76904 10.5977C6.64972 10.6595 6.57985 10.7943 6.59449 10.9346L6.77517 12.6667H6.22342L6.40409 10.9346C6.41874 10.7943 6.34887 10.6595 6.22954 10.5977C6.01043 10.4844 5.87432 10.2555 5.87432 10C5.87429 9.6325 6.15475 9.33334 6.49928 9.33334Z",fill:"black"}),e.createElement("path",{d:"M11.8125 6H10.875V4.66666C10.875 2.09344 8.91242 0 6.5 0C4.08758 0 2.12501 2.09344 2.12501 4.66666V6H1.18751C1.01478 6 0.875 6.14909 0.875 6.33334V14.6667C0.875 15.402 1.4356 16 2.12501 16H10.875C11.5644 16 12.125 15.402 12.125 14.6667V6.33334C12.125 6.14909 11.9852 6 11.8125 6ZM2.75 4.66666C2.75 2.46094 4.43214 0.666656 6.5 0.666656C8.56786 0.666656 10.25 2.46094 10.25 4.66666V6H9.62501V4.66666C9.62501 2.82875 8.22304 1.33331 6.5 1.33331C4.77696 1.33331 3.37499 2.82878 3.37499 4.66666V6H2.75V4.66666ZM8.99999 4.66666V6H4.00001V4.66666C4.00001 3.19628 5.12152 2 6.5 2C7.87848 2 8.99999 3.19628 8.99999 4.66666ZM11.5 14.6667C11.5 15.0342 11.2196 15.3333 10.875 15.3333H2.12501C1.78048 15.3333 1.50002 15.0342 1.50002 14.6667V6.66666H11.5V14.6667Z",fill:"black"})),e.createElement(pE,null,e.createElement(mE,null,"compra"),e.createElement(gE,null,"100% segura"))))))};const yE=(0,e.createContext)();function bE({children:t,useFrete:n,setFrete:r}){return e.createElement(yE.Provider,{value:{useFrete:n,setFrete:r}},t)}function wE(){const t=(0,e.useContext)(yE),{useFrete:n,setFrete:r}=t;return{useFrete:n,setFrete:r}}const _E=(0,e.createContext)();function EE({children:t,useDelete:n,setDelete:r,dataRef:i}){return e.createElement(_E.Provider,{value:{useDelete:n,setDelete:r,dataRef:i}},t)}function xE(){const t=(0,e.useContext)(_E),{useDelete:n,setDelete:r}=t;return{useDelete:n,setDelete:r}}function CE(){const t=(0,e.useContext)(_E),{dataRef:n}=t;return{cart:n.current}}const kE=vy.div`
  clear: both;
`,TE=vy.div`
  font-size: 2.4rem;
  font-weight: 500;
  font-family: var(--font-mont);
  text-transform: uppercase;
  margin-bottom: 1rem;
  text-align: center;
  display: block;
`,SE=vy.div`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,IE=vy.form`
  width: 100%;
  background: #efefef;
  align-items: center;
  display: flex;

  ${hb(3)}
`,AE=vy.input`
  width: 100%;
  background: rgba(255, 255, 255, 0);
  padding: 11px 0px;
  font-weight: 400;
  color: #797979;
  font-size: 1.75rem;
  text-indent: 1.4rem;
  height: 100%;

  &, &::placeholder {
    font-family: var(--font-mont);
  }

  &[disabled] {
    background: #efefef;

    & ~ label {
      ${hb(3)}
    }
  }

  &:focus {
    border-color: #000;
  }

  &:focus ~ label, ${({status:e})=>e&&"& ~ label"} {
    padding: 0px 10px;
    font-size: 1em;
    background: rgba(255, 255, 255);
    z-index: 20;
    top: -8px;
  }

  &:focus ~ label {
    color: rgba(18, 115, 235);
  }
`,PE=vy.button`
  color: #000;
  width: 100%;
  min-width: 40px;
  max-width: 40px;
  justify-content: center;
  align-items: center;
  display: flex;
`,NE=vy.div`
  justify-content: space-between;

  &, & > * {
    display: flex;
  }

  & > * {
    align-items: center;

    & > *:not(:last-child) {
      margin-right: 0.8rem;
    }
  }
`,RE=vy.span`
  color: #dd4b39;
  font-weight: 400;
  font-family: var(--font-poopins);
`,OE=vy.a`
  color: #000;
  font-weight: 100;
  display: flex;
  align-items: center;
  font-size: 1.4rem;

  & > *:not(:last-child) {
    margin-right: 0.4rem;
  }
`,{jQuery:DE}=window;var LE=function(){const t=(0,e.useRef)(null),{setRoot:n}=xy();return(0,e.useEffect)((()=>{const{current:e}=t;DE(e).mask("00000-000")}),[t]),e.createElement(kE,null,e.createElement(TE,null,"Entrega"),e.createElement(SE,null,e.createElement(IE,null,e.createElement(AE,{type:"text",placeholder:"Insira seu CEP",ref:t,onInput:e=>{return t=e.target.value,n((e=>Object({...e,client_cep:t})));var t},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off"}),e.createElement(PE,{type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 551.13 551.13"},e.createElement("path",{d:"m551.13 526.776-186.785-186.785c30.506-36.023 49.003-82.523 49.003-133.317 0-113.967-92.708-206.674-206.674-206.674s-206.674 92.707-206.674 206.674 92.707 206.674 206.674 206.674c50.794 0 97.294-18.497 133.317-49.003l186.785 186.785s24.354-24.354 24.354-24.354zm-344.456-147.874c-94.961 0-172.228-77.267-172.228-172.228s77.267-172.228 172.228-172.228 172.228 77.267 172.228 172.228-77.267 172.228-172.228 172.228z"})))),e.createElement(NE,null,e.createElement("div",null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 515.556 515.556",fill:"#dd4b39"},e.createElement("path",{d:"m257.778 0c-142.137 0-257.778 115.641-257.778 257.778s115.641 257.778 257.778 257.778 257.778-115.641 257.778-257.778-115.642-257.778-257.778-257.778zm32.222 386.667h-64.444v-64.444h64.444zm.002-96.667h-64.444v-161.111h64.444z"})),e.createElement(RE,null,"Campo obrigatrio.")),e.createElement("div",null,e.createElement(OE,{href:"https://buscacepinter.correios.com.br/app/endereco/index.php",target:"_blank",rel:"noreferrer"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 551.13 551.13"},e.createElement("path",{d:"m275.565 0c-151.944 0-275.565 123.621-275.565 275.565s123.621 275.565 275.565 275.565 275.565-123.621 275.565-275.565-123.621-275.565-275.565-275.565zm0 516.685c-132.955 0-241.119-108.164-241.119-241.119s108.164-241.12 241.119-241.12 241.12 108.164 241.12 241.119-108.165 241.12-241.12 241.12z"}),e.createElement("path",{d:"m258.342 413.348h34.446v34.446h-34.446z"}),e.createElement("path",{d:"m275.565 103.337c-56.983 0-103.337 46.353-103.337 103.337v34.446h34.446v-34.446c0-37.995 30.897-68.891 68.891-68.891 37.995 0 68.891 30.897 68.891 68.891 0 25.851-13.775 50.188-35.943 63.492l-41.813 25.077c-5.18 3.112-8.359 8.712-8.359 14.767v68.891h34.446v-59.136l33.453-20.065c32.478-19.51 52.661-55.15 52.661-93.027.001-56.983-46.353-103.336-103.336-103.336z"})),e.createElement("span",null,"No sei meu CEP"))))))};const ME=vy.div`
  clear: both;
`,FE=vy.div`
  display: flex;
  flex-direction: column;

  &:not(:last-child) {
    margin-bottom: 1rem;
  }
`,jE=vy.div`
  justify-content: space-between;
  display: flex;

  &:not(:last-child) {
    margin-bottom: 0.6rem;
  }

  & > * {
    display: flex;
    align-items: center;
  }
`,UE=vy.button`
  color: var(--color-default);
  align-items: center;
  display: flex;

  & > *:not(:last-child) {
    margin-right: 0.5rem;
  }
`,zE=vy.span`
  font-size: 2rem;
  font-weight: 600;
`;var qE=function(){return e.createElement(ME,null,e.createElement(FE,null,e.createElement(jE,null,e.createElement(Sb.ZP,{width:44,height:15}),e.createElement(Sb.ZP,{width:50,height:15}))),e.createElement(FE,null,e.createElement(jE,null,e.createElement(Sb.ZP,{width:138,height:15}),e.createElement(Sb.ZP,{width:120,height:15})),e.createElement(jE,null,e.createElement(Sb.ZP,{width:126,height:15}))),e.createElement(FE,null,e.createElement(jE,null,e.createElement(Sb.ZP,{width:28,height:15}),e.createElement(Sb.ZP,{width:72,height:15}))))};const BE=async({token:e,client_cep:t},{signal:n})=>await fm().httpsCallable("queryCorreios")({token:e,data:t}).then((e=>e.data));var VE=function(){const{token:t}=ky(),{setFrete:n}=wE(),{useRoot:r,setRoot:i}=xy(),{client_cep:o=""}=r,{data:a,error:s}=$y({promiseFn:BE,token:t,client_cep:o});return(0,e.useEffect)((()=>{if(a){const{error:e,message:t}=a;e?($g.error(t,cb().toast_options),i({})):n({...a,status:!0})}}),[a]),(0,e.useEffect)((()=>{s&&(window.navigator.onLine?$g.error("Erro ao buscar, tente novamente",cb().toast_options):$g.error("No foi possvel conectar-se  internet",cb().toast_options),i({}))}),[s]),e.createElement(qE,null)},WE=function(){const{cart:t}=CE(),{useCart:n}=Ey(),{setRoot:r}=xy(),{useFrete:i,setFrete:o}=wE(),{shipping_value:a,deadline:s,cep:u}=i,l=n.map((e=>{const{id:n,amount:r=1}=e,{price:i,price_off:o=0}=t.find((e=>e.id===n));return Number(r*(i-i*o/100))})).reduce(((e,t)=>e+t),0);return e.createElement(ME,null,e.createElement(FE,null,e.createElement(jE,null,e.createElement("span",null,"Entrega"),e.createElement("span",null,Number(a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),e.createElement(FE,null,e.createElement(jE,null,e.createElement("span",null,"Entrega para ",u),e.createElement("span",null,"Em media de ",s," dias")),e.createElement(jE,null,e.createElement(UE,{type:"button",onClick:()=>(r({}),void o({}))},e.createElement("span",null,"Informar outro CEP"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"11",viewBox:"0 0 515.556 515.556",fill:"#0088cc"},e.createElement("path",{d:"m257.778 0c-142.137 0-257.778 115.641-257.778 257.778s115.641 257.778 257.778 257.778 257.778-115.641 257.778-257.778-115.642-257.778-257.778-257.778zm113.926 326.141-45.564 45.564-68.362-68.362-68.362 68.362-45.564-45.564 68.362-68.362-68.362-68.362 45.564-45.564 68.362 68.362 68.362-68.362 45.564 45.564-68.362 68.362s68.362 68.362 68.362 68.362z"}))))),e.createElement(FE,null,e.createElement(jE,null,e.createElement("span",null,"Total"),e.createElement(zE,null,Number(l+a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))))},HE=function(){const{useFrete:t}=wE(),{useRoot:n}=xy(),{client_cep:r=""}=n;return 9===r.length?t.status?e.createElement(WE,null):e.createElement(VE,null):e.createElement(LE,null)};const GE=vy.div`
  background: rgba(255,255,255,0.92);
  z-index: 99;
  position: relative;
  width: calc(100vw - 3.6rem);
  max-width: 420px;
  overflow: hidden;
  font-size: 1.43rem;
  box-shadow: 0 0 15px 0 rgba(0,0,0,0.24);

  ${hb(5)}

  @media (min-width: 1040px) {
    background: #fff;

    ${hb(0)}
  }
`,KE=vy.div`
  padding: 2.5rem;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,$E=vy.span`
  font-size: 1.8rem;
  font-weight: 500;
  display: block;
`,ZE=vy.span`
  color: #717171;
  font-size: 1.4rem;
  line-height: 1.45em;
  font-weight: 400;
  display: block;
`,QE=(vy.button`
  min-height: 32px;
  white-space: nowrap;
  font-size: 1.5rem;
  font-weight: 400;

  ${hb(4)}
`,vy.div`
  border-top: 1px solid #ccc;
  display: flex;

  @media (min-width: 1040px) {
    background: #efefef;
    justify-content: flex-end;
    border-top: 1px solid #e0e0e0;
    padding: 1.6rem;

    & > *:not(:last-child) {
      margin-right: 1.6rem;
    }

    & button {
      padding: 0.7rem;
    }
  }

  & > * {

    @media (max-width: 1039px) {
      width: 100%;
      padding: 1.6rem;
    }
  }
`),YE=vy.button`
  color: #0077cc;

  @media (min-width: 1040px) {
    color: #999;
  }

  &:hover {
    font-weight: 900;
  }
`,XE=vy.button`
  color: ${({color:e="#0077cc"})=>e};

  @media (min-width: 1040px) {
    color: #000;
  }

  &:hover {
    font-weight: 900;
  }
`,JE=vy.div`
  width: 1px;
  background: #ccc;
  min-width: 1px;
  max-width: 1px;
  font-size: 0;
  padding: 0;

  @media (min-width: 1040px) {
    display: none;
  }
`;function ex(){return(ex=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}vy.span`

  @media (min-width: 1040px) {
    display: none;
  }
`,vy.span`

  @media (max-width: 1039px) {
    display: none;
  }
`;var tx=function({valuesForm:t}){const{title:n,message:r,buttons:i,confirmFn:o,close:a}=t,[s,u]=i;return e.createElement(GE,null,e.createElement(KE,null,e.createElement($E,null,n),e.createElement(ZE,null,r)),e.createElement(QE,null,e.createElement(YE,ex({type:"button"},s,{onClick:()=>a()}),s.value),e.createElement(JE,null),e.createElement(XE,ex({type:"button"},u,{onClick:()=>o()}),u.value)))};const{jQuery:nx}=window;var rx=function(){const t=(0,e.useRef)(null),n=(0,e.useRef)(!1),r=(0,e.useRef)(!1),{useCart:i,setCart:o}=Ey(),{useDelete:a,setDelete:s}=xE(),{status:u,moment:l}=a;(0,e.useEffect)((()=>{n.current&&u?nx(t.current).fadeIn(200):n.current=!0}),[u]),(0,e.useEffect)((()=>{r.current&&!1===u?nx(t.current).fadeOut(300,(()=>s({}))):r.current=!0}),[u]);const c=()=>s((e=>Object({...e,status:!1}))),h={title:"Remover",message:"Deseja remover este produto da sacola?",buttons:[{value:"Cancelar"},{value:"Excluir",color:"#e54b40"}],close:c,confirmFn:function(){const e=[...i];e.map((e=>e.moment)).indexOf(l)>-1&&(e.splice(e.map((e=>e.moment)).indexOf(l),1),o(e),$g.info("Item removido com sucesso!",cb().toast_options),c())}};return e.createElement(M_,{ref:t},l?e.createElement(e.Fragment,null,e.createElement(F_,{onClick:()=>c()}),e.createElement(j_,null,e.createElement(tx,{valuesForm:h}))):null)};const ix=vy.div`
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
`,ox=vy.div`
  overflow-x: hidden;
  overflow-y: overlay;
  padding: 1.6rem;
  height: 100%;

  @media (min-width: 1040px) {
    overflow: initial;
    margin-top: 1rem;
  }
`,ax=vy.div`
  margin-bottom: 1.6rem;

  @media (min-width: 1040px) {
    width: 100%;
  }
`,sx=vy.div`

  @media (max-width: 1039px) {
    padding-top: 1.6rem;
    border-top: 1px solid rgb(239, 239, 239);
  }

  @media (min-width: 1040px) {
    width: 100%;
    max-width: 320px;
  }
`,ux=vy.span`
  font-size: 2.4rem;
  font-weight: 400;
  font-family: var(--font-mont);
  text-transform: uppercase;
  margin-bottom: 1rem;
  display: block;
`,lx=vy.div`
  width: 100%;
  background: #efefef;
  padding: 1.6rem;
  justify-content: space-between;
  align-items: center;
  display: flex;

  @media (min-width: 1040px) {
    background: rgba(0,0,0,0);
    max-width: 694px;
    justify-content: flex-end;
  }

  & button {
    font-family: var(--font-poopins);
  }

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,cx=vy.button`
  color: #585858;
  font-size: 1.4rem;

  @media (min-width: 1040px) {
    display: none;
  }
`,hx=vy.button`
  color: #fff;
  width: 100%;
  min-width: 40%;
  max-width: 54%;
  font-size: 1.7rem;
  font-weight: 100;
  background: #3fbf5b;
  padding: 1rem 1.6rem;
  text-shadow: -1px -1px rgba(0,0,0,0.35);
  box-shadow: inset 0 -2px 0 rgba(0,0,0,0.25);

  ${hb(3)}

  @media (min-width: 1040px) {
    max-width: 160px;
    min-width: initial;
  }

  &:hover {
    background: #3bdc5e;
    box-shadow: none;
  }

  &:active {
    background: #3fad57;
    box-shadow: none;
  }

  &:focus {
    box-shadow: rgba(71, 234, 107) 0px 0px 4px 2px;
  }
`,fx=vy.div`
  width: 100%;
  align-items: center;
  display: flex;

  & img {
    float: left;
  }

  &:not(:first-child) {
    padding-top: 1rem;
  }

  &:not(:last-child) {
    border-bottom-width: 1px;
    border-bottom-style: solid;
    border-bottom-color: #efefef;
    padding-bottom: 1rem;
  }

  & > *:not(:last-child) {
    margin-right: 1.6rem;
  }
`,dx=vy.div`
  background-size: cover;
  background-repeat: no-repeat;
  background-position: top center;
  background-color: rgba(232,232,232);
  width: 100%;
  max-width: 72px;
  max-height: 72px;
  min-width: 72px;
  min-height: 72px;
  height: 100%;

  ${hb(3)}

  & > * {
    float: left;
  }
`,px=vy.div`
  width: 100%;
  justify-content: space-evenly;
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,mx=vy.span`
  font-size: 1.8rem;
  align-items: center;
  display: inline-grid;
  grid-template-columns: 1fr 0fr;

  & span {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }


  & svg {
    float: left;
  }

  & > *:not(:last-child) {
    margin-right: 1.6rem;
  }
`,gx=vy.div`
  justify-content: space-between;
  display: flex;
`,vx=vy.div`
  color: #999;
  max-width: 100px;
  align-items: center;
  border: 1px solid;
  display: flex;
  height: 28px;

  ${hb(3)}

  & > * {
    height: 100%;
  }
`,yx=vy.button`
  width: 100%;
  min-width: 28px;
  max-width: 28px;
  font-weight: 600;
  font-size: 2rem;
  font-family: var(--font-mont);
`,bx=vy(yx)`
  border-left: 1px solid #999;
`,wx=vy(yx)`
  border-right: 1px solid #999;
`,_x=vy.input`
  width: 100%;
  text-align: center;
`,Ex=vy.div`
  font-size: 1.9rem;
  font-weight: 600;
  font-family: var(--font-poopins);
`,xx=vy.span`
  color: #808080;
  font-size: 1.6rem;
  font-weight: 300;
`;var Cx=function({data:t,id:n}){const r=tg();return e.createElement("button",{type:"button",onClick:()=>r.push(`/p/${n}`)},e.createElement(dx,{style:{backgroundImage:"url("+t+")"}},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"100%",width:"100%",alt:""})))},kx=function(){return e.createElement(zb,{displayFlex:!0,alignItems:"center",floatChild:"left"},e.createElement(Sb.ZP,{width:72,height:72}))},Tx=function(){return e.createElement(dx,{style:{backgroundImage:"var(--background-thumbnail)",backgroundPosition:"center",backgroundSize:"67%",backgroundRepeat:"no-repeat",backgroundColor:"#eee"}},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"100%",width:"100%",alt:""}))};const Sx=async({useWhere:e,thumb:t},{signal:n})=>{const[r]=t;return await(async(e,t)=>{const{name:n}=t;return await cm().ref(`branch/${e}/products/${n}_160x160.jpeg`).getDownloadURL()})(e,r)};var Ix=function({thumb:t,id:n}){const{useWhere:r}=wy(),{data:i,error:o}=$y({promiseFn:Sx,useWhere:r,thumb:t});return o?e.createElement(Tx,null):i?e.createElement(Cx,{data:i,id:n}):e.createElement(kx,null)},Ax=function({data:t,i:n}){const{setDelete:r}=xE(),{setCart:i}=Ey(),{profile:o}=Cy(),{max_cart:a=15}=o||{},{id:s,moment:u,amount:l=1,id_stocks:c="001"}=t,{cart:h}=CE(),{title:f,thumb:d=[],price:p,id_size:m,price_off:g=0}=h.find((e=>e.id===s));return e.createElement(fx,null,d.length?e.createElement(Ix,{thumb:d,id:s}):e.createElement(Tx,null),e.createElement(px,null,e.createElement(mx,null,e.createElement("span",null,f),e.createElement("button",{type:"button",onClick:()=>r({moment:u,status:!0})},e.createElement("svg",{width:"14",height:"16",viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M1.76971 4.80853C1.76971 4.67218 1.65914 4.56156 1.52279 4.56156C1.38645 4.56156 1.27581 4.67268 1.27581 4.80853V14.2825C1.27581 14.7007 1.44767 15.0815 1.72343 15.3578C1.99918 15.6335 2.38045 15.8054 2.79872 15.8054H10.4544C10.8727 15.8054 11.2544 15.6335 11.5297 15.3578C11.8055 15.082 11.9773 14.7013 11.9773 14.2825V4.80853C11.9773 4.67218 11.8667 4.56156 11.7304 4.56156C11.594 4.56156 11.4834 4.67268 11.4834 4.80853V14.2825C11.4834 14.5644 11.3671 14.8222 11.1809 15.0084C10.9946 15.1947 10.7369 15.3114 10.4549 15.3114H2.79919C2.51725 15.3114 2.26005 15.1946 2.07376 15.0084C1.887 14.8216 1.77075 14.5644 1.77075 14.283V4.80853H1.76971Z",fill:"black"}),e.createElement("path",{d:"M8.46864 13.6444C8.46864 13.7807 8.57926 13.8913 8.71561 13.8913C8.85195 13.8913 8.96257 13.7807 8.96257 13.6444V4.87222C8.96257 4.73588 8.85195 4.62526 8.71561 4.62526C8.57926 4.62526 8.46864 4.73588 8.46864 4.87222V13.6444Z",fill:"black"}),e.createElement("path",{d:"M6.37974 13.6444C6.37974 13.7807 6.49033 13.8913 6.62668 13.8913C6.76302 13.8913 6.87364 13.7807 6.87364 13.6444V4.87222C6.87364 4.73588 6.76302 4.62526 6.62668 4.62526C6.49033 4.62526 6.37974 4.73588 6.37974 4.87222V13.6444Z",fill:"black"}),e.createElement("path",{d:"M4.29039 13.6444C4.29039 13.7807 4.40096 13.8913 4.53731 13.8913C4.67368 13.8913 4.78427 13.7807 4.78427 13.6444V4.87222C4.78427 4.73588 4.67368 4.62526 4.53731 4.62526C4.40096 4.62526 4.29039 4.73588 4.29039 4.87222V13.6444Z",fill:"black"}),e.createElement("path",{d:"M8.61267 1.52291C8.61267 1.65926 8.72328 1.76987 8.85963 1.76987C8.99595 1.76987 9.10657 1.65926 9.10657 1.52291C9.10657 1.10359 8.93525 0.722875 8.65946 0.447108C8.3837 0.17132 8.00296 0 7.58366 0H5.66973C5.25093 0 4.8702 0.17184 4.59447 0.447607C4.31871 0.723373 4.14684 1.10512 4.14684 1.52291C4.14684 1.65926 4.25744 1.76987 4.39379 1.76987C4.53013 1.76987 4.64073 1.65926 4.64073 1.52291C4.64073 1.24097 4.757 0.983201 4.94326 0.79696C5.12955 0.610697 5.38728 0.493907 5.66921 0.493907H7.58312C7.86558 0.493907 8.12283 0.610178 8.30959 0.79644C8.4964 0.983201 8.61267 1.24045 8.61267 1.52291Z",fill:"black"}),e.createElement("path",{d:"M12.3685 2.23282H0.884927C0.642619 2.23282 0.421382 2.33211 0.260847 2.49265L0.259829 2.49369C0.0992935 2.6542 0 2.87544 0 3.11777V3.75575C0 3.89207 0.11062 4.00269 0.246965 4.00269H13.0064C13.1428 4.00269 13.2534 3.89207 13.2534 3.75575V3.11777C13.2534 2.87596 13.1541 2.6542 12.9936 2.49369L12.9925 2.49265C12.832 2.33213 12.6103 2.23282 12.3685 2.23282ZM0.884905 2.72675H12.3685C12.476 2.72675 12.5743 2.77049 12.6442 2.84096L12.6453 2.842C12.7158 2.91195 12.7595 3.00972 12.7595 3.11777V3.50879H0.494428V3.11777C0.494428 3.01024 0.538172 2.91197 0.608618 2.842L0.60968 2.84096C0.679607 2.77049 0.777383 2.72675 0.884905 2.72675Z",fill:"black"})))),"001"!==c?e.createElement(xx,null,"Tamanho: ",cb().stocks[c].toUpperCase()):null,m?e.createElement(xx,null,"Tamanho: ",cb().stocks[m].toUpperCase()):null,e.createElement(gx,null,e.createElement(vx,null,e.createElement(wx,{type:"button",onClick:()=>l>1&&i((e=>{const t=[...e];return t[n].amount=l-1,t}))},"-"),e.createElement(_x,{type:"text",readOnly:!0,value:l}),e.createElement(bx,{type:"button",onClick:()=>l<a?i((e=>{const t=[...e];return t[n].amount=l+1,t})):$g.info(`Maximo de ${a} por vez`,cb().toast_options)},"+")),e.createElement(Ex,null,Number(l*(p-p*g/100)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))))},Px=function({data:t}){const n=(0,e.useRef)(t),{useCart:r}=Ey(),[i,o]=(0,e.useState)({});return e.createElement(EE,{useDelete:i,setDelete:o,dataRef:n},e.createElement(sb,null,e.createElement(ax,null,r.map(((t,n)=>e.createElement(Ax,{key:t.moment,data:t,i:n})))),e.createElement(sx,null,e.createElement(HE,null))),e.createElement(rx,null))},Nx=function(){return e.createElement(fx,null,e.createElement(zb,{floatChild:"left"},e.createElement(Sb.ZP,{width:72,height:72})),e.createElement(px,null,e.createElement(zb,{width:"100%",floatChild:"left",displayFlex:!0,justifyContent:"space-between",alignItems:"center"},e.createElement(zb,{width:"100%",widthChild:"100%",floatChild:"left",marginRight:"1.6rem"},e.createElement(Sb.ZP,{width:"100%",height:19})),e.createElement(zb,{floatChild:"left"},e.createElement(Sb.ZP,{width:18,height:18}))),e.createElement(gx,null,e.createElement(Sb.ZP,{width:100,height:28}),e.createElement(Sb.ZP,{width:70,height:16}))))},Rx=function(){const{useCart:t}=Ey();return e.createElement(e.Fragment,null,e.createElement(ax,null,t.map(((t,n)=>e.createElement(Nx,{key:t.moment,data:t,i:n})))),e.createElement(sx,null,e.createElement(qE,null)))};const Ox=({val:e,data:t})=>t.map((t=>t[e])).filter(((e,t,n)=>n.indexOf(e)===t)),Dx=async({token:e,useCart:t},{signal:n})=>await fm().httpsCallable("listProducts")({token:e,data:Ox({val:"id",data:t})}).then((e=>e.data));var Lx=function(){const{token:t}=ky(),{useCart:n}=Ey(),{data:r,error:i}=$y({promiseFn:Dx,token:t,useCart:n});return i?i.message:r?e.createElement(Px,{data:r}):e.createElement(Rx,null)},Mx=function(){const t=tg(),[n,r]=(0,e.useState)({}),{useRoot:i}=xy(),{client_cep:o=""}=i;return e.createElement(ix,null,e.createElement(bE,{useFrete:n,setFrete:r},e.createElement(ox,null,e.createElement(ux,null,"Minha sacola"),e.createElement(Lx,null)),e.createElement(lx,null,e.createElement(cx,{type:"button",onClick:()=>t.push("/")},"Continuar comprando"),e.createElement(hx,{type:"button",onClick:()=>{o?Object.keys(n).length?t.push("/checkout"):$g.warn("Calculando frete...",cb().toast_options):$g.error("Por favor, informe seu CEP!",cb().toast_options)}},e.createElement("span",null,"Finalizar compra")))))};const Fx=vy.div`
  width: 100%;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  display: flex;
  height: 100%;
`,jx=vy.button`
  color: #fff;
  background: #000;
  padding: 1rem 1.6rem;
  margin-top: 5rem;

  ${hb(3)}
`;var Ux=function(){const t=tg();return e.createElement(Fx,null,e.createElement("span",null,"Sacola vazia!"),e.createElement(jx,{type:"button",onClick:()=>t.push("/")},e.createElement("span",null,"Ir para o incio")))},zx=function(){const{useCart:t}=Ey();return e.createElement(e.Fragment,null,e.createElement(vE,null),e.createElement(ab,{setHeight:"100%",setDisplay:"flex"},e.createElement(nb,null,e.createElement(pb,null,t.length?e.createElement(Mx,null):e.createElement(Ux,null)))))};const qx=(0,e.createContext)();function Bx({children:t,useModal:n,setModal:r,useSuccess:i,setSuccess:o,useTerms:a,setTerms:s}){return e.createElement(qx.Provider,{value:{useModal:n,setModal:r,useSuccess:i,setSuccess:o,useTerms:a,setTerms:s}},t)}function Vx(){const t=(0,e.useContext)(qx),{useTerms:n,setTerms:r}=t;return{useTerms:n,setTerms:r}}const Wx=vy.div`
  overflow-x: hidden;
  overflow-y: overlay;
  background: #f7f7f7;
  font-family: var(--font-poopins);
  z-index: 1;
`,Hx=vy.div`
  padding-bottom: 1.6rem;
  background: rgba(255,255,255);
  border-radius: 6px 6px 0px 0px;
  font-family: var(--font-poopins);
  position: relative;
  z-index: 10;
  min-height: 52%;
  box-shadow: 0 0 9px -3px rgba(0,0,0,0.25);
`,Gx=vy.div`
  position: relative;
  display: flex;
  padding: 2rem 1.6rem;
`,Kx=vy.button`
  width: 100%;
  align-items: center;
  display: flex;
  z-index: 1;

  cursor: ${({cursorDefault:e})=>e&&"default"};

  & span:not(:last-child) {
    margin-right: 1.6rem;
  }

  @media screen and (max-width: 1040px) {
    & span:nth-child(1) {
      ${({status:e})=>e&&"\n        box-shadow: 0 0 0 2px rgba(99, 155, 208, 0.3), 0 0 0 4px rgba(99, 155, 208, 0.15);\n      "}
    }
  }
`,$x=vy.span`
  color: #fff;
  background: #639bd0;
  line-height: 38px;
  text-align: center;
  border-radius: 50%;
  width: 38px;
  height: 38px;
  display: block;
  float: left;
  font-weight: 500;
  font-size: 18px;

  @media screen and (max-width: 1040px) {
    width: 32px;
    height: 32px;
    line-height: 32px;
    font-size: 1.6rem;
  }
`,Zx=vy.div`
  width: 100%;
  background: #efefef;
  padding: 1.6rem;
  justify-content: space-between;
  align-items: center;
  display: flex;

  ${hb(3)}
`,Qx=vy.div`
  ${fb}
`,Yx=vy.span`
  color: #616161;
  line-height: 38px;
  font-weight: 400;
  font-size: 16px;

  @media screen and (max-width: 1040px) {
    font-size: 1.4rem;
  }
`,Xx=vy.form`
  position: relative;
  transition: .3s;
  display: flex;
  height: 100%;

  & > div {
    display: none;

    &:nth-child(${({nthChild:e})=>e}) {
      display: block;
    }
  }
`,Jx=vy.div`
  width: 100%;
  padding: 0 1.6rem;
  margin-bottom: 1rem;
  transition: opacity 1.5s ease 0s;
`,eC=vy.div`
  position: relative;
  display: flex;

  &:not(:last-child) {
    margin-bottom: ${({spaceBottom:e="1.6rem"})=>e};
  }

  & > *:not(:last-child) {
    margin-right: ${({spaceRight:e="1.6rem"})=>e};
  }

  & * {
    transition: all 0.2s ease-in-out 0s;
  }
`,tC=vy.div`
  width: 100%;
  display: flex;
  position: relative;

  min-width: ${({minWidth:e})=>"number"==typeof e?`${e}px`:e};
`,nC=vy.input`
  width: 100%;
  background: rgba(255,255,255,0);
  padding: 10.5px 0px;
  display: block;
  font-weight: 400;
  color: #797979;
  font-size: 1.75rem;
  border: 1px solid #dadce0;
  font-family: var(--font-poppins);
  text-indent: 1.4rem;
  position: relative;
  z-index: 10;

  ${hb(3)}

  &[disabled] {
    color: #797979;
    background: #efefef;

    & ~ label {
      ${hb(3)}
    }
  }

  &::placeholder {
    color: #bfbfbf;
  }

  &:focus {
    border: 1px solid #1273eb;
  }

  &:focus ~ label, ${({status:e})=>e&&"& ~ label"} {
    padding: 0px 10px;
    font-size: 1em;
    background: rgba(255, 255, 255);
    z-index: 20;
    top: -8px;
  }

  &:focus ~ label {
    color: rgba(18, 115, 235);
  }
`,rC=vy.label`
  color: #676767;
  font-weight: 300;
  position: absolute;
  font-size: 1.6rem;
  top: 12px;
  left: 12px;
`,iC=vy(tC)`
  max-width: ${({maxWidth:e})=>e&&e};
  min-height: 40px;

  & select {
    width: 100%;
    position: initial;
    color: #777;
    font-weight: 600;
    background-color: #ececec;
    padding-left: 24px;
    padding-right: 42px;
    border-radius: 3px;
    transition: all 375ms ease-in-out;
    font-family: var(--font-open);
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    text-align-last: center;
    direction: ltr;
    background-image: url("https://lh6.googleusercontent.com/proxy/LnbzEmBi9EQVYlCQcxOShrhtbeICdW0N7dlFEn4VAFKB6auDhYegFVQg665RROyDao0FKOBxjTmjMYH0GAVwvPkItxRnUjznsRyzl8y4ZogsqPW9usbsjzAlADHQIUkpw1m8=s0-d");
    background-repeat: no-repeat;
    background-position: calc(100% - 18px);
  }
`,oC=vy.div`
  width: 100%;
  justify-content: space-between;
  align-items: center;
  display: flex;
`,aC=vy.div`
  color: #999;
  margin-right: 1.6rem;

  &, button {
    font-size: 1.4rem;
    font-weight: 100;
  }
`,sC=vy(aC)`
  align-items: center;
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,uC=vy.div`
  ${fb}
`,lC=vy.button`
  color: #7ba9d6;
  text-decoration: underline;
  text-align: left;
`,cC=vy.button`
  color: #fff;
  padding: 0 2rem;
  min-height: 40px;
  background-color: #0161cd;
  font-weight: 500;
  white-space: nowrap;
  float: right;

  ${hb(3)}

  &:hover {
    background: #0e75e8;
  }

  &:active {
    background: #00f;
  }

  &:focus {
    box-shadow: rgba(151, 200, 255) 0px 0px 4px 2px;
  }
`,hC=vy.div`
  flex-direction: column;
  justify-content: center;
  align-items: center;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,fC=vy.div`
  width: 100%;
  padding: 0 3rem;
  flex-direction: column;
  display: flex;

  & > * {
    width: 100%;
  }
`,dC=vy.div`
  flex-direction: column;
  display: flex;

  align-items: ${({alignItems:e=""})=>e};

  &:not(:last-child) {
    margin-bottom: 2rem;
  }
`,pC=vy.p`
  font-size: ${({fontSize:e="2rem"})=>e};
  font-family: ${({fontFamily:e="var(--font-poopins)"})=>e};
  font-weight: ${({fontWeight:e="100"})=>e};
  margin-bottom: ${({marginBottom:e=""})=>e};
`,mC=vy.button`
  color: #999;
  font-family: var(--font-poopins);
  align-items: center;
  display: flex;


  &:hover {
    color: var(--color-default);
  }

  &:hover svg {
    fill: #0088cc;
  }

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,gC=vy.button`
  color: var(--color-default);
  font-family: var(--font-mont);
  padding: 1rem;
`,{clipboardData:vC}=window;var yC=function({useSuccess:t,setSuccess:n}){const r=tg(),{id:i,display_name:o}=t;return e.createElement(hC,null,e.createElement("div",null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72",height:"72",viewBox:"0 0 515.556 515.556",fill:"#2AEA6E"},e.createElement("path",{d:"m0 274.226 176.549 176.886 339.007-338.672-48.67-47.997-290.337 290-128.553-128.552z"}))),e.createElement(fC,null,e.createElement(dC,null,e.createElement(pC,null,"Ol, ",o.split(" ")[0],"!"),e.createElement(pC,{fontWeight:"600"},"Obrigado pelo seu pedido!")),e.createElement(dC,null,e.createElement(pC,{marginBottom:"0.6rem"},"Seu cdigo de segurana :"),e.createElement(eC,null,e.createElement(tC,null,e.createElement(nC,{type:"text",disabled:!0,readOnly:!0,value:i,status:!0})),e.createElement(tC,null,e.createElement(mC,{type:"button",onClick:()=>function(e){if(vC&&vC.setData)return $g("Copiado com sucesso!",cb().toast_options),vC.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return $g("Copiado com sucesso!",cb().toast_options),document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(t)}}}(i)},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 488.3 488.3",fill:"#999"},e.createElement("path",{d:"M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124 C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124 c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"}),e.createElement("path",{d:"M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227 c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6 V38.6C439.65,17.3,422.35,0,401.05,0z"})),e.createElement("span",null,"Copiar"))))),e.createElement(dC,{alignItems:"center"},e.createElement(gC,{type:"button",onClick:()=>r.push("/")},"Ir para a pgina inicial"))))};const bC=(0,e.createContext)();function wC({children:t,dataRef:n}){return e.createElement(bC.Provider,{value:{dataRef:n}},t)}function _C(){const t=(0,e.useContext)(bC),{dataRef:n}=t;return{feed:n.current}}var EC=function({data:t}){return e.createElement(dx,{style:{backgroundImage:"url("+t+")"}},e.createElement("img",{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAEALAAAAAABAAEAgM7t3M7t3AICTAEAOw==",height:"100%",width:"100%",alt:""}))};const xC=async({useWhere:e,thumb:t},{signal:n})=>{const[r]=t;return await(async(e,t)=>{const{name:n}=t;return await cm().ref(`branch/${e}/products/${n}_160x160.jpeg`).getDownloadURL()})(e,r)};var CC=function({thumb:t}){const{useWhere:n}=wy(),{data:r,error:i}=$y({promiseFn:xC,useWhere:n,thumb:t});return i?e.createElement(Tx,null):r?e.createElement(EC,{data:r}):e.createElement(kx,null)},kC=function({data:t,i:n}){const{feed:r}=_C(),{id:i,amount:o=1,id_stocks:a="001"}=t,{title:s,thumb:u=[],price:l,id_size:c}=r[i]||{};return e.createElement(fx,null,u.length?e.createElement(CC,{thumb:u,id:i}):e.createElement(Tx,null),e.createElement(px,null,e.createElement(mx,null,e.createElement("span",null,s)),"001"!==a&&e.createElement(xx,null,cb().stocks[a].toUpperCase()),!!c&&e.createElement(xx,null,cb().stocks[c].toUpperCase()),e.createElement(Ex,null,Number(l*o).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))))};const TC=vy.div`
  padding-top: 1.6rem;
  overflow-x: hidden;
  overflow-y: overlay;
  position: sticky;
  min-height: 156px;
  max-height: 48%;
  height: 100%;
  top: 0px;
`,SC=vy.span`
  text-transform: uppercase;
  font-weight: 400;
  font-size: 2rem;
  padding: 1rem 1.6rem;
  justify-content: space-between;
  align-items: center;
  display: flex;

  & svg {
    float: left;
  }
`,IC=vy.div`
  background: #eaeaea;
  padding: 1rem 1.6rem;
  font-family: var(--font-poopins);
  display: flex;

  ${hb(3)}

  & > * {
    width: 100%;
  }

  & > *:not(:last-child) {
    margin-right: 1.6rem;
  }
`,AC=vy.div`
  flex-direction: column;
  display: flex;
  justify-content: space-between;
  padding: 0.2rem 0px;
`,PC=vy.div`
  flex-direction: column;
  display: flex;
`,NC=vy.div`
  display: flex;
  justify-content: space-between;
`,RC=vy.div`
  flex-direction: column;
  display: flex;
  text-align: right;

  & > *:nth-child(1) {
    font-weight: 400;
  }

  & > *:nth-child(2) {
    font-weight: bold;
    font-size: 2.6rem;
  }
`,OC=vy.div`
  font-family: var(--font-mont);
  padding-right: 1.6rem;
  padding-bottom: 1.6rem;
  padding-left: 1.6rem;
`;var DC=function(){const{useCart:t}=Ey();return e.createElement(TC,null,e.createElement(SC,null,e.createElement("span",null,"Resumo do carrinho!"),e.createElement("button",{type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 515.556 515.556"},e.createElement("path",{d:"m257.778 0c-142.137 0-257.778 115.641-257.778 257.778s115.641 257.778 257.778 257.778 257.778-115.641 257.778-257.778-115.642-257.778-257.778-257.778zm32.222 386.667h-64.444v-64.444h64.444zm.002-96.667h-64.444v-161.111h64.444z"})))),e.createElement(OC,null,t.map((t=>e.createElement(kC,{key:t.moment,data:t})))))};const LC=vy.div`
  padding: 2.2rem;
  flex-direction: column;
  display: flex;
  height: 100%;

  & > *:not(:last-child) {
    margin-bottom: 2rem;
  }
`,MC=vy.div`
  justify-content: space-between;
  flex-direction: column;
  display: flex;
  height: 100%;

  & > *:not(:last-child) {
    margin-bottom: 10%;
  }
`,FC=vy.span`
  font-size: 2.4rem;
  font-weight: 600;
`,jC=vy.p`
  width: 80%;
  display: flex;
`,UC=vy.div`
  display: flex;
`,zC=vy.button`
  color: #fff;
  display: flex;
  background: #000;
  font-family: var(--font-poopins);
  font-weight: 100;
  font-size: 1.8rem;
  padding: 1rem 1.6rem;

  ${hb(3)}
`;var qC=function(){const t=tg();return e.createElement(LC,null,e.createElement(FC,null,"Entre para continuar"),e.createElement(MC,null,e.createElement(jC,null," necessario o registro para realizar compras no aplicativo."),e.createElement(UC,null,e.createElement(zC,{type:"button",onClick:()=>t.push("/account")},"Continuar e entrar"))))};const BC=(0,e.createContext)();function VC({children:t,useFrete:n,setFrete:r,userRef:i}){return e.createElement(BC.Provider,{value:{useFrete:n,setFrete:r,userRef:i}},t)}function WC(){const t=(0,e.useContext)(BC),{useFrete:n,setFrete:r}=t;return{useFrete:n,setFrete:r}}function HC(){const t=(0,e.useContext)(BC),{userRef:n}=t;return{user:n.current}}const GC=(0,e.createContext)();function KC({children:t,useName:n,setName:r,useProfile:i,setProfile:o,usePayload:a,setPayload:s}){return e.createElement(GC.Provider,{value:{useName:n,setName:r,useProfile:i,setProfile:o,usePayload:a,setPayload:s}},t)}function $C(){const t=(0,e.useContext)(GC),{usePayload:n,setPayload:r}=t;return{usePayload:n,setPayload:r}}const ZC=vy.div`
  margin-bottom: 1.6rem;
`,QC=vy.div`
  margin-bottom: 1rem;
`,YC=vy.div`
  width: 100%;
  display: flex;
  position: relative;

  min-width: ${({minWidth:e})=>"number"==typeof e?`${e}px`:e};
`,XC=vy.input`
  width: 100%;
  background: rgba(255,255,255,0);
  padding: 8.5px 0px;
  display: block;
  font-weight: 400;
  color: #797979;
  font-size: 1.75rem;
  box-shadow: #dadce0 0px 0px 0px 1px inset;
  font-family: var(--font-poppins);
  text-indent: 1rem;
  position: relative;
  z-index: 10;

  ${hb(3)}

  &[disabled] {
    background: #efefef;

    & ~ label {
      ${hb(3)}
    }
  }

  &::placeholder {
    color: #bfbfbf;
  }

  &:focus {
    box-shadow: rgba(18, 115, 235) 0px 0px 0px 1px inset;
  }

  &:focus ~ label, ${({status:e})=>e&&"& ~ label"} {
    padding: 0px 10px;
    font-size: 1em;
    background: rgba(255, 255, 255);
    z-index: 20;
    top: -8px;
  }

  &:focus ~ label {
    color: rgba(18, 115, 235);
  }
`,JC=vy.label`
  color: #676767;
  font-weight: 300;
  position: absolute;
  font-size: 1.6rem;
  top: 10px;
  left: 10px;
`,ek=vy.button`
  color: var(--color-default);
  align-items: center;
  display: flex;

  & > *:not(:last-child) {
    margin-right: 0.5rem;
  }
`;var tk=function(){const{useCart:t}=Ey(),{setRoot:n}=xy(),{feed:r}=_C(),{useFrete:i,setFrete:o}=WC(),{shipping_value:a,cep:s}=i,u=t.map((e=>{const{id:t,amount:n=1}=e,{price:i,price_off:o=0}=r[t]||{};return Number(n*(i-i*o/100))})).reduce(((e,t)=>e+t),0);return e.createElement(ZC,null,e.createElement(eC,null,e.createElement(YC,null,e.createElement(XC,{type:"text",readOnly:!0,value:s,disabled:!0,status:!0}),e.createElement(JC,null,"Meu CEP")),e.createElement(YC,null,e.createElement(ek,{type:"button",onClick:()=>(n({}),void o({}))},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"11",viewBox:"0 0 515.556 515.556",fill:"#0088cc"},e.createElement("path",{d:"m257.778 0c-142.137 0-257.778 115.641-257.778 257.778s115.641 257.778 257.778 257.778 257.778-115.641 257.778-257.778-115.642-257.778-257.778-257.778zm113.926 326.141-45.564 45.564-68.362-68.362-68.362 68.362-45.564-45.564 68.362-68.362-68.362-68.362 45.564-45.564 68.362 68.362 68.362-68.362 45.564 45.564-68.362 68.362s68.362 68.362 68.362 68.362z"})),e.createElement("span",null,"Usar outro CEP?")))),e.createElement(IC,null,e.createElement(AC,null,e.createElement(NC,null,e.createElement("span",null,"Entrega"),e.createElement("span",null,Number(a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),e.createElement(NC,null,e.createElement("span",null,"Subtotal"),e.createElement("span",null,Number(u).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),e.createElement(PC,null,e.createElement(RC,null,e.createElement("span",null,"Total"),e.createElement("span",null,Number(u+a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))))))};const nk=vy.div`
  margin-bottom: 1.6rem;
`;var rk=function(){const{useFrete:t}=WC(),{useProfile:n,setProfile:r}=function(){const t=(0,e.useContext)(GC),{useProfile:n,setProfile:r}=t;return{useProfile:n,setProfile:r}}(),{receiver:i,house_number:o,ref_address:a}=n,{street:s,district:u,zone:l,uf:c}=t;return e.createElement(nk,null,e.createElement(eC,null,e.createElement(tC,null,e.createElement(nC,{type:"text",disabled:!0,readOnly:!0,value:s,status:!0}),e.createElement(rC,null,"Endereo"))),e.createElement(eC,null,e.createElement(tC,null,e.createElement(nC,{type:"text",status:o,onInput:e=>{return t=e.target.value,void(isNaN(Number(t))||t.replace(/\D/g,"")===o||r((e=>Object({...e,house_number:t}))));var t},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:o||""}),e.createElement(rC,null,"Nmero")),e.createElement(tC,{minWidth:"68%"},e.createElement(nC,{type:"text",status:!0,placeholder:"Opcional",onInput:e=>{return t=e.target.value,r((e=>Object({...e,ref_address:t})));var t},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:a||""}),e.createElement(rC,null,"Complemento e referncia"))),e.createElement(eC,null,e.createElement(tC,null,e.createElement(nC,{type:"text",disabled:!0,readOnly:!0,value:u,status:!0}),e.createElement(rC,null,"Bairro"))),e.createElement(eC,null,e.createElement(tC,{minWidth:"72%"},e.createElement(nC,{type:"text",disabled:!0,readOnly:!0,value:l,status:!0}),e.createElement(rC,null,"Cidade")),e.createElement(tC,null,e.createElement(nC,{type:"text",disabled:!0,readOnly:!0,value:c,status:!0}),e.createElement(rC,null,"UF"))),e.createElement(eC,null,e.createElement(tC,null,e.createElement(nC,{type:"text",status:i,onInput:e=>{return t=e.target.value,r((e=>Object({...e,receiver:t})));var t},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:i||""}),e.createElement(rC,null,"Destinatrio"))))};const ik=vy.div`
  padding-bottom: 2rem;
  grid-template-columns: 1fr 0fr;
  display: grid;
`,ok=vy.div`
  flex-direction: column;
  display: flex;
`,ak=vy.div`
  align-items: baseline;
  display: flex;
`,sk=vy.div`
  display: flex;

  &:not(:last-child) {
    margin-bottom: 1rem;
  }

  & > *:not(:last-child) {
    margin-right: 1.6rem;
  }
`,uk=vy.label`
  color: #999;
  min-width: 76px;
  justify-content: flex-end;
  align-items: center;
  display: flex;
`,lk=vy.span`
  color: #999;
`;var ck=function(){const t=tg(),{user:n}=HC(),{display_name:r,e_mail:i,tel_number:o}=n;return e.createElement(ik,null,e.createElement(ok,null,e.createElement(sk,null,e.createElement(uk,null,"Nome:"),e.createElement(lk,null,r)),e.createElement(sk,null,e.createElement(uk,null,"E-mail:"),e.createElement(lk,null,i)),e.createElement(sk,null,e.createElement(uk,null,"Contato:"),e.createElement(lk,null,o))),e.createElement(ak,null,e.createElement("button",{type:"button",onClick:()=>t.push("/account")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 551.13 551.13"},e.createElement("path",{d:"m275.565 275.565c-75.972 0-137.783-61.81-137.783-137.783s61.811-137.782 137.783-137.782 137.783 61.81 137.783 137.783-61.811 137.782-137.783 137.782zm0-241.119c-56.983 0-103.337 46.353-103.337 103.337s46.353 103.337 103.337 103.337 103.337-46.354 103.337-103.337-46.354-103.337-103.337-103.337z"}),e.createElement("path",{d:"m499.461 551.13h-447.793c-9.52 0-17.223-7.703-17.223-17.223v-118.558c0-17.795 9.099-34.513 23.732-43.663 129.339-80.682 305.554-80.665 434.759-.017 14.649 9.166 23.749 25.885 23.749 43.679v118.558c0 9.521-7.703 17.224-17.224 17.224zm-430.57-34.445h413.348v-101.336c0-6.004-2.893-11.555-7.552-14.464-118.256-73.819-279.905-73.87-398.26.017-4.642 2.893-7.535 8.443-7.535 14.448z"})))))},hk=function(){const{user:t}=HC(),{usePayload:n,setPayload:r}=$C(),{useName:i}=function(){const t=(0,e.useContext)(GC),{useName:n,setName:r}=t;return{useName:n,setName:r}}(),{display_name:o}=t,{card_name:a=""}=n;return e.createElement(tC,null,e.createElement(nC,{type:"text","data-checkout":"cardholderName",autoCapitalize:"off",autoCorrect:"off",onInput:e=>{return!i&&(t=e.target.value.toUpperCase(),r((e=>Object({...e,card_name:t}))));var t},onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:i?o.toUpperCase():a,status:i?o:a,disabled:i}),e.createElement(rC,null,"Ttular do carto"))},fk=function(){const{usePayload:t,setPayload:n}=$C(),{card_number:r=""}=t;return e.createElement(tC,null,e.createElement(nC,{type:"text","data-checkout":"cardNumber",autoCapitalize:"off",autoCorrect:"off",onInput:e=>{return t=e.target.value,void(isNaN(Number(t))||t.replace(/\D/g,"")===r||n((e=>Object({...e,card_number:t.replace(/\D/g,"")}))));var t},onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:r,status:r}),e.createElement(rC,null,"Nmero do carto"))},dk=function(){const{usePayload:t,setPayload:n}=$C(),{card_month:r=""}=t;return e.createElement(tC,null,e.createElement(nC,{type:"text","data-checkout":"cardExpirationMonth",autoCapitalize:"off",autoCorrect:"off",onInput:e=>{return t=e.target.value,void(!isNaN(Number(t))&&t.replace(/\D/g,"")!==r&&t.length<=2&&n((e=>Object({...e,card_month:t.replace(/\D/g,"")}))));var t},onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:r,status:r}),e.createElement(rC,null,"MM"))},pk=function(){const{usePayload:t,setPayload:n}=$C(),{card_year:r=""}=t;return e.createElement(tC,null,e.createElement(nC,{type:"text","data-checkout":"cardExpirationYear",autoCapitalize:"off",autoCorrect:"off",onInput:e=>{return t=e.target.value,void(!isNaN(Number(t))&&t.replace(/\D/g,"")!==r&&t.length<=2&&n((e=>Object({...e,card_year:t.replace(/\D/g,"")}))));var t},onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:r,status:r}),e.createElement(rC,null,"AA"))},mk=function(){const{usePayload:t,setPayload:n}=$C(),{code:r=""}=t;return e.createElement(tC,{minWidth:"40%"},e.createElement(nC,{type:"text","data-checkout":"securityCode",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onInput:e=>{return t=e.target.value,void(!isNaN(Number(t))&&t.replace(/\D/g,"")!==r&&t.length<=4&&n((e=>Object({...e,code:t.replace(/\D/g,"")}))));var t},autoCapitalize:"off",autoCorrect:"off",onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:r,status:r}),e.createElement(rC,null,"CVC/CVV"))},gk=function({data:t}){const{recommended_message:n,installments:r}=t;return e.createElement("option",{value:r},n)},vk=function(){const{usePayload:t,setPayload:n}=$C(),{doc:r=""}=t;return e.createElement(tC,null,e.createElement(nC,{type:"text","data-checkout":"docNumber",autoCapitalize:"off",autoCorrect:"off",onInput:e=>{return t=e.target.value,void(isNaN(Number(t))||t.replace(/\D/g,"")===r||n((e=>Object({...e,doc:t.replace(/\D/g,"")}))));var t},onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:r,status:r}),e.createElement(rC,null,"Nmero do documento"))};const{Mercadopago:yk}=window;var bk=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(1),[o,a]=(0,e.useState)({}),[s,u]=(0,e.useState)({}),[l,c]=(0,e.useState)([{installments:1,recommended_message:"Parcelas"}]),h=(0,e.useRef)(!0),f=(0,e.useRef)(!1),d=(0,e.useRef)(null),{token:p}=ky(),{useAuth:m}=_y(),{setRoot:g}=xy(),{setModal:v}=function(){const t=(0,e.useContext)(qx),{useModal:n,setModal:r}=t;return{useModal:n,setModal:r}}(),{user:y}=HC(),{useFrete:b}=WC(),{setSuccess:w}=function(){const t=(0,e.useContext)(qx),{useSuccess:n,setSuccess:r}=t;return{useSuccess:n,setSuccess:r}}(),{useTerms:_,setTerms:E}=Vx(),{display_name:x,e_mail:C,tel_number:k}=y,{card_number:T="",issuer:S="",slt_installment:I=1}=o,{uid:A}=m,{profile:P}=Cy(),{useCart:N,setCart:R}=Ey(),{feed:O}=_C(),{shipping_value:D}=b,{payment_name:L="E-commerce!",max_installment:M=1,minvalue:F=0,public_key:j}=P||{},U=N.map((e=>{const{id:t,amount:n=1}=e,{price:r,price_off:i=0}=O[t]||{};return Number(n*(r-r*i/100))})).reduce(((e,t)=>e+t),0);(0,e.useEffect)((()=>{yk.setPublishableKey(j),yk.getIdentificationTypes()}),[]),(0,e.useEffect)((()=>{if(f.current){if(T||!T&&S)if(T.length>5&&!S){let e=T.substring(0,6);yk.getPaymentMethod({bin:e},((e,t)=>{200===e&&a((e=>{const n={...e};return n.issuer=t[0].id,n}))})),yk.getInstallments({bin:e,amount:parseFloat(Number(U+D).toFixed(2))},(function(e,t){200===e?c(t[0].payer_costs.map((e=>{const{recommended_message:t,installments:n}=e;return{recommended_message:t,installments:n}})).filter(((e,t)=>t<(U>F?1===N.length&&N.map((({id:e})=>{const{installment:t=M}=O[e]||{};return t})).reduce(((e,t)=>e+t),0)||M:1)))):console.log("error:",t)}))}else T.length<6&&S&&(c([{installments:1,recommended_message:"Parcelas"}]),a((e=>{const t={...e};return delete t.issuer,t})))}else f.current=!0}),[T]);const z=e=>r===e,q=e=>r!==e&&_&&i(e);return e.createElement(KC,{useName:t,setName:n,useProfile:s,setProfile:u,usePayload:o,setPayload:a},e.createElement(Gx,null,e.createElement("i",null),e.createElement(Kx,{type:"button",status:z(1),onClick:()=>q(1),cursorDefault:z(1)},e.createElement($x,null,"1"),e.createElement(Yx,null,"Pessoal")),e.createElement(Kx,{type:"button",status:z(2),onClick:()=>q(2),cursorDefault:z(1)||z(2)},e.createElement($x,null,"2"),e.createElement(Yx,null,"Entrega")),e.createElement(Kx,{type:"button",status:z(3),onClick:()=>q(3),cursorDefault:z(3)||z(2)},e.createElement($x,null,"3"),e.createElement(Yx,null,"Pagamento"))),e.createElement(Xx,{ref:d,nthChild:r},e.createElement(Jx,null,e.createElement(ck,null),e.createElement(tk,null),e.createElement(oC,null,e.createElement(sC,null,e.createElement(uC,null,e.createElement("input",{type:"checkbox",readOnly:!0,checked:_}),e.createElement("label",{onClick:()=>E((e=>!e))})),e.createElement("span",null,"Li e aceito a ",e.createElement(lC,{type:"button"},"Poltica de Privacidade"))),e.createElement(cC,{type:"button",onClick:()=>2!==r&&_?i(2):$g.warn("Voc concordar com nossa politica de privacidade?",cb().toast_options)},"Prximo passo"))),e.createElement(Jx,null,e.createElement(rk,null),e.createElement(oC,null,e.createElement(aC,null,"Ao continuar, voc concorda",e.createElement("br",null),"com os ",e.createElement(lC,{type:"button",onClick:()=>alert("ajuda para preencher esta tela")},"Termos de Compra")),e.createElement(cC,{type:"button",onClick:()=>3!==r&&_?i(3):$g.warn("Voc concordar com nossa politica de privacidade?",cb().toast_options)},"Prximo passo"))),e.createElement(Jx,null,e.createElement(eC,null,e.createElement(Zx,null,e.createElement("span",null,"Usar o mesmo nome da sua conta?"),e.createElement(Qx,null,e.createElement("input",{type:"checkbox",readOnly:!0,checked:t}),e.createElement("label",{onClick:()=>n((e=>!e))})))),e.createElement(eC,null,e.createElement(hk,null)),e.createElement(eC,null,e.createElement(fk,null)),e.createElement(eC,null,e.createElement(dk,null),e.createElement(pk,null),e.createElement(mk,null)),e.createElement(eC,null,e.createElement(iC,null,e.createElement("select",{id:"installments",onChange:e=>{return t=e.target,a((e=>Object({...e,slt_installment:Number(t.options[t.selectedIndex].value)})));var t}},l.map(((t,n)=>e.createElement(gk,{key:n,data:t})))))),e.createElement(eC,null,e.createElement(iC,{maxWidth:"130px"},e.createElement("select",{id:"docType","data-checkout":"docType"})),e.createElement(vk,null)),e.createElement(oC,{flexAlign:"space-between"},e.createElement(aC,null,e.createElement(lC,{type:"button",onClick:()=>alert("ajuda para preencher esta tela")},"Preciso de ajuda para",e.createElement("br",null),"preencher esta tela")),e.createElement(cC,{type:"button",onClick:()=>{h.current&&(h.current=!1,yk.createToken(d.current,((e,t)=>{if(200===e||201===e){const{street:e,district:n,zone:r,uf:i,cep:o,shipping_value:a}=b;v({status:!0}),async function(e){await fetch("https://us-central1-e-commerce-bracael.cloudfunctions.net/checkout ",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{const{status:t,id:n}=e;200===t||201===t?($g.success("Compra realizada com sucesso!",cb().toast_options),w({id:n,display_name:x,status:!0}),R([]),g({})):$g.error("Erro interno do servidor!",cb().toast_options)})).catch((e=>{$g.error("Erro ao iniciar a compra!",cb().toast_options)})).finally((function(){yk.clearSession(),v({status:!1}),h.current=!0}))}({...s,uid:A,subtotal:parseFloat(Number(U).toFixed(2)),token:p,display_name:x,e_mail:C,tel_number:k,street:e,district:n,zone:r,uf:i,cep:o,shipping_value:a,cart:N,payment_data:{token:t.id,payment_method_id:S,transaction_amount:parseFloat(Number(U+a).toFixed(2)),description:L,installments:I,email:C}})}else if(423===e)$g.error("Espere um momento e tente novamente.",cb().toast_options),h.current=!0;else if(400===e){const{cause:e}=t,[n]=e;h.current=!0,"011"===n.code?($g.error("Sua chamada expirou, tente novamente!",cb().toast_options),yk.clearSession()):"205"===n.code?$g.warn("Digite o nmero do seu carto",cb().toast_options):"208"===n.code?$g.warn("Escolha um ms",cb().toast_options):"209"===n.code?$g.warn("Escolha um ano",cb().toast_options):"212"===n.code||"213"===n.code||"214"===n.code?$g.warn("Informe seu documento",cb().toast_options):"220"===n.code?$g.warn("Informe seu banco emissor",cb().toast_options):"221"===n.code?$g.warn("Digite o nome e sobrenome",cb().toast_options):"224"===n.code?$g.warn("Digite o cdigo de segurana",cb().toast_options):"E301"===n.code?$g.warn("O nmero do carto est errado ou invlido",cb().toast_options):"E302"===n.code?$g.warn("Confira o cdigo de segurana",cb().toast_options):"316"===n.code?$g.warn("Por favor, digite um nome vlido",cb().toast_options):"322"===n.code||"323"===n.code||"324"===n.code?$g.warn("Confira seu documento",cb().toast_options):"325"===n.code||"326"===n.code?$g.warn("Confira a data",cb().toast_options):$g.error("Confira os dados",cb().toast_options)}else $g.error("Certifique-se que todos os dados esto corretos!",cb().toast_options),h.current=!0})))}},"Finalizar o pagamento")))))},wk=function(){return e.createElement(e.Fragment,null,e.createElement(Gx,null,e.createElement("i",null),e.createElement(zb,{displayFlex:!0,spaceRightChild:"1.6rem",width:"100%",alignItems:"center"},e.createElement(Sb.ZP,{circle:!0,width:32,height:32}),e.createElement(Sb.ZP,{width:40,height:18})),e.createElement(zb,{displayFlex:!0,spaceRightChild:"1.6rem",width:"100%",alignItems:"center"},e.createElement(Sb.ZP,{circle:!0,width:32,height:32}),e.createElement(Sb.ZP,{width:38,height:18})),e.createElement(zb,{displayFlex:!0,spaceRightChild:"1.6rem",width:"100%",alignItems:"center"},e.createElement(Sb.ZP,{circle:!0,width:32,height:32}),e.createElement(Sb.ZP,{width:40,height:18}))),e.createElement(Xx,{useScreen:1},e.createElement(Jx,null,e.createElement("div",null),e.createElement(zb,{displayFlex:!0,justifyContent:"flex-end"},e.createElement(Sb.ZP,{width:118,height:40})))))};const _k=async({token:e,client_cep:t},{signal:n})=>await fm().httpsCallable("queryCorreios")({token:e,data:t}).then((e=>e.data));var Ek=function(){const{token:t}=ky(),{setFrete:n}=WC(),{useRoot:r,setRoot:i}=xy(),{client_cep:o=""}=r,{data:a,error:s}=$y({promiseFn:_k,token:t,client_cep:o});return(0,e.useEffect)((()=>{if(a){const{error:e,message:t}=a;e?($g.error(t,cb().toast_options),i({})):n({...a,status:!0})}}),[a]),(0,e.useEffect)((()=>{s&&(window.navigator.onLine?$g.error("Erro ao buscar, tente novamente",cb().toast_options):$g.error("No foi possvel conectar-se  internet",cb().toast_options),i({}))}),[s]),e.createElement(wk,null)};vy.div`
  clear: both;
`,vy.div`
  font-size: 2.4rem;
  font-weight: 500;
  font-family: var(--font-mont);
  text-transform: uppercase;
  margin-bottom: 1rem;
  text-align: center;
  display: block;
`,vy.div`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,vy.form`
  width: 100%;
  background: #efefef;
  align-items: center;
  display: flex;

  ${hb(3)}
`,vy.input`
  width: 100%;
  background: rgba(255, 255, 255, 0);
  padding: 11px 0px;
  font-weight: 400;
  color: #797979;
  font-size: 1.75rem;
  text-indent: 1.4rem;
  height: 100%;

  &, &::placeholder {
    font-family: var(--font-mont);
  }

  &[disabled] {
    background: #efefef;

    & ~ label {
      ${hb(3)}
    }
  }

  &:focus {
    border-color: #000;
  }

  &:focus ~ label, ${({status:e})=>e&&"& ~ label"} {
    padding: 0px 10px;
    font-size: 1em;
    background: rgba(255, 255, 255);
    z-index: 20;
    top: -8px;
  }

  &:focus ~ label {
    color: rgba(18, 115, 235);
  }
`,vy.button`
  color: #000;
  width: 100%;
  min-width: 40px;
  max-width: 40px;
  justify-content: center;
  align-items: center;
  display: flex;
`,vy.div`
  justify-content: space-between;

  &, & > * {
    display: flex;
  }

  & > * {
    align-items: center;

    & > *:not(:last-child) {
      margin-right: 0.8rem;
    }
  }
`;const xk=vy.span`
  color: #dd4b39;
  font-weight: 400;
  font-family: var(--font-poopins);
`,Ck=vy.a`
  color: #000;
  font-weight: 100;
  display: flex;
  align-items: center;
  font-size: 1.4rem;

  & > *:not(:last-child) {
    margin-right: 0.4rem;
  }
`,{jQuery:kk}=window;var Tk=function(){const t=(0,e.useRef)(null),{useRoot:n,setRoot:r}=xy(),{client_cep:i=""}=n;return(0,e.useEffect)((()=>{const{current:e}=t;kk(e).mask("00000-000")}),[t]),e.createElement(QC,null,e.createElement(eC,null,e.createElement(YC,{minWidth:"56%"},e.createElement(XC,{type:"text",ref:t,onInput:e=>{return t=e.target.value,r((e=>Object({...e,client_cep:t})));var t},autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",value:i,status:i}),e.createElement(JC,null,"Meu CEP")),e.createElement(YC,null,e.createElement(Ck,{href:"https://buscacepinter.correios.com.br/app/endereco/index.php",target:"_blank",rel:"noreferrer"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 551.13 551.13"},e.createElement("path",{d:"m275.565 0c-151.944 0-275.565 123.621-275.565 275.565s123.621 275.565 275.565 275.565 275.565-123.621 275.565-275.565-123.621-275.565-275.565-275.565zm0 516.685c-132.955 0-241.119-108.164-241.119-241.119s108.164-241.12 241.119-241.12 241.12 108.164 241.12 241.119-108.165 241.12-241.12 241.12z"}),e.createElement("path",{d:"m258.342 413.348h34.446v34.446h-34.446z"}),e.createElement("path",{d:"m275.565 103.337c-56.983 0-103.337 46.353-103.337 103.337v34.446h34.446v-34.446c0-37.995 30.897-68.891 68.891-68.891 37.995 0 68.891 30.897 68.891 68.891 0 25.851-13.775 50.188-35.943 63.492l-41.813 25.077c-5.18 3.112-8.359 8.712-8.359 14.767v68.891h34.446v-59.136l33.453-20.065c32.478-19.51 52.661-55.15 52.661-93.027.001-56.983-46.353-103.336-103.336-103.336z"})),e.createElement("span",null,"No sabe seu CEP?")))),e.createElement(eC,{spaceRight:"1rem"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 515.556 515.556",fill:"#dd4b39"},e.createElement("path",{d:"m257.778 0c-142.137 0-257.778 115.641-257.778 257.778s115.641 257.778 257.778 257.778 257.778-115.641 257.778-257.778-115.642-257.778-257.778-257.778zm32.222 386.667h-64.444v-64.444h64.444zm.002-96.667h-64.444v-161.111h64.444z"})),e.createElement(xk,null,"Campo obrigatrio.")))},Sk=function(){const{useTerms:t,setTerms:n}=Vx();return e.createElement(e.Fragment,null,e.createElement(Gx,null,e.createElement("i",null),e.createElement(Kx,{type:"button",cursorDefault:!0},e.createElement($x,null,"1"),e.createElement(Yx,null,"Pessoal")),e.createElement(Kx,{type:"button",cursorDefault:!0},e.createElement($x,null,"2"),e.createElement(Yx,null,"Entrega")),e.createElement(Kx,{type:"button",cursorDefault:!0},e.createElement($x,null,"3"),e.createElement(Yx,null,"Pagamento"))),e.createElement(Xx,{nthChild:1},e.createElement(Jx,null,e.createElement(ck,null),e.createElement(Tk,null),e.createElement(oC,null,e.createElement(sC,null,e.createElement(uC,null,e.createElement("input",{type:"checkbox",readOnly:!0,checked:t}),e.createElement("label",{onClick:()=>n((e=>!e))})),e.createElement("span",null,"Li e aceito a ",e.createElement(lC,{type:"button"},"Poltica de Privacidade"))),e.createElement(cC,{type:"button",onClick:()=>$g.warn("Preencha todos os campos!",cb().toast_options)},"Prximo passo")))))},Ik=function(){const t=tg();return e.createElement(LC,null,e.createElement(FC,null,"Ei, espere!"),e.createElement(MC,null,e.createElement(jC,null,"H algumas informaes faltando em seu registro que so fundamentais para nosso contato."),e.createElement(UC,null,e.createElement(zC,{type:"button",onClick:()=>t.push("/account")},"Ir para minha conta"))))},Ak=function({data:t}){const n=(0,e.useRef)(t),[r,i]=(0,e.useState)({}),{useRoot:o}=xy(),{client_cep:a=""}=o;return e.createElement(VC,{useFrete:r,setFrete:i,userRef:n},["e_mail","display_name","tel_number"].every((e=>Object.keys(t).includes(e)))?9===a.length?r.status?e.createElement(bk,null):e.createElement(Ek,null):e.createElement(Sk,null):e.createElement(Ik,null))},Pk=function(){return e.createElement(e.Fragment,null,e.createElement(Gx,null,e.createElement("i",null),e.createElement(zb,{displayFlex:!0,spaceRightChild:"1.6rem",width:"100%",alignItems:"center"},e.createElement(Sb.ZP,{circle:!0,width:32,height:32}),e.createElement(Sb.ZP,{width:40,height:18})),e.createElement(zb,{displayFlex:!0,spaceRightChild:"1.6rem",width:"100%",alignItems:"center"},e.createElement(Sb.ZP,{circle:!0,width:32,height:32}),e.createElement(Sb.ZP,{width:38,height:18})),e.createElement(zb,{displayFlex:!0,spaceRightChild:"1.6rem",width:"100%",alignItems:"center"},e.createElement(Sb.ZP,{circle:!0,width:32,height:32}),e.createElement(Sb.ZP,{width:40,height:18}))),e.createElement(Xx,{useScreen:1},e.createElement(Jx,null,e.createElement(ZC,null),e.createElement(zb,{displayFlex:!0,justifyContent:"flex-end"},e.createElement(Sb.ZP,{width:118,height:40})))))},Nk=function(){return e.createElement(Pk,null)};const Rk=async({token:e,uid:t},{signal:n})=>await fm().httpsCallable("queryUser")({token:e,uid:t}).then((e=>e.data));var Ok=function(){const{token:t}=ky(),{useAuth:n}=_y(),{uid:r}=n,{data:i,error:o}=$y({promiseFn:Rk,token:t,uid:r});return o?o.message:i?e.createElement(Ak,{data:i}):e.createElement(Nk,null)},Dk=function({data:t}){const n=(0,e.useRef)(Object.fromEntries(t.map((({id:e,...t})=>[e,{...t}])))),{useAuth:r}=_y(),{uid:i}=r;return e.createElement(wC,{dataRef:n},e.createElement(DC,null),e.createElement(Hx,null,i?e.createElement(Ok,null):e.createElement(qC,null)))},Lk=function(){const{useCart:t}=Ey();return e.createElement(e.Fragment,null,e.createElement(TC,null,e.createElement(SC,null,e.createElement(zb,{width:"100%",displayFlex:!0,alignItems:"center",justifyContent:"space-between",style:{height:"25px"}},e.createElement(zb,null,e.createElement(Sb.ZP,{width:184,height:14})),e.createElement(zb,null,e.createElement(Sb.ZP,{circle:!0,width:16,height:16})))),e.createElement(OC,null,t.map(((t,n)=>e.createElement(Nx,{key:t.moment}))))),e.createElement(Hx,null,e.createElement(Pk,null)))};const Mk=({val:e,data:t})=>t.map((t=>t[e])).filter(((e,t,n)=>n.indexOf(e)===t)),Fk=async({token:e,useCart:t},{signal:n})=>await fm().httpsCallable("listProducts")({token:e,data:Mk({val:"id",data:t})}).then((e=>e.data));var jk=function(){const{token:t}=ky(),{useCart:n}=Ey(),{data:r,error:i}=$y({promiseFn:Fk,token:t,useCart:n});return i?i.message:r?e.createElement(Dk,{data:r}):e.createElement(Lk,null)};const Uk=vy.div`
  flex-direction: column;
  justify-content: center;
  align-items: center;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 2rem;
  }
`,zk=vy.p`
  color: #555;
  font-family: var(--font-mont);
  text-align: center;
`,qk=vy.div`
  clear: both;
`,Bk=vy.button`
  color: #000;
  background: transparent;
  border-radius: 3px;
  font-weight: 600;
  border: 2px solid;
  padding: 1rem;
`;var Vk=function(){const t=tg();return e.createElement(Uk,null,e.createElement(zk,null,"No h nada selecionado para comprar..."),e.createElement(qk,null,e.createElement(Bk,{type:"button",onClick:()=>t.push("/")},"Ir para a pgina inicial")))};const Wk=vy.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: auto;
  width: 56px;
  height: 100%;
  position: relative;
  z-index: 1;
`,Hk=vy.div`
  width: 12px;
  height: 12px;
  background-color: #000;
  border-radius: 100%;
  display: inline-block;
  animation: treo-bouncedelay 1s infinite ease-in-out both;
`,Gk=vy(Hk)`
  animation-delay: -0.32s !IMPORTANT;
`,Kk=vy(Hk)`
  animation-delay: -0.16s !IMPORTANT;
`,$k=vy(Hk)`
  clear: both;
`,{jQuery:Zk}=window;var Qk=function({useModal:t,setModal:n,modalRef:r}){const i=(0,e.useRef)(!1);return(0,e.useEffect)((()=>{const{status:e}=t;i.current&&e?Zk(r.current).fadeIn(200):i.current=!0}),[i,r,t]),e.createElement(M_,{ref:r,backgroundColor:"rgba(255,255,255,0.5)",zIndex:"10"},e.createElement(j_,null,e.createElement(Wk,null,e.createElement(Gk,null),e.createElement(Kk,null),e.createElement($k,null))))};const{jQuery:Yk}=window;var Xk=function(){const t=(0,e.useRef)(!1),n=(0,e.useRef)(null),[r,i]=(0,e.useState)({}),[o,a]=(0,e.useState)({status:!1}),[s,u]=(0,e.useState)(!1),{useCart:l}=Ey(),{id:c}=o;return(0,e.useEffect)((()=>{const{status:e}=r;t.current&&!1===e?Yk(n.current).fadeOut(300,(()=>i({}))):t.current=!0}),[r]),e.createElement(e.Fragment,null,l.length||c?o.status?e.createElement(yC,{useSuccess:o,setSuccess:a}):e.createElement(e.Fragment,null,e.createElement(vE,null),e.createElement(Bx,{useModal:r,setModal:i,useSuccess:o,setSuccess:a,useTerms:s,setTerms:u},e.createElement(Wx,null,e.createElement(jk,null)))):e.createElement(Vk,null),e.createElement(Qk,{useModal:r,setModal:i,modalRef:n}))};const Jk=(0,e.createContext)();function eT({children:t,useModal:n,setModal:r,useCatch:i,setCatch:o,useLeave:a,setLeave:s}){return e.createElement(Jk.Provider,{value:{useModal:n,setModal:r,useCatch:i,setCatch:o,useLeave:a,setLeave:s}},t)}function tT(){const t=(0,e.useContext)(Jk),{useModal:n,setModal:r}=t;return{useModal:n,setModal:r}}function nT(){const t=(0,e.useContext)(Jk),{useLeave:n,setLeave:r}=t;return{useLeave:n,setLeave:r}}const rT=vy.div`
  width: 100%;
  display: block;
`,iT=vy.div`
  justify-content: center;
  align-items: center;
  display: flex;
  height: 100%;

  @media (min-width: 1040px){
    max-width: 632px;
    margin: 0 auto;
  }
`,oT=vy.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 1.6rem;
`,aT=vy.span`
  color: rgba(60, 60, 60);
  font-family: var(--font-poopins);
  font-weight: 500;
  text-align: center;
  margin-top: 1.8rem;
`,sT=vy.form`
  width: 100%;
  padding: 0px 2rem;
  font-family: var(--font-poopins);
  flex-direction: column;
  display: flex;
`,uT=vy.div`
  position: relative;

  & * {
    transition: all 0.2s ease-in-out;
  }

  &:not(:last-child) {
    margin-top: 2.2rem;
  }
`,lT=vy.svg`
  color: #aaa;
  position: absolute;
  top: 15px;
  right: 15px;
  height: 24px;
  width: 24px;
  z-index: 11;

  & {
    cursor: pointer;

    ${hb("100%")}
  }

  &:hover {
    color: rgba(121, 121, 121);
  }
`,cT=vy.input`
  width: 100%;
  background: transparent;
  padding: 16px 0;
  display: block;
  font-weight: 400;
  color: #797979;
  font-size: 1.75rem;
  box-shadow: inset 0 0 0 1px #dadce0;
  font-family: var(--font-poopins);
  text-indent: 16px;
  border-radius: 3px;
  position: relative;
  z-index: 10;

  ${({hasText:e})=>e&&"\n    & ~ label {\n      padding: 0 10px;\n      font-size: 1em;\n      background: #fff;\n      z-index: 20;\n      top: -8px;\n    }\n  "}

  &:focus {
    box-shadow: inset 0 0 0 1px #1273EB;
  }

  &:focus ~ label {
    color: #1273EB;
  }

  &:focus ~ label {
    padding: 0 10px;
    font-size: 1em;
    background: #fff;
    z-index: 20;
    top: -8px;
  }
`,hT=vy.label`
  color: #676767;
  font-weight: 100;
  position: absolute;
  font-size: 2rem;
  top: 16px;
  left: 1em;
`,fT=vy.div`
  justify-content: space-between;
  align-items: center;
  display: flex;
  margin: 2.6rem 0 1rem;
`,dT=vy.button`
  ${"\n  font-size: 1.75rem;\n  color: #1a73e8;\n  font-weight: 400;\n  font-family: var(--font-lato);\n"}
`,pT=vy.button`
  ${hb(3)}
  ${"\n  color: #fff;\n  min-height: 40px;\n  background-color: #0161cd;\n  font-weight: 500;\n  text-align: center;\n  max-width: 132px;\n  width: 100%;\n\n  &:hover {\n    background: #0e75e8;\n  }\n\n  &:focus {\n    -webkit-box-shadow: rgba(151, 200, 255) 0px 0px 4px 2px;\n    box-shadow: rgba(151, 200, 255) 0px 0px 4px 2px;\n  }\n\n  &:active {\n    background: #00f;\n  }\n"}

  opacity: ${({status:e})=>e?"1":"0.75"};
`,mT=vy.div`
  flex-direction: column;
  align-items: center;
  display: flex;
`,gT=vy.div`
  width: 100%;
  max-width: 160px;
  position: relative;
  margin: 0.8rem auto;
  text-align: center;
  display: flex;
  justify-content: center;
  align-items: center;

  &::before {
    left: 0px;
  }

  &::after {
    right: 0px;
  }

  &::before, &::after {
    content: "";
    width: 100%;
    height: 1px;
    background-color: #ababab;
    position: absolute;
    max-width: 36%;
    box-sizing: inherit;
  }

  & span {
    color: #ababab;
    position: relative;
    z-index: 1;
    font-weight: 100;
    font-size: 16px;
  }
`,vT=vy.button`
  display: flex;

  & svg {
    float: left;
  }
`,yT=vy.section`
  min-width: 164px;
  background-image: var(--brand-header);
  background-position: 0 center;
  background-repeat: no-repeat;
  background-size: 164px;
  height: 41px;
`,bT=vy.img`
  max-height: 40px;
  float: left;
`,wT=vy.button`
  font-weight: 400;
  font-family: var(--font-lato);
`;var _T=function({useToggle:t,setToggle:n}){return t?e.createElement(lT,{onClick:()=>n((e=>!e)),fill:"currentColor",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"https://www.w3.org/2000/svg"},e.createElement("path",{d:"M10.58,7.25l1.56,1.56c1.38,0.07,2.47,1.17,2.54,2.54l1.56,1.56C16.4,12.47,16.5,12,16.5,11.5C16.5,9.02,14.48,7,12,7 C11.5,7,11.03,7.1,10.58,7.25z"}),e.createElement("path",{d:"M12,6c3.79,0,7.17,2.13,8.82,5.5c-0.64,1.32-1.56,2.44-2.66,3.33l1.42,1.42c1.51-1.26,2.7-2.89,3.43-4.74 C21.27,7.11,17,4,12,4c-1.4,0-2.73,0.25-3.98,0.7L9.63,6.3C10.4,6.12,11.19,6,12,6z"}),e.createElement("path",{d:"M16.43,15.93l-1.25-1.25l-1.27-1.27l-3.82-3.82L8.82,8.32L7.57,7.07L6.09,5.59L3.31,2.81L1.89,4.22l2.53,2.53 C2.92,8.02,1.73,9.64,1,11.5C2.73,15.89,7,19,12,19c1.4,0,2.73-0.25,3.98-0.7l4.3,4.3l1.41-1.41l-3.78-3.78L16.43,15.93z M11.86,14.19c-1.38-0.07-2.47-1.17-2.54-2.54L11.86,14.19z M12,17c-3.79,0-7.17-2.13-8.82-5.5c0.64-1.32,1.56-2.44,2.66-3.33 l1.91,1.91C7.6,10.53,7.5,11,7.5,11.5c0,2.48,2.02,4.5,4.5,4.5c0.5,0,0.97-0.1,1.42-0.25l0.95,0.95C13.6,16.88,12.81,17,12,17z"})):e.createElement(lT,{onClick:()=>n((e=>!e)),fill:"currentColor",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"https://www.w3.org/2000/svg"},e.createElement("path",{d:"M12,7c-2.48,0-4.5,2.02-4.5,4.5S9.52,16,12,16s4.5-2.02,4.5-4.5S14.48,7,12,7z M12,14.2c-1.49,0-2.7-1.21-2.7-2.7 c0-1.49,1.21-2.7,2.7-2.7s2.7,1.21,2.7,2.7C14.7,12.99,13.49,14.2,12,14.2z"}),e.createElement("path",{d:"M12,4C7,4,2.73,7.11,1,11.5C2.73,15.89,7,19,12,19s9.27-3.11,11-7.5C21.27,7.11,17,4,12,4z M12,17 c-3.79,0-7.17-2.13-8.82-5.5C4.83,8.13,8.21,6,12,6s7.17,2.13,8.82,5.5C19.17,14.87,15.79,17,12,17z"}))},ET=function({useScreen:t,setScreen:n}){const r=tg(),i=(0,e.useRef)(!0),[o,a]=(0,e.useState)(0),[s,u]=(0,e.useState)(!1),[l,c]=(0,e.useState)(""),[h,f]=(0,e.useState)(""),{setModal:d}=tT(),{token:p}=ky(),{mask:m,profile:g}=Cy(),{brand_header:v}=m||{},{brand:y="Bracael"}=g||{},b=()=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(l).toLowerCase())&&l&&h&&h.length>=6&&/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*]).{8,}$/.test(String(h));return e.createElement(rT,null,e.createElement(iT,null,e.createElement(sT,{autoComplete:"off",onSubmit:e=>e.preventDefault()},e.createElement(oT,null,v?e.createElement(vT,{type:"button",onClick:()=>r.push("/")},e.createElement(bT,{src:v,alt:""})):e.createElement(vT,{type:"button",onClick:()=>r.push("/")},e.createElement(yT,null)),e.createElement(aT,null,"Use uma conta ",y)),e.createElement(uT,null,e.createElement(cT,{type:"email",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",hasText:l,onChange:e=>c(e.target.value),value:l}),e.createElement(hT,null,"E-mail")),e.createElement(uT,null,e.createElement(cT,{type:s?"text":"password",hasText:h,onChange:e=>f(e.target.value),value:h}),e.createElement(_T,{useToggle:s,setToggle:u}),e.createElement(hT,null,"Senha")),e.createElement(fT,null,e.createElement(dT,{type:"button",onClick:()=>alert("Entre em contato conosco pelo WhatsApp ou Instagram!")},"Esqueceu a sua senha?"),e.createElement(pT,{type:"submit",status:b(),onClick:()=>{b()?i.current&&(i.current=!1,d({status:!0}),fm().httpsCallable("userLogin")({token:p,email:l}).then((e=>e.data)).then((async e=>{const{status:t}=e;200===t?hm().signInWithEmailAndPassword(l,h).then((()=>{$g("Seja bem-vindo(a)!",cb().toast_options)})).catch((()=>{$g.warn("E-mail ou senha invlida!",cb().toast_options)})):404===t?$g.error("O e-mail no existe!",cb().toast_options):o<3?($g.error("Algo saiu mal, tente novamente!",cb().toast_options),a((e=>e+1))):$g.error("Se este erro persistir, contate o fornecedor!",cb().toast_options)})).catch((function(e){$g.error("Erro na chamada API",cb().toast_options)})).finally((function(){d({status:!1}),i.current=!0}))):$g.error(l&&f?"Confira todos os dados":"Preencha todos os campos!",cb().toast_options)}},"Fazer login")),e.createElement(mT,null,e.createElement(gT,null,e.createElement("span",null,"ou")),e.createElement(wT,{type:"button",onClick:()=>n(!1)},"Criar minha conta")))))};const xT=vy.div`
  background: rgba(255,255,255,0.92);
  z-index: 99;
  position: relative;
  width: calc(100vw - 3.6rem);
  max-width: 420px;
  overflow: hidden;
  font-size: 1.43rem;
  box-shadow: 0 0 15px 0 rgba(0,0,0,0.24);

  ${hb(5)}

  @media (min-width: 1040px) {
    background: #fff;

    ${hb(0)}
  }
`,CT=vy.span`
  font-size: 1.8rem;
  font-weight: 500;
  display: block;
`,kT=vy.div`
  color: #717171;
  font-size: 1.4rem;
  line-height: 1.45em;
  font-weight: 400;
  padding: 0.3rem 0;

  & > *:not(:last-child) {
    margin-bottom: 2rem;
  }
`,TT=vy.div`
  display: block;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,ST=(vy.span`
  font-size: 1.8rem;
  font-weight: 500;
  display: block;
`,vy.div`
  align-items: center;
  display: flex;
  padding: 0.3rem 0;

  & input {
    display: block;
  }

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`);var IT=function({close:t,useRemember:n,setRemember:r}){return e.createElement(xT,null,e.createElement(KE,null,e.createElement(CT,null,e.createElement($E,null,"Cuide da sua senha!")),e.createElement(kT,null,e.createElement(TT,null,e.createElement("p",null,"Escolha uam senha forte que contenha no minimo com as observaes abaixo."),e.createElement("div",null,e.createElement("strong",null,"REQUISITOS:")),e.createElement("div",null,e.createElement("p",null,"Min. 1 letra maiscula"),e.createElement("p",null,"Min. 1 caractere especial"),e.createElement("p",null,"Min. 2 nmeros"),e.createElement("p",null,"Min. de 8 caracteres"))),e.createElement(ST,{onClick:()=>r((e=>!e))},e.createElement("input",{type:"checkbox",readOnly:!0,checked:n}),e.createElement("label",null,"No mostrar navamente")))),e.createElement(QE,null,e.createElement(XE,{type:"button",onClick:()=>t()},"OK!")))};const{jQuery:AT}=window;var PT=function({useConfirm:t,setConfirm:n}){const r=(0,e.useRef)(null),i=(0,e.useRef)(!1),[o,a]=(0,e.useState)(!1),{status:s}=t;(0,e.useEffect)((()=>{s&&AT(r.current).fadeIn(200)}),[s]),(0,e.useEffect)((()=>{i.current&&!1===s?AT(r.current).fadeOut(300,(()=>{n({}),localStorage.setItem("sign_up",JSON.stringify({status:!o}))})):i.current=!0}),[s]);const u=()=>n({status:!1});return e.createElement(M_,{ref:r,zIndex:"14"},e.createElement(F_,{onClick:()=>u()}),e.createElement(j_,null,e.createElement(IT,{close:u,useRemember:o,setRemember:a})))};const NT=vy.div`
  width: 100%;
  flex-direction: column;
  display: flex;
  padding: 2rem;

  @media (min-width: 1040px){
    max-width: 632px;
    margin: 0 auto;
  }
`,RT=vy.div`
  display: flex;
`,OT=vy.form`
  justify-content: center;
  flex-direction: column;
  display: flex;
  height: 100%;
`,DT=vy.div`
  margin-top: 3rem;
  justify-content: center;
  flex-direction: column;
  align-items: center;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,LT=vy.button`
  display: flex;
  color: #fff;
  background: #2dc14d;
  font-weight: 100;
  padding: 1rem;
  font-size: 2rem;
  font-family: var(--font-poopins);
  border-radius: 3px;
  width: 100%;
  justify-content: center;
  max-width: 80%;
  min-width: 120px;

  opacity: ${({status:e})=>e?"1":"0.75"};

  &:hover {
    background: #34e059;
  }

  &:focus {
    background: #1ca038;
    box-shadow: 0 0 9px -3px #27de4e;
  }
`,MT=vy.div`
  align-items: center;
  display: flex;
  border-left: 4px solid rgb(234, 29, 44);
  background: rgba(0, 0, 0, 0.15);
  position: relative;
  justify-content: space-between;
  padding: 1rem 1.6rem;
  margin-top: 2.2rem;

  ${hb(3)}

  & > :not(:last-child) {
    margin-right: 1.6rem;
  }
`,FT=vy.span`
  width: 100%;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: 100;
  font-size: 1.5rem;
`;var jT=function({useScreen:t,setScreen:n}){const r=tg(),i=(0,e.useRef)(!0),[o,a]=(0,e.useState)(0),[s,u]=(0,e.useState)({}),[l,c]=(0,e.useState)(!1),[h,f]=(0,e.useState)({}),{token:d}=ky(),{setModal:p}=tT(),{email:m="",password:g="",confirm_password:v=""}=h,{mask:y,profile:b}=Cy(),{brand_header:w}=y||{},{brand:_="Bracael"}=b||{};function E(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function x(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*]).{8,}$/.test(String(e))}const C=(e,t)=>f((n=>Object({...n,[e]:t}))),k=()=>E(m)&&g.length>=8&&v&&g===v&&x(g);return e.createElement(NT,null,e.createElement(RT,null,e.createElement("button",{type:"button",onClick:()=>n(!0)},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 451.111 451.111",fill:"#000000"},e.createElement("path",{d:"m451.111 193.333h-322.222l112.778-112.777-48.333-48.333-193.334 193.333 193.333 193.333 48.333-48.333-112.777-112.778h322.222z"})))),e.createElement(OT,{autoComplete:"off",onSubmit:e=>e.preventDefault()},e.createElement(oT,null,w?e.createElement(vT,{type:"button",onClick:()=>r.push("/")},e.createElement(bT,{src:w,alt:""})):e.createElement(vT,{type:"button",onClick:()=>r.push("/")},e.createElement(yT,null)),e.createElement(aT,null,"Use uma conta ",_)),e.createElement(uT,null,e.createElement(cT,{type:"email",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",hasText:m,onInput:e=>C("email",e.target.value),value:m}),e.createElement(hT,null,"E-mail")),e.createElement(uT,null,e.createElement(cT,{type:l?"text":"password",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",hasText:g,onInput:e=>C("password",e.target.value),value:g}),e.createElement(_T,{useToggle:l,setToggle:c}),e.createElement(hT,null,"Senha")),e.createElement(uT,null,e.createElement(cT,{type:l?"text":"password",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",hasText:v,onInput:e=>C("confirm_password",e.target.value),value:v}),e.createElement(hT,null,"Confirmar senha")),e.createElement(MT,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"#ea1d2c"},e.createElement("path",{d:"M7,3H9v7H7V3Zm0,8H9v2H7V11ZM8,0A8,8,0,1,1,0,8,8,8,0,0,1,8,0Z",fillRule:"evenodd"})),e.createElement(FT,null,"A sua senha deve ser segura e nica. ",e.createElement("button",{type:"button",onClick:()=>u({status:!0})},"Saiba mais."))),e.createElement(DT,null,e.createElement(LT,{type:"submit",status:k(),onClick:()=>{k()?i.current&&(i.current=!1,p({status:!0}),fm().httpsCallable("createUser")({token:d,email:m,password:g}).then((e=>e.data)).then((e=>{const{status:t}=e;200===t?($g.success("Conta criada com sucesso!",cb().toast_options),n(!0)):410===t?$g.error("Utilize outro e-mail!",cb().toast_options):500===t?$g.error("Ops, erro interno!",cb().toast_options):o<3?($g.error("Algo saiu mal, tente novamente!",cb().toast_options),a((e=>e+1))):$g.error("O erro parece persistir, tente mais tarde",cb().toast_options)})).catch((e=>{$g.error("Erro na chamada API",cb().toast_options)})).finally((function(){p({status:!1}),i.current=!0}))):E(m)?g&&v?g&&v&&g!==v?$g.error("Sua senha  diferente!",cb().toast_options):x(g)?g.length<=6&&$g.error("8 digitos minimos para sua senha!",cb().toast_options):$g.error("Crie uma senha mais forte",cb().toast_options):$g.error("Preencha todos os campos!",cb().toast_options):$g.error("E-mail invlido!",cb().toast_options)}},"Criar conta"),e.createElement(wT,{type:"button",onClick:()=>n(!0)},"J possui uma conta?"))),e.createElement(PT,{useConfirm:s,setConfirm:u}))},UT=function(){const[t,n]=(0,e.useState)(!0);return t?e.createElement(ET,{useScreen:t,setScreen:n}):e.createElement(jT,{useScreen:t,setScreen:n})};const zT=(0,e.createContext)();function qT({children:t,useUser:n,setUser:r}){return e.createElement(zT.Provider,{value:{useUser:n,setUser:r}},t)}function BT(){const t=(0,e.useContext)(zT),{useUser:n,setUser:r}=t;return{useUser:n,setUser:r}}const VT=(0,e.createContext)();function WT({children:t,useComanda:n,setComanda:r,useTrack:i,setTrack:o}){return e.createElement(VT.Provider,{value:{useComanda:n,setComanda:r,useTrack:i,setTrack:o}},t)}function HT(){const t=(0,e.useContext)(VT),{useComanda:n,setComanda:r}=t;return{useComanda:n,setComanda:r}}function GT(){const t=(0,e.useContext)(VT),{useTrack:n,setTrack:r}=t;return{useTrack:n,setTrack:r}}const KT=vy.div`
  margin-top: 2rem;
  justify-content: space-between;
  align-items: center;
  display: flex;
`,$T=vy.button`
  clear: both;

  & svg {
    float: left;
  }
`,ZT=vy.div`
  clear: both;

  & svg {
    float: left;
  }
`,QT=vy.button`
  position: relative;
  padding: 1rem;
`;var YT=function(){const t=tg(),{useCart:n}=Ey(),r=n.map((e=>e.amount||1)).reduce(((e,t)=>e+t),0);return e.createElement(KT,null,e.createElement($T,{type:"button",onClick:()=>t.goBack()},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 451.111 451.111",fill:"#ffffff"},e.createElement("path",{d:"m451.111 193.333h-322.222l112.778-112.777-48.333-48.333-193.334 193.333 193.333 193.333 48.333-48.333-112.777-112.778h322.222z"}))),e.createElement(ZT,null,e.createElement(QT,{type:"button",onClick:()=>t.push("/cart")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"#ffffff"},e.createElement("path",{fillRule:"evenodd",d:"M14,18H4a2,2,0,0,1-2-2L3,6A2,2,0,0,1,5,4a4,4,0,1,1,8,0,2,2,0,0,1,2,2l1,10A2,2,0,0,1,14,18ZM9,2A2,2,0,0,0,7,4h4A2,2,0,0,0,9,2Z"})),r?e.createElement(tb,null,r):null)))};const XT=vy.div`
  flex-direction: column;
  display: flex;
`,JT=vy.div`
  box-shadow: 0 0 16px -4px rgba(0,0,0,0.25);
  padding: 1.6rem;

  &:not(:last-child) {
    margin-bottom: 3rem;
  }

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,eS=vy.div`
  justify-content: space-between;
  align-items: center;
  display: flex;
`,tS=vy.div`
  display: flex;
  flex-direction: column;
`,nS=vy.div`
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,rS=vy.span`
  font-size: 2.2rem;
  font-weight: 100;
`,iS=vy.div`
  color: #999;
  font-weight: 100;
  font-size: 1.5rem;
`,oS=vy.button`
  background: rgba(29,171,204,0.15);
  display: flex;
  padding: 1rem;

  ${hb("50%")}

  & span {
    display: none;
  }

  & svg {
    float: left;
  }

  &:hover {
    background: rgba(29,171,204,0.35);
  }

  &:focus {
    box-shadow: 0 0 4px 1px rgba(29,171,204,0.35);
  }
`,aS=vy.div`
  justify-content: space-between;
  display: flex;
`,sS=vy.div`
  width: 100%;
  flex-direction: column;
  display: flex;
`,uS=vy.span`
  font-weight: 300;
  font-size: 1.4rem;
`,lS=vy.span`
  font-size: 1.8rem;
  color: #000;
`,cS=vy.button`
  color: #fff;
  background: #c36161;
  padding: 0.4rem 1rem;
  font-size: 1.8rem;
  font-weight: 100;

  ${hb(3)}

  &:hover {
    background: #e65e5e;
  }

  &:focus {
    box-shadow: 0 0 4px 1px #e48f8f;
  }
`;var hS=function({data:t}){const{id:n}=t,r=(0,e.useRef)(!0),[i,o]=(0,e.useState)(0),{useAuth:a}=_y(),{token:s}=ky(),{setModal:u}=tT(),{uid:l}=a;return e.createElement(JT,null,e.createElement(eS,null,e.createElement(tS,null,e.createElement(rS,null,"Este pedido expirou!"),e.createElement(iS,null,"--")),e.createElement(nS,null,e.createElement(cS,{type:"button",onClick:()=>{r.current&&(r.current=!1,u({status:!0}),fm().httpsCallable("clearOrder")({token:s,uid:l,id:n}).then((e=>e.data)).then((async e=>{const{status:t}=e;200===t?$g.success("Pedidos atualizados",cb().toast_options):404===t?$g.error("O e-mail no existe!",cb().toast_options):i<3?($g.error("Algo saiu mal, tente novamente!",cb().toast_options),o((e=>e+1))):$g.error("Se este erro persistir, contate o fornecedor!",cb().toast_options)})).catch((function(e){$g.error("Erro na chamada API",cb().toast_options)})).finally((function(){u({status:!1}),r.current=!0})))}},"Excluir"))),e.createElement(aS,null,e.createElement(sS,null,e.createElement(uS,null,"Subtotal"),e.createElement(lS,null,Number(0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),e.createElement(sS,null,e.createElement(uS,null,"Frete"),e.createElement(lS,null,Number(0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),e.createElement(sS,null,e.createElement(uS,null,"Total"),e.createElement(lS,null,Number(0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))))};function fS(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function dS(e){fS(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function pS(e,t){fS(2,arguments);var n=dS(e),r=dS(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function mS(e,t){fS(2,arguments);var n=dS(e),r=dS(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return 12*i+o}function gS(e){fS(1,arguments);var t=dS(e);return t.setHours(23,59,59,999),t}function vS(e){fS(1,arguments);var t=dS(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function yS(e){fS(1,arguments);var t=dS(e);return gS(t).getTime()===vS(t).getTime()}function bS(e,t){fS(2,arguments);var n,r=dS(e),i=dS(t),o=pS(r,i),a=Math.abs(mS(r,i));if(a<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*a);var s=pS(r,i)===-o;yS(dS(e))&&1===a&&1===pS(e,i)&&(s=!1),n=o*(a-Number(s))}return 0===n?0:n}function wS(e,t){fS(2,arguments);var n=dS(e),r=dS(t);return n.getTime()-r.getTime()}function _S(e,t){fS(2,arguments);var n=wS(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var ES={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function xS(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var CS={date:xS({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:xS({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:xS({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},kS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function TS(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=i.width?String(i.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function SS(e){return function(t,n){var r=String(t),i=n||{},o=r.match(e.matchPattern);if(!o)return null;var a=o[0],s=r.match(e.parsePattern);if(!s)return null;var u=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(a.length)}}}function IS(e){return function(t,n){var r=String(t),i=n||{},o=i.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=r.match(a);if(!s)return null;var u,l=s[0],c=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return u="[object Array]"===Object.prototype.toString.call(c)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].test(l))return n}(c):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n].test(l))return n}(c),u=e.valueCallback?e.valueCallback(u):u,{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(l.length)}}}var AS={code:"en-US",formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof ES[e]?ES[e]:1===t?ES[e].one:ES[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:CS,formatRelative:function(e,t,n,r){return kS[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:TS({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:TS({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:TS({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:TS({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:TS({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:SS({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:IS({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:IS({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:IS({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:IS({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:IS({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function PS(e){return function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},e)}function NS(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var RS=1440,OS=43200;function DS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fS(2,arguments);var r=n.locale||AS;if(!r.formatDistance)throw new RangeError("locale must contain formatDistance property");var i=pS(e,t);if(isNaN(i))throw new RangeError("Invalid time value");var o,a,s=PS(n);s.addSuffix=Boolean(n.addSuffix),s.comparison=i,i>0?(o=dS(t),a=dS(e)):(o=dS(e),a=dS(t));var u,l=_S(a,o),c=(NS(a)-NS(o))/1e3,h=Math.round((l-c)/60);if(h<2)return n.includeSeconds?l<5?r.formatDistance("lessThanXSeconds",5,s):l<10?r.formatDistance("lessThanXSeconds",10,s):l<20?r.formatDistance("lessThanXSeconds",20,s):l<40?r.formatDistance("halfAMinute",null,s):l<60?r.formatDistance("lessThanXMinutes",1,s):r.formatDistance("xMinutes",1,s):0===h?r.formatDistance("lessThanXMinutes",1,s):r.formatDistance("xMinutes",h,s);if(h<45)return r.formatDistance("xMinutes",h,s);if(h<90)return r.formatDistance("aboutXHours",1,s);if(h<RS){var f=Math.round(h/60);return r.formatDistance("aboutXHours",f,s)}if(h<2520)return r.formatDistance("xDays",1,s);if(h<OS){var d=Math.round(h/RS);return r.formatDistance("xDays",d,s)}if(h<86400)return u=Math.round(h/OS),r.formatDistance("aboutXMonths",u,s);if((u=bS(a,o))<12){var p=Math.round(h/OS);return r.formatDistance("xMonths",p,s)}var m=u%12,g=Math.floor(u/12);return m<3?r.formatDistance("aboutXYears",g,s):m<9?r.formatDistance("overXYears",g,s):r.formatDistance("almostXYears",g+1,s)}var LS={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},MS={date:xS({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:xS({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:xS({formats:{full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},FS={lastWeek:function(e,t,n){var r=e.getUTCDay();return"'"+(0===r||6===r?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},jS={code:"pt-BR",formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof LS[e]?LS[e]:1===t?LS[e].one:LS[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"em "+r:"h "+r:r},formatLong:MS,formatRelative:function(e,t,n,r){var i=FS[e];return"function"==typeof i?i(t,n,r):i},localize:{ordinalNumber:function(e,t){var n=Number(e),r=String((t||{}).unit);return"week"===r||"isoWeek"===r?n+"":n+""},era:TS({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:TS({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:TS({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:TS({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},defaultWidth:"wide"}),dayPeriod:TS({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:SS({matchPattern:/^(\d+)[o]?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:IS({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:IS({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:IS({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:IS({matchPatterns:{narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},defaultParseWidth:"any"}),dayPeriod:IS({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},US=function({data:t}){const{cart:n,code:r,date_approved:i,shipping_value:o,subtotal:a,tracking_code:s}=t,{setTrack:u}=GT(),{setComanda:l}=HT();return e.createElement(JT,null,e.createElement(eS,null,e.createElement(tS,null,e.createElement(rS,null,"#",r),e.createElement(iS,null,function(e,t){return fS(1,arguments),DS(e,Date.now(),t)}(new Date(i),{addSuffix:!0,locale:jS}))),e.createElement(nS,null,!!s&&e.createElement(oS,{type:"button",onClick:()=>u({tracking_code:s,status:!0})},e.createElement("span",null,"Rastrear produto"),e.createElement("svg",{height:"16",viewBox:"0 0 524.235 524.235",width:"16",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"m262.117 163.823c-54.203 0-98.294 44.091-98.294 98.294s44.091 98.294 98.294 98.294 98.294-44.091 98.294-98.294-44.092-98.294-98.294-98.294zm0 163.824c-36.14 0-65.529-29.405-65.529-65.529s29.389-65.529 65.529-65.529 65.529 29.405 65.529 65.529-29.389 65.529-65.529 65.529z"}),e.createElement("path",{d:"m490.64 245.735c-8.075-113.375-98.756-204.065-212.14-212.14v-33.595h-32.765v33.595c-113.384 8.075-204.065 98.765-212.14 212.14h-33.595v32.765h33.595c8.075 113.375 98.756 204.065 212.141 212.141v33.595h32.764v-33.596c113.385-8.075 204.065-98.766 212.141-212.141h33.595v-32.765c-.001.001-33.596.001-33.596.001zm-228.523 212.971c-108.405 0-196.588-88.183-196.588-196.588s88.184-196.589 196.588-196.589 196.588 88.183 196.588 196.588-88.183 196.589-196.588 196.589z"}))),e.createElement(oS,{type:"button",onClick:()=>l({cart:n,shipping_value:o,subtotal:a,status:!0})},e.createElement("span",null,"Produtos do pedido"),e.createElement("svg",{height:"16",viewBox:"0 0 443.294 443.294",width:"16",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{id:"path-1_11_",d:"m138.529 138.529h166.235v27.706h-166.235z",transform:"translate(5 5)"}),e.createElement("path",{id:"path-1_10_",d:"m138.529 221.647h166.235v27.706h-166.235z",transform:"translate(5 8)"}),e.createElement("path",{d:"m138.529 304.765h83.118v27.706h-83.118z"}),e.createElement("path",{d:"m360.176 27.706h-27.706v-27.706h-27.706v27.706h-166.235v-27.706h-27.706v27.706h-27.705c-15.273 0-27.706 12.432-27.706 27.706v360.176c0 15.273 12.432 27.706 27.706 27.706h277.059c15.273 0 27.706-12.432 27.706-27.706v-360.176c-.001-15.274-12.433-27.706-27.707-27.706zm0 401.735v-13.853h-277.058v-332.47h277.059v332.471h.027z"}))))),e.createElement(aS,null,e.createElement(sS,null,e.createElement(uS,null,"Subtotal"),e.createElement(lS,null,Number(a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),e.createElement(sS,null,e.createElement(uS,null,"Frete"),e.createElement(lS,null,Number(o).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),e.createElement(sS,null,e.createElement(uS,null,"Total"),e.createElement(lS,null,Number(o+a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))))},zS=function({data:t}){return e.createElement(XT,null,t.map((t=>t.error?e.createElement(hS,{key:t.id,data:t}):e.createElement(US,{key:t.id,data:t}))))},qS=function({products:t}){return e.createElement(XT,null,t.map(((t,n)=>e.createElement(JT,{key:n},e.createElement(eS,null,e.createElement(tS,null,e.createElement(zb,{displayFlex:!0,floatChild:"left",alignItems:"center",height:26},e.createElement(Sb.ZP,{width:92,height:13})),e.createElement(zb,{displayFlex:!0,floatChild:"left",alignItems:"center",height:18},e.createElement(Sb.ZP,{width:54,height:10}))),e.createElement(nS,null,e.createElement(zb,{floatChild:"left"},e.createElement(Sb.ZP,{circle:!0,width:32,height:32})),e.createElement(zb,{floatChild:"left"},e.createElement(Sb.ZP,{circle:!0,width:32,height:32})))),e.createElement(aS,null,e.createElement(sS,null,e.createElement(zb,{displayFlex:!0,floatChild:"left",alignItems:"center",height:17},e.createElement(Sb.ZP,{width:46,height:8})),e.createElement(zb,{displayFlex:!0,floatChild:"left",alignItems:"center",height:21},e.createElement(Sb.ZP,{width:46,height:18}))),e.createElement(sS,null,e.createElement(zb,{displayFlex:!0,floatChild:"left",alignItems:"center",height:17},e.createElement(Sb.ZP,{width:28,height:8})),e.createElement(zb,{displayFlex:!0,floatChild:"left",alignItems:"center",height:21},e.createElement(Sb.ZP,{width:46,height:18}))),e.createElement(sS,null,e.createElement(zb,{displayFlex:!0,floatChild:"left",alignItems:"center",height:17},e.createElement(Sb.ZP,{width:26,height:8})),e.createElement(zb,{displayFlex:!0,floatChild:"left",alignItems:"center",height:21},e.createElement(Sb.ZP,{width:46,height:18}))))))))};const BS=async({token:e,products:t},{signal:n})=>await fm().httpsCallable("listOrder")({token:e,data:t}).then((e=>e.data));var VS=function(){const{token:t}=ky(),{useUser:n}=BT(),{products:r=[]}=n,{data:i,error:o}=$y({promiseFn:BS,token:t,products:r});return o?o.message:i?e.createElement(zS,{data:i}):e.createElement(qS,{products:r})},WS=function({assoc:t,i:n,data:r}){const{id:i,amount:o=1}=t,{title:a,price:s,price_off:u=0}=r.find((e=>e.id===i));return e.createElement(e.Fragment,null,e.createElement("li",null,e.createElement("span",null,new Array(4-(n+"").length).join("0")+ ++n),e.createElement("span",null,a),e.createElement("span",null,o,"un"),e.createElement("span",null,Number(o*(s-s*u/100)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))))};const HS=vy.div`
  background: #fff;
  z-index: 99;
  width: calc(100vw - 3.6rem);
  max-width: 500px;
  overflow: hidden;
  font-size: 1.43rem;
  box-shadow: inset 0 0 15px 0 rgba(0,0,0,0.24), 0 12px 15px 0 rgba(0,0,0,0.24);

  ${hb(3)}
`,GS=vy.div`
  font-family: var(--font-oswald);
  font-weight: 500;
  padding: 1.6rem;
  max-height: 90vh;
  overflow-y: overlay;
  overflow-x: hidden;

  & > * {
    width: 100%;
  }
`,KS=(vy.p`
  text-transform: uppercase;
  line-height: 1.6;
  text-align: center;
`,vy.div`
  display: flex;

  & > span {
    width: 100%;

    &:not(:last-child) {
      margin-right: 1.6rem;
    }

    &:nth-child(1) {
      max-width: 20px;
    }

    &:nth-child(3) {
      max-width: 24px;
    }

    &:nth-child(4) {
      max-width: 50px;
      text-align: right;
    }
  }
`),$S=vy.div`
  border-width: 1px 0;
  border-style: dashed;
  border-color: initial;
  padding: 0.7rem 0 1rem;
  margin: 0.6rem 0;

  & li {
    display: flex;

    & span {
      width: 100%;

      &:not(::nth-child(2)) {
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
      }

      &:not(:last-child) {
        margin-right: 1.6rem;
      }

      &:nth-child(1) {
        max-width: 20px;
      }

      &:nth-child(3) {
        max-width: 24px;
      }

      &:nth-child(4) {
        max-width: 50px;
        text-align: right;
      }
    }
  }
`,ZS=vy.div`
  border-top-width: 1px;
  border-top-style: dashed;
  border-top-color: initial;
  padding: 0.9rem 0 0;
  margin: 0.9rem 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
`,QS=vy.div`
  display: flex;
  justify-content: space-between;
  align-items: center;

  & > span:nth-child(1) small {
    display: block;
  }
`,YS=vy.div`
  border-top-width: 1px;
  border-top-style: dashed;
  border-top-color: initial;
  padding: 0.9rem 0 0;
  margin: 0.9rem 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
`;var XS=function({cart:t,data:n}){const{useComanda:r}=HT(),{shipping_value:i,subtotal:o}=r;return e.createElement(GS,null,e.createElement(KS,null,e.createElement("span",null,"#"),e.createElement("span",null,"DESCRIO"),e.createElement("span",null,"QTD."),e.createElement("span",null,"TOTAL")),e.createElement($S,null,t.map(((t,r)=>e.createElement(WS,{key:t.moment,assoc:t,i:r,data:n}))),e.createElement(ZS,null,e.createElement("span",null,"SUBTOTAL"),e.createElement("span",null,Number(o).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),e.createElement(QS,null,e.createElement("span",null,e.createElement("small",null,"ACRESCIMO"),"VALOR DA ENTREGA"),e.createElement("span",null,Number(i).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),e.createElement(YS,null,e.createElement("b",null,"TOTAL"),e.createElement("span",null,Number(o+i).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))))},JS=function(){return e.createElement(f_,null,e.createElement(d_,null,e.createElement("svg",{"aria-label":"Carregando...",viewBox:"0 0 100 100"},e.createElement("rect",{fill:"#555555",height:"6",opacity:"0",rx:"3",ry:"3",transform:"rotate(-90 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.08333333333333333",rx:"3",ry:"3",transform:"rotate(-60 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.16666666666666666",rx:"3",ry:"3",transform:"rotate(-30 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.25",rx:"3",ry:"3",transform:"rotate(0 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.3333333333333333",rx:"3",ry:"3",transform:"rotate(30 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.4166666666666667",rx:"3",ry:"3",transform:"rotate(60 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.5",rx:"3",ry:"3",transform:"rotate(90 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.5833333333333334",rx:"3",ry:"3",transform:"rotate(120 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.6666666666666666",rx:"3",ry:"3",transform:"rotate(150 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.75",rx:"3",ry:"3",transform:"rotate(180 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.8333333333333334",rx:"3",ry:"3",transform:"rotate(210 50 50)",width:"25",x:"72",y:"47"}),e.createElement("rect",{fill:"#555555",height:"6",opacity:"0.9166666666666666",rx:"3",ry:"3",transform:"rotate(240 50 50)",width:"25",x:"72",y:"47"}))),e.createElement(p_,null,"Carregando..."))};const eI=vy.div`
  background: #fff;
  z-index: 99;
  width: calc(100vw - 3.6rem);
  max-width: 500px;
  overflow: hidden;
  font-size: 1.43rem;
  box-shadow: inset 0 0 15px 0 rgba(0,0,0,0.24), 0 12px 15px 0 rgba(0,0,0,0.24);

  ${hb(3)}
`,tI=vy.div`
  display: block;
  padding: 1.6rem;

  & > * {
    width: 100%;
  }

  & > *:not(:last-child) {
    margin-bottom: 2rem;
  }
`,nI=vy.div`
  justify-content: space-between;
  align-items: center;
  display: flex;
  padding-top: 1rem;
  padding-right: 1rem;
  padding-bottom: 1.6rem;
  padding-left: 1rem;
`,rI=(vy.div`
  flex-direction: column;
  align-items: center;
  display: flex;
  padding-top: 2rem;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,vy.span`
  font-size: 2.2rem;
  font-weight: 500;
`),iI=(vy.p`
  color: #999;
  font-weight: 300;
  text-align: center;
  margin: 0 10%;
`,vy.div`
  justify-content: center;
  display: flex;
`,vy.div`
  width: 100%;
  position: relative;
  display: flex;

  justify-content: ${({justifyContent:e})=>e&&e};

  &:not(:last-child) {
    margin-bottom: ${({spaceBottom:e="1.6rem"})=>e};
  }

  & > *:not(:last-child) {
    margin-right: ${({spaceRight:e="1.6rem"})=>e};
  }

  & * {
    transition: all 0.2s ease-in-out 0s;
  }
`,vy.div`
  width: 100%;
  display: flex;
  position: relative;

  max-width: ${({maxWidth:e})=>"number"==typeof e?`${e}px`:e};
  min-width: ${({minWidth:e})=>"number"==typeof e?`${e}px`:e};
`,vy.input`
  width: 100%;
  background: rgba(255,255,255,0);
  padding: 11.5px 0px;
  display: block;
  font-weight: 400;
  color: #797979;
  font-size: 1.75rem;
  box-shadow: #dadce0 0px 0px 0px 1px inset;
  font-family: var(--font-poppins);
  text-indent: 1.4rem;
  position: relative;
  z-index: 10;

  ${hb(3)}

  &[disabled] {
    background: #efefef;

    & ~ label {
      ${hb(3)}
    }
  }

  &::placeholder {
    color: #bfbfbf;
  }

  &:focus {
    box-shadow: rgba(18, 115, 235) 0px 0px 0px 1px inset;
  }

  &:focus ~ label, ${({status:e})=>e&&"& ~ label"} {
    padding: 0px 10px;
    font-size: 1em;
    background: rgba(255, 255, 255);
    z-index: 20;
    top: -8px;
  }

  &:focus ~ label {
    color: rgba(18, 115, 235);
  }
`,vy.label`
  color: #676767;
  font-weight: 300;
  position: absolute;
  font-size: 1.6rem;
  top: 12px;
  left: 12px;
`,vy.div`
  justify-content: center;
  display: flex;

  opacity: ${({status:e})=>e?"1":"0.45"};
`,vy.div`
  justify-content: center;
  display: flex;
  padding-top: 0.6rem;
  padding-right: 1rem;
  padding-bottom: 1.6rem;
  padding-left: 1rem;
`,vy.button`
  color: #fff;
  background: #1a73e8;
  font-weight: 500;
  box-shadow: inset 0 -2px 0 0 rgba(0,0,0,0.25);
  padding: 1.4rem 2.4rem;
  align-items: center;
  display: flex;

  ${hb(34)}

  & svg {
    float: left;
  }

  & > *:not(:last-child) {
    margin-right: 1rem;
  }

  &:hover {
    background: #3386f3;
  }

  &:focus {
    box-shadow: 0px 0px 9px -3px #0c4ca0;
  }
`,vy.button`
  color: #000;
  padding: 0.6rem 1rem;
  font-weight: 100;
`),oI=vy.div`
  flex-direction: column;
  display: flex;
  max-height: 90%;
  height: 90vh;
`,aI=vy.div`
  width: 100%;
  overflow: hidden;
  display: block;
  height: 100%;
  position: relative;

  ${"#ffffff","\n  &::before, &::after {\n    content: \"\";\n    width: 100%;\n    height: 1.6rem;\n    display: block;\n    position: absolute;\n    z-index: 5;\n    left: 0;\n    right: 0;\n  }\n\n  &::before {\n    top: 0;\n    background: #ffffff;\n    background: -moz-linear-gradient(bottom, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background: -webkit-linear-gradient(bottom, #ffffff 0%,rgba(255, 255, 255, 0) 100%);\n    background: linear-gradient(to bottom, #ffffff 0%,rgba(255, 255, 255, 0) 100%);\n    background-image: -moz-linear-gradient(bottom, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background-image: -webkit-linear-gradient(bottom, #ffffff 0%,rgba(255, 255, 255, 0) 100%);\n    background-image: linear-gradient(to bottom, #ffffff 0%,rgba(255, 255, 255, 0) 100%);\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#ffffff00',GradientType=0 );\n  }\n\n  &::after {\n    bottom: 0;\n    background: #ffffff;\n    background: -moz-linear-gradient(top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background: -webkit-linear-gradient(top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background: linear-gradient(to top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background-image: -moz-linear-gradient(top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background-image: -webkit-linear-gradient(top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    background-image: linear-gradient(to top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#ffffff00',GradientType=0 );\n  }\n"}
`;const sI=vy.div`
  width: 100%;
  flex-direction: column;
  display: flex;
  height: 100%;
`,uI=vy.div`
  overflow: hidden overlay;
  flex-direction: column;
  display: flex;
  height: 100%;

  &::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  &::-webkit-scrollbar-thumb {
    background: rgba(0,0,0, 0.15);
    border-radius: 6px;
  }

  &::-webkit-scrollbar-track {
    background: rgba(0,0,0,0);
  }
`,lI=vy.div`
  justify-content: flex-end;
  display: flex;
  padding-bottom: 1rem;
  padding-right: 1rem;
  padding-top: 1.6rem;
  padding-left: 1rem;
`,cI=vy.div`
    justify-content: center;
    align-items: center;
    display: flex;
    min-height: 300px;
`;var hI=function(){return e.createElement(cI,null,e.createElement(JS,null))};const fI=({val:e,data:t})=>t.map((t=>t[e])).filter(((e,t,n)=>n.indexOf(e)===t)),dI=async({token:e,cart:t},{signal:n})=>await fm().httpsCallable("listProducts")({token:e,data:fI({val:"id",data:t})}).then((e=>e.data));var pI=function(){const{token:t}=ky(),{useComanda:n}=HT(),{cart:r}=n,{data:i,error:o}=$y({promiseFn:dI,token:t,cart:r});return o?o.message:i?e.createElement(XS,{cart:r,data:i}):e.createElement(hI,null)};const{jQuery:mI}=window;var gI=function(){const t=(0,e.useRef)(null),n=(0,e.useRef)(!1),r=(0,e.useRef)(!1),{useComanda:i,setComanda:o}=HT(),{status:a}=i;return(0,e.useEffect)((()=>{n.current&&a?mI(t.current).fadeIn(200):n.current=!0}),[a]),(0,e.useEffect)((()=>{r.current&&!1===a?mI(t.current).fadeOut(300,(()=>o({}))):r.current=!0}),[a]),e.createElement(M_,{ref:t},"boolean"==typeof a?e.createElement(e.Fragment,null,e.createElement(F_,{onClick:()=>o((e=>Object({...e,status:!1})))}),e.createElement(j_,null,e.createElement(HS,null,e.createElement(pI,null)))):null)};const vI=vy.div`
  display: flex;
  position: relative;

  & > * {
    flex-direction: column;
    display: flex;
  }
`,yI=vy.div`
  width: 100%;
  max-width: 32%;
  min-width: 32%;
  padding: 1rem;
  justify-content: center;
  align-items: flex-end;

  & > *:not(:last-child) {
    margin-bottom: 0.6rem;
  }
`,bI=vy.div`
  width: 100%;
  padding: 1rem;

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,wI=vy.div`
  padding: 0 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 1rem;

  &::after {
    content: "";
    width: 1px;
    background: #DEF1EB;
    display: block;
    height: 100%;
  }

  &::before {
    content: "";
    width: 16px;
    position: absolute;
    height: 16px;
    background: #fff;
    box-shadow: inset 0 0 0 2px #52c6af;

    ${hb("50%")}
  }
`,_I=vy.span`
  color: #999;
  font-weight: 100;
`,EI=vy.span`
  font-size: 2rem;
  font-weight: 400;
`,xI=vy.span`
  font-weight: 400;
  font-size: 1.5rem;
`,CI=vy.span`
  color: #999;
  font-weight: 100;
  font-size: 1.4rem;
`;vy.div`
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  height: 100%;

  & span {
    color: #999;
    font-size: 1.2rem;
    font-family: var(--font-poopins);
    letter-spacing: 0.5px;
  }
`;var kI=function({assoc:t}){const{data:n,destino:r,hora:i,status:o,local:a}=t;return e.createElement(vI,null,e.createElement(yI,null,e.createElement(_I,null,function(e){var t=e.split("/")[0],n=e.split("/")[1],r=e.split("/")[2];return("0"+t).slice(-2)+"."+("0"+n).slice(-2)+"."+r}(n)),e.createElement(EI,null,i)),e.createElement(wI,null),e.createElement(bI,null,e.createElement(xI,null,o),e.createElement(CI,null,a||r)))},TI=function({data:t}){const{useTrack:n,setTrack:r}=GT(),{tracking_code:i}=n;return e.createElement(oI,null,e.createElement(nI,null,e.createElement(rI,null,"#",i)),e.createElement(aI,null,e.createElement(sI,null,e.createElement(uI,null,t.map(((t,n)=>e.createElement(kI,{key:n,assoc:t})))))),e.createElement(lI,null,e.createElement(iI,{type:"button",onClick:()=>r((e=>Object({...e,status:!1})))},"Fechar")))};const SI=async({token:e,tracking_code:t},{signal:n})=>await fm().httpsCallable("queryTracking")({token:e,data:[t]}).then((e=>e.data)).then((e=>e[0]));var II=function(){const{token:t}=ky(),{useTrack:n}=GT(),{tracking_code:r}=n,{data:i,error:o}=$y({promiseFn:SI,token:t,tracking_code:r});return o?o.message:i?e.createElement(TI,{data:i}):e.createElement(hI,null)};const{jQuery:AI}=window;var PI=function(){const t=(0,e.useRef)(null),n=(0,e.useRef)(!1),r=(0,e.useRef)(!1),{useTrack:i,setTrack:o}=GT(),{status:a}=i;return(0,e.useEffect)((()=>{n.current&&a?AI(t.current).fadeIn(200):n.current=!0}),[a]),(0,e.useEffect)((()=>{r.current&&!1===a?AI(t.current).fadeOut(300,(()=>o({}))):r.current=!0}),[a]),e.createElement(M_,{ref:t},"boolean"==typeof a?e.createElement(e.Fragment,null,e.createElement(F_,{onClick:()=>o((e=>Object({...e,status:!1})))}),e.createElement(j_,null,e.createElement(eI,null,e.createElement(tI,null,e.createElement(II,null))))):null)};const NI=vy.div`
  background: #383838;
  overflow-y: overlay;
  overflow-x: hidden;
  flex-direction: column;
  display: flex;
  height: 100%;
`,RI=vy.div`
  padding: 0 2rem;
  margin-bottom: -9rem;

  & > *:not(:last-child) {
    margin-bottom: 2rem;
  }
`,OI=(vy.div`
  padding: 0 2rem;
`,vy.div`
  justify-content: space-between;
  align-items: center;
  display: flex;
`),DI=vy.div`
  color: #fff;
  align-items: baseline;
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1.2rem;
  }
`,LI=vy.span`
  font-weight: 100;
  font-size: 2.5rem;
`,MI=vy.span`
  font-weight: 700;
  font-size: 3rem;
`,FI=vy.button`
  color: #f56767;
  border-color: #f56767;
  border-style: solid;
  border-width: 1px;
  font-family: var(--font-mont);
  letter-spacing: 1px;
  padding: 0.6rem 1rem;
  align-items: center;
  display: flex;

  ${hb(3)}

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,jI=vy.div`
  background: #fff;
  box-shadow: 0 0 16px -4px rgba(0,0,0,0.25);
  padding: 2rem;
  position: relative;
  z-index: 1;

  ${hb(6)}

  & > *:not(:last-child) {
    margin-bottom: 2rem;
  }
`,UI=vy.div`
  flex-direction: column;
  display: flex;

  & svg {
    fill: #777;
    float: left;
  }

  & span {
    color: #777;
  }

  & > *:not(:last-child) {
    margin-bottom: 1rem;
  }
`,zI=vy.div`
  align-items: center;
  display: flex;

  & > *:not(:last-child) {
    margin-right: 1rem;
  }
`,qI=vy.div`
  padding: 0 2rem;
`,BI=vy.div`
  height: inherit;
  background: rgb(255, 255, 255);
  padding-top: 9rem;

  ${hb("6px 6px 0px 0px")}
`,VI=vy.div`
  padding: 3rem 2rem;
  height: inherit;
`,WI=vy.div`
  position: relative;
  display: flex;

  &:not(:last-child) {
    margin-bottom: ${({spaceBottom:e="1.6rem"})=>e};
  }

  & > *:not(:last-child) {
    margin-right: ${({spaceRight:e="1.6rem"})=>e};
  }

  & * {
    transition: all 0.2s ease-in-out 0s;
  }
`,HI=vy.div`
  width: 100%;
  display: flex;
  position: relative;

  min-width: ${({minWidth:e})=>"number"==typeof e?`${e}px`:e};
`,GI=vy.input`
  width: 100%;
  background: rgba(255,255,255,0);
  padding: 11.5px 0px;
  display: block;
  font-weight: 400;
  color: #797979;
  font-size: 1.75rem;
  box-shadow: #dadce0 0px 0px 0px 1px inset;
  text-indent: 1.4rem;
  position: relative;
  z-index: 1;

  ${hb(3)}

  &[disabled] {
    background: #efefef;

    & ~ label {
      ${hb(3)}
    }
  }

  &::placeholder {
    color: #bfbfbf;
  }

  &:focus {
    box-shadow: rgba(18, 115, 235) 0px 0px 0px 1px inset;
  }

  &:focus ~ label, ${({status:e})=>e&&"& ~ label"} {
    padding: 0px 10px;
    font-size: 1em;
    background: rgba(255, 255, 255);
    z-index: 2;
    top: -8px;
  }

  &:focus ~ label {
    color: rgba(18, 115, 235);
  }
`,KI=vy.label`
  color: #676767;
  font-weight: 300;
  position: absolute;
  font-size: 1.6rem;
  top: 12px;
  left: 12px;
`,$I=vy.div`
  color: #999;
  padding: 3rem 0;
  justify-content: center;
  align-items: center;
  display: flex;
  height: 100%;
`;var ZI=function(){const[t,n]=(0,e.useState)({}),[r,i]=(0,e.useState)({}),{setLeave:o}=nT(),{useUser:a}=BT(),{display_name:s,e_mail:u,tel_number:l,products:c=[]}=a;return e.createElement(WT,{useComanda:t,setComanda:n,useTrack:r,setTrack:i},e.createElement(NI,null,e.createElement(ob,{maxWidth:"820px",setHeight:"100%"},e.createElement(RI,null,e.createElement(YT,null),e.createElement(OI,null,e.createElement(DI,null,e.createElement(LI,null,"Ol,"),e.createElement(MI,null,s.split(" ")[0],"!")),e.createElement(FI,{type:"button",onClick:()=>o({status:!0})},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 551.13 551.13",fill:"#f56767"},e.createElement("path",{d:"m258.342 0h34.446v310.011h-34.446z"}),e.createElement("path",{d:"m344.456 79.046v36.348c80.141 28.462 137.783 104.834 137.783 194.616 0 113.966-92.707 206.674-206.674 206.674s-206.674-92.707-206.674-206.673c0-89.783 57.641-166.154 137.783-194.616v-36.349c-99.471 29.732-172.228 121.97-172.228 230.965 0 132.939 108.164 241.119 241.119 241.119s241.119-108.181 241.119-241.119c.001-108.995-72.757-201.233-172.228-230.965z"})),e.createElement("span",null,"Sair"))),e.createElement(jI,null,e.createElement(UI,null,e.createElement(zI,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 479.058 479.058"},e.createElement("path",{d:"m434.146 59.882h-389.234c-24.766 0-44.912 20.146-44.912 44.912v269.47c0 24.766 20.146 44.912 44.912 44.912h389.234c24.766 0 44.912-20.146 44.912-44.912v-269.47c0-24.766-20.146-44.912-44.912-44.912zm0 29.941c2.034 0 3.969.422 5.738 1.159l-200.355 173.649-200.356-173.649c1.769-.736 3.704-1.159 5.738-1.159zm0 299.411h-389.234c-8.26 0-14.971-6.71-14.971-14.971v-251.648l199.778 173.141c2.822 2.441 6.316 3.655 9.81 3.655s6.988-1.213 9.81-3.655l199.778-173.141v251.649c-.001 8.26-6.711 14.97-14.971 14.97z"})),e.createElement("span",null,"E-mail")),e.createElement(qI,null,u)),e.createElement(UI,null,e.createElement(zI,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 528 528"},e.createElement("path",{d:"m379.5 0h-231c-27.296 0-49.5 22.204-49.5 49.5v429c0 27.296 22.204 49.5 49.5 49.5h231c27.296 0 49.5-22.204 49.5-49.5v-429c0-27.296-22.204-49.5-49.5-49.5zm-231 33h231c9.104 0 16.5 7.396 16.5 16.5v346.5h-264v-346.5c0-9.104 7.396-16.5 16.5-16.5zm231 462h-231c-9.104 0-16.5-7.396-16.5-16.5v-49.5h264v49.5c0 9.104-7.396 16.5-16.5 16.5z"}),e.createElement("path",{d:"m275.667 450.333c6.444 6.444 6.444 16.891 0 23.335s-16.891 6.444-23.335 0-6.444-16.891 0-23.335 16.891-6.444 23.335 0"})),e.createElement("span",null,"Telefone")),e.createElement(qI,null,l)))),e.createElement(BI,null,e.createElement(VI,null,c.length?e.createElement(VS,null):e.createElement($I,null,"Por enquanto, no h nada por aqui."))))),e.createElement(gI,null),e.createElement(PI,null))};const QI=(0,e.createContext)();function YI({children:t,useForm:n,setForm:r}){return e.createElement(QI.Provider,{value:{useForm:n,setForm:r}},t)}function XI(){const t=(0,e.useContext)(QI),{useForm:n,setForm:r}=t;return{useForm:n,setForm:r}}var JI=function(){const{useForm:t,setForm:n}=XI(),{display_name:r=""}=t;return e.createElement(WI,null,e.createElement(HI,null,e.createElement(GI,{type:"text",onInput:e=>{return t=e.target.value,n((e=>Object({...e,display_name:t})));var t},autoCapitalize:"on",autoCorrect:"off",autoComplete:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),value:r,status:r}),e.createElement(KI,null,"Primeiro e ltimo nome")))},eA=function(){const{useForm:t,setForm:n}=XI(),{b_day:r="",b_month:i="",b_year:o=""}=t.date_birthday||{};return e.createElement(WI,null,e.createElement(HI,null,e.createElement(GI,{type:"text",status:!0,placeholder:`Ex.: ${(new Date).getUTCDay()}`,onInput:e=>{return t=e.target.value,void(!isNaN(Number(t))&&t.replace(/[^0-9]/g,"")!==r&&t.length<=2&&Number(t)<=31&&n((e=>Object({...e,date_birthday:{b_day:t,b_month:i,b_year:o}}))));var t},value:r}),e.createElement(KI,null,"DD")),e.createElement(HI,null,e.createElement(GI,{type:"text",status:!0,placeholder:`Ex.: ${(new Date).getMonth()}`,onInput:e=>{return t=e.target.value,void(!isNaN(Number(t))&&t.replace(/[^0-9]/g,"")!==i&&t.length<=2&&Number(t)<=12&&n((e=>Object({...e,date_birthday:{b_day:r,b_month:t,b_year:o}}))));var t},value:i}),e.createElement(KI,null,"MM")),e.createElement(HI,{minWidth:"38%"},e.createElement(GI,{type:"text",status:!0,placeholder:`Ex.: ${(new Date).getFullYear()}`,onInput:e=>{return t=e.target.value,void(!isNaN(Number(t))&&t.replace(/[^0-9]/g,"")!==o&&t.length<=4&&Number(t)<(new Date).getFullYear()&&n((e=>Object({...e,date_birthday:{b_day:r,b_month:i,b_year:t}}))));var t},value:o}),e.createElement(KI,null,"AAAA")))};const{jQuery:tA}=window;var nA=function(){const t=(0,e.useRef)(null),{useForm:n,setForm:r}=XI(),{tel_number:i=""}=n;return(0,e.useEffect)((()=>{var e=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},n={onKeyPress:function(t,n,r,i){r.mask(e.apply({},arguments),i)}};const{current:r}=t;tA(r).mask(e,n)}),[t]),e.createElement(WI,null,e.createElement(HI,null,e.createElement(GI,{type:"text",ref:t,status:!0,onInput:e=>{return t=e.target.value,r((e=>Object({...e,tel_number:t})));var t},value:i,placeholder:"(00) 0000-0000",autoCapitalize:"on",autoCorrect:"off",onPaste:e=>e.preventDefault(),onCopy:e=>e.preventDefault(),onCut:e=>e.preventDefault(),onDrag:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off"}),e.createElement(KI,null,"WhatsApp")))};const rA=vy.div`
  flex-direction: column;
  display: flex;
  padding: 2rem;

  & > *:not(:last-child) {
    margin-bottom: 2.6rem;
  }
`,iA=vy.div`
  justify-content: space-between;
  display: flex;
`,oA=vy.div`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 0.2rem;
  }
`,aA=vy.div`
  align-items: center;
  display: flex;
`,sA=vy.span`
  font-family: var(--font-mont);
  font-size: 3.2rem;
  font-weight: 600;
`,uA=vy.span`
  font-weight: 100;
`,lA=vy.form`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,cA=vy.div`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    margin-bottom: 2rem;
  }
`,hA=vy.span`
  color: #676767;
  background: #efefef;
  font-weight: 500;
  font-family: var(--font-poopins);
  padding: 1rem;

  ${hb(3)}
`,fA=vy.div`
  display: block;
  margin-top: 1rem;
`,dA=vy.button`
  display: flex;
  width: 100%;
  height: 100%;
  background: #1b9e49;
  margin: 0 auto;
  max-width: 210px;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  font-family: var(--font-mont);
  color: #fff;
  letter-spacing: 0.5px;
  padding: 1rem 1.4rem;

  opacity: ${({status:e})=>e?"1":"0.75"};

  ${hb(4)}

  &:hover {
    background: #25b558;
  }

  &:focus {
    background: #158c3f;
    box-shadow: 0 0 11px -3px #44a566;
  }
`;var pA=function(){const t=(0,e.useRef)(!0),[n,r]=(0,e.useState)(0),{useAuth:i}=_y(),{uid:o}=i,{setModal:a}=tT(),{useUser:s}=BT(),{date_birthday:u={},display_name:l="",tel_number:c=""}=s,[h,f]=(0,e.useState)({date_birthday:u,display_name:l,tel_number:c}),{b_day:d="",b_month:p="",b_year:m=""}=h.date_birthday||{},g=()=>(h.display_name||"").trim().replace(/\s+/g," ").split(" ").length>=2&&(h.tel_number||"").replace(/[^0-9]/g,"").length>=10&&Number(d)&&Number(p)&&4===m.length;return e.createElement(nb,{maxWidth:"820px"},e.createElement(rA,null,e.createElement(YI,{useForm:h,setForm:f},e.createElement(iA,null,e.createElement(oA,null,e.createElement(sA,null,"Meu perfil"),e.createElement(uA,null,"Por favor, complete seu perfil")),e.createElement(aA,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"40",viewBox:"0 0 166 40"},e.createElement("path",{"fill-rule":"evenodd",d:"M20.451,23.153l-2.071-.758a9.846,9.846,0,0,1-2.3,3.748,6.4,6.4,0,0,1-4.842,1.706,7.81,7.81,0,0,1-4.1-1.094,7.7,7.7,0,0,1-2.858-3.019A8.963,8.963,0,0,1,3.243,19.42a8.512,8.512,0,0,1,1.079-4.287,7.859,7.859,0,0,1,2.9-2.96,7.755,7.755,0,0,1,3.981-1.065,6.864,6.864,0,0,1,3.952,1.065,7.9,7.9,0,0,1,2.435,2.581,2.431,2.431,0,0,0,.846.875,2.063,2.063,0,0,0,1.867.175l0.058-.029a8.6,8.6,0,0,0-1.517-3.106A9.111,9.111,0,0,0,15.784,10.1a9.409,9.409,0,0,0-4.521-1.035A10.221,10.221,0,0,0,6.13,10.407,9.941,9.941,0,0,0,2.382,14.14,10.623,10.623,0,0,0,1,19.565a10.5,10.5,0,0,0,1.356,5.352,9.7,9.7,0,0,0,3.675,3.66,10.21,10.21,0,0,0,5.119,1.313,9.578,9.578,0,0,0,4.7-1.079,9.088,9.088,0,0,0,3.063-2.625,10.192,10.192,0,0,0,1.546-3.033h0Zm18.4,6.533-6.3-8.633a6.742,6.742,0,0,0,4-1.808,5.33,5.33,0,0,0,1.575-4.025,5.857,5.857,0,0,0-.773-2.975A5.469,5.469,0,0,0,34.976,10.1a8.9,8.9,0,0,0-4-.8H23.922V29.686h2.129V11.311h4.783a5.613,5.613,0,0,1,3.923,1.138,3.758,3.758,0,0,1,1.21,2.858,3.907,3.907,0,0,1-1.3,2.946,5.44,5.44,0,0,1-3.865,1.225H30.484a0.825,0.825,0,0,0-.627.263,0.864,0.864,0,0,0-.248.612,0.812,0.812,0,0,0,.175.5l0.525,0.7,4.4,6.037a5.115,5.115,0,0,0,1.808,1.546,5.03,5.03,0,0,0,2.333.554h0Zm3.413,0H44.4V9.3H42.268V29.686Zm18.083-9.538a5.981,5.981,0,0,0-1.765-1.137,11.13,11.13,0,0,0-2.2-.642l-2.6-.5a3.805,3.805,0,0,1-2.231-1.152,3,3,0,0,1-.744-2.027,3.341,3.341,0,0,1,1.021-2.45,3.935,3.935,0,0,1,2.45-1.167q0.583-.058.846-0.058a4.813,4.813,0,0,1,4.142,2.071,2.131,2.131,0,0,0,.817.715,2.376,2.376,0,0,0,1.079.248,3.535,3.535,0,0,0,.554-0.058l0.146-.029a6.167,6.167,0,0,0-1.006-2.319,5.782,5.782,0,0,0-2.217-1.852,7.735,7.735,0,0,0-3.515-.729,7.249,7.249,0,0,0-3.179.715,5.983,5.983,0,0,0-2.377,2,5.092,5.092,0,0,0-.89,2.975,4.614,4.614,0,0,0,1.429,3.529A5.956,5.956,0,0,0,51.761,19.4a8.089,8.089,0,0,0,1.794.6l2.713,0.554A6.059,6.059,0,0,1,58.8,21.709a2.936,2.936,0,0,1,1.108,2.465,3.161,3.161,0,0,1-1.356,2.742,5.473,5.473,0,0,1-3.252.963,5.068,5.068,0,0,1-2.6-.715,5.255,5.255,0,0,1-1.925-1.91,2.484,2.484,0,0,0-.875-0.89,2.222,2.222,0,0,0-1.167-.335,2.119,2.119,0,0,0-.612.088A5.591,5.591,0,0,0,49.253,26.9,7.526,7.526,0,0,0,55.3,29.89a8.035,8.035,0,0,0,3.471-.729,5.8,5.8,0,0,0,2.435-2.085,5.639,5.639,0,0,0,.89-3.165,5.132,5.132,0,0,0-.408-1.852,5.29,5.29,0,0,0-1.342-1.91h0Zm31.12,3L89.4,22.395a9.844,9.844,0,0,1-2.3,3.748,6.4,6.4,0,0,1-4.842,1.706,7.81,7.81,0,0,1-4.1-1.094A7.7,7.7,0,0,1,75.3,23.736a8.962,8.962,0,0,1-1.035-4.317,8.512,8.512,0,0,1,1.079-4.287,7.859,7.859,0,0,1,2.9-2.96,7.755,7.755,0,0,1,3.981-1.065,6.864,6.864,0,0,1,3.952,1.065,7.893,7.893,0,0,1,2.435,2.581,2.432,2.432,0,0,0,.846.875,2.063,2.063,0,0,0,1.867.175l0.058-.029a8.6,8.6,0,0,0-1.517-3.106A9.112,9.112,0,0,0,86.8,10.1a9.409,9.409,0,0,0-4.521-1.035,10.221,10.221,0,0,0-5.133,1.342A9.941,9.941,0,0,0,73.4,14.14a10.624,10.624,0,0,0-1.385,5.425,10.5,10.5,0,0,0,1.356,5.352,9.7,9.7,0,0,0,3.675,3.66,10.21,10.21,0,0,0,5.119,1.313,9.577,9.577,0,0,0,4.7-1.079,9.087,9.087,0,0,0,3.063-2.625,10.191,10.191,0,0,0,1.546-3.033h0ZM104.508,9.094a10.167,10.167,0,0,0-5.264,1.385,9.941,9.941,0,0,0-3.69,3.792,10.685,10.685,0,0,0-1.342,5.294,10.384,10.384,0,0,0,1.342,5.221,10.031,10.031,0,0,0,8.867,5.1,10.161,10.161,0,0,0,5.264-1.385,9.949,9.949,0,0,0,3.69-3.792,10.691,10.691,0,0,0,1.342-5.294,10.392,10.392,0,0,0-1.342-5.221,10.031,10.031,0,0,0-8.867-5.1h0Zm0,18.783a7.761,7.761,0,0,1-4.171-1.137,7.955,7.955,0,0,1-2.873-3.077,8.867,8.867,0,0,1-1.035-4.244,8.737,8.737,0,0,1,1.021-4.185,7.832,7.832,0,0,1,2.844-3.033,8.108,8.108,0,0,1,8.283.029,8,8,0,0,1,2.887,3.106,8.9,8.9,0,0,1,1.036,4.229,8.561,8.561,0,0,1-1.036,4.171,7.965,7.965,0,0,1-2.858,3.019,7.653,7.653,0,0,1-4.1,1.123h0Zm24.558-7.729a5.981,5.981,0,0,0-1.764-1.137,11.149,11.149,0,0,0-2.2-.642l-2.6-.5a3.8,3.8,0,0,1-2.231-1.152,3,3,0,0,1-.744-2.027,3.341,3.341,0,0,1,1.021-2.45A3.934,3.934,0,0,1,123,11.078c0.388-.039.671-0.058,0.846-0.058a4.811,4.811,0,0,1,4.141,2.071,2.133,2.133,0,0,0,.817.715,2.375,2.375,0,0,0,1.079.248,3.527,3.527,0,0,0,.554-0.058l0.146-.029a6.17,6.17,0,0,0-1.006-2.319,5.784,5.784,0,0,0-2.217-1.852,7.732,7.732,0,0,0-3.514-.729,7.254,7.254,0,0,0-3.18.715,5.988,5.988,0,0,0-2.377,2,5.094,5.094,0,0,0-.889,2.975,4.614,4.614,0,0,0,1.429,3.529,5.952,5.952,0,0,0,1.648,1.123,8.07,8.07,0,0,0,1.794.6l2.712,0.554a6.063,6.063,0,0,1,2.538,1.152,2.938,2.938,0,0,1,1.108,2.465,3.161,3.161,0,0,1-1.356,2.742,5.474,5.474,0,0,1-3.252.963,5.064,5.064,0,0,1-2.6-.715,5.247,5.247,0,0,1-1.925-1.91,2.483,2.483,0,0,0-.875-0.89,2.225,2.225,0,0,0-1.167-.335,2.115,2.115,0,0,0-.612.088,5.588,5.588,0,0,0,1.123,2.785,7.523,7.523,0,0,0,6.052,2.99,8.03,8.03,0,0,0,3.47-.729,5.805,5.805,0,0,0,2.436-2.085,5.638,5.638,0,0,0,.889-3.165,5.133,5.133,0,0,0-.408-1.852,5.285,5.285,0,0,0-1.342-1.91h0ZM145.37,9.3H131.6a1.957,1.957,0,0,0,.584,1.415,1.918,1.918,0,0,0,1.429.6h4.812V29.686h2.159V11.311h6.8A1.991,1.991,0,0,0,145.37,9.3h0Zm20.212,20.417L155.461,9.328l-10.15,20.388h2.334l7.787-15.721,4.229,8.546h-4.025a2.584,2.584,0,0,0-1.662.554,3.871,3.871,0,0,0-.933,1.137l-0.117.262h7.729l2.6,5.221h2.333Z",transform:"translate(-0.297 0.531)"})))),e.createElement(lA,{autoComplete:"off",onSubmit:e=>e.preventDefault()},e.createElement(cA,null,e.createElement(hA,null,"Nome e sobrenome"),e.createElement(JI,null)),e.createElement(cA,null,e.createElement(hA,null,"Data de nascimento"),e.createElement(eA,null)),e.createElement(cA,null,e.createElement(hA,null,"Nmero de contato"),e.createElement(nA,null)),e.createElement(fA,null,e.createElement(dA,{type:"submit",status:g(),onClick:()=>{g()?t.current&&(t.current=!1,a({status:!0}),fm().httpsCallable("updateUser")({uid:o,data:h}).then((e=>e.data)).then((function(e){const{status:t}=e;t?$g.success("Perfil atualizado com sucesso!",cb().toast_options):n<3?($g.error("Algo saiu mal, tente novamente!",cb().toast_options),r((e=>e+1))):$g.error("Se este erro persistir, contate o fornecedor!",cb().toast_options)})).catch((function(){$g.error("Erro na chamada API",cb().toast_options)})).finally((function(){a({status:!1}),t.current=!0}))):$g.warn("Confira todos os campos",cb().toast_options)}},"Concluir registro"))))))},mA=function({data:t}){const n=(0,e.useRef)(null),r=(0,e.useRef)(null),i=(0,e.useRef)(!1),[o,a]=(0,e.useState)(t),{useAuth:s}=_y(),{uid:u}=s,l=["tel_number","date_birthday"];return(0,e.useEffect)((()=>{n.current=lm().collection("users").doc(u).onSnapshot((e=>{r.current?i.current?a(e.data()):i.current=!0:n.current=null}),(e=>{console.log(e)}))}),[]),e.createElement(pb,{ref:r},e.createElement(qT,{useUser:o,setUser:a},(e=>l.map((t=>Object.keys(e).includes(t))).every((e=>!!e)))(o)?e.createElement(ZI,null):e.createElement(pA,null)))},gA=function(){return e.createElement(NI,null,e.createElement(RI,null,e.createElement(YT,null),e.createElement(OI,null,e.createElement(DI,null,e.createElement(Sb.yB,{color:"#383838",highlightColor:"#fff"},e.createElement(zb,{displayFlex:!0,alignItems:"baseline",heightChild:"100%",floatChild:"left",style:{height:"35px"}},e.createElement(zb,{displayFlex:!0,alignItems:"center",marginRight:"1.6rem",floatChild:"left",style:{height:"30px"}},e.createElement(Sb.ZP,{width:37,height:16})),e.createElement(zb,{displayFlex:!0,alignItems:"center",floatChild:"left"},e.createElement(Sb.ZP,{width:55,height:20}))))),e.createElement(Sb.yB,{color:"#383838",highlightColor:"#f56767"},e.createElement(zb,{displayFlex:!0,floatChild:"left",widthChild:"100%"},e.createElement(Sb.ZP,{width:69,height:27})))),e.createElement(jI,null,e.createElement(UI,null,e.createElement(zI,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 479.058 479.058"},e.createElement("path",{d:"m434.146 59.882h-389.234c-24.766 0-44.912 20.146-44.912 44.912v269.47c0 24.766 20.146 44.912 44.912 44.912h389.234c24.766 0 44.912-20.146 44.912-44.912v-269.47c0-24.766-20.146-44.912-44.912-44.912zm0 29.941c2.034 0 3.969.422 5.738 1.159l-200.355 173.649-200.356-173.649c1.769-.736 3.704-1.159 5.738-1.159zm0 299.411h-389.234c-8.26 0-14.971-6.71-14.971-14.971v-251.648l199.778 173.141c2.822 2.441 6.316 3.655 9.81 3.655s6.988-1.213 9.81-3.655l199.778-173.141v251.649c-.001 8.26-6.711 14.97-14.971 14.97z"})),e.createElement("span",null,"E-mail")),e.createElement(qI,null,e.createElement(zb,{displayFlex:!0,alignItems:"center",floatChild:"left",widthChild:"100%",style:{height:"18px"}},e.createElement(Sb.ZP,{width:154,height:8})))),e.createElement(UI,null,e.createElement(zI,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 528 528"},e.createElement("path",{d:"m379.5 0h-231c-27.296 0-49.5 22.204-49.5 49.5v429c0 27.296 22.204 49.5 49.5 49.5h231c27.296 0 49.5-22.204 49.5-49.5v-429c0-27.296-22.204-49.5-49.5-49.5zm-231 33h231c9.104 0 16.5 7.396 16.5 16.5v346.5h-264v-346.5c0-9.104 7.396-16.5 16.5-16.5zm231 462h-231c-9.104 0-16.5-7.396-16.5-16.5v-49.5h264v49.5c0 9.104-7.396 16.5-16.5 16.5z"}),e.createElement("path",{d:"m275.667 450.333c6.444 6.444 6.444 16.891 0 23.335s-16.891 6.444-23.335 0-6.444-16.891 0-23.335 16.891-6.444 23.335 0"})),e.createElement("span",null,"Telefone")),e.createElement(qI,null,e.createElement(zb,{displayFlex:!0,alignItems:"center",floatChild:"left",widthChild:"100%",style:{height:"18px"}},e.createElement(Sb.ZP,{width:92,height:8})))))),e.createElement(BI,null,e.createElement(VI,null,e.createElement(qS,{products:[1,2]}))))};const vA=vy.div`
  width: 100%;
  justify-content: center;
  align-items: center;
  display: flex;
  height: 100%;
`,yA=vy.span`
  color: #424242;
  font-family: var(--font-poppins);
  font-weight: 500;
`;var bA=function(){return e.createElement(vA,null,e.createElement(yA,null,"Ops, ocorreu um erro."))};const wA=async({uid:e},{signal:t})=>await fm().httpsCallable("queryUser")({uid:e}).then((e=>e.data));var _A=function(){const{useAuth:t}=_y(),{uid:n}=t,{data:r,error:i}=$y({promiseFn:wA,uid:n});return i?e.createElement(bA,null):r?e.createElement(mA,{data:r}):e.createElement(gA,null)};const{jQuery:EA}=window;var xA=function(){const t=(0,e.useRef)(!0),n=(0,e.useRef)(null),r=(0,e.useRef)(!1),i=(0,e.useRef)(!1),{setModal:o}=tT(),{useLeave:a,setLeave:s}=nT(),{status:u}=a;(0,e.useEffect)((()=>{r.current&&u?EA(n.current).fadeIn(200):r.current=!0}),[u]),(0,e.useEffect)((()=>{i.current&&!1===u?EA(n.current).fadeOut(300,(()=>s({}))):i.current=!0}),[u]);const l=()=>s({status:!1}),c={title:"Confirmar sada",message:"Ei, voc quer mesmo sair da conta?",buttons:[{value:"Cancelar"},{value:"Sair",color:"#19c556"}],close:l,confirmFn:function(){o({status:!0}),t.current=!0,hm().signOut().then((()=>{$g("Te vemos em breve!",cb().toast_options)})).catch((()=>{$g.error("Falha ao sair",cb().toast_options)})).finally((()=>{l(),o({status:!1}),t.current=!0}))}};return e.createElement(M_,{ref:n},"boolean"==typeof u?e.createElement(e.Fragment,null,e.createElement(F_,{onClick:()=>l()}),e.createElement(j_,null,e.createElement(tx,{valuesForm:c}))):null)};const{jQuery:CA}=window;var kA=function(){const t=(0,e.useRef)(!1),n=(0,e.useRef)(null),[r,i]=(0,e.useState)({}),[o,a]=(0,e.useState)({}),[s,u]=(0,e.useState)(0),{useAuth:l}=_y(),{uid:c}=l;return(0,e.useEffect)((()=>{const{status:e}=r;t.current&&!1===e?CA(n.current).fadeOut(300,(()=>i({}))):t.current=!0}),[r]),e.createElement(eT,{useModal:r,setModal:i,useCatch:s,setCatch:u,useLeave:o,setLeave:a},c?e.createElement(_A,null):e.createElement(UT,null),e.createElement(Qk,{useModal:r,setModal:i,modalRef:n}),e.createElement(xA,null))};const TA=vy.div`
  flex-direction: column;
  display: flex;

  & > *:not(:last-child) {
    border-bottom: 1px solid #e8e8e8;
  }
`,SA=vy.button`
  width: 100%;
  justify-content: space-between;
  display: flex;
  padding: 1rem;
`,IA=vy.div`
  font-weight: 400;
  font-family: var(--font-mont);
  font-size: 1.8rem;
  display: flex;
`;var AA=function({assoc:t,data:n}){const r=tg(),[i,o]=t;return e.createElement(SA,{key:i,type:"button",onClick:()=>r.push("/c/"+i)},e.createElement(IA,null,o),e.createElement("span",null,Object.entries(n).filter((e=>e[1].subcategory===i&&(200===(e[1].status||200)||403===(e[1].status||200)))).length))},PA=function({data:t}){return e.createElement(e.Fragment,null,e.createElement(ub,null),e.createElement(tw,null,e.createElement(nb,null,e.createElement(TA,null,Object.entries(cb().subcategory_names).filter((([e,n])=>Object.entries(t).map((e=>e[1].subcategory)).includes(e))).map((n=>e.createElement(AA,{key:n[0],assoc:n,data:t})))))))},NA=function(){return e.createElement(e.Fragment,null,e.createElement(ub,null),e.createElement(tw,null,e.createElement(nb,null,e.createElement(TA,null,[1,2,3,4,5,6].map((function(t,n){return e.createElement(zb,{key:n,displayFlex:!0,justifyContent:"space-between",style:{padding:"1rem"}},e.createElement(zb,{displayFlex:!0,height:"18px",alignItems:"center",width:"100%"},e.createElement(Sb.ZP,{width:92,height:14})),e.createElement(zb,{displayFlex:!0,floatChild:"left"},e.createElement(Sb.ZP,{circle:!0,width:16,height:16})))}))))))};const RA=async({token:e},{signal:t})=>await fm().httpsCallable("queryObject")({token:e,ref:"feed"}).then((e=>e.data));var OA=function(){const{token:t}=ky(),{data:n,error:r}=$y({promiseFn:RA,token:t});return r?r.message:n?e.createElement(PA,{data:n}):e.createElement(NA,null)};const DA=(0,e.createContext)();function LA({children:t,headersRef:n}){return e.createElement(DA.Provider,{value:{headersRef:n}},t)}function MA(e){fS(1,arguments);var t=dS(e);return!isNaN(t)}function FA(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function jA(e,t){fS(2,arguments);var n=dS(e).getTime(),r=FA(t);return new Date(n+r)}function UA(e,t){fS(2,arguments);var n=FA(t);return jA(e,-n)}function zA(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var qA=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return zA("yy"===t?r%100:r,t.length)},BA=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):zA(n+1,2)},VA=function(e,t){return zA(e.getUTCDate(),t.length)},WA=function(e,t){return zA(e.getUTCHours()%12||12,t.length)},HA=function(e,t){return zA(e.getUTCHours(),t.length)},GA=function(e,t){return zA(e.getUTCMinutes(),t.length)},KA=function(e,t){return zA(e.getUTCSeconds(),t.length)},$A=function(e,t){var n=t.length,r=e.getUTCMilliseconds();return zA(Math.floor(r*Math.pow(10,n-3)),t.length)},ZA=864e5;function QA(e){fS(1,arguments);var t=1,n=dS(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function YA(e){fS(1,arguments);var t=dS(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=QA(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=QA(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function XA(e){fS(1,arguments);var t=YA(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=QA(n);return r}var JA=6048e5;function eP(e,t){fS(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:FA(i),a=null==n.weekStartsOn?o:FA(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=dS(e),u=s.getUTCDay(),l=(u<a?7:0)+u-a;return s.setUTCDate(s.getUTCDate()-l),s.setUTCHours(0,0,0,0),s}function tP(e,t){fS(1,arguments);var n=dS(e,t),r=n.getUTCFullYear(),i=t||{},o=i.locale,a=o&&o.options&&o.options.firstWeekContainsDate,s=null==a?1:FA(a),u=null==i.firstWeekContainsDate?s:FA(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(r+1,0,u),l.setUTCHours(0,0,0,0);var c=eP(l,t),h=new Date(0);h.setUTCFullYear(r,0,u),h.setUTCHours(0,0,0,0);var f=eP(h,t);return n.getTime()>=c.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function nP(e,t){fS(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=null==i?1:FA(i),a=null==n.firstWeekContainsDate?o:FA(n.firstWeekContainsDate),s=tP(e,t),u=new Date(0);u.setUTCFullYear(s,0,a),u.setUTCHours(0,0,0,0);var l=eP(u,t);return l}var rP=6048e5;function iP(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+zA(o,2)}function oP(e,t){return e%60==0?(e>0?"-":"+")+zA(Math.abs(e)/60,2):aP(e,t)}function aP(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+zA(Math.floor(i/60),2)+n+zA(i%60,2)}var sP={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return qA(e,t)},Y:function(e,t,n,r){var i=tP(e,r),o=i>0?i:1-i;return"YY"===t?zA(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):zA(o,t.length)},R:function(e,t){return zA(YA(e),t.length)},u:function(e,t){return zA(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return zA(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return zA(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return BA(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return zA(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=function(e,t){fS(1,arguments);var n=dS(e),r=eP(n,t).getTime()-nP(n,t).getTime();return Math.round(r/rP)+1}(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):zA(i,t.length)},I:function(e,t,n){var r=function(e){fS(1,arguments);var t=dS(e),n=QA(t).getTime()-XA(t).getTime();return Math.round(n/JA)+1}(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):zA(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):VA(e,t)},D:function(e,t,n){var r=function(e){fS(1,arguments);var t=dS(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/ZA)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):zA(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return zA(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return zA(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return zA(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return WA(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):HA(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):zA(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):zA(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):GA(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):KA(e,t)},S:function(e,t){return $A(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return oP(i);case"XXXX":case"XX":return aP(i);case"XXXXX":case"XXX":default:return aP(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return oP(i);case"xxxx":case"xx":return aP(i);case"xxxxx":case"xxx":default:return aP(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iP(i,":");case"OOOO":default:return"GMT"+aP(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iP(i,":");case"zzzz":default:return"GMT"+aP(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return zA(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return zA((r._originalDate||e).getTime(),t.length)}};function uP(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function lP(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var cP={p:lP,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),i=r[1],o=r[2];if(!o)return uP(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",uP(i,t)).replace("{{time}}",lP(o,t))}},hP=["D","DD"],fP=["YY","YYYY"];function dP(e){return-1!==hP.indexOf(e)}function pP(e){return-1!==fP.indexOf(e)}function mP(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var gP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yP=/^'([^]*?)'?$/,bP=/''/g,wP=/[a-zA-Z]/;function _P(e){return e.match(yP)[1].replace(bP,"'")}var EP=n(837);const xP=vy.div`
  display: flex;
  flex-direction: column;

  @media (min-width: 1080px) {
    max-width: 420px;
    margin: 1rem auto 2rem;
  }

  & > *:not(:last-child) {
    margin-bottom: 1.2rem;
  }
`,CP=vy.div`
  font-size: 2.4rem;
  font-weight: 100;
  color: #999;
`,kP=vy.div`
  background: #ffffff;
  box-shadow: rgba(0,0,0,0.1) 0 0 16px;
  padding: 1.8rem;

  ${hb(3)}

  & > *:not(:last-child) {
    margin-bottom: 1.6rem;
  }
`,TP=vy.div`
  font-weight: 100;
  font-size: 1.5rem;
  white-space: pre-line
`,SP=vy.div`
  display: flex;
`,IP=vy.span`
  color: #999;
  border-top: 1px solid #999;
  padding-top: 1rem;
`;var AP=function({data:t}){const{headers:n}=function(){const t=(0,e.useContext)(DA),{headersRef:n}=t;return{headers:n.current}}(),{title_default:r}=n,{title:i=r,content:o=EP.n,update:a=(new Date).toISOString()}=t||{};return e.createElement(xP,null,e.createElement(CP,null,i),e.createElement(kP,null,e.createElement(TP,null,o.replace(/\\n/g,"<br>").split(/(<br>)/g).reduce(((e,t)=>t?[...e,t]:e),[]).map(((t,n)=>"<br>"===t?e.createElement("br",{key:n}):t))),e.createElement(SP,null,e.createElement(IP,null,function(e,t,n){fS(2,arguments);var r=String(t),i=n||{},o=i.locale||AS,a=o.options&&o.options.firstWeekContainsDate,s=null==a?1:FA(a),u=null==i.firstWeekContainsDate?s:FA(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=o.options&&o.options.weekStartsOn,c=null==l?0:FA(l),h=null==i.weekStartsOn?c:FA(i.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var f=dS(e);if(!MA(f))throw new RangeError("Invalid time value");var d=NS(f),p=UA(f,d),m={firstWeekContainsDate:u,weekStartsOn:h,locale:o,_originalDate:f};return r.match(vP).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,cP[t])(e,o.formatLong,m):e})).join("").match(gP).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return _P(n);var a=sP[r];if(a)return!i.useAdditionalWeekYearTokens&&pP(n)&&mP(n,t,e),!i.useAdditionalDayOfYearTokens&&dP(n)&&mP(n,t,e),a(p,n,o.localize,m);if(r.match(wP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("")}(new Date(a),"dd 'de' MMMM yyyy",{locale:jS})))))},PP=function({data:t}){const{width:n}=t;return e.createElement(zb,{displayFlex:!0,alignItems:"center",floatChild:"left",widthChild:n,style:{height:"18px"}},e.createElement(Sb.ZP,{width:n,height:9}))},NP=function(){return e.createElement(xP,null,e.createElement(zb,{displayFlex:!0,alignItems:"center",floatChild:"left",style:{height:"29px"}},e.createElement(Sb.ZP,{width:178,height:16})),e.createElement(kP,null,e.createElement(TP,null,[{width:"98%"},{width:"92%"},{width:"96%"},{width:"87%"},{width:"91%"},{width:"93%"},{width:"95%"},{width:"91%"},{width:"46%"}].map(((t,n)=>e.createElement(PP,{key:n,data:t})))),e.createElement(SP,null,e.createElement(zb,{displayFlex:!0,alignItems:"center",floatChild:"left",style:{borderTop:"1px solid #999",paddingTop:"1rem"}},e.createElement(Sb.ZP,{width:116,height:12})))))};const RP=async({token:e},{signal:t})=>await fm().httpsCallable("queryObject")({token:e,ref:"business/container/about"}).then((e=>e.data));var OP=function(){const{token:t}=ky(),{data:n,error:r}=$y({promiseFn:RP,token:t});return r?r.message:n?e.createElement(AP,{data:n}):e.createElement(NP,null)},DP=function(){const t=(0,e.useRef)({title_default:"Sobre ns"});return e.createElement(e.Fragment,null,e.createElement(ub,null),e.createElement(tw,null,e.createElement(LA,{headersRef:t},e.createElement(OP,null))))};const LP=async({token:e},{signal:t})=>await fm().httpsCallable("queryObject")({token:e,ref:"business/container/standards"}).then((e=>e.data));var MP=function(){const{token:t}=ky(),{data:n,error:r}=$y({promiseFn:LP,token:t});return r?r.message:n?e.createElement(AP,{data:n}):e.createElement(NP,null)},FP=function(){const t=(0,e.useRef)({title_default:"Nossos valores"});return e.createElement(e.Fragment,null,e.createElement(ub,null),e.createElement(tw,null,e.createElement(LA,{headersRef:t},e.createElement(MP,null))))};const jP=async({token:e},{signal:t})=>await fm().httpsCallable("queryObject")({token:e,ref:"business/container/payments"}).then((e=>e.data));var UP=function(){const{token:t}=ky(),{data:n,error:r}=$y({promiseFn:jP,token:t});return r?r.message:n?e.createElement(AP,{data:n}):e.createElement(NP,null)},zP=function(){const t=(0,e.useRef)({title_default:"Pagamento e envio"});return e.createElement(e.Fragment,null,e.createElement(ub,null),e.createElement(tw,null,e.createElement(LA,{headersRef:t},e.createElement(UP,null))))};const qP=async({token:e},{signal:t})=>await fm().httpsCallable("queryObject")({token:e,ref:"business/container/withdraw"}).then((e=>e.data));var BP=function(){const{token:t}=ky(),{data:n,error:r}=$y({promiseFn:qP,token:t});return r?r.message:n?e.createElement(AP,{data:n}):e.createElement(NP,null)},VP=function(){const t=(0,e.useRef)({title_default:"Retirar pessoalmente"});return e.createElement(e.Fragment,null,e.createElement(ub,null),e.createElement(tw,null,e.createElement(LA,{headersRef:t},e.createElement(BP,null))))};const WP=async({token:e},{signal:t})=>await fm().httpsCallable("queryObject")({token:e,ref:"business/container/returns"}).then((e=>e.data));var HP=function(){const{token:t}=ky(),{data:n,error:r}=$y({promiseFn:WP,token:t});return r?r.message:n?e.createElement(AP,{data:n}):e.createElement(NP,null)},GP=function(){const t=(0,e.useRef)({title_default:"Trocas devolues"});return e.createElement(e.Fragment,null,e.createElement(ub,null),e.createElement(tw,null,e.createElement(LA,{headersRef:t},e.createElement(HP,null))))},KP=function(){return e.createElement(Jm,null,e.createElement(Xm,{path:"/",exact:!0,component:Fw}),e.createElement(Xm,{path:"/p/:id",component:tE}),e.createElement(Xm,{path:"/c/:id",component:sE}),e.createElement(Xm,{path:"/account",component:kA}),e.createElement(Xm,{path:"/checkout",component:Xk}),e.createElement(Xm,{path:"/cart",component:zx}),e.createElement(Xm,{path:"/categories",component:OA}),e.createElement(Xm,{path:"/sobre",component:DP}),e.createElement(Xm,{path:"/virtudes",component:FP}),e.createElement(Xm,{path:"/pagamentos",component:zP}),e.createElement(Xm,{path:"/retirar",component:VP}),e.createElement(Xm,{path:"/trocas",component:GP}))},$P=function(){return e.createElement(db,null,e.createElement(KP,null))},ZP=function(t){const{token:n,...r}=t||{},i=(0,e.useRef)(!1),o=(0,e.useRef)(null),a=(0,e.useRef)(r),s=(0,e.useRef)(n),[u,l]=(0,e.useState)(document.querySelector("[name=local]").content),[c,h]=(0,e.useState)(!1),[f,d]=(0,e.useState)(!1),[p,m]=(0,e.useState)({}),[g,v]=(0,e.useState)((()=>hm().currentUser?{uid:hm().currentUser.uid}:{})),[y,b]=(0,e.useState)((()=>{const{itemCart:e=JSON.stringify([])}=sessionStorage;if(!Array.isArray(JSON.parse(e)))return[];try{return JSON.parse(e)}catch(e){return[]}}));return sessionStorage.setItem("itemCart",JSON.stringify(y)),(0,e.useEffect)((()=>{hm().onAuthStateChanged((function(e){if(i.current){const{uid:t}=e||{};v(t?{uid:t}:{})}else i.current=!0}))}),[]),e.createElement(ig,null,e.createElement(by,{useWhere:u,setWhere:l,useRoot:p,setRoot:m,useSwipe:c,setSwipe:h,useCart:y,setCart:b,useTruePolicy:f,setTruePolicy:d,useAuth:g,setAuth:v,layoutRef:o,businessRef:a,tokenRef:s},e.createElement(dg.DefaultLayout,{shareButton:!1,fullscreenButton:!0,zoomButton:!0,ref:o}),e.createElement(QP,null),e.createElement($P,null)))};const QP=vy(Mg).attrs({})`
  .Toastify__toast {
    font-family: var(--font-poppins);

    @media (max-width: 1039px) {
      min-height: inherit;
      max-width: 320px;
      margin-top: 1.6rem;
      margin-right: 1.6rem;
      margin-left: auto;
      border-radius: 3px;
    }
  }
  .Toastify__toast--error {
    background: #f56464;
    box-shadow: 0 2px 5px 0 rgba(156,3,3, 0.26);
  }
  .Toastify__toast--warning {
    background: #f5f364;
    box-shadow: 0 2px 5px 0 rgba(156, 154, 3, 0.26);
  }
  .Toastify__toast--success {
    background: #64f588;
    box-shadow: 0 2px 5px 0 rgba(3, 156, 36, 0.26);
  }
  .Toastify__toast--info {
    background: #91ccf3;
    box-shadow: 0 2px 5px 0 rgba(3, 63, 156, 0.26);
  }
  .Toastify__toast-body {
    color: #000;
    font-weight: bold;
  }
  .Toastify__progress-bar {
    height: 3px;
  }
  .Toastify__progress-bar--default {
    background: #000;
  }
  .Toastify__close-button--default {
    margin: auto;
  }
  .Toastify__progress-bar {
    background-color: rgba(0,0,0,0.7);
  }
  .Toastify__close-button {
    color: #000;
    margin: auto;
  }
  .Toastify__close-button svg {
    float: left;
  }
`;Promise.resolve(async function(){return await fm().httpsCallable("App")({where:document.querySelector("[name=local]").content}).then((e=>e.data))}()).then((function(n){const{status:r,...i}=n;200===r?t.render(e.createElement(ZP,i),document.getElementById("root")):t.render(e.createElement("div",null,"404"),document.getElementById("root"))})).catch((function(n){t.render(e.createElement("div",null,"ERRO 500"),document.getElementById("root"))}))}()}();
//# sourceMappingURL=main.js.map